* TPS565208
*****************************************************************************
* (C) Copyright 2017 Texas Instruments Incorporated. All rights reserved.                                            
*****************************************************************************
** This model is designed as an aid for customers of Texas Instruments.
** TI and its licensors and suppliers make no warranties, either expressed
** or implied, with respect to this model, including the warranties of 
** merchantability or fitness for a particular purpose.  The model is
** provided solely on an "as is" basis.  The entire risk as to its quality
** and performance is with the customer
*****************************************************************************
*
* This model is subject to change without notice. Texas Instruments
* Incorporated is not responsible for updating this model.
*
*****************************************************************************
*
** Released by: WEBENCH Design Center, Texas Instruments Inc.
* Part: TPS565208
* Date: 22JUN2017
* Model Type: TRANSIENT
* Simulator: PSPICE
* Simulator Version: 16.2.0.p001
* EVM Order Number: N/A
* EVM Users Guide: N/A
* Datasheet: 
*
* Model Version: Final 1.10
*
*****************************************************************************
*
* Updates:
*
* Final 1.00
* Release to Web.
*
*****************************************************************************
*$
.SUBCKT TPS565208_TRANS EN GND SW VBST VFB VIN PARAMS: STEADY_STATE=0
V_u6_V2         u6_N16706074 0 1
R_u6_R2         u6_N11272786 ENCIR  1 TC=0,0 
C_u6_C4         GND u6_V5INOK  1n  
R_u6_R3         u6_N15420410 u6_V5INOK  1 TC=0,0 
C_u6_C3         GND ENCIR  1n  
X_u6_U8         VIN u6_N15420180 u6_N167062383 u6_N15420410 COMPHYS_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
V_u6_V3         u6_N15420180 0 4
R_u6_R1         u6_N15421290 u6_ENSW  1 TC=0,0 
V_u6_V6         u6_N167062383 0 0.4
V_u6_V1         u6_N16706056 0 1.6
V_u6_V7         VREG5 GND  
+PWL 0 0 1u 0 20u 5.5 
E_u6_ABM19         u6_N11272786 0 VALUE { if( V(u6_ENSW)>0.5  
+ & V(u6_V5INOK)>0.5,1,0)   }
C_u6_C2         GND u6_ENSW  1n  
X_u6_U1         EN u6_N16706056 u6_N16706074 u6_N15421290 COMPHYS_BASIC_GEN
+  PARAMS: VDD=5 VSS=0 VTHRESH=2.5
C_U5_U18_C43         GND U5_U18_PULSE  1n  TC=0,0 
E_U5_U18_E9         U5_U18_N15568710 GND VOINFO U5_U18_N15541111 0.1
C_U5_U18_C35         GND U5_H1  1n  TC=0,0 
X_U5_U18_S2    U5_U18_PULSE GND U5_U18_PULSE_DELAYED GND INT_COMP_U5_U18_S2 
R_U5_U18_R52         U5_U18_N15541401 VOINFO  600k TC=0,0 
E_U5_U18_ABM51         U5_U18_VIM 0 VALUE { ( V(U5_U18_N15568710)  
+ +V(VFB) )   }
E_U5_U18_ABM11         U5_U18_N09359 0 VALUE { if( V(U5_VREFINT)  
+ >V(U5_U18_VIM) ,1,0)   }
C_U5_U18_C37         GND VOINFO  8.3p  TC=0,0 
R_U5_U18_R55         U5_U18_N15545659 U5_U18_N15545828  1 TC=0,0 
E_U5_U18_ABM53         U5_U18_N15551706 0 VALUE { if(V(ENCIR)>0.5,   
+ V(U5_U18_N15546363),0)   }
E_U5_U18_ABM52         U5_RMPIN 0 VALUE { if (V(U5_U18_N15541554)>12m,
+  12m,V(U5_U18_N15541554))    }
E_U5_U18_ABM50         U5_U18_RAMP 0 VALUE { if(V(ENCIR)>0.5,   
+ V(U5_RMPIN),0)   }
G_U5_U18_ABMII1         GND U5_U18_N15541554 VALUE { if
+  (V(U5_U18_PULSE_DELAYED)>0.5, 2.3n,0)    }
R_U5_U18_R49         U5_U18_N09359 U5_U18_N09801  1 TC=0,0 
R_U5_U18_R56         U5_U18_N15573680 U5_U18_N15546363  1 TC=0,0 
C_U5_U18_C41         GND U5_U18_N15545828  1n  TC=0,0 
C_U5_U18_C34         GND U5_U18_N09801  1n  TC=0,0 
R_U5_U18_R50         U5_U18_N15524272 U5_H1  1 TC=0,0 
X_U5_U18_S1    U5_U18_PULSE GND U5_U18_N15541554 GND INT_COMP_U5_U18_S1 
C_U5_U18_C39         GND U5_U18_N15541554  1p  TC=0,0 
C_U5_U18_C42         GND U5_U18_N15546363  1n  TC=0,0 
E_U5_U18_ABM16         U5_VREFINT 0 VALUE { V(N16290300)  
+ +V(U5_U18_RAMP)   }
R_U5_U18_R37         SW U5_U18_N15541401  900k TC=0,0 
X_U5_U18_U16         U5_H_NEW U5_U18_N15545659 one_shot PARAMS:  T=20  
R_U5_U18_R58         U5_U18_PULSE U5_U18_PULSE_DELAYED  1075 TC=0,0 
R_U5_U18_R53         VOINFO U5_U18_N15541111  5Meg TC=0,0 
R_U5_U18_R39         U5_U18_N15541401 GND  400k TC=0,0 
X_U5_U18_U15         U5_BLKT U5_U18_N09801 U5_U18_N15524272 AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
R_U5_U18_R57         U5_U18_N15551706 U5_U18_PULSE  1 TC=0,0 
C_U5_U18_C44         GND U5_U18_PULSE_DELAYED  1n  TC=0,0 
C_U5_U18_C38         GND U5_U18_N15541111  6.4p  TC=0,0 
X_U5_U18_U17         U5_U18_N15545828 U5_U18_N15573680 INV_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U5_U11_U634         U5_U11_N00425 U5_U11_N00393 INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U5_U11_U5         U5_PRE_HDRIVE U5_U11_N048471 U5_U11_N00505 AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
R_U5_U11_R44         U5_PRE_LDRIVE U5_U11_N00355  2k TC=0,0 
X_U5_U11_U4         U5_PRE_LDRIVE U5_U11_N00393 U5_U11_N16275105 AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
C_U5_U11_C24         GND U5_L_NEW  1p  TC=0,0 
C_U5_U11_C20         GND U5_U11_N00425  1p  TC=0,0 
C_U5_U11_C25         GND U5_U11_N00347  1p  TC=0,0 
X_U5_U11_U630         U5_H_NEW U5_L_NEW U5_U11_N16274073 OR2_BASIC_GEN
R_U5_U11_R48         U5_U11_N16275105 U5_L_NEW  1 TC=0,0 
X_U5_U11_U639         U5_VO_MAX U5_U11_N16275589 INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
R_U5_U11_R49         U5_U11_N16275589 U5_U11_N00347  1 TC=0,0 
C_U5_U11_C19         GND U5_U11_N00355  1p  TC=0,0 
X_U5_U11_U12         U5_U11_N16274073 U5_U11_N16274095 one_shot PARAMS:  T=5  
C_U5_U11_C22         GND U5_U11_N00387  1p  TC=0,0 
X_U5_U11_U631         U5_U11_N16274095 U5_BLKT INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U5_U11_U635         U5_U11_N00355 U5_U11_N048471 INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
C_U5_U11_C23         GND U5_H_NEW  1p  TC=0,0 
R_U5_U11_R46         U5_U11_N00505 U5_U11_N00387  1 TC=0,0 
R_U5_U11_R47         U5_U11_N00381 U5_H_NEW  1 TC=0,0 
X_U5_U11_U8         U5_U11_N00347 U5_U11_N00387 U5_U11_N00381 AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
R_U5_U11_R45         U5_PRE_HDRIVE U5_U11_N00425  2k TC=0,0 
X_U5_U21_U10         U5_U21_N162913040 U5_U21_N00883 d_d11 PARAMS:
X_U5_U21_S17    U5_H_NEW GND VIN U5_U21_N00883 DRIVER_U5_U21_S17 
R_U5_U21_R9         LLC U5_U21_N01299  1 TC=0,0 
V_U5_U21_V2         U5_U21_N162910281 U5_U21_N00883 -250m
C_U5_U21_C11         GND LLC  10p IC=0 TC=0,0 
X_U5_U21_H2    U5_U21_N00883 SW U5_LLC_ECO GND DRIVER_U5_U21_H2 
X_U5_U21_U9         U5_U21_N162910281 VIN d_d11 PARAMS:
E_U5_U21_E1         U5_VO_TON GND VOINFO GND 1
V_U5_U21_V1         U5_U21_N162913040 GND -250m
E_U5_U21_ABM37         U5_VO_MAX 0 VALUE { if(V(VOINFO) >8,1,0)    }
X_U5_U21_S18    U5_L_NEW GND U5_U21_N00883 U5_U21_N01281 DRIVER_U5_U21_S18 
X_U5_U21_H1    U5_U21_N01281 GND U5_U21_N01299 GND DRIVER_U5_U21_H1 
R_U5_U10_R53         U5_U10_N16300829 U5_U10_N00467  1 TC=0,0 
C_U5_U10_C27         GND U5_U10_N00467  1p  TC=0,0 
R_U5_U10_R54         U5_L_PULSE U5_U10_N00619  1 TC=0,0 
C_U5_U10_C28         GND U5_U10_N00619  1p  TC=0,0 
R_U5_U10_R51         U5_H_PULSE U5_U10_N00383  1 TC=0,0 
V_U5_U10_V1         U5_U10_OCLTHR GND -0.34
E_U5_U10_ABM12         U5_U10_N01798 0 VALUE { if( V(U5_U10_OCLTHR)  
+ >V(LLC) ,1,0)   }
X_U5_U10_U640         U5_U10_OCLHI U5_U10_N16300829 INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
C_U5_U10_C17         U5_U10_OCLHI GND  10p IC=0 TC=0,0 
C_U5_U10_C24         GND U5_U10_N00383  1p  TC=0,0 
R_U5_U10_R42         U5_U10_N01798 U5_U10_OCLHI  200 TC=0,0 
X_U5_U10_U15         U5_U10_N00467 U5_U10_N00383 U5_PRE_HDRIVE AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U5_U10_U629         U5_U10_N00619 U5_U10_OCLHI U5_PRE_LDRIVE OR2_BASIC_GEN
E_U5_U12_ABM2         U5_U12_N00236 0 VALUE { IF( V(U5_H_NEW)> 0.75,V(VBST),0) 
+    }
C_U5_U12_C1         GND U5_H_NEW_BST  2n IC=0 TC=0,0 
R_U5_U12_R1         U5_U12_N00236 U5_H_NEW_BST  1 TC=0,0 
X_U5_U12_U6         VIN VBST d_d1 PARAMS:
E_U5_U15_ABM15         U5_PREBIAS_N 0 VALUE { if( V(U5_VREFINT)  
+ <0.73, V(U5_U15_N00303) ,1)   }
X_U5_U15_U641         U5_U15_N00189 U5_U15_N003530 INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
E_U5_U15_ABM13         U5_U15_N00189 0 VALUE { if( V(VFB)  
+ >(V(U5_VREFINT)+20m) ,1,0)   }
R_U5_U15_R57         U5_U15_N003530 U5_U15_N00303  1 TC=0,0 
C_U5_U15_C31         GND U5_U15_N00303  1n  TC=0,0 
R_U5_U13_R52         U5_U13_N16272504 U5_L_PULSE  1 TC=0,0 
C_U5_U13_C5         GND U5_U13_TON  5.5p IC=0 TC=0,0 
R_U5_U13_R33         U5_U13_N16273108 U5_EN_SW  1 TC=0,0 
R_U5_U13_R26         U5_U13_N16272742 U5_U13_N16272766  1.8Meg TC=0,0 
R_U5_U13_R53         U5_U13_N16276764 U5_U13_N16272438  1 TC=0,0 
X_U5_U13_U12         U5_U13_N16272912 U5_U13_N16272106 one_shot PARAMS:  T=220 
+  
V_U5_U13_V88         U5_U13_N16337882 GND 1
R_U5_U13_R34         U5_U13_N16273334 U5_U13_N16273480  1 TC=0,0 
X_U5_U13_U645         U5_U13_N16273480 U5_NEW U5_U13_N162950240 N16273256
+  srlatchrhp_basic_gen PARAMS: VDD=1 VSS=0 VTHRESH=0.5
G_U5_U13_ABM2I4         U5_U13_TON GND VALUE { if(V(U5_H_NEW) <.75,
+  V(U5_U13_TON)/200,0)    }
X_U5_U13_U630         U5_U13_N16272106 U5_U13_N16272438 U5_NEW OR2_BASIC_GEN
X_U5_U13_U648         U5_U13_N16337878 U5_U13_N16337838 INV_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
R_U5_U13_R27         U5_U13_N16272522 U5_U13_N16272844  1 TC=0,0 
X_U5_U13_U644         U5_H_PULSE U5_U13_N16272322 INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U5_U13_U649         U5_U13_N16273360 U5_U13_N16337838 U5_U13_N16337994
+  OR2_BASIC_GEN
E_U5_U13_E1         U5_U13_N16272528 U5_VO_TON U5_U13_N16272556 GND 1
C_U5_U13_C36         GND U5_U13_N16272438  1n  TC=0,0 
R_U5_U13_R28         U5_U13_N16272912 U5_U13_N16272438  1 TC=0,0 
X_U5_U13_U633         U5_U13_N16272988 U5_U13_N16272988 ENCIR ENCIR
+  U5_U13_N16273108 AND4_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
C_U5_U13_C7         GND U5_U13_N16272766  4.6p  TC=0,0 
X_U5_U13_U650         U5_U13_N16337994 U5_U13_N163379800 INV_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
C_U5_U13_C6         GND U5_U13_N16272742  4.6p  TC=0,0 
C_U5_U13_C39         GND U5_U13_N16273480  1n  TC=0,0 
X_U5_U13_U643         UVP_DELAY U5_U13_N16272988 INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
R_U5_U13_R25         U5_LLC_ECO U5_U13_N16272742  1.8Meg TC=0,0 
X_U5_U13_U647         U5_U13_N16337838 U5_U13_N16273360 U5_H_PULSE
+  OR2_BASIC_GEN
C_U5_U13_C41         U5_U13_N16337878 U5_U13_N163379800  1n  TC=0,0 
C_U5_U13_C8         GND U5_U13_N16272844  1n  TC=0,0 
C_U5_U13_C16         GND U5_U13_N16272556  1n  TC=0,0 
E_U5_U13_ABM26         U5_U13_N16272522 0 VALUE { if (V(U5_VREFINT) > 0.5,
+  (V(U5_U13_N16272828)*30m),0)    }
C_U5_U13_C38         GND U5_EN_SW  1n  TC=0,0 
G_U5_U13_ABM2I3         VREG5 U5_U13_TON VALUE { if(V(U5_H_NEW)>0.5,
+  (V(SW))*1.18u,0)    }
C_U5_U13_C32         GND U5_U13_N16272912  1n  TC=0,0 
R_U5_U13_R35         U5_U13_N162950240 U5_U13_N16273360  1 TC=0,0 
R_U5_U13_R30         U5_U13_N16272834 U5_U13_N16272556  1 TC=0,0 
E_U5_U13_ABM25         U5_U13_N16272834 0 VALUE { LIMIT
+  (V(U5_U13_N16272844),1m,90m)    }
X_U5_U13_U646         U5_PREBIAS_N U5_H1 U5_H1 U5_EN_SW U5_U13_N16273334
+  AND4_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U5_U13_U13         U5_U13_N16272322 U5_U13_N16272322 U5_U13_N16272504
+  AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U5_U13_U16         U5_BLKT U5_U13_N16272434 U5_U13_N16276764 AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
E_U5_U13_E2         U5_U13_N16272828 GND U5_U13_N16272766 GND 1
C_U5_U13_C40         GND U5_U13_N16273360  1n  TC=0,0 
C_U5_U13_C26         GND U5_L_PULSE  1n  TC=0,0 
E_U5_U13_ABM24         U5_U13_N16272434 0 VALUE { if( V(U5_U13_N16272528)  
+ >V(U5_U13_TON) ,0,1)   }
R_U5_U13_R31         U5_U13_N16337878 U5_U13_N16337882  72 TC=0,0 
R_U5_U13_R24         GND U5_U13_TON  10G TC=0,0 
X_U1_U11         U1_ENSS U1_UVP_DELAY_INV U1_EN_SS1 AND
X_U1_U9         U1_SS U1_SS d_d1 PARAMS:
R_U1_R34         U1_N15510682 ENOVP  1 TC=0,0 
C_U1_C3         GND U1_RESET_1  1n  
E_U1_ABM20         N16290300 0 VALUE { if(V(U1_SS)>0.762, 0.762, V(U1_SS))    }
C_U1_C2         GND U1_UVP_DELAY_INV  1n  
C_U1_C1         U1_SS GND  1u IC={STEADY_STATE*0.75} 
X_U1_U13         U1_EN_SS1 RESET U1_RESET_1 U1_EN_SS MUX2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5
R_U1_R33         U1_N15509898 U1_RESET_1  1 TC=0,0 
E_U1_ABM4         U1_N15509898 0 VALUE { if(V(RESET)>0.5, 1,0)    }
G_U1_ABMII4         VREG5 U1_SS VALUE { if(V(U1_EN_SS)>0.5 & V(U1_SS) < 1.3,
+  0.7125m,0)    }
X_U1_S5    U1_EN_SS GND U1_SS GND SOFTSTART_U1_S5 
C_U1_C4         ENOVP GND  1n IC=0 
E_U1_ABM2         U1_N15510682 0 VALUE { if(V(U1_SS)>1.283, 1,0)    }
E_U1_ABM3         U1_N15509786 0 VALUE { if(V(UVP_DELAY)>0.5, 0,1)    }
R_U1_R32         U1_N15509786 U1_UVP_DELAY_INV  1 TC=0,0 
E_U1_ABM5         U1_ENSS 0 VALUE { if(V(ENCIR)>0.5, 1,0)    }
R_U1_R31         GND U1_SS  1E11  
V_V3         STS GND {STEADY_STATE}
X_U3_S12    ENCIR GND VOINFO GND FAULTS_U3_S12 
R_U3_R44         RESET U3_N16246805  10m  
X_U3_U583         U3_N16298802 U3_N16297489 U3_RESET_2 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U3_U192         RESET U3_N16297489 BUFFER_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=1n TPHL=30u TR=1E-9 TF=1E-9
C_U3_C6         GND U3_N16258329  1p  
X_U3_U581         U3_N16246729 U3_N16246755 U3_N16246805 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
V_U3_V92         U3_N162620100 GND 0.5
E_U3_ABM5         U3_N16244009 0 VALUE { if(V(VFB) < V(U3_N16244001) * 0.65,
+  1,0)    }
X_U3_U577         U3_N16246729 U3_N16246473 U3_N162620100 COMP PARAMS: VHYS=0
R_U3_R43         U3_N16258329 U3_N162617940  1  
X_U3_U578         U3_N16254304 RESET U3_N162617940 U3_N162620561
+  srlatchrhp_basic_gen PARAMS: VDD=1 VSS=0 VTHRESH=.5
X_U3_U191         U3_N16246729 U3_N16246763 BUFFER_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=30u TPHL=1n TR=1E-9 TF=1E-9
X_U3_U584         RESET U3_N16298802 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
G_U3_ABMII5         VIN U3_N16246473 VALUE { if(V(U3_N16289588) > 0.5, 31.8u,
+  0)    }
R_U3_R41         UVP_DELAY U3_N16243947  1  
C_U3_C1         GND U3_N16246473  0.956u  
X_U3_U582         U3_N16246763 U3_N16246755 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
R_U3_R37         GND RESET  1E11  
X_U3_U580         UVP_DELAY RESET U3_N16289588 N16288578 srlatchrhp_basic_gen
+  PARAMS: VDD=1 VSS=0 VTHRESH=.5
X_U3_U579         U3_N16258329 U3_N16244009 U3_UVP AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
C_U3_C5         GND U3_N16254304  1p  
R_U3_R38         GND U3_N162620561  1E11  
C_U3_C7         GND RESET  1n  
R_U3_R42         U3_N16254304 ENOVP  1  
C_U3_C4         GND UVP_DELAY  1n  
X_U3_S13    U3_RESET_2 GND U3_N16246473 GND FAULTS_U3_S13 
X_U3_U190         U3_UVP U3_N16243947 BUFFER_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=24u TPHL=1n TR=1E-9 TF=1E-9
V_U3_V91         U3_N16244001 GND 0.765
R_U3_R36         GND U3_N16246473  1E11 
.IC         V(U5_U13_TON )=0 
.ENDS TPS565208_TRANS

*$
.subckt INT_COMP_U5_U18_S2 1 2 3 4  
S_U5_U18_S2         3 4 1 2 _U5_U18_S2
RS_U5_U18_S2         1 2 1G
.MODEL         _U5_U18_S2 VSWITCH Roff=1m Ron=1E9 Voff=0.2 Von=0.8
.ends INT_COMP_U5_U18_S2
*$
.subckt INT_COMP_U5_U18_S1 1 2 3 4  
S_U5_U18_S1         3 4 1 2 _U5_U18_S1
RS_U5_U18_S1         1 2 1G
.MODEL         _U5_U18_S1 VSWITCH Roff=1m Ron=1E9 Voff=0.2 Von=0.8
.ends INT_COMP_U5_U18_S1
*$
.subckt DRIVER_U5_U21_S17 1 2 3 4  
S_U5_U21_S17         3 4 1 2 _U5_U21_S17
RS_U5_U21_S17         1 2 1G
.MODEL         _U5_U21_S17 VSWITCH Roff=1e8 Ron=31m Voff=0.2 Von=0.8
.ends DRIVER_U5_U21_S17
*$
.subckt DRIVER_U5_U21_H2 1 2 3 4  
H_U5_U21_H2         3 4 VH_U5_U21_H2 1
VH_U5_U21_H2         1 2 0V
.ends DRIVER_U5_U21_H2
*$
.subckt DRIVER_U5_U21_S18 1 2 3 4  
S_U5_U21_S18         3 4 1 2 _U5_U21_S18
RS_U5_U21_S18         1 2 1G
.MODEL         _U5_U21_S18 VSWITCH Roff=1e8 Ron=16m Voff=0.2 Von=0.8
.ends DRIVER_U5_U21_S18
*$
.subckt DRIVER_U5_U21_H1 1 2 3 4  
H_U5_U21_H1         3 4 VH_U5_U21_H1 55m
VH_U5_U21_H1         1 2 0V
.ends DRIVER_U5_U21_H1
*$
.subckt SOFTSTART_U1_S5 1 2 3 4  
S_U1_S5         3 4 1 2 _U1_S5
RS_U1_S5         1 2 1G
.MODEL         _U1_S5 VSWITCH Roff=1e11 Ron=1m Voff=.75 Von=.25
.ends SOFTSTART_U1_S5
*$
.subckt FAULTS_U3_S12 1 2 3 4  
S_U3_S12         3 4 1 2 _U3_S12
RS_U3_S12         1 2 1G
.MODEL         _U3_S12 VSWITCH Roff=1e11 Ron=5 Voff=.6 Von=.4
.ends FAULTS_U3_S12
*$
.subckt FAULTS_U3_S13 1 2 3 4  
S_U3_S13         3 4 1 2 _U3_S13
RS_U3_S13         1 2 1G
.MODEL         _U3_S13 VSWITCH Roff=1e8 Ron=1m Voff=.2 Von=0.7
.ends FAULTS_U3_S13

*$
.subckt one_shot in out

+ params:  t=100
s_s1         meas 0 reset2 0 s1
e_abm1         ch 0 value { if( v(in)>0.5 | v(out)>0.5,1,0)    }
r_r2         reset2 reset  0.1  
e_abm3         out 0 value { if( v(meas)<0.5 & v(ch)>0.5,1,0)    }
r_r1         meas ch  {t} 
c_c2         0 reset2  1.4427n  
c_c1         0 meas  1.4427n  
e_abm2         reset 0 value { if(v(ch)<0.5,1,0)    }

.model s1 vswitch
+ roff=1e+009
+ ron=1
+ voff=0.25
+ von=0.75

.ends one_shot
*$
.subckt d_d11 1 2

d1 1 2 dd1

.model dd1 d
+ is=1e-015
+ tt=1e-011
+ n=0.001

.ends d_d11
*$
.subckt d_d1 1 2

d1 1 2 dd1

.model dd1 d
+ is=1e-015
+ tt=1e-011
+ rs=0.05
+ n=0.001

.ends d_d1
*$
.subckt srlatchrhp_basic_gen s r q qb params: vdd=1 vss=0 vthresh=0.5 

gq 0 qint value = {if(v(r) > {vthresh},-5,if(v(s)>{vthresh},5, 0))}
cqint qint 0 1n
rqint qint 0 1000meg
d_d10 qint my5 d_d1
v1 my5 0 {vdd}
d_d11 myvss qint d_d1
v2 myvss 0 {vss} 
eq qqq 0 qint 0 1
x3 qqq qqqd1 buf_basic_gen params: vdd={vdd} vss={vss} vthresh={vthresh}
rqq qqqd1 q 1
eqb qbr 0 value = {if( v(q) > {vthresh}, {vss},{vdd})}
rqb qbr qb 1 
cdummy1 q 0 1n 
cdummy2 qb 0 1n
.ic v(qint) {vss}

.model d_d1 d
+ is=1e-015
+ tt=1e-011
+ rs=0.005
+ n=0.01

.ends srlatchrhp_basic_gen
*$
.SUBCKT COMP_BASIC_GEN INP INM Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5	
E_ABM Yint 0 VALUE {IF (V(INP) > 
+ V(INM), {VDD},{VSS})}
R1 Yint Y 1
C1 Y 0 1n
.ENDS COMP_BASIC_GEN
*$
.SUBCKT COMPHYS_BASIC_GEN INP INM HYS OUT PARAMS: VDD=1 VSS=0 VTHRESH=0.5	
EIN INP1 INM1 INP INM 1 
EHYS INP1 INP2 VALUE { IF( V(1) > {VTHRESH},-V(HYS),0) }
EOUT OUT 0 VALUE { IF( V(INP2)>V(INM1), {VDD} ,{VSS}) }
R1 OUT 1 1
C1 1 0 5n
RINP1 INP1 0 1K
.ENDS COMPHYS_BASIC_GEN
*$
.SUBCKT COMPHYS2_BASIC_GEN INP INM HYS OUT PARAMS: VDD=1 VSS=0 VTHRESH=0.5	
+ T=10
EIN INP1 INM1 INP INM 1 
EHYS INM2 INM1 VALUE { IF( V(1) > {VTHRESH},-V(HYS)/2,V(HYS)/2) }
EOUT OUT 0 VALUE { IF( V(INP1)>V(INM2), {VDD} ,{VSS}) }
R1 OUT 1 1
C1 1 0 {T*1e-9}
RINP1 INP1 0 10K
RINM2 INM2 0 10K
.ENDS COMPHYS2_BASIC_GEN
*$
.SUBCKT AND2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND2_BASIC_GEN
*$
.SUBCKT NOR2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR2_BASIC_GEN
*$
.SUBCKT NOR4_BASIC_GEN A B C D Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH} |
+ V(D) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR4_BASIC_GEN
*$
.SUBCKT DELAY IN OUT
+ PARAMs:  T=100
S_S1         MEAS 0 RESET2 0 S1
E_ABM1         CH 0 VALUE { if( V(IN)>0.5,1,0)    }
E_ABM3         OUT 0 VALUE { if( V(MEAS)>0.5 & V(CH)>0.5,1,0)    }
R_R1         MEAS CH  {T} 
C_C1         0 MEAS  1.4427n  
E_ABM2         RESET 0 VALUE { if(V(CH)<0.5,1,0)    }
R_R2         RESET2 RESET  0.1  
C_C2         0 RESET2  1.4427n  
.MODEL         S1 VSWITCH Roff=1e9 Ron=1.0 Voff=0.25V Von=0.75V
.ENDS DELAY
*$
.SUBCKT BUFFER_PS A Y PARAMS: vhi=1 vlo=0 vthresh=500e-3 tplh=1e-9
+ tphl=1e-9 tr=1e-9 tf=1e-9
RA A 0 1e11
CA A 0 0.01pF
VS VSUP 0 DC 1
EBUF1 Ypp 0 VALUE={IF(V(A) > ({vthresh}), 1, 0)}
ROUTpp Ypp 0 1e11
XNSW1 OUTp Ypp 0 NSW_PS PARAMS: RONval={(tplh+1e-15)/(1e-12*0.693)}
+ VTHval=0.5
XPSW1 OUTp Ypp VSUP PSW_PS PARAMS: RONval={(tphl+1e-15)/(1e-12*0.693)}
+ VTHval=0.5
CDEL1 OUTp 0 1pF
ETHRESH Yp 0 VALUE={IF(V(OUTp) > 0.5, 1, 0)}
ROUTp Yp 0 1e11
XNSW2 OUTr Yp 0 NSW_PS PARAMS: RONval={(tf+1e-15)/(1e-12*2.3)} VTHval=0.5
XPSW2 OUTr Yp VSUP PSW_PS PARAMS: RONval={(tr+1e-15)/(1e-12*2.3)} VTHval=0.5
CDEL2 OUTr 0 1pF
EOUT OUTf 0 VALUE={V(OUTr)*({vhi} - {vlo})+{vlo}}
RDR OUTf Y  1000
RO Y 0 1e11
.ENDS BUFFER_PS
*$
.SUBCKT NSW_PS D G S PARAMS: RONval=10k VTHval=0.7 VCHARval=0.01
+ CGval=0.01pF CDval=0.01pF 
RDDUM D 0 1e11
RSDUM S 0 1e11
RGDUM G 0 1e11
CG G D {CGval}
CD D S {CDval}
EEXP F1 0 VALUE={LIMIT(((V(G,S)-VTHval)/VCHARval),-80,80)} 
GOUT D S VALUE={V(D,S)/(RONval*(1+EXP(-LIMIT(((V(G,S)-VTHval)/VCHARval)
+,-80,80))))}
.ENDS NSW_PS
*$
.SUBCKT PSW_PS D G S PARAMS: RONval=10k VTHval=0.7 VCHARval=0.01
+ CGval=0.01pF CDval=0.01pF 
RDDUM D 0 1e11
RSDUM S 0 1e11
RGDUM G 0 1e11
CG G D {CGval}
CD D S {CDval}
EEXP F1 0 VALUE={LIMIT(((V(S,G)-VTHval)/VCHARval),-80,80)} 
GOUT S D VALUE={V(S,D)/(RONval*(1+EXP(-LIMIT(((V(S,G)-VTHval)/VCHARval)
+,-80,80))))}
.ENDS PSW_PS
*$
.SUBCKT BUF_DELAY_BASIC_GEN A  Y PARAMS: VDD=5 VSS=0 VTHRESH=2.5
+ DELAY = 10n 
E_ABMGATE1    YINT1 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT1 YINT2 1
CINT YINT2 0 {DELAY*1.3}
E_ABMGATE2    YINT3 0 VALUE {{IF(V(YINT2) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT2 YINT3 Y 1
CINT2 Y 0 1n
.ENDS BUF_DELAY_BASIC_GEN
*$
.SUBCKT MONOPOS_PS in Q Qn PARAMS: PW=250u 
VS VSUP 0 DC 1
r1 Q 0 1e11
GIN VSUP YA VALUE={IF(V(IN)>0.5, V(VSUP)/1000K, 0)}
GDIS YA 0 VALUE={IF(V(IN)>0.5,0, V(YA)/1m)}
CIN YA 0 1n IC=0
RIN YA 0 1e11
EABM1 YTD 0 VALUE={IF(V(YA)> {PW*1000}, 1, 0)}
RYTD YTD 0 1e11
EXOR P 0 VALUE={IF(V(YTD) > 0.5 ^ V(IN) > .5, 1, 0)}
ROUTpp2 P 0 1e11
EAND1 Q1 0 VALUE={ IF(V(P)>0.5 & V(IN)>0.5, 1, 0)}
Ro1 Q1 Q 1m
Co1 Q 0 1p
ROUT2 Q 0 1e11
EAND2 Qn1 0 VALUE={ IF(V(Q)>0.5, 0, 1)}
Ro2 Qn1 Qn 1m
Co2 Qn 0 1p
ROUT4 Qn 0 1e11
.ENDS MONOPOS_PS
*$
.SUBCKT CESR IN OUT
+ PARAMs:  C=100u ESR=0.01 X=2 IC=0
C	IN 1  {C*X} IC={IC}
RESR	1 OUT {ESR/X}
.ENDS CESR
*$
.SUBCKT LDCR IN OUT
+ PARAMs:  L=1u DCR=0.01 IC=0
L	IN 1  {L} IC={IC}
RDCR	1 OUT {DCR}
.ENDS LDCR
*$
.SUBCKT MUX2_BASIC_GEN A B S Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE  YINT 0 VALUE {{IF(V(S) > {VTHRESH},  
+ V(B),V(A))}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS MUX2_BASIC_GEN
*$
.SUBCKT COMP VOUT VINP VINN PARAMS: VHYS = 0.05 
E1 YINT 0 VALUE {IF(V(VINP) + V(VOUT)*VHYS > V(VINN), 1, 0)}
R1 YINT VOUT 1
C1 VOUT 0 1n
.ENDS COMP
*$
.SUBCKT INV_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS INV_BASIC_GEN
*$
.SUBCKT BUF_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS BUF_BASIC_GEN
*$
.SUBCKT AND A B OUT  
EOUT OUT1 0 VALUE { IF( V(A)>0.5 & V(B)>0.5,1,0) }
R1 OUT1 OUT 1
C1 OUT 0 10p
.ends AND
*$
.SUBCKT AND4_BASIC_GEN A B C D Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH} &
+ V(D) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND4_BASIC_GEN
*$
.SUBCKT OR2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR2_BASIC_GEN
*$