*$
* TPS2350
*****************************************************************************
* (C) Copyright 2013 Texas Instruments Incorporated. All rights reserved.                                            
*****************************************************************************
** This model is designed as an aid for customers of Texas Instruments.
** TI and its licensors and suppliers make no warranties, either expressed
** or implied, with respect to this model, including the warranties of 
** merchantability or fitness for a particular purpose.  The model is
** provided solely on an "as is" basis.  The entire risk as to its quality
** and performance is with the customer
*****************************************************************************
*
* This model is subject to change without notice. Texas Instruments
* Incorporated is not responsible for updating this model.
*
*****************************************************************************
*
* Released by: WEBENCH Design Center, Texas Instruments Inc.
* Part: TPS2350
* Date: 15FEB2013
* Model Type: TRANSIENT
* Simulator: PSPICE
* Simulator Version: 16.2.0.p001
* EVM Order Number: TPS2350EVM
* EVM Users Guide: SLUU171A - September 2003
* Datasheet: SLUS574C –JULY 2003–REVISED MARCH 2011
*
* Model Version: Final 1.00
*
*****************************************************************************
*
* Updates:
*
* Final 1.00
* Release to Web.
*
****************************************************************************
.SUBCKT TPS2350_TRANS FLT_B FLTTIM GAT GATA GATB OV PG RAMP RTN SENSE SOURCE
+  UV VINA_N VINB_N  
X_U25         N17892726 N17893729 N17892803 OR2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
R_R4         N17893238 FLTIME_0_01  1 TC=0,0 
X_U27         FLTIME_0_01 GATE_FAULT FAULT_CROSS0 NAND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
C_C8         RAMPHI 0  1n  TC=0,0 
E_ABM4         N17893080 0 VALUE { IF(V(FALLTIME_REF_GND)>4V, 1V,0V)    }
G_falltime_source         RTN FLTTIM VALUE { IF(V(N17892803)>0.5, 50uA,0uA)   
+  }
C_C4         FLTIME_0_01 0  1n  TC=0,0 
E_ABM5         N17893209 0 VALUE { IF(V(FALLTIME_REF_GND)<0.51V, 1V,0V)    }
R_R2         N17893684 LATCH_S  1.4426 TC=0,0 
X_U32         CHARGE_CYCLE_LATCH_INV GATE_FAULT N17894083 AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
E_ABM1         FAULT_OUT_1 0 VALUE { IF(V(FALLTIME_REF_GND)>4V, 1V,0V)    }
E_E7         LCA_POS SOURCE N17894096 0 1
E_ABM10         N17893238 0 VALUE { IF(V(FALLTIME_REF_GND)<0, 1V,0V)    }
X_U46         CHARGE_CYCLE_LATCH GATE_FAULT N17892730 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U5_U14         LATCH_Q LATCH_R N17893184 NAND2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U5_U11         N17893184 LATCH_S LATCH_Q NAND2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U29         N17894007 FLTIME_0_51 N17893216 AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
E_E10         GAT SOURCE GATE_INT 0 1
X_U10         TOTAL_FAULT_OUT N17893684 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U22         GATE_FAULT GATE_OK INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U42         OVERLOAD_42MV_INV GATE_OK POWER_OK N17893733 AND3_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U21_U25         GATE_FAULT POWER_OK_INV U21_LATCH_R OR2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U21_S1    U21_LATCH_Q 0 PG SOURCE power_good_2_U21_S1 
X_U21_U7_U14         U21_LATCH_Q U21_LATCH_R U21_LATCH_QBAR NAND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U21_U7_U11         U21_LATCH_QBAR U21_LATCH_S U21_LATCH_Q NAND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U21_U31         GATEHI RAMPHI GATE_OK U21_LATCH_S AND3_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U51         GATE_FAULT CHARGE_CYCLE_LATCH_INV N17893247 AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
E_U1_ABM8         U1_N16803073 0 VALUE { IF (V(U1_VINA_N_SELECT)>0.5V,
+  15+V(VINA_N_INT),V(VINB_N_INT))    }
E_U1_ABM10         U1_N16803739 0 VALUE { IF (V(U1_VINB_N_SELECT)>0.5V,
+  15+V(VINB_N_INT),V(VINA_N_INT))    }
X_U1_U15         U1_N16778783 U1_N16784130 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U1_U20         U1_N16784130 U1_N16785706 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U1_D1         U1_SEL_GATE_A U1_VINA_N_SELECT d_d1 PARAMS: 
V_U1_V_hys2         U1_N16778777 0 400m
R_U1_R7         U1_VINB_N_SELECT U1_SEL_GATE_B  1k TC=0,0 
E_U1_ABM11         U1_SEL_GATE_B 0 VALUE { IF(V(U1_N16785706)>0.5V, 1,0)    }
X_U1_U23         VINA_N_INT VINB_N_INT U1_N16778777 U1_N16778783
+  COMPHYS_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_U1_E5         GATA 0 U1_N16781749 0 1
C_U1_C7         U1_VINB_N_SELECT 0  10n  TC=0,0 
X_U1_D2         U1_SEL_GATE_B U1_VINB_N_SELECT d_d1 PARAMS: 
C_U1_C6         U1_VINA_N_SELECT 0  10n  TC=0,0 
E_U1_E6         GATB 0 U1_N16781732 0 1
R_U1_R6         U1_VINA_N_SELECT U1_SEL_GATE_A  1k TC=0,0 
R_U1_R2         U1_N16803739 U1_N16781732  1 TC=0,0 
E_U1_ABM9         U1_SEL_GATE_A 0 VALUE { IF(V(U1_N16784130)>0.5V, 1,0)    }
C_U1_C2         U1_N16781732 0  10u  TC=0,0 
R_U1_R3         U1_N16803073 U1_N16781749  1 TC=0,0 
C_U1_C3         U1_N16781749 0  10u  TC=0,0 
R_R_supply         N17893975 VDD_AMP  1 TC=0,0 
V_U13_V3         U13_N16777208 0 1
G_U13_falltime_sink1         U13_N16777208 OV VALUE { IF(V(U13_OV_HYS)<0.5,
+  10uA,0uA)    }
V_U13_V2         U13_N16776561 0 1
V_U13_V1         U13_N16757599 SOURCE 1.4
E_U13_ABM6         UVLO 0 VALUE { IF(V(U13_N16778990)>10V-(V(UVLO)*240m),
+  1V,0V)    }
E_U13_E7         U13_N16778990 0 RTN SOURCE 1
G_U13_falltime_sink         U13_N16776561 UV VALUE { IF(V(U13_UV_HYS)>0.5,
+  10uA,0uA)    }
X_U13_U2         U13_N16757599 OV U13_OV_HYS COMP_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5
X_U13_U1         UV U13_N16757599 U13_UV_HYS COMP_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5
X_U13_U3         U13_UV_HYS U13_OV_HYS U13_UV_OR_OV NAND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U13_U11         U13_UV_OR_OV U13_N16780083 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U13_U22         U13_N16780083 UVLO POWER_OK AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U13_U14         POWER_OK POWER_OK_INV INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
E_E8         GATE_FAULT 0 LATCH_Q 0 1
C_C_supply         0 VDD_AMP  1u  TC=0,0 
G_falltime_sink         FLTTIM RTN VALUE { IF(V(N17894083)>0.5,0.38uA,0uA)    }
E_ABM9         N17893975 0 VALUE { IF(V(N17894191)>0.5, 15,0)    }
X_S1    HARD_PULLDOWN 0 FLT_B SOURCE TPS2350_TOPLEVEL_S1 
C_C2         LATCH_S 0  0.5u  TC=0,0 
E_E9         VINA_N_INT 0 VINA_N 0 1
R_U6_R1         U6_OVERLOAD U6_CAP_CHARGE  1.4426 TC=0,0 
C_U6_C1         0 U6_CAP_CHARGE  3.5u  TC=0,0 
X_U6_S4    U6_N00420 U6_OVERLOAD U6_CAP_CHARGE 0 overload_120mv_U6_S4 
E_U6_E10         U6_N00364 0 SENSE SOURCE 1
V_U6_V1         U6_N00420 0 1
E_U6_ABM5         DEGLITCH_OUT 0 VALUE { IF(V(U6_CAP_CHARGE)>0.5V, 1V,0V)    }
E_U6_ABM4         U6_OVERLOAD 0 VALUE { IF(V(U6_N00364)>120mV, 1V,0V)    }
X_S2    GATE2 0 RAMP SOURCE TPS2350_TOPLEVEL_S2 
X_U19         GATE_FAULT POWER_OK HARD_PULLDOWN AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
R_R7         N17893141 LATCH_R  1 TC=0,0 
X_S3    FLTTIME_PULLDOWN 0 FLTTIM SOURCE TPS2350_TOPLEVEL_S3 
X_U43         N17894012 GATE_FAULT CHARGE_CYCLE_LATCH RECOVER_TO_LATCH_R
+  NAND3_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U45         POWER_OK N17892873 CHARGE_CYCLE_LATCH_INV AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
G_ABMII-RAMP         RTN RAMP VALUE { IF(V(IRAMP_REF_GND)>0.5, 10uA,0.55uA)   
+  }
E_E4         FALLTIME_REF_GND 0 FLTTIM SOURCE 1
E_ABM8         OVERLOAD_42MV 0 VALUE { IF(V(ISNS_INTR)>42m, 1,0)    }
X_U39         N17892634 POWER_OK CHARGE_CYCLE_LATCH AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
C_C7         LATCH_R 0  0.5u  TC=0,0 
X_U31         GATE_FAULT N17893216 CHARGE_CYCLE_LATCH_INV N17894019
+  AND3_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U38         N17893733 N17894019 POWER_OK_INV FLTTIME_PULLDOWN OR3_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
E_E6         ISNS_INTR 0 SENSE SOURCE 1
E_E5         N17893540 0 RAMP SOURCE 0.01
X_U37         IRAMP_REF_GND OVERLOAD_42MV N17893729 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
E_LIMIT1         N17894096 0 VALUE {LIMIT(V(N17893540),0,42m )}
R_u8_R_emp_out         u8_N218286 GATE_INT  1m TC=0,0 
E_u8_E6         u8_N218492 0 VDD_AMP 0 0.5
E_u8_E1         u8_N218530 0 LCA_POS SENSE 79432.823
E_u8_ABM10         u8_N218286 0 VALUE { IF(V(u8_N218522)
+  <V(0),V(0),IF(V(u8_N218522) >V(VDD_AMP),V(VDD_AMP),V(u8_N218522)))    }
C_u8_C_emp         0 u8_EMP_HIGHDB  1.1492m  TC=0,0 
E_u8_E5         u8_N218522 u8_N218492 u8_EMP_HIGHDB 0 1
R_u8_R_emp         u8_N218530 u8_EMP_HIGHDB  0.33 TC=0,0 
X_U34         OVERLOAD_42MV OVERLOAD_42MV_INV INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_D1         RAMP N17893483 d_d1 PARAMS: 
X_U41         GATE_OK POWER_OK N17893031 AND2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
C_C10         N17892634 0  1n  TC=0,0 
V_Vint2         N17893483 SOURCE 5.78
C_C1         FLTIME_3_9 0  1n  TC=0,0 
X_U23         GATEHI OVERLOAD_42MV_INV N17894012 AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U35         OVERLOAD_42MV GATE_FAULT CHARGE_CYCLE_LATCH N17892726
+  AND3_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
R_R1         N17893080 FLTIME_3_9  1 TC=0,0 
X_U7_U14         N17892634 FAULT_CROSS4 N17892873 NAND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U7_U11         N17892873 FAULT_CROSS0 N17892634 NAND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U15         N17893031 N17892730 N17894191 OR2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
R_R3         N17893209 FLTIME_0_51  1 TC=0,0 
X_U33         POWER_OK RECOVER_TO_LATCH_R N17893141 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U28         FAULT_OUT_1 DEGLITCH_OUT TOTAL_FAULT_OUT OR2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
R_R6         N17892754 GATEHI  1 TC=0,0 
C_C3         FLTIME_0_51 0  1n  TC=0,0 
E_ABM12         N17893251 0 VALUE { IF(V(IRAMP_REF_GND)>5, 1,0)    }
X_U26         FLTIME_3_9 GATE_FAULT FAULT_CROSS4 NAND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U18         FLTIME_0_01 N17894007 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
E_E3         IRAMP_REF_GND 0 RAMP SOURCE 1
E_ABM11         N17892754 0 VALUE { IF(V(GATE_INT)>8, 1,0)    }
X_U14         POWER_OK_INV N17893247 GATE2 OR2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
C_C6         GATEHI 0  1n  TC=0,0 
E_E11         VINB_N_INT 0 VINB_N 0 1
R_R8         N17893251 RAMPHI  1 TC=0,0 
.IC         V(N17892634 )=0
.ENDS TPS2350_TRANS

*$
.subckt power_good_2_U21_S1 1 2 3 4  
S_U21_S1         3 4 1 2 _U21_S1
RS_U21_S1         1 2 1G
.MODEL         _U21_S1 VSWITCH Roff=1e9 Ron=1.0 Voff=0.1 Von=0.9
.ends power_good_2_U21_S1
*$
.subckt TPS2350_TOPLEVEL_S1 1 2 3 4  
S_S1         3 4 1 2 _S1
RS_S1         1 2 1G
.MODEL         _S1 VSWITCH Roff=1e9 Ron=1.0 Voff=0.1 Von=0.9
.ends TPS2350_TOPLEVEL_S1
*$
.subckt overload_120mv_U6_S4 1 2 3 4  
S_U6_S4         3 4 1 2 _U6_S4
RS_U6_S4         1 2 1G
.MODEL         _U6_S4 VSWITCH Roff=1e9 Ron=10m Voff=0.1 Von=0.9
.ends overload_120mv_U6_S4
*$
.subckt TPS2350_TOPLEVEL_S2 1 2 3 4  
S_S2         3 4 1 2 _S2
RS_S2         1 2 1G
.MODEL         _S2 VSWITCH Roff=1e9 Ron=1 Voff=0.1 Von=0.9
.ends TPS2350_TOPLEVEL_S2
*$
.subckt TPS2350_TOPLEVEL_S3 1 2 3 4  
S_S3         3 4 1 2 _S3
RS_S3         1 2 1G
.MODEL         _S3 VSWITCH Roff=1e9 Ron=1 Voff=0.1 Von=0.9
.ends TPS2350_TOPLEVEL_S3
*$

.subckt d_d1 1 2
d1 1 2 dd1
.model dd1 d
+ is=1e-015
+ tt=1e-011
+ rs=0.05
+ n=0.1
.ends d_d1

*$
.SUBCKT COMP_BASIC_GEN INP INM Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5	
E_ABM Yint 0 VALUE {IF (V(INP) > 
+ V(INM), {VDD},{VSS})}
R1 Yint Y 1
C1 Y 0 1n
.ENDS COMP_BASIC_GEN

*$
.SUBCKT COMPHYS_BASIC_GEN INP INM HYS OUT PARAMS: VDD=1 VSS=0 VTHRESH=0.5	
EIN INP1 INM1 INP INM 1 
EHYS INP1 INP2 VALUE { IF( V(1) > {VTHRESH},-V(HYS),0) }
EOUT OUT 0 VALUE { IF( V(INP2)>V(INM1), {VDD} ,{VSS}) }
R1 OUT 1 1
C1 1 0 5n
RINP1 INP1 0 1K
.ENDS COMPHYS_BASIC_GEN
*$

.SUBCKT AND2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND2_BASIC_GEN

*$
.SUBCKT AND3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND3_BASIC_GEN

*$
.SUBCKT AND4_BASIC_GEN A B C D Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH} &
+ V(D) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND4_BASIC_GEN

*$
.SUBCKT NAND2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NAND2_BASIC_GEN

*$
.SUBCKT NAND3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NAND3_BASIC_GEN

*$
.SUBCKT NAND4_BASIC_GEN A B C D Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH} &
+ V(D) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NAND4_BASIC_GEN

*$
.SUBCKT OR2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR2_BASIC_GEN

*$
.SUBCKT OR3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR3_BASIC_GEN

*$
.SUBCKT OR4_BASIC_GEN A B C D Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH} |
+ V(D) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR4_BASIC_GEN

*$
.SUBCKT INV_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS INV_BASIC_GEN

*$
.subckt POWERMOS G D S PARAMS: RDSON=12.3m Ciss=1430p Crss=15p Coss=385p VSP=2.8 RG=2
C_C1         S Da  {Coss} IC=0
R_R1         Da D  10
C_C2         Ga D  {Crss} IC=0
R_R2         G Ga {RG}
C_C3         Ga S  {Ciss} IC=0
D_D1         S Db Dbreak
R_R3         Db D 1m
S_switchM         D S Ga S _switchM
RS_switchM         Ga S 100Meg
.MODEL         _switchM VSWITCH Roff=100e6 Ron={RDSON} Voff=1.1 Von={VSP}
.model Dbreak D Is=1e-14 Cjo=.1pF Rs=.1
.ends 
*$
