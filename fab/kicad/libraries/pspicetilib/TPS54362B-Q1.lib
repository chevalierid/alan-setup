* TPS54362B-Q1
*****************************************************************************
* (C) Copyright 2014 Texas Instruments Incorporated. All rights reserved.
*****************************************************************************
** This model is designed as an aid for customers of Texas Instruments.
** TI and its licensors and suppliers make no warranties, either expressed
** or implied, with respect to this model, including the warranties of
** merchantability or fitness for a particular purpose. The model is
** provided solely on an "as is" basis. The entire risk as to its quality
** and performance is with the customer
*****************************************************************************
*
* Released by: WEBENCH(R) Design Center, Texas Instruments Inc.
* Part: TPS54362B-Q1
* Date: 17JUN2014
* Model Type: Transient
* Simulator: PSpice
* Simulator Version: 16.2
* EVM Order Number: TPS54362BEVM 
* EVM Users Guide: SLVUA81–May 2014
* Datasheet: SLVS845F –MARCH 2009–REVISED MAY 2014
* Model Version: Final 1.00
*
*****************************************************************************
*
* Updates:
*
* Final 1.00 - Release to Web
*
*****************************************************************************
* Application Notes:
*
* 1.) The LPM mode has not been modeled. THe pin is left as a reference
* 2.) The SYNC function is not enabled in this release.
* 3.) The RSLEW function has not been modeled. The pin is left as a reference
* 4.) The RST_TH and OV_TH values are not used in the model.
* 5.) No temperature effects are modeled.
* 6.) The operating supply current has not been modeled.
*
*****************************************************************************
* source TPS54362B 
.SUBCKT TPS54362B-Q1 SYNC LPM EN RT RSLEW NRST CDLY GND SS OV_TH RST_TH
+ VSENSE COMP VREG PH VIN BOOT
X_TPS54362B_U1_S3    TPS54362B_U1_N14313217 0 NRST 0 HK_TPS54362B_U1_S3 
V_TPS54362B_U1_V2         TPS54362B_U1_N14175657 0 3.4V
V_TPS54362B_U1_V6         TPS54362B_U1_N141630573 0 0.02673
R_TPS54362B_U1_R4         TPS54362B_U1_N14173811 TPS54362B_U1_EN_ON  3.54k  
C_TPS54362B_U1_C7         0 TPS54362B_U1_N14265255  1n  
C_TPS54362B_U1_C10         0 TPS54362B_U1_DLY_DONE  1n  
V_TPS54362B_U1_V7         TPS54362B_U1_N14267192 0 3.4V
E_TPS54362B_U1_ABM5         TPS54362B_U1_N14284967 0 VALUE { IF
+  (V(TPS54362B_SHUTDOWN_N) > 0.5, 1, 0)    }
E_TPS54362B_U1_ABM4         TPS54362B_U1_N14285317 0 VALUE { IF ( V(CDLY)  >
+  1,1,0 )    }
X_TPS54362B_U1_U4         TPS54362B_U1_EN_ON TPS54362B_U1_UVLO_OFF
+  TPS54362B_SHUTDOWN_N AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_TPS54362B_U1_U10         TPS54362B_U1_N14166502 TPS54362B_SHUTDOWN_N
+  TPS54362B_U1_N14206808 NAND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
V_TPS54362B_U1_V5         TPS54362B_U1_N026503 0 0.03
X_TPS54362B_U1_U14         TPS54362B_SHUTDOWN_N TPS54362B_U1_N14285195
+  INV_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
D_TPS54362B_U1_D24         TPS54362B_U1_N14206808 TPS54362B_U1_N14206842 D_D1 
X_TPS54362B_U1_S4    TPS54362B_U1_N14273359 0 SS 0 HK_TPS54362B_U1_S4 
R_TPS54362B_U1_R7         TPS54362B_REF TPS54362B_U1_N14275702  1  
D_TPS54362B_U1_D23         TPS54362B_U1_N14173811 TPS54362B_U1_EN_ON D_D1 
C_TPS54362B_U1_C6         0 TPS54362B_U1_N14206842  1n  
X_TPS54362B_U1_U6         VIN TPS54362B_U1_N14175657 TPS54362B_U1_N14175649
+  TPS54362B_U1_UVLO_OFF COMPHYS_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_TPS54362B_U1_S5    TPS54362B_U1_N14285195 0 CDLY 0 HK_TPS54362B_U1_S5 
R_TPS54362B_U1_R8         TPS54362B_U1_N14284903 TPS54362B_U1_N14284967  1  
C_TPS54362B_U1_C8         0 TPS54362B_REF  1n  
V_TPS54362B_U1_V4         TPS54362B_U1_N14175649 0 0.16
E_TPS54362B_U1_ABM3         TPS54362B_U1_N14275702 0 VALUE { MIN ( V(SS) , 0.8
+  )    }
C_TPS54362B_U1_C3         0 CDLY  1p  
R_TPS54362B_U1_R5         TPS54362B_U1_N14206808 TPS54362B_U1_N14206842  50k  
D_TPS54362B_U1_D25         SS TPS54362B_U1_N14267192 D_D1 
C_TPS54362B_U1_C9         0 TPS54362B_U1_N14284903  1n  
G_TPS54362B_U1_ABMII1         TPS54362B_U1_N14267192 SS VALUE {
+  (V(TPS54362B_U1_N14265255)*50u)    }
X_TPS54362B_U1_U5         TPS54362B_U1_RST_READY TPS54362B_U1_N14284903
+  TPS54362B_U1_N14293723 AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_TPS54362B_U1_U13         TPS54362B_SHUTDOWN_N TPS54362B_U1_N14273359
+  INV_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_TPS54362B_U1_U11         TPS54362B_U1_RST_READY TPS54362B_U1_DLY_DONE
+  TPS54362B_U1_N14313217 NAND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
E_TPS54362B_U1_ABM2         TPS54362B_U1_N14265913 0 VALUE { IF
+  (V(TPS54362B_SHUTDOWN_N) < 0.5, 0, 1)    }
C_TPS54362B_U1_C5         0 TPS54362B_U1_EN_ON  1n  
V_TPS54362B_U1_V1         TPS54362B_U1_N02125 0 1.7
G_TPS54362B_U1_ABMII2         TPS54362B_U1_N14285031 CDLY VALUE {
+  (V(TPS54362B_U1_N14293723)*1u)    }
X_TPS54362B_U1_U12         TPS54362B_U1_N14206842 TPS54362B_U1_NRST_READY
+  BUF_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
D_TPS54362B_U1_D26         CDLY TPS54362B_U1_N14285031 D_D1 
V_TPS54362B_U1_V3         TPS54362B_U1_N14163548 0 0.768
X_TPS54362B_U1_U8         VSENSE TPS54362B_U1_N14163548 TPS54362B_U1_N141630573
+  TPS54362B_U1_N14166502 COMPHYS_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
V_TPS54362B_U1_V8         TPS54362B_U1_N14285031 0 3.4V
C_TPS54362B_U1_C2         0 SS  10p  
R_TPS54362B_U1_R9         TPS54362B_U1_DLY_DONE TPS54362B_U1_N14285317  1  
R_TPS54362B_U1_R6         TPS54362B_U1_N14265255 TPS54362B_U1_N14265913  1  
X_TPS54362B_U1_U15         TPS54362B_U1_NRST_READY TPS54362B_U1_RST_READY
+  INV_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_TPS54362B_U1_U7         EN TPS54362B_U1_N02125 TPS54362B_U1_N026503
+  TPS54362B_U1_N14173811 COMPHYS_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
V_TPS54362B_U3_V44         TPS54362B_U3_N16825091 0 0.5
X_TPS54362B_U3_U39         TPS54362B_U3_RT_CLK SYNC 0 TPS54362B_N03781
+  MUX2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_TPS54362B_U3_U6         TPS54362B_U3_N16827061 TPS54362B_U3_N16830164
+  TPS54362B_U3_RT_CLK_INT COMP_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_TPS54362B_U3_S26    TPS54362B_U3_N16828588 0 TPS54362B_U3_N16827061 0
+  OSC_TPS54362B_U3_S26 
X_TPS54362B_U3_U610         TPS54362B_U3_N16849525 TPS54362B_U3_N16848009
+  INV_DELAY_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY=10n
X_TPS54362B_U3_U7         TPS54362B_U3_RT_CLK_INT TPS54362B_U3_N16848009
+  TPS54362B_U3_RT_CLK N16848105 SRLATCHRHP_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5
X_TPS54362B_U3_U611         TPS54362B_U3_RT_CLK TPS54362B_U3_N16849525
+  INV_DELAY_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY=10n
X_TPS54362B_U3_U8         TPS54362B_SHUTDOWN_N TPS54362B_U3_SDWN INV_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
V_TPS54362B_U3_V46         TPS54362B_U3_N16830164 0 1
R_TPS54362B_U3_R276         0 TPS54362B_U3_N16825094  500MEG  
X_TPS54362B_U3_H2    TPS54362B_U3_N16825094 TPS54362B_U3_N16825091
+  TPS54362B_U3_I_RT 0 OSC_TPS54362B_U3_H2 
V_TPS54362B_U3_V45         TPS54362B_U3_N16827113 0 5
C_TPS54362B_U3_C79         TPS54362B_U3_N16827061 0  2p  
R_TPS54362B_U3_R278         TPS54362B_U3_I_RT 0  1  
X_TPS54362B_U3_U134         TPS54362B_U3_SDWN TPS54362B_U3_RT_CLK
+  TPS54362B_U3_N16828588 OR2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
D_TPS54362B_U3_D11         TPS54362B_U3_N16827061 TPS54362B_U3_N16827113 D_D1 
E_TPS54362B_U3_ABM1         TPS54362B_N03636 0 VALUE { IF (V(VIN) < 8,
+  0.5*V(TPS54362B_U3_N16827061), 0.1*V(VIN)*V(TPS54362B_U3_N16827061))    }
R_TPS54362B_U3_R277         TPS54362B_U3_N16825094 RT  1  
G_TPS54362B_U3_ABMI3         TPS54362B_U3_N16827113 TPS54362B_U3_N16827061
+  VALUE { {-( I(V_TPS54362B_U3_V44)*1.18)/2.5 }    }
X_TPS54362B_U4_H1    VIN TPS54362B_U4_N14158786 TPS54362B_U4_HS_CURRENT 0
+  DRIVER_TPS54362B_U4_H1 
X_TPS54362B_U4_U38         TPS54362B_U4_PWMH2 TPS54362B_U4_N135874
+  INV_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_TPS54362B_U4_U37         TPS54362B_PWMH TPS54362B_U4_N14222700
+  TPS54362B_U4_PWMH2 AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
E_TPS54362B_U4_ABM1         TPS54362B_U4_LEB 0 VALUE { IF
+  (V(TPS54362B_U4_LEB_BEFORE) > 0.5, V(TPS54362B_U4_HS_CURRENT), 0 )    }
X_TPS54362B_U4_S1    TPS54362B_U4_PWMH2 0 BOOT TPS54362B_U4_HDRV
+  DRIVER_TPS54362B_U4_S1 
D_TPS54362B_U4_D24         VIN BOOT D_D1 
X_TPS54362B_U4_U40         TPS54362B_U4_LEB TPS54362B_U4_N14193990
+  TPS54362B_ILIM COMP_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_TPS54362B_U4_S2    TPS54362B_U4_N135874 0 TPS54362B_U4_HDRV PH
+  DRIVER_TPS54362B_U4_S2 
V_TPS54362B_U4_V2         TPS54362B_U4_N14222700 0 2
C_TPS54362B_U4_C6         0 TPS54362B_U4_LEB_BEFORE  1n  
D_TPS54362B_U4_D25         TPS54362B_U4_LEB_BEFORE TPS54362B_U4_PWMH2 D_D1 
V_TPS54362B_U4_V4         TPS54362B_U4_N14193990 0 6
R_TPS54362B_U4_R1         TPS54362B_U4_PWMH2 TPS54362B_U4_LEB_BEFORE  150  
D_TPS54362B_U4_D22         PH TPS54362B_U4_N14158786 D_D1 
X_TPS54362B_U4_S5    TPS54362B_U4_HDRV PH TPS54362B_U4_N14158786 PH
+  DRIVER_TPS54362B_U4_S5 
V_TPS54362B_V46         TPS54362B_SET1 GND 1
X_TPS54362B_RST_TH_OVT_U10         OV_TH TPS54362B_RST_TH_OVT_N16721845
+  TPS54362B_RST_TH_OVT_OVT_GATE COMP_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_TPS54362B_RST_TH_OVT_U11         RST_TH TPS54362B_RST_TH_OVT_N16721867
+  TPS54362B_RST_TH_OVT_RST_TIMER COMP_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
V_TPS54362B_RST_TH_OVT_V46         TPS54362B_RST_TH_OVT_N16721867 0 0.8
V_TPS54362B_RST_TH_OVT_V47         TPS54362B_RST_TH_OVT_N16721904 0 0.82
V_TPS54362B_RST_TH_OVT_V48         TPS54362B_RST_TH_OVT_N16721845 0 0.8
X_TPS54362B_RST_TH_OVT_U9         RST_TH TPS54362B_RST_TH_OVT_N16721904
+  TPS54362B_RST_TH_OVT_RST_GATE COMP_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
R_TPS54362B_R279         RSLEW GND  100k  
V_TPS54362B_V47         TPS54362B_SET0 GND 0Vdc
R_TPS54362B_R278         LPM GND  100k  
X_TPS54362B_U2_U3         TPS54362B_U2_A TPS54362B_U2_N16196575
+  TPS54362B_U2_N16196491 OR2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_TPS54362B_U2_U9         TPS54362B_U2_N60347 TPS54362B_U2_N60591
+  TPS54362B_U2_A AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_TPS54362B_U2_U5         TPS54362B_N03636 COMP TPS54362B_U2_N59900
+  COMP_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_TPS54362B_U2_U608         TPS54362B_U2_A TPS54362B_U2_N16196495
+  INV_DELAY_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY=15n
X_TPS54362B_U2_U7         TPS54362B_N03781 TPS54362B_U2_N60060
+  TPS54362B_U2_N60347 N60321 SRLATCHRHP_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5
X_TPS54362B_U2_U607         TPS54362B_U2_N16196495 TPS54362B_U2_A
+  TPS54362B_U2_N16196583 AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_TPS54362B_U2_U4         TPS54362B_REF VSENSE COMP op_amp PARAMS:  HLIMIT=5
+  RIN=233MEG BW=7MEG DC_GAIN=95 ROUT=100 LLIMIT=0 SRP=10   SRM=10 
C_TPS54362B_U2_C140         0 TPS54362B_U2_N16196575  10p  
R_TPS54362B_U2_R267         TPS54362B_U2_N16196583 TPS54362B_U2_N16196575 
+  14.4k  
X_TPS54362B_U2_U6         TPS54362B_ILIM TPS54362B_U2_N59900
+  TPS54362B_U2_N60060 OR2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_TPS54362B_U2_U8         TPS54362B_N03781 TPS54362B_U2_N60591 INV_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_TPS54362B_U2_U604         TPS54362B_U2_N16196583 TPS54362B_U2_N16196575 d_d
+  PARAMS:
X_TPS54362B_U2_U11         TPS54362B_SHUTDOWN_N TPS54362B_U2_N16196491
+  TPS54362B_PWMH AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
.ENDS TPS54362B-Q1
*$
.subckt HK_TPS54362B_U1_S3 1 2 3 4  
S_TPS54362B_U1_S3         3 4 1 2 _TPS54362B_U1_S3
RS_TPS54362B_U1_S3         1 2 1G
.MODEL         _TPS54362B_U1_S3 VSWITCH Roff=1e9 Ron=1m Voff=0 Von=0.8V
.ends HK_TPS54362B_U1_S3
*$
.subckt HK_TPS54362B_U1_S4 1 2 3 4  
S_TPS54362B_U1_S4         3 4 1 2 _TPS54362B_U1_S4
RS_TPS54362B_U1_S4         1 2 1G
.MODEL         _TPS54362B_U1_S4 VSWITCH Roff=1e9 Ron=1m Voff=0.25 Von=0.75
.ends HK_TPS54362B_U1_S4
*$
.subckt HK_TPS54362B_U1_S5 1 2 3 4  
S_TPS54362B_U1_S5         3 4 1 2 _TPS54362B_U1_S5
RS_TPS54362B_U1_S5         1 2 1G
.MODEL         _TPS54362B_U1_S5 VSWITCH Roff=1e9 Ron=1m Voff=0.25 Von=0.75
.ends HK_TPS54362B_U1_S5
*$
.subckt OSC_TPS54362B_U3_S26 1 2 3 4  
S_TPS54362B_U3_S26         3 4 1 2 _TPS54362B_U3_S26
RS_TPS54362B_U3_S26         1 2 1G
.MODEL         _TPS54362B_U3_S26 VSWITCH Roff=100e6 Ron=1.0 Voff=0.2 Von=0.8
.ends OSC_TPS54362B_U3_S26
*$
.subckt OSC_TPS54362B_U3_H2 1 2 3 4  
H_TPS54362B_U3_H2         3 4 VH_TPS54362B_U3_H2 -1
VH_TPS54362B_U3_H2         1 2 0V
.ends OSC_TPS54362B_U3_H2
*$
.subckt DRIVER_TPS54362B_U4_H1 1 2 3 4  
H_TPS54362B_U4_H1         3 4 VH_TPS54362B_U4_H1 1
VH_TPS54362B_U4_H1         1 2 0V
.ends DRIVER_TPS54362B_U4_H1
*$
.subckt DRIVER_TPS54362B_U4_S1 1 2 3 4  
S_TPS54362B_U4_S1         3 4 1 2 _TPS54362B_U4_S1
RS_TPS54362B_U4_S1         1 2 1G
.MODEL         _TPS54362B_U4_S1 VSWITCH Roff=1e6 Ron=3 Voff=0.25V Von=0.75V
.ends DRIVER_TPS54362B_U4_S1
*$
.subckt DRIVER_TPS54362B_U4_S2 1 2 3 4  
S_TPS54362B_U4_S2         3 4 1 2 _TPS54362B_U4_S2
RS_TPS54362B_U4_S2         1 2 1G
.MODEL         _TPS54362B_U4_S2 VSWITCH Roff=1e6 Ron=1.5 Voff=0.25V Von=0.75V
.ends DRIVER_TPS54362B_U4_S2
*$
.subckt DRIVER_TPS54362B_U4_S5 1 2 3 4  
S_TPS54362B_U4_S5         3 4 1 2 _TPS54362B_U4_S5
RS_TPS54362B_U4_S5         1 2 1G
.MODEL         _TPS54362B_U4_S5 VSWITCH Roff=1e6 Ron=500m Voff=1 Von=2.8
.ends DRIVER_TPS54362B_U4_S5
*$
.model D_D1 d
+ is=1e-015
+ tt=1e-011
+ rs=0.05
+ n=0.1
*$
.model dideal d
+ is=1e-010
+ cjo=1e-014
+ rs=0.001
+ n=1
*$
.subckt d_d 1 2
d1 1 2 dd
.model dd d
+ is=1e-015
+ n=0.01
+ tt=1e-011
.ends d_d
*$
.SUBCKT AND2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND2_BASIC_GEN
*$
.SUBCKT AND3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND3_BASIC_GEN
*$
.SUBCKT NAND2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NAND2_BASIC_GEN
*$
.SUBCKT OR2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR2_BASIC_GEN
*$
.SUBCKT INV_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS INV_BASIC_GEN
*$
.SUBCKT BUF_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS BUF_BASIC_GEN
*$
**Reset has higher priority in this latch
.SUBCKT SRLATCHRHP_BASIC_GEN S R Q QB PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
GQ 0 Qint VALUE = {IF(V(R) > {VTHRESH},-5,IF(V(S)>{VTHRESH},5, 0))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr QB 1 
Cdummy1 Q 0 1n 
Cdummy2 QB 0 1n
.IC V(Qint) {VSS}
.ENDS SRLATCHRHP_BASIC_GEN
*$
.SUBCKT OP_AMP P M OUT 
+ PARAMs:  Hlimit=5 Rin=10Meg BW=18Meg DC_Gain=100 Rout=100 Llimit=0 SRP=1 SRM=1
R_Rin         P M  {Rin}
E_E1          5 0 M P {-Gain}
E_LIMIT2      6 0 VALUE {LIMIT(V(5), {-Abs(SRM)*Ca*1Meg+V(1)/Ra},
+                 {SRP*Ca*1Meg+V(1)/Ra})}
G_G2          1 0 6 0 -1
R_Ra          0 1  {Ra} 
C_Ca          0 1  {Ca}   
E_LIMIT1      2 0 VALUE {LIMIT(V(1),{Llimit},{Hlimit})}
V_VL          3 0 {Llimit+200m}
V_VH          4 0 {Hlimit-200m}
D_D1          3 1 Dideal 
D_D2          1 4 Dideal 
R_Rout        OUT 2  {Rout}
.model Dideal D Is=1e-10 Cjo=.01pF Rs=1m  N=1
.PARAM  Ra=1k   Ca={exp(DC_gain*log(10)/20)/(2*3.14159*BW*Ra)} 
+ Gain={exp(DC_gain*log(10)/20)/Ra} 
.ENDS OP_AMP
*$
.SUBCKT CESR IN OUT
+ PARAMs:  C=100u ESR=0.01 X=2 IC=0
C	IN 1  {C*X} IC={IC}
RESR	1 OUT {ESR/X}
.ENDS CESR
*$
.SUBCKT LDCR IN OUT
+ PARAMs:  L=1u DCR=0.01 IC=0
L	IN 1  {L} IC={IC}
RDCR	1 OUT {DCR}
.ENDS LDCR
*$
.SUBCKT OSC FAULT RAMP CLK PARAMS:  FREQ=100E3 TCLK=1E-6
VCLK         CLK2 0 PULSE 0 1 {TON} 1n 1n {TCLK} {1/FREQ}
S1    RAMP 0 2 0 S1M 
EOUT1         2 0 VALUE { if( V(FAULT)>0.5 | V(CLK)>0.5,1,0)    }
EOUT2         CLK 0 VALUE { if( V(FAULT)<0.5,V(CLK2),0)    }
ICH         0 RAMP DC {ICHARGE}  
COSC         0 RAMP  1n IC=0
.PARAM  ICHARGE={1E-9/TON} RON={TCLK/100/1E-9} TON={(1/FREQ)-TCLK}
.MODEL         S1M VSWITCH Roff=1G Ron=1m Voff=0.25 Von=0.75 
.ENDS OSC
*$
.SUBCKT COMP_BASIC_GEN INP INM Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5	
E_ABM Yint 0 VALUE {IF (V(INP) > 
+ V(INM), {VDD},{VSS})}
R1 Yint Y 1
C1 Y 0 1n
.ENDS COMP_BASIC_GEN
*$
.SUBCKT COMPHYS_BASIC_GEN INP INM HYS OUT PARAMS: VDD=1 VSS=0 VTHRESH=0.5
EIN INP1 INM1 INP INM 1 
EHYS INP1 INP2 VALUE { IF( V(1) > {VTHRESH},-V(HYS),0) }
EOUT OUT 0 VALUE { IF( V(INP2)>V(INM1), {VDD} ,{VSS}) }
R1 OUT 1 1
C1 1 0 5n
RINP1 INP1 0 1K
.ENDS COMPHYS_BASIC_GEN
*$
.SUBCKT DELAY IN OUT
+ PARAMs:  T=100
S_S1         MEAS 0 RESET2 0 S1
E_ABM1         CH 0 VALUE { if( V(IN)>0.5,1,0)    }
E_ABM3         OUT 0 VALUE { if( V(MEAS)>0.5 & V(CH)>0.5,1,0)    }
R_R1         MEAS CH  {T} 
C_C1         0 MEAS  1.4427n  
E_ABM2         RESET 0 VALUE { if(V(CH)<0.5,1,0)    }
R_R2         RESET2 RESET  0.1  
C_C2         0 RESET2  1.4427n  
.MODEL         S1 VSWITCH Roff=1e9 Ron=1.0 Voff=0.25V Von=0.75V
.ENDS DELAY
*$
.SUBCKT INV_DELAY_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY = 10n 
E_ABMGATE1    YINT1 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT1 YINT2 1
CINT YINT2 0 {DELAY*1.3}
E_ABMGATE2    YINT3 0 VALUE {{IF(V(YINT2) > {VTHRESH} , 
+ {VSS},{VDD})}}
RINT2 YINT3 Y 1
CINT2 Y 0 1n
.ENDS INV_DELAY_BASIC_GEN
*$
.SUBCKT ONE_SHOT IN OUT
+ PARAMs:  T=100
S_S1         MEAS 0 RESET2 0 S1
E_ABM1         CH 0 VALUE { if( V(IN)>0.5 | V(OUT)>0.5,1,0)    }
R_R2         RESET2 RESET  0.1  
E_ABM3         OUT 0 VALUE { if( V(MEAS)<0.5 & V(CH)>0.5,1,0)    }
R_R1         MEAS CH  {T} 
C_C2         0 RESET2  1.4427n  
C_C1         0 MEAS  1.4427n  
E_ABM2         RESET 0 VALUE { if(V(CH)<0.5,1,0)    }
.MODEL         S1 VSWITCH Roff=1e9 Ron=1.0 Voff=0.25V Von=0.75V
.ENDS ONE_SHOT
*$
.SUBCKT ONE_SHOT_1 IN OUT
+ PARAMs:  T=100
S_S1         MEAS 0 RESET2 0 S1
E_ABM1         CH 0 VALUE { if( V(IN)<0.5 | V(OUT)>0.5,1,0)    }
R_R2         RESET2 RESET  0.1  
E_ABM3         OUT 0 VALUE { if( V(MEAS)<0.5 & V(CH)>0.5,1,0)    }
R_R1         MEAS CH  {T} 
C_C2         0 RESET2  1.4427n  
C_C1         0 MEAS  1.4427n  
E_ABM2         RESET 0 VALUE { if(V(CH)<0.5,1,0)    }
.MODEL         S1 VSWITCH Roff=1e9 Ron=1.0 Voff=0.25V Von=0.75V
.ENDS ONE_SHOT_1
*$
.SUBCKT MUX2_BASIC_GEN A B S Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE  YINT 0 VALUE {{IF(V(S) > {VTHRESH},  
+ V(B),V(A))}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS MUX2_BASIC_GEN
*$
.SUBCKT OR3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR3_BASIC_GEN
*$
.SUBCKT BUF_DELAY_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY = 10n 
E_ABMGATE1    YINT1 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT1 YINT2 1
CINT YINT2 0 {DELAY*1.3}
E_ABMGATE2    YINT3 0 VALUE {{IF(V(YINT2) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT2 YINT3 Y 1
CINT2 Y 0 1n
.ENDS BUF_DELAY_BASIC_GEN
*$