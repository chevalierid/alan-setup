* PSpice Model Editor - Version 16.0.0
*$
* TPS51462
*****************************************************************************
*  (C) Copyright 2011 Texas Instruments Incorporated. All rights reserved.
*****************************************************************************
** This model is designed as an aid for customers of Texas Instruments.
** TI and its licensors and suppliers make no warrenties, either expressed
** or implied, with respect to this model, including the warranties of 
** merchantability or fitness for a particular purpose.  The model is
** provided solely on an "as is" basis.  The entire risk as to its quality
** and performance is with the customer
*****************************************************************************
*
** Released by: Analog eLab Design Center, Texas Instruments Inc.
* Part: TPS51462
* Date: 13DEC2011
* Model Type: TRANSIENT
* Simulator: PSPICE
* Simulator Version: 16.0.0.s001
* EVM Order Number: TPS51461EVM
* EVM Users Guide: 
* Datasheet: SLUSAD9B - SEPTEMBER 2011
*
* Model Version: Final 1.00
*
*****************************************************************************
*
* Updates:
*
* Final 1.00
* Release to Web.
*
*****************************************************************************
.SUBCKT TPS51462_TRANS VREF VID0 VID1 VIN1 VIN2 VIN3 EN VBST SW1 SW2 SW3 SW4
+ SW5 MODE PGND1 PGND2 PGND3 COMP V5FILT PGOOD SLEW GND1 GND2
+ VOUT V5DRV PARAMS: FASTSS=1
X_U210         N11743889 ENHI_TOGG BUFFER_PS PARAMS: VHI=1 VLO=0 VTHRESH=500E-3
+  TPLH=2n TPHL=20u TR=1E-9 TF=1E-9
E_ABM11         OCLHI 0 VALUE { if( V(OCLTHR)  
+ >V(LLO) ,1,0)   }
X_S20    ENCIRD GND1 COMP VREFI TPS51462_TRANS_S20 
X_U288         UVLATCH SSEND UVP AND
X_U309         N11098932 DRL2 INV_PS PARAMS: VHI=1 VLO=0 VTHRESH=500E-3 TPLH=1n
+  TPHL=1E-9 TR=1E-9 TF=1E-9
X_U246         N12239510 TBLNKB INVERTER
E_E7         VREFI GND1 VREF GND1 1
X_U269         LOW_READY LOW_DELAY ONB ZC NAND3_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
R_R48         VIN VIN3  1m  
R_R8         VREFI VINT  4.4k  
E_ABM28         VSMODESEL 0 VALUE { if (V(MODESAMPLE) >0.49 & V(MODESAMPLE)<.5
+  ,1,0)    }
X_U10         N17624978 NCL delay PARAMS: PARAMS: T=10
E_ABM9         N16947969 0 VALUE { if( V(DRVL)>2.5,  
+ V(SW1),  
+ V(PGND1) )  }
X_S12    DISCH GND1 SW1 GND1 TPS51462_TRANS_S12 
X_U208         ENCIR ENCIRD BUFFER_PS PARAMS: VHI=1 VLO=0 VTHRESH=500E-3
+  TPLH=250u TPHL=2E-9 TR=1E-9 TF=1E-9
X_U282         HIDRIVE N11100818 N11102186 AND
R_R49         VIN VIN1  1m  
V_V77         N11100662 GND1 3.6
R_R30         GND1 ENHI_TOGG  1Meg  
R_R28         GND1 N16884087  1Meg  
X_U240         N168483390 NCLB INVERTER
X_U266         N11095332 ON TOS ENCIRD NAND3_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
X_U272         NCLB PWMMODE NCLbpwm AND
R_R50         VIN VIN2  1m  
X_U242         BLNKM N11098982 OCLDIS OR
X_U255         N17264786 LUPB N17410162 AND
E_ABM64         N17790408 0 VALUE { if(V(SSEND)<0.5, 1, V(ENZC))    }
X_U249         ON ONB INVERTER
X_U300         ONG N122824771 INV_PS PARAMS: VHI=1 VLO=0 VTHRESH=500E-3
+  TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
X_U22         N16884062 VINT d_d2 PARAMS:
X_U289         LOW_READY LOW_READY SSENDSET UVP N17289176 NOR4
X_U261         N16848263 N16848243 N16848243 ZC NAND3_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
V_V87         N17539338 N17539305 -2m
X_U20         N149140881 VIN d_d1 PARAMS:
C_C10         GND1 N11100848  10n  
E_ABM26         ADD1 0 VALUE { if((V(MODESAMPLE)>0.3 & V(MODESAMPLE)<0.35) |
+  (V(MODESAMPLE) >1.45 & V(MODESAMPLE)<1.55) ,1,0)    }
E_ABM58         N17958294 0 VALUE { if(V(VID0) > 0.5,  
+ if( V(VID1) >0.5, 0.625, 0.725),0)   }
R_R20         GND1 ENPG  1e6  
R_R15         GND1 ENHI_TOGG  1E8  
X_U17         V5DRV VBST d_d1 PARAMS:
X_U296         BLNKM TBLNKB N11102362 NAND2_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
E_ABM60         LOW_C 0 VALUE { if(V(VOUT)>V(VSref)*0.84,1,0)    }
X_U259         N11099406 OCLDIS OCLDIS ONS2 NAND3_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
R_R37         GND1 N147234901  1Meg  
X_U283         N11099756 N110964421 N111007581 AND
E_ABM16         N17539305 0 VALUE { if( V(PWMMODE)>0.5,  
+ 0.078,V(GND1))   }
X_U262         ZC N16848263 TBLNKB ENCIRD NAND3_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
X_S15    PWMMODE GND1 AFTER_DELAY N11100848 TPS51462_TRANS_S15 
G_ABM2I6         VSREF N18080485 VALUE { LIMIT((V(VSREF) - V(N18080485)),
+  -10u*(1+9*{FASTSS})*(1-0.9*V(SSEND)), 10u*(1+9*{FASTSS})*(1-.9*V(SSEND)))    }
X_S9    L_PGOOD GND1 PGOOD GND1 TPS51462_TRANS_S9 
X_U263         SSENDSET ENCIRD ENCIRD N11095132 NAND3_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
X_S5    DRH1 GND1 VBST DRVH TPS51462_TRANS_S5 
X_U13         VINT N16884059 d_d2 PARAMS:
X_U276         N17289796 N17289796 LOWDRIVE OR
X_S13    ENCIR GND1 VREF GND1 TPS51462_TRANS_S13 
X_U270         N11098248 N110957122 ON1 NOR2
X_U204         N111007581 DRH2 BUFFER_PS PARAMS: VHI=1 VLO=0 VTHRESH=500E-3
+  TPLH=20E-9 TPHL=2E-9 TR=1E-9 TF=1E-9
X_U252         NCL PWMMODE NCLPWM AND
X_S17    DRVH SW1 VIN SW1 TPS51462_TRANS_S17 
E_ABM12         N17624978 0 VALUE { if( V(LLO)  
+ >V(N17539338) ,1,0)   }
X_U578         N18270041 ENHI_TOGG UVLATCH N133343651 srlatchrhp_basic_gen
+  PARAMS: PARAMS: VDD=1 VSS=0 VTHRESH=.5
E_ABM19         N11101396 0 VALUE { if( V(N11100856)  
+ >V(TON) ,1,0)   }
X_U265         ON ONSET ONSET N11095332 NAND3_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
X_U576         DRVHPREBIAS N14723472 PREBIAS N147234901 srlatchrhp_basic_gen
+  PARAMS: PARAMS: VDD=1 VSS=0 VTHRESH=.5
X_U279         HIDRIVE N110964421 INVERTER
X_U277         ZC N11102690 N11102362 OR
E_ABM13         N13334699 0 VALUE { IF(V(VOUT) > V(VSref)*1.2 &  
+ V(ENCIRD) >0.5,1,0)   }
X_U271         HI_DEL N12277012 LOW_DELAY NOR2
C_C4         GND1 TON  10p IC=0 TC=0,0 
X_S6    DRH2 GND1 DRVH SW1 TPS51462_TRANS_S6 
G_G5         SVREF VREF TABLE { V(SVREF, VREF) } 
+ ( (-10,0m)(-2.4m,0m)(0,0)(1m,2.4m)(10,2.5m) )
X_U202         N110956321 DRL2 BUFFER_PS PARAMS: VHI=1 VLO=0 VTHRESH=500E-3
+  TPLH=20E-9 TPHL=2E-9 TR=1E-9 TF=1E-9
V_V10         N16884059 0 2.5
X_U305         NCL N17790408 N168483390 AND
X_U280         LOWDRIVE N110956322 INVERTER
X_U248         HI_READY N12277012 INVERTER
X_U294         HI_READY ON ON1 NAND2_PS PARAMS: VHI=1 VLO=0 VTHRESH=500E-3
+  TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
X_U205         ENPG AFTER_DELAY BUFFER_PS PARAMS: VHI=1 VLO=0 VTHRESH=500E-3
+  TPLH={4m*(1- FASTSS*0.975)} TPHL=10u TR=1E-9 TF=1E-9
X_U191         N11102570 N11101836 BUFFER_PS PARAMS: VHI=1 VLO=0 VTHRESH=500E-3
+  TPLH=2n TPHL=50n TR=1E-9 TF=1E-9
E_ABM34         N18270041 0 VALUE { if( V(N18272004)> 0.5 &  
+ V(PWMMODE)<0.5,1,0)   }
E_E1         N17190036 GND1 VOUT GND1 1
X_U573         N13334699 N13334705 BUF_DELAY_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=.5 DELAY=.2u
R_R26         GND1 N133343651  1Meg  
V_V11         N16884062 0 1.5
X_U295         N11095154 HI_DEL HIDRIVE NAND2_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
X_U220         N11579823 L_PGOOD INVERTER
X_U286         LOWDRIVE N11098932 N11102096 AND
G_ABM2I1         V5FILT TON VALUE { if(V(DQOS)<0.25, V(SW1)/100K,0)    }
E_ABM30         PWMMODE 0 VALUE { if( V(MASK)> 0.5 |  
+ V(OOB)>0.5,1,0)   }
E_ABM14         ENCIR 0 VALUE { if( V(ENP)> 0.5 &  
+ V(V5INOK)>0.5,1,0)   }
X_U257         N11098890 LBB LBB ONS1 NAND3_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
E_ABM17         ENP 0 VALUE { if(V(EN)>1,1,0)    }
G_ABM2I3         VREFI VINT VALUE { {LIMIT((V(N16884087) - V(LLO))*1m,
+  -80u,80u)}    }
X_U203         N11102186 DRH1 BUFFER_PS PARAMS: VHI=1 VLO=0 VTHRESH=500E-3
+  TPLH=20E-9 TPHL=2E-9 TR=1E-9 TF=1E-9
R_R40         GND1 N14723472  1Meg  
X_U275         DRVOFF DRVOFF HI_READY UVP HIDRIVE NOR4
X_U579         N18300911 ENHI_TOGG SSEND N182999741 srlatchrhp_basic_gen
+  PARAMS: PARAMS: VDD=1 VSS=0 VTHRESH=.5
R_R35         LLOAVG N17737096  1Meg  
E_E6         N17007963 GND1 MODE GND1 1
X_S11    EN GND1 MODE GND1 TPS51462_TRANS_S11 
E_ABM25         N13334713 0 VALUE { IF(V(VOUT) < V(VSref)*0.7 &  
+ V(SSEND) >.5,1,0)   }
R_R2         GND1 PWMMODE  1Meg TC=0,0 
E_ABM65         N17699457 0 VALUE { if(V(LLOAVG)> -8m & V(count)<1 ,1,0)    }
E_ABM62         ENZC 0 VALUE { if(V(COUNT)>8,1,0)    }
R_R24         GND1 N17190036  1Meg  
X_U274         ENCIRD DRVOFF INVERTER
E_ABM31         N11579823 0 VALUE { if(V(N11100848)>0.5 & V(ENCIRD) >0.5,1,0)  
+   }
C_C14         GND1 MODESAMPLE  10 IC=0 TC=0,0 
C_C18         LLOAVG GND1  1p  TC=0,0 
R_R33         N17737096 N17732453  1Meg  
X_U201         N11102096 DRL1 BUFFER_PS PARAMS: VHI=1 VLO=0 VTHRESH=500E-3
+  TPLH=20E-9 TPHL=2E-9 TR=1E-9 TF=1E-9
X_U308         N11100028 DRL1 INV_PS PARAMS: VHI=1 VLO=0 VTHRESH=500E-3 TPLH=1n
+  TPHL=1E-9 TR=1E-9 TF=1E-9
G_ABMII4         V5FILT MODE VALUE { if(V(EN)>0.5, 15u,0)    }
X_U297         EN N11743889 ENHI_RECAL MONOPOS_PS PARAMS: PW=230u
R_R9         LLO N16947969  100  
R_R41         GND1 N182999741  1Meg  
R_R36         GND1 MODE  1e11  
X_U21         N17189992 COMP d_d2 PARAMS:
X_U260         ONS2 N11099406 TBLNKB ENCIRD NAND3_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
X_U264         N11095132 SSENDSET N11095154 SSEND NAND3_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
X_U188         TBLNK N12239510 BUFFER_PS PARAMS: VHI=1 VLO=0 VTHRESH=500E-3
+  TPLH=2E-9 TPHL=30n TR=1E-9 TF=1E-9
C_C17         N17737096 GND1  1p  TC=0,0 
X_S3    ENHITOGG GND1 N17007963 MODESAMPLE TPS51462_TRANS_S3 
G_ABM2I2         TON GND1 VALUE { if(V(DQOS) >.75, V(TON)/200,0)    }
C_C13         LLO PGND1  20p  TC=0,0 
X_U19         N149141941 SW1 d_d1 PARAMS:
R_R42         GND1 ENHI_TOGG  1Meg  
X_U299         N122824771 LOW_READY INV_PS PARAMS: VHI=1 VLO=0 VTHRESH=500E-3
+  TPLH=200n TPHL=10n TR=1E-9 TF=1E-9
E_ABM57         SVREF 0 VALUE { V(N18071785)  
+ +  V(2V)   }
X_U258         ONS1 N11098890 TBLNKB ENCIRD NAND3_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
X_S7    DRL1 GND1 V5DRV DRVL TPS51462_TRANS_S7 
E_ABM56         VSEL 0 VALUE { V(TSEL)  
+ * V(VOUT)   }
X_U245         N11098248 N11102690 INVERTER
E_ABM3         DRVHPREBIAS 0 VALUE { if(V(DRVH)>5,1,0)    }
R_R27         GND1 AFTER_DELAY  1e6  
X_U238         ENCIRD OCLHI N11098982 AND
R_R39         MODE V5FILT  1e11  
E_ABM63         N17704028 0 VALUE { if(V(LLOAVG)<-10m & V(count)>8 ,1,0)    }
X_U12         COMP N17189989 d_d2 PARAMS:
X_U268         N11101694 ENCIRD ONG TBLNK NAND3_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
X_U575         N133366310 DISCH BUF_DELAY_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=.5 DELAY=0.5u
X_S1    N17519238 GND1 N17519168 COUNT TPS51462_TRANS_S1 
E_ABM47         OOB 0 VALUE { if(V(VOUT) > V(VSREF)*1.08,  
+ 1,0)   }
V_V88         2V GND1 2.01
X_U574         N13334511 ENHI_TOGG OVLATCH N133344671 srlatchrhp_basic_gen
+  PARAMS: PARAMS: VDD=1 VSS=0 VTHRESH=.5
X_U281         DRVHPREBIAS N11101836 HI_DEL AND
X_S8    DRL2 GND1 DRVL PGND1 TPS51462_TRANS_S8 
X_S19    DRVL PGND1 SW1 PGND1 TPS51462_TRANS_S19 
X_U580         N13334713 N18272004 BUF_DELAY_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=.5 DELAY=8.5u
G_G1         V5FILT GND1 ENCIR GND1 350u
X_U307         N11100818 DRH2 INV_PS PARAMS: VHI=1 VLO=0 VTHRESH=500E-3 TPLH=1n
+  TPHL=1E-9 TR=1E-9 TF=1E-9
X_U241         BLNKM LOOPB LBB OR
X_U577         N17704028 N17699457 N17559606 N176994661 srlatchrhp_basic_gen
+  PARAMS: PARAMS: VDD=1 VSS=0 VTHRESH=.5
E_ABM27         N18071785 0 VALUE { if((V(ENCIR)>0.5 & V(MODESAMPLE)<0.15) |
+  (V(MODESAMPLE) >0.69 & V(MODESAMPLE)<.72) ,0.05,0)    }
R_R31         GND1 N17519168  1e8 TC=0,0 
E_ABM33         N13334511 0 VALUE { if( V(N13334705)> 0.5 &  
+ V(PWMMODE)<0.5,1,0)   }
X_U284         N17289176 PREBIAS N17289796 AND
V_V8         N17189989 0 2.4
X_U267         TBLNK N11101694 TOS TOS NAND3_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
X_U28         PWM MASK N182000302 MONOPOS_PS PARAMS: PW=900u
E_ABM10         LUPB 0 VALUE { if( V(COMP)  
+ >(V(VINT)) ,1,0)   }
X_U304         NCL N17712847 NCLEVENT AND
X_U278         HI_READY N11102570 INVERTER
E_ABM29         ENPG 0 VALUE { if( V(HIGH_C)>0.5  
+ & V(LOW_C)>0.5   
+ & V(SSEND)>0.5, 1, 0)  }
E_ABM66         TSEL 0 VALUE { if(V(ADD1) >0.5, 1.4286,1)    }
E_ABM68         VSREF 0 VALUE { V(N17958294)  
+ +  V(N17960037)   }
C_C16         N17732453 GND1  1p  TC=0,0 
E_ABM20         ONS3 0 VALUE { if( V(VOUT)  
+ >V(N11100662) ,1,0)   }
R_R34         GND1 OOB  1e6  
R_R14         GND1 ENHI_RECAL  1E8  
V_V9         N17189992 0 1.6
R_R25         GND1 N133344671  1Meg  
E_ABM2         N18300911 0 VALUE { if(V(SLEW)>V(VSref)-.001, 1,0)    }
E_ABM32         OCLTHR 0 VALUE { if(V(ENCIRD)>0.5,-0.18,0)    }
R_R23         GND1 TON  10Meg TC=0,0 
X_S2    N17559606 GND1 COUNT GND1 TPS51462_TRANS_S2 
R_R3         GND1 N182000302  1Meg TC=0,0 
X_U216         N11101396 ENCIRD N11102424 AND
E_ABM61         N17519238 0 VALUE { if(V(NCLEVENT)>0.5  
+ & V(COUNT) <9 & V(SSEND) >0.5, 1,0)   }
X_S14    ENCIRD GND1 SLEW GND1 TPS51462_TRANS_S14 
R_R38         GND1 N176994661  1Meg  
X_U239         LUP LOOPB INVERTER
X_U193         HI_READY DQOS BUFFER_PS PARAMS: VHI=1 VLO=0 VTHRESH=500E-3
+  TPLH=2E-9 TPHL=2E-9 TR=1E-9 TF=1E-9
X_U243         BLNKM NCLB N16848243 OR
V_V89         N149140881 SW1 -250m
E_ABM52         N133366310 0 VALUE { if( V(OVP)>.5 |  
+ V(UVP) >.5 |  
+ V(ENCIR) <1.6,1,0)  }
X_U301         N17712847 NCL INV_PS PARAMS: VHI=1 VLO=0 VTHRESH=500E-3 TPLH=10n
+  TPHL=50n TR=1E-9 TF=1E-9
G_ABM2I5         VREFI COMP VALUE { {LIMIT((V(SLEW) - V(N17190036))*1m,
+  -80u,80u)}    }
V_V90         N149141941 PGND1 -250m
X_H1    N18080485 SLEW N18194252 GND1 TPS51462_TRANS_H1 
E_ABM67         N17960037 0 VALUE { if(V(VID0) < 0.5,  
+ if( V(VID1) >0.5, if(V(VSmodesel)>0.5, 0.85, 0.8), 0.9), 0)   }
X_U247         LOW_READY N110957122 INVERTER
X_U192         DRVL N11098248 BUFFER_PS PARAMS: VHI=1 VLO=0 VTHRESH=2.5
+  TPLH=2E-9 TPHL=2E-9 TR=1E-9 TF=1E-9
X_U287         OVLATCH ENCIRD OVP AND
R_R32         N17732453 LLO  1Meg  
X_U256         OVP N17264786 INVERTER
V_V82         N11100856 VSEL 1m
X_U15          V5DRV V5INOK COMP_HYS2 PARAMS:  TH=4.2 HYS=.3
G_ABMII5         V5FILT N17519168 VALUE { if(V(NCLEVENT)>0.5, .01,0)    }
X_U306         N11099756 DRH1 INV_PS PARAMS: VHI=1 VLO=0 VTHRESH=500E-3 TPLH=1n
+  TPHL=1E-9 TR=1E-9 TF=1E-9
E_ABM69         PWM 0 VALUE { if(V(SSEND)>0.5 &  
+ (V(N18194252) > 1m | V(N18194252) <-1m), 1,0)   }
X_U285         N11100028 N110956322 N110956321 AND
X_U244         N17410162 NCLPWM LUP OR
E_ABM59         HIGH_C 0 VALUE { if(V(VOUT)<V(VSref)*1.16,1,0)    }
X_U217         DQOS N11102424 TOS OR
X_U142         ONSET ONS3 ONS1 ONS2 TBLNK OR4_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
C_C15         GND1 COUNT  .5n IC=0 TC=0,0 
R_R29         GND1 ENHI_TOGG  1Meg  
.ends

.subckt TPS51462_TRANS_S20 1 2 3 4  
S_S20         3 4 1 2 _S20
RS_S20         1 2 1G
.MODEL         _S20 VSWITCH Roff=1e11 Ron=1m Voff=.75 Von=.25
.ends TPS51462_TRANS_S20

.subckt TPS51462_TRANS_S12 1 2 3 4  
S_S12         3 4 1 2 _S12
RS_S12         1 2 1G
.MODEL         _S12 VSWITCH Roff=1e11 Ron=42 Voff=.4 Von=.6
.ends TPS51462_TRANS_S12

.subckt TPS51462_TRANS_S15 1 2 3 4  
S_S15         3 4 1 2 _S15
RS_S15         1 2 1G
.MODEL         _S15 VSWITCH Roff=1m Ron=1e11 Voff=0.25 Von=0.75
.ends TPS51462_TRANS_S15

.subckt TPS51462_TRANS_S9 1 2 3 4  
S_S9         3 4 1 2 _S9
RS_S9         1 2 1G
.MODEL         _S9 VSWITCH Roff=1e6 Ron=1.0 Voff=0.25 Von=0.75
.ends TPS51462_TRANS_S9

.subckt TPS51462_TRANS_S5 1 2 3 4  
S_S5         3 4 1 2 _S5
RS_S5         1 2 1G
.MODEL         _S5 VSWITCH Roff=1e11 Ron=1.5 Voff=.25 Von=.75
.ends TPS51462_TRANS_S5

.subckt TPS51462_TRANS_S13 1 2 3 4  
S_S13         3 4 1 2 _S13
RS_S13         1 2 1G
.MODEL         _S13 VSWITCH Roff=1e11 Ron=10 Voff=.75 Von=.25
.ends TPS51462_TRANS_S13

.subckt TPS51462_TRANS_S17 1 2 3 4  
S_S17         3 4 1 2 _S17
RS_S17         1 2 1G
.MODEL         _S17 VSWITCH Roff=1e8 Ron=60m Voff=1 Von=2
.ends TPS51462_TRANS_S17

.subckt TPS51462_TRANS_S6 1 2 3 4  
S_S6         3 4 1 2 _S6
RS_S6         1 2 1G
.MODEL         _S6 VSWITCH Roff=1e11 Ron=0.7 Voff=.25 Von=.75
.ends TPS51462_TRANS_S6

.subckt TPS51462_TRANS_S11 1 2 3 4  
S_S11         3 4 1 2 _S11
RS_S11         1 2 1G
.MODEL         _S11 VSWITCH Roff=1e11 Ron=10 Voff=.75 Von=.25
.ends TPS51462_TRANS_S11

.subckt TPS51462_TRANS_S3 1 2 3 4  
S_S3         3 4 1 2 _S3
RS_S3         1 2 1G
.MODEL         _S3 VSWITCH Roff=1e11 Ron=1.0e-8 Voff=.75 Von=.25
.ends TPS51462_TRANS_S3

.subckt TPS51462_TRANS_S7 1 2 3 4  
S_S7         3 4 1 2 _S7
RS_S7         1 2 1G
.MODEL         _S7 VSWITCH Roff=1e11 Ron=1 Voff=.25 Von=.75
.ends TPS51462_TRANS_S7

.subckt TPS51462_TRANS_S1 1 2 3 4  
S_S1         3 4 1 2 _S1
RS_S1         1 2 1G
.MODEL         _S1 VSWITCH Roff=1e11 Ron=10m Voff=0.0V Von=1.0V
.ends TPS51462_TRANS_S1

.subckt TPS51462_TRANS_S8 1 2 3 4  
S_S8         3 4 1 2 _S8
RS_S8         1 2 1G
.MODEL         _S8 VSWITCH Roff=1e11 Ron=0.5 Voff=.25 Von=.75
.ends TPS51462_TRANS_S8

.subckt TPS51462_TRANS_S19 1 2 3 4  
S_S19         3 4 1 2 _S19
RS_S19         1 2 1G
.MODEL         _S19 VSWITCH Roff=1e8 Ron=24m Voff=1 Von=2
.ends TPS51462_TRANS_S19

.subckt TPS51462_TRANS_S2 1 2 3 4  
S_S2         3 4 1 2 _S2
RS_S2         1 2 1G
.MODEL         _S2 VSWITCH Roff=1e11 Ron=1.0m Voff=0.0V Von=1.0V
.ends TPS51462_TRANS_S2

.subckt TPS51462_TRANS_S14 1 2 3 4  
S_S14         3 4 1 2 _S14
RS_S14         1 2 1G
.MODEL         _S14 VSWITCH Roff=1e11 Ron=1 Voff=.75 Von=.25
.ends TPS51462_TRANS_S14

.subckt TPS51462_TRANS_H1 1 2 3 4  
H_H1         3 4 VH_H1 1k
VH_H1         1 2 0V
.ends TPS51462_TRANS_H1
*$
.SUBCKT AND A B OUT  
EOUT OUT1 0 VALUE { IF( V(A)>0.5 & V(B)>0.5,1,0) }
R1 OUT1 OUT 1
C1 OUT 0 10p
.ends AND
*$
.SUBCKT OR A B OUT  
EOUT OUT1 0 VALUE { IF( V(A)>0.5 | V(B)>0.5,1,0) }
R1 OUT1 OUT 1
C1 OUT 0 10p
.ends OR
*$
.SUBCKT NOR2 A B OUT  
EOUT OUT1 0 VALUE { IF( V(A)>0.5 | V(B)>0.5,0,1) }
R1 OUT1 OUT 1
C1 OUT 0 10p
.ends NOR2
*$
.SUBCKT NOR3 A B C OUT  
EOUT OUT1 0 VALUE { IF( V(A)>0.5 | V(B)>0.5 | V(C)>0.5,0,1) }
R1 OUT1 OUT 1
C1 OUT 0 10p
.ends NOR3
*$
.SUBCKT NOR4 A B C D OUT  
EOUT OUT1 0 VALUE { IF( V(A)>0.5 | V(B)>0.5 | V(C)>0.5 | V(D)>0.5,0,1) }
R1 OUT1 OUT 1
C1 OUT 0 10p
.ends NOR4
*$
.SUBCKT NAND3 A B C OUT  
EOUT OUT1 0 VALUE { IF( V(A)<0.5 & V(B)<0.5 & V(C)<0.5,1,0) }
R1 OUT1 OUT 1
C1 OUT 0 10p
.ends NAND3
*$
.SUBCKT NAND2 A B OUT  
EOUT OUT1 0 VALUE { IF( V(A)<0.5 & V(B)<0.5,1,0) }
R1 OUT1 OUT 1
C1 OUT 0 10p
.ends NAND2
*$
.SUBCKT AND3 A B C OUT  
EOUT OUT1 0 VALUE { IF( V(A)>0.5 & V(B)>0.5 & V(C)>0.5,1,0) }
R1 OUT1 OUT 1
C1 OUT 0 10p
.ends AND3
*$
.SUBCKT INVERTER IN OUT  
EOUT OUT1 0 VALUE { IF( V(IN)<0.5,1,0) }
R1 OUT1 OUT 1
C1 OUT 0 10p
.ends INVERTER
*$
.SUBCKT COMP_HYS2 INP OUT 
+ PARAMs:  TH=.5 HYS=0.1
EIN INP1 0 INP 0 1 
EHYS INP1 INP2 VALUE { IF( V(1)>0.5,-(HYS)/2,HYS/2) }
EOUT OUT 0 VALUE { IF( V(INP2)>TH,1,0) }
R1 OUT 1 1
C1 1 0 1n
RINP1 INP1 0 10K
.ends COMP_HYS2
*$
.SUBCKT DELAY IN OUT
+ PARAMs:  T=100
S_S1         MEAS 0 RESET2 0 S1
E_ABM1         CH 0 VALUE { if( V(IN)>0.5,1,0)    }
E_ABM3         OUT 0 VALUE { if( V(MEAS)>0.5 & V(CH)>0.5,1,0)    }
R_R1         MEAS CH  {T} 
C_C1         0 MEAS  1.4427n  
E_ABM2         RESET 0 VALUE { if(V(CH)<0.5,1,0)    }
R_R2         RESET2 RESET  0.1  
C_C2         0 RESET2  1.4427n  
.MODEL         S1 VSWITCH Roff=1e9 Ron=1.0 Voff=0.25V Von=0.75V
.ENDS DELAY
*$
.SUBCKT NAND3_PS Y A B C PARAMS: vhi=1 vlo=0 vthresh=500e-3
+ tplh=1e-9 tphl=1e-9 tr=1e-9 tf=1e-9
RA A 0 1e11
CA A 0 0.01pF
RB B 0 1e11
CB B 0 0.01pF
RC C 0 1e11
CC C 0 0.01pF
VS VSUP 0 DC 1
ENAND3 Ypp 0 VALUE={IF(V(A) > {vthresh} & V(B) > {vthresh} & V(C) >
+ {vthresh}, 0, 1)}
ROUTpp Ypp 0 1e11
XNSW1 OUTp Ypp 0 NSW_PS PARAMS: RONval={(tplh+1e-15)/(1e-12*0.693)}
+ VTHval=0.5
XPSW1 OUTp Ypp VSUP PSW_PS PARAMS: RONval={(tphl+1e-15)/(1e-12*0.693)}
+ VTHval=0.5
CDEL1 OUTp 0 1pF
ETHRESH Yp 0 VALUE={IF(V(OUTp) > 0.5, 1, 0)}
ROUTp Yp 0 1e11
XNSW2 OUTr Yp 0 NSW_PS PARAMS: RONval={(tf+1e-15)/(1e-12*2.3)} VTHval=0.5
XPSW2 OUTr Yp VSUP PSW_PS PARAMS: RONval={(tr+1e-15)/(1e-12*2.3)} VTHval=0.5
CDEL2 OUTr 0 1pF
EOUT OUTf 0 VALUE={V(OUTr)*({vhi} - {vlo})+{vlo}}
RDR OUTf Y  1000
RO Y 0 1e11
.ENDS NAND3_PS
*$
.SUBCKT BUFFER_PS A Y PARAMS: vhi=1 vlo=0 vthresh=500e-3 tplh=1e-9
+ tphl=1e-9 tr=1e-9 tf=1e-9
RA A 0 1e11
CA A 0 0.01pF
VS VSUP 0 DC 1
EBUF1 Ypp 0 VALUE={IF(V(A) > ({vthresh}), 1, 0)}
ROUTpp Ypp 0 1e11
XNSW1 OUTp Ypp 0 NSW_PS PARAMS: RONval={(tplh+1e-15)/(1e-12*0.693)}
+ VTHval=0.5
XPSW1 OUTp Ypp VSUP PSW_PS PARAMS: RONval={(tphl+1e-15)/(1e-12*0.693)}
+ VTHval=0.5
CDEL1 OUTp 0 1pF
ETHRESH Yp 0 VALUE={IF(V(OUTp) > 0.5, 1, 0)}
ROUTp Yp 0 1e11
** add rise and fall *****
XNSW2 OUTr Yp 0 NSW_PS PARAMS: RONval={(tf+1e-15)/(1e-12*2.3)} VTHval=0.5
XPSW2 OUTr Yp VSUP PSW_PS PARAMS: RONval={(tr+1e-15)/(1e-12*2.3)} VTHval=0.5
CDEL2 OUTr 0 1pF
EOUT OUTf 0 VALUE={V(OUTr)*({vhi} - {vlo})+{vlo}}
RDR OUTf Y  1000
RO Y 0 1e11
.ENDS BUFFER_PS
*$
.SUBCKT INV_PS Y A PARAMS: vhi=1 vlo=0 vthresh=500e-3
+ tplh=1e-9 tphl=1e-9 tr=1e-9 tf=1e-9
RA A 0 1e11
CA A 0 0.01pF
VS VSUP 0 DC 1
EINV1 Ypp 0 VALUE={IF(V(A) > ({vthresh}), 0, 1)}
ROUTpp Ypp 0 1e11
XNSW1 OUTp Ypp 0 NSW_PS PARAMS: RONval={(tplh+1e-15)/(1e-12*0.693)}
+ VTHval=0.5
XPSW1 OUTp Ypp VSUP PSW_PS PARAMS: RONval={(tphl+1e-15)/(1e-12*0.693)}
+ VTHval=0.5
CDEL1 OUTp 0 1pF
ETHRESH Yp 0 VALUE={IF(V(OUTp) > 0.5, 1, 0)}
ROUTp Yp 0 1e11
XNSW2 OUTr Yp 0 NSW_PS PARAMS: RONval={(tf+1e-15)/(1e-12*2.3)} VTHval=0.5
XPSW2 OUTr Yp VSUP PSW_PS PARAMS: RONval={(tr+1e-15)/(1e-12*2.3)} VTHval=0.5
CDEL2 OUTr 0 1pF
EOUT OUTf 0 VALUE={V(OUTr)*({vhi} - {vlo})+{vlo}}
RDR OUTf Y  1000
RO Y 0 1e11
.ENDS INV_PS
*$
.SUBCKT OR4_PS Y A B C D PARAMS: vhi=1 vlo=0 vthresh=500e-3 tplh=1e-9
+ tphl=1e-9 tr=1e-9 tf=1e-9
RA A 0 1e11
CA A 0 0.01pF
RB B 0 1e11
CB B 0 0.01pF
RC C 0 1e11
CC C 0 0.01pF
RD D 0 1e11
CD D 0 0.01pF
VS VSUP 0 DC 1
EOR4 Ypp 0 VALUE={IF(V(A) > {vthresh} | V(B) > {vthresh}  | V(C) >
+ {vthresh}  | V(D) > {vthresh}, 1, 0)}
ROUTpp Ypp 0 1e11
XNSW1 OUTp Ypp 0 NSW_PS PARAMS: RONval={(tplh+1e-15)/(1e-12*0.693)}
+ VTHval=0.5
XPSW1 OUTp Ypp VSUP PSW_PS PARAMS: RONval={(tphl+1e-15)/(1e-12*0.693)}
+ VTHval=0.5
CDEL1 OUTp 0 1pF
ETHRESH Yp 0 VALUE={IF(V(OUTp) > 0.5, 1, 0)}
ROUTp Yp 0 1e11
XNSW2 OUTr Yp 0 NSW_PS PARAMS: RONval={(tf+1e-15)/(1e-12*2.3)} VTHval=0.5
XPSW2 OUTr Yp VSUP PSW_PS PARAMS: RONval={(tr+1e-15)/(1e-12*2.3)} VTHval=0.5
CDEL2 OUTr 0 1pF
EOUT OUTf 0 VALUE={V(OUTr)*({vhi} - {vlo})+{vlo}}
RDR OUTf Y  1000
RO Y 0 1e11
.ENDS OR4_PS
*$
.SUBCKT NAND2_PS Y A B PARAMS: vhi=1 vlo=0 vthresh=500e-3
+ tplh=1e-9 tphl=1e-9 tr=1e-9 tf=1e-9
RA A 0 1e11
CA A 0 0.01pF
RB B 0 1e11
CB B 0 0.01pF
VS VSUP 0 DC 1
ENAND2 Ypp 0 VALUE={IF(V(A) > {vthresh} & V(B) > {vthresh}, 0, 1)}
ROUTpp Ypp 0 1e11
***** add delay lines ****
XNSW1 OUTp Ypp 0 NSW_PS PARAMS: RONval={(tplh+1e-15)/(1e-12*0.693)}
+ VTHval=0.5
XPSW1 OUTp Ypp VSUP PSW_PS PARAMS: RONval={(tphl+1e-15)/(1e-12*0.693)}
+ VTHval=0.5
CDEL1 OUTp 0 1pF
ETHRESH Yp 0 VALUE={IF(V(OUTp) > 0.5, 1, 0)}
ROUTp Yp 0 1e11
** add rise and fall *****
XNSW2 OUTr Yp 0 NSW_PS PARAMS: RONval={(tf+1e-15)/(1e-12*2.3)} VTHval=0.5
XPSW2 OUTr Yp VSUP PSW_PS PARAMS: RONval={(tr+1e-15)/(1e-12*2.3)} VTHval=0.5
CDEL2 OUTr 0 1pF
EOUT OUTf 0 VALUE={V(OUTr)*({vhi} - {vlo})+{vlo}}
RDR OUTf Y  1000
RO Y 0 1e11
.ENDS NAND2_PS
*$
.SUBCKT NSW_PS D G S PARAMS: RONval=10k VTHval=0.7 VCHARval=0.01
+ CGval=0.01pF CDval=0.01pF 
RDDUM D 0 1e11
RSDUM S 0 1e11
RGDUM G 0 1e11
CG G D {CGval}
CD D S {CDval}
EEXP F1 0 VALUE={LIMIT(((V(G,S)-VTHval)/VCHARval),-80,80)} 
GOUT D S VALUE={V(D,S)/(RONval*(1+EXP(-LIMIT(((V(G,S)-VTHval)/VCHARval)
+,-80,80))))}
.ENDS NSW_PS
*$
.SUBCKT PSW_PS D G S PARAMS: RONval=10k VTHval=0.7 VCHARval=0.01
+ CGval=0.01pF CDval=0.01pF 
RDDUM D 0 1e11
RSDUM S 0 1e11
RGDUM G 0 1e11
CG G D {CGval}
CD D S {CDval}
EEXP F1 0 VALUE={LIMIT(((V(S,G)-VTHval)/VCHARval),-80,80)} 
GOUT S D VALUE={V(S,D)/(RONval*(1+EXP(-LIMIT(((V(S,G)-VTHval)/VCHARval)
+,-80,80))))}
.ENDS PSW_PS
*$
.SUBCKT SRLATCHRHP_BASIC_GEN S R Q QB PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
Rs S 0 1e11
Rr R 0 1e11
GQ 0 Qint VALUE = {IF(V(R) > {VTHRESH},-5,IF(V(S)>{VTHRESH},5, 0))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 buffer_ps
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr QB 1 
Cdummy1 Q 0 .1n 
Cdummy2 QB 0 .1n
.IC V(Qint) {VSS}
.MODEL D_D1 D( IS=1e-15 TT=10p Rs=0.01 N=.01  )
.ENDS SRLATCHRHP_BASIC_GEN
*$
.SUBCKT D_D1 1 2
D1 1 2 DD1
.MODEL DD1 D( IS=1e-15 TT=10p Rs=0.05 N=.01 )
.ENDS D_D1
*$
.SUBCKT D_D2 1 2
D1 1 2 DD2
.MODEL DD2 D( IS=1e-15 TT=10p Rs=0.01 N=.01  )
.ENDS D_D2
*$
.SUBCKT BUF_DELAY_BASIC_GEN A  Y PARAMS: VDD=5 VSS=0 VTHRESH=2.5
+ DELAY = 10n 
E_ABMGATE1    YINT1 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT1 YINT2 1
CINT YINT2 0 {DELAY*1.3}
E_ABMGATE2    YINT3 0 VALUE {{IF(V(YINT2) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT2 YINT3 Y 1
CINT2 Y 0 1n
.ENDS BUF_DELAY_BASIC_GEN
*$
.SUBCKT MONOPOS_PS in Q Qn PARAMS: PW=250u 
VS VSUP 0 DC 1
r1 in 0 1e11
GIN VSUP YA VALUE={IF(V(IN)>0.5, V(VSUP)/1000K, 0)}
GDIS YA 0 VALUE={IF(V(IN)>0.5,0, V(YA)/1m)}
CIN YA 0 1n IC=0
RIN YA 0 1e11
EABM1 YTD 0 VALUE={IF(V(YA)> {PW*1000}, 1, 0)}
RYTD YTD 0 1e11
EXOR P 0 VALUE={IF(V(YTD) > 0.5 ^ V(IN) > .5, 1, 0)}
ROUTpp2 P 0 1e11
EAND1 Q1 0 VALUE={ IF(V(P)>0.5 & V(IN)>0.5, 1, 0)}
Ro1 Q1 Q 1m
Co1 Q 0 .1p
ROUT2 Q 0 1e11
EAND2 Qn1 0 VALUE={ IF(V(Q)>0.5, 0, 1)}
Ro2 Qn1 Qn 1m
Co2 Qn 0 .1p
ROUT4 Qn 0 1e11
.ENDS MONOPOS_PS
*$
.SUBCKT MONONEG_PS in Q Qn PARAMS: PW=250u 
VS VSUP 0 DC 1
RS VSUP 0 1e11
GIN VSUP YA VALUE={IF(V(IN)<0.5, V(VSUP)/1000K, 0)}
GDIS YA 0 VALUE={IF(V(IN)<0.5,0, V(YA)/1m)}
CIN YA 0 1n IC=1
RIN YA 0 1e11
EABM1 YTD 0 VALUE={IF(V(YA)> {PW*1000}, 0, 1)}
RYTD YTD 0 1e11
EXOR P 0 VALUE={IF(V(YTD) > 0.5 ^ V(IN) > .5, 1, 0)}
ROUTpp2 P 0 1e11
EAND1 Q1 0 VALUE={ IF(V(P)>0.5 & V(YTD)>0.5, 1, 0)}
Ro1 Q1 Q 1m
Co1 Q 0 1p IC=0
ROUT2 Q 0 1e11
EAND2 Qn1 0 VALUE={ IF(V(Q)>0.5, 0, 1)}
Ro2 Qn1 Qn 1m
Co2 Qn 0 1p
ROUT4 Qn 0 1e11
.ENDS MONONEG_PS
*$
.SUBCKT CESR IN OUT
+ PARAMs:  C=100u ESR=0.01 X=2 IC=0
C	IN 1  {C*X} IC={IC}
RESR	1 OUT {ESR/X}
.ENDS CESR
*$
.SUBCKT LDCR IN OUT
+ PARAMs:  L=1u DCR=0.01 IC=0
L	IN 1  {L} IC={IC}
RDCR	1 OUT {DCR}
.ENDS LDCR
*$
