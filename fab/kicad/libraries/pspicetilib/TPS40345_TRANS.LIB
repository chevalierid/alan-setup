*$
* TPS40345
*****************************************************************************
* (C) Copyright 2017 Texas Instruments Incorporated. All rights reserved.                                            
*****************************************************************************
** This model is designed as an aid for customers of Texas Instruments.
** TI and its licensors and suppliers make no warranties, either expressed
** or implied, with respect to this model, including the warranties of 
** merchantability or fitness for a particular purpose.  The model is
** provided solely on an "as is" basis.  The entire risk as to its quality
** and performance is with the customer
*****************************************************************************
*
* This model is subject to change without notice. Texas Instruments
* Incorporated is not responsible for updating this model.
*
*****************************************************************************
*
** Released by: Texas Instruments Inc.
* Part: TPS40345
* Date: 06DEC2017
* Model Type: TRANSIENT
* Simulator: PSPICE
* Simulator Version: 16.2.0.p001
* EVM Order Number: NA
* EVM Users Guide: NA
* Datasheet: SLUSD62 â€“ OCTOBER 2017
* Topologies Supported: Buck
*
* Model Version: Final 1.00
*
*****************************************************************************
*
* Updates:
*
* Final 1.00
* Release to Web.
*
*****************************************************************************
*
* Model Usage Notes:
* 1. The following features have been modeled
*      a. Soft-Start Time
*      b. UVLO
*      c. OverCurrent Protection
*      d. Power Good
* 2. Temperature effects are not modeled. 
* 3. Quiescent current and Shutdown current is modeled.
* 4. Ground pins have been tied to 0V internally. 
*    Therefore, this model cannot be used for inverting topologies
*
*****************************************************************************
.SUBCKT TPS40345_TRANS VDD EN_SS PGOOD COMP FB BOOT HDRV SW LDRV_OC BP PAD PARAMS: SS=0
+  FREQ=600E3 tclk=25n
X_ERROR_AMP_U9          ERROR_AMP_N132054 ERROR_AMP_N132124 dc_1mv_1ma_1v_1na
V_ERROR_AMP_V4         ERROR_AMP_N133169 RAMP_PK 0.65
X_ERROR_AMP_U14         ENDRB ERROR_AMP_N276933 INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_ERROR_AMP_S1    ERROR_AMP_N134265 0 ERROR_AMP_N132166 EAOUT
+  ERROR_AMP_ERROR_AMP_S1 
V_ERROR_AMP_V3         ERROR_AMP_N132124 0 0.6
X_ERROR_AMP_U12         ENDRB COMP_C_DONE ERROR_AMP_N133636 AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_ERROR_AMP_U11          EAOUT ERROR_AMP_N133169 dc_1mv_1ma_1v_1na 
X_ERROR_AMP_U10         ERROR_AMP_N132146 FB ERROR_AMP_N132154 op_amp PARAMS: 
+  HLIMIT=6 RIN=23.3MEG BW=24MEG DC_GAIN=60 ROUT=100 LLIMIT=0 SRP=10   SRM=10 
R_ERROR_AMP_R1         SS ERROR_AMP_N132054  1k  
X_ERROR_AMP_S2    ERROR_AMP_N134309 0 EAOUT 0 ERROR_AMP_ERROR_AMP_S2 
C_ERROR_AMP_C2         ERROR_AMP_N132154 ERROR_AMP_N132166  1p  
X_ERROR_AMP_U8          0 ERROR_AMP_N132054 dc_1mv_1ma_1v_1na
X_ERROR_AMP_U13         ERROR_AMP_N133636 OCFLT ERROR_AMP_N134309 OR2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
G_ERROR_AMP_G2         ERROR_AMP_N132154 ERROR_AMP_N132166 TABLE {
+  V(ERROR_AMP_N132154, ERROR_AMP_N132166) } 
+ ( (-10,-0.0022)(-1m,-0.002)(0,0)(1m,2m)(10,2.2m) )
V_ERROR_AMP_V7         ERROR_AMP_N276967 0 0
E_ERROR_AMP_ABM2         ERROR_AMP_N132146 0 VALUE {
+  limit((IF((V(ERROR_AMP_N276772)>0.5),0.6,V(ERROR_AMP_N132054))),0,0.6)    }
X_ERROR_AMP_U15         ERROR_AMP_N276967 ERROR_AMP_N276933 ERROR_AMP_N134265
+  OR2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
V_ERROR_AMP_V8         ERROR_AMP_N276772 0 0
X_EN_SS_U22         DCHG EN_SS_N314454 EN_SS_N314732 N314926
+  SRLATCHRHP_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_EN_SS_U13         EN1 EN_SS_N314344 MENA EN_SS_N315840 AND3_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_EN_SS_U27         EN_SS_N314706 EN_SS_N315188 EN_SS_N316124 AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
V_EN_SS_V4         EN_SS_N315098 0 0.7
E_EN_SS_ABM2         EN_SS_V1P3 0 VALUE { IF( V(VDD) < 1.3, V(VDD), 1.3)    }
G_EN_SS_ABMII1         EN_SS_V1P3 EN_SS VALUE { { IF (V(EN_SS_CHARGE1) > 0.5,
+  40u, 0) }    }
X_EN_SS_S1    EN_SS_CHARGE1 0 EN_SS_N315436 EN_SS EN_SS_EN_SS_S1 
X_EN_SS_U11         EN_SS_T_DISCHARGE1 EN_SS_N314732 EN_SS_DISCHARGE1
+  OR2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_EN_SS_S2    ENDRV 0 EN_SS_N314442 EN_SS EN_SS_EN_SS_S2 
X_EN_SS_U19         EN_SS_N314344 MENA EN_SS_N314290 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
V_EN_SS_V1         EN_SS_N316036 0 0.7
G_EN_SS_ABMII2         EN_SS 0 VALUE { { IF (V(EN_SS_DISCHARGE1) > 0.5, 140u,
+  0) }    }
G_EN_SS_ABMII3         BP EN_SS VALUE { { IF (V(ENDRV) > 0.5, 10u, 0) }    }
D_EN_SS_D23         0 EN_SS D_D1 
E_EN_SS_ABM6         SS 0 VALUE { MAX(V(EN_SS_N314874), 0)    }
X_EN_SS_U12         EN_SS_N314228 SD1 ENDRV ENDRB SRLATCHRHP_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5
V_EN_SS_V8         EN_SS_N314268 0 0
V_EN_SS_V3         EN_SS_N314514 0 0.3
X_EN_SS_U28         EN_SS_N315414 EN_SS_N315188 INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_EN_SS_U10         CAL_DONE1 CAL_DONE2 ENDRB EN_SS_T_DISCHARGE1 AND3_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
V_EN_SS_V7         EN_SS_N315414 0 0
X_EN_SS_U20         ENDRB EN_SS_N314290 EN_SS_N314216 OR2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_EN_SS_U14         BPOK EN1 MENA AND2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_EN_SS_U25         EN_SS_N314268 EN_SS_EN1_BEFORE EN1 OR2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
E_EN_SS_ABM5         EN_SS_N314874 0 VALUE { IF(V(ENDRV) > 0.5, (V(EN_SS) -
+  0.8), 0)    }
X_EN_SS_U3         EN_SS_N315294 EN_SS EN_SS_N314344 COMP_BASIC
D_EN_SS_D24         EN_SS_N314442 BP D_D1 
X_EN_SS_U15         MENA MSD INV_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_EN_SS_U8         CAL_DONE1 CAL_DONE2 EN_SS_CHARGE1 NAND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
D_EN_SS_D22         EN_SS_N315436 EN_SS_V1P3 D_D1 
X_EN_SS_U21         EN_SS_N314290 MSD EN_SS_N314454 OR2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_EN_SS_U16         SS EN_SS_N315098 EN_SS_N315248 COMP_BASIC
X_EN_SS_U17         EN_SS_N315248 MENA SS_UP AND2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
V_EN_SS_V2         EN_SS_N315294 0 0.4
X_EN_SS_U18         EN_SS_N314216 SS_UP SS_ACT N315058 SRLATCHRHP_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_EN_SS_U6         EN_SS EN_SS_N316036 EN_SS_N316004 COMP_BASIC
X_EN_SS_U7         EN_SS_N316004 EN_SS_N316124 EN_SS_EN1_BEFORE SD1
+  SRLATCHRHP_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_EN_SS_U9         EN_SS_N314514 EN_SS EN_SS_N314706 COMP_BASIC
X_EN_SS_U24         EN_SS_N315414 EN_SS_N315840 EN_SS_N314228 OR2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_DRIVER_U37         N00841 DRIVER_N160840 HDON AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_DRIVER_U33         TRILD DRIVER_N515679 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_DRIVER_S4    DRIVER_N515916 0 LDRV_OC 0 DRIVER_DRIVER_S4 
X_DRIVER_S3    DRIVER_N160354 0 BP LDRV_OC DRIVER_DRIVER_S3 
X_DRIVER_U43         DRIVER_N160968 HDRV DRIVER_N160778 COMP_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5
V_DRIVER_V2         DRIVER_N160896 0 0.7
X_DRIVER_S1    DRIVER_N161008 0 BOOT HDRV DRIVER_DRIVER_S1 
V_DRIVER_V3         DRIVER_N160968 SW 1.2
R_DRIVER_R1         DRIVER_N161046 BOOT  40  
C_DRIVER_C1         DRIVER_N160840 0  1n  TC=0,0 
R_DRIVER_R2         DRIVER_N160856 DRIVER_N160840  21.645 TC=0,0 
D_1224	DRIVER_N160840 DRIVER_N160856 D_D1
X_DRIVER_S2    DRIVER_N161008 0 HDRV SW DRIVER_DRIVER_S2 
X_DRIVER_U42         DRIVER_N160896 LDRV_OC DRIVER_N160856 COMP_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5
X_DRIVER_U36         N00819 DRIVER_N193880 LDON AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
R_DRIVER_R3         DRIVER_N160778 DRIVER_N193880  15.873 TC=0,0 
D_8745 DRIVER_N193880 DRIVER_N160778 D_D1
X_DRIVER_U31         DRIVER_N515679 DRIVER_N514735 DRIVER_N160354
+  AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
C_DRIVER_C2         DRIVER_N193880 0  1n  TC=0,0 
X_DRIVER_D26         HDON DRIVER_N508774 d_d3  
R_DRIVER_R8         DRIVER_N508774 DRIVER_N508780  1.443  
D_DRIVER_D32         LDRV_OC BP D_D1 
R_DRIVER_R6         DRIVER_N514793 DRIVER_N514735  21.645  
D_DRIVER_D30         HDRV BOOT D_D1 
X_DRIVER_D29         DRIVER_N508836 HDON d_d3  
R_DRIVER_R7         DRIVER_N514729 DRIVER_N514735  1.443  
X_DRIVER_D25         LDON DRIVER_N514729 d_d3 
C_DRIVER_C3         0 DRIVER_N514735  1n  
E_DRIVER_ABM1         DRIVER_N515916 0 VALUE {
+  IF((V(TRILD)<0.5),V(DRIVER_N160354),1)    }
X_DRIVER_U45         DRIVER_N508780 DRIVER_N161008 BUF_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5
X_DRIVER_D24         DRIVER_N514793 LDON d_d3  
C_DRIVER_C4         0 DRIVER_N508780  1n  
D_DRIVER_D33         0 LDRV_OC D_D1 
D_DRIVER_D31         SW HDRV D_D1 
R_DRIVER_R9         DRIVER_N508836 DRIVER_N508780  21.645  
D_DRIVER_D22         BP DRIVER_N161046 D_D1 
V_BP_6V_V1         BP_6V_N167325 0 2.5
E_BP_6V_ABM4         BP_6V_N167423 0 VALUE { If ( V(EN1) > 0.5 ,  
+   V(VDD)  , 0 )    }
R_BP_6V_R1         BP_6V_N167423 BP_6V_N167215  1  
E_BP_6V_ABM3         BP 0 VALUE { LIMIT( (V(BP_6V_N167215)*0.95), 0, 6.45)   
+  }
X_BP_6V_U2         BP BP_6V_N167325 BPOK COMP_BASIC
C_BP_6V_C1         0 BP_6V_N167215  1n  TC=0,0 
X_PWMOSC_U48         CLK PWMOSC_N162717 PWMOSC_PWM_BEFORE N16776356
+  SRLATCHRHP_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
C_PWMOSC_C1         PWMOSC_SRAMP 0  1n IC={SS} 
X_PWMOSC_U36         N00841 PWMOSC_N114689 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_PWMOSC_U43         PWMOSC_SRAMP PWMOSC_N178671 PWMOSC_N114609 COMP_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_PWMOSC_U1         PWMOSC_FAULT1 PWMOSC_RAMP CLK osc PARAMS:  FREQ=600E3 
+  TCLK=25n
X_PWMOSC_S1    PWMOSC_N113611 0 PWMOSC_SRAMP 0 PWMOSC_PWMOSC_S1 
V_PWMOSC_V1         PWMOSC_N114537 0 1.1
E_PWMOSC_ABM2         PWMOSC_N178671 0 VALUE { 1-V(PWMOSC_RAMP)    }
X_PWMOSC_U41         OCDET PWMOSC_N113685 PWMOSC_N162717 OR2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_PWMOSC_U47         SW_START PWMOSC_N114731 PWMOSC_N114711 N16776237
+  SRLATCHRHP_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
I_PWMOSC_I1         PWMOSC_N114537 PWMOSC_SRAMP DC {1e-9*FREQ/128}  
X_PWMOSC_U40         PWMOSC_N114593 PWMOSC_FAULTB N00819 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_PWMOSC_U11         EN1 PWMOSC_N114731 one_shot PARAMS:  T=50
E_PWMOSC_ABM1         PWMOSC_N113659 0 VALUE { (V(PWMOSC_RAMP) *V(VDD)/6)+0.65 
+    }
X_PWMOSC_U46         N00841 FAULT SW_START PWMOSC_N113611 SRLATCHRHP_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_PWMOSC_ABM3         RAMP_PK 0 VALUE { V(VDD)/6+0.65    }
X_PWMOSC_U42         PWMOSC_N113659 COMP PWMOSC_N113685 COMP_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5
V_PWMOSC_V3         RAMP_VLY 0 0.65
X_PWMOSC_U33         PWMOSC_N114689 PWMOSC_N114609 PWMOSC_N114711
+  PWMOSC_N114593 AND3_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
R_PWMOSC_R1         PWMOSC_MAX_DUTY_B PWMOSC_N16778332  1  
X_PWMOSC_U823         PWMOSC_N16778918 PWMOSC_PWM_CLK PWMOSC_N16778829
+  AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
C_PWMOSC_C2         0 PWMOSC_MAX_DUTY_B  1n  TC=0,0 
C_PWMOSC_C172         0 PWMOSC_N16778837  1p  
X_PWMOSC_U824         PWMOSC_N16778829 PWMOSC_N16778837 PWMOSC_PWM_CLK N00841
+  OR3_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
D_PWMOSC_D1T         PWMOSC_N16778829 PWMOSC_N16778837 D_D1 
X_PWMOSC_U50         FAULT PWMOSC_FAULTB INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
E_PWMOSC_ABM4         PWMOSC_N16778332 0 VALUE { IF((V(PWMOSC_RAMP)>0.9),0,1) 
+    }
R_PWMOSC_R272         PWMOSC_N16778829 PWMOSC_N16778837  79.365k  
X_PWMOSC_U822         PWMOSC_PWM_CLK PWMOSC_N16778918 INV_DELAY_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY=15n
X_PWMOSC_U49         PWMOSC_PWM_BEFORE PWMOSC_FAULTB PWMOSC_MAX_DUTY_B
+  PWMOSC_PWM_CLK AND3_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
D_PWMOSC_D22         PWMOSC_SRAMP PWMOSC_N114537 D_D1 
E_PWMOSC_ABM11         PWMOSC_FAULT1 0 VALUE {
+  IF(((V(FAULT)<0.5)&(V(SS)>0)),0,1)    }
R_R1         PAD 0  1m  
X_COMP_CALIB_S2    COMP_CALIB_CALSIG 0 EAOUT COMP_CALIB_N137823
+  COMP_CALIB_COMP_CALIB_S2 
X_COMP_CALIB_CALIB_TIMING_U17         COMP_CALIB_CALIB_TIMING_N151282
+  COMP_CALIB_CALIB_TIMING_N151316 CAL_DONE2 N153210 SRLATCHRHP_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5
X_COMP_CALIB_CALIB_TIMING_U18         COMP_CALIB_CALIB_TIMING_N151510
+  COMP_CALIB_CALIB_TIMING_N151316 COMP_CALIB_N156412 N153246
+  SRLATCHRHP_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_COMP_CALIB_CALIB_TIMING_U6         MENA COMP_CALIB_CALSIG one_shot PARAMS: 
+  T={(1.1-(SS))*1e6}
X_COMP_CALIB_CALIB_TIMING_U14         COMP_CALIB_CALSIG CAL_END_SIG one_shot_1
+  PARAMS:  T={(0.8-(0.7*SS)) * 1e6}
X_COMP_CALIB_CALIB_TIMING_U27         MENA COMP_CALIB_CALIB_TIMING_N179654
+  INV_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_COMP_CALIB_CALIB_TIMING_U15         COMP_CALIB_CALSIG
+  COMP_CALIB_CALIB_TIMING_N151510 one_shot_1 PARAMS:  T=50  
X_COMP_CALIB_CALIB_TIMING_U16         CAL_END_SIG
+  COMP_CALIB_CALIB_TIMING_N151282 one_shot_1 PARAMS:  T=50  
X_COMP_CALIB_CALIB_TIMING_U4         MENA COMP_CALIB_CALIB_TIMING_N151316
+  INV_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_COMP_CALIB_CALIB_TIMING_U30         COMP_CALIB_CALSIG
+  COMP_CALIB_CALIB_TIMING_N179654 OCFLT CAL_END_SIG FAULT OR4_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_COMP_CALIB_H2    EAOUT COMP COMP_CALIB_ICAL 0 COMP_CALIB_COMP_CALIB_H2 
V_COMP_CALIB_V3         COMP_CALIB_N137823 0 0.4
X_COMP_CALIB_S4    CAL_END_SIG 0 COMP 0 COMP_CALIB_COMP_CALIB_S4 
R_COMP_CALIB_R5         COMP_CALIB_N404299 COMP_C_DONE  202.02  
C_COMP_CALIB_C1         0 COMP_C_DONE  1n  
X_COMP_CALIB_D23         COMP_CALIB_N404317 COMP_CALIB_N404299 d_d3 
R_COMP_CALIB_R6         COMP_CALIB_N404359 COMP_C_DONE  1.443  
X_COMP_CALIB_D24         COMP_CALIB_N404359 COMP_CALIB_N404317 d_d3 
X_COMP_CALIB_U28         COMP_CALIB_N156412 COMP_CALIB_N404317 BUF_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_PGOOD_U14         EN1 PGOOD_N00276 PGOOD_N02439 AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
V_PGOOD_V1         PGOOD_N01260 0 0.675
X_PGOOD_U8         FB PGOOD_N01260 PGOOD_N00483 COMP_BASIC
X_PGOOD_S1    PGOOD_N02439 0 PGOOD 0 PGOOD_PGOOD_S1 
X_PGOOD_U15         PGOOD_N00483 PGOOD_N00442 PGOOD_N00200 PGOOD_N00276
+  OR3_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
V_PGOOD_V2         PGOOD_N110735 0 0.525
X_PGOOD_U12         PGOOD_N00264 SS_UP PGOOD_N00207 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_PGOOD_U11         PGOOD_N00207 PGOOD_N00200 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_PGOOD_U10         OCFLT PGOOD_N00264 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_PGOOD_U13         PGOOD_N00442 PGOOD_N00207 UVD AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_PGOOD_U9         PGOOD_N110735 FB PGOOD_N00442 COMP_BASIC
X_OCP_DIG_MUX_2_1_U1         OCP_N16254 OCFLT OCP_DIG_MUX_2_1_N00100
+  NAND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_OCP_DIG_MUX_2_1_U2         OCP_CLK2 OCP_DIG_MUX_2_1_N00213
+  OCP_DIG_MUX_2_1_N00110 NAND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_OCP_DIG_MUX_2_1_U3         OCP_DIG_MUX_2_1_N00100 OCP_DIG_MUX_2_1_N00110
+  OCP_N116297 NAND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_OCP_DIG_MUX_2_1_U4         OCFLT OCFLT OCP_DIG_MUX_2_1_N00213 NAND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_OCP_U1         OCP_N01362 OCP_N01337 OCP_N486065 COMP_BASIC
X_OCP_U23         OCFLT OCP_FAULTB OCP_CNT_3 OCP_N_1V OCP_N120446 OCP_N_1V
+  DFFSBRB_RHPBASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_OCP_OC_HSD_U4         OCP_OC_HSD_N153180 OCP_OC_HSD_N153250
+  OCP_OC_HSD_N153174 COMP_BASIC
E_OCP_OC_HSD_ABM1         OCP_OC_HSD_N153250 0 VALUE { If( V(OCP_EN_HS_SNS) >
+  0.5,  V(SW)  
+ , V(VDD) )    }
X_OCP_OC_HSD_U1         OCP_ENDRV1 OCP_OC_HSD_N153174 N06512 AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
V_OCP_OC_HSD_V1         VDD OCP_OC_HSD_N153180 450m
X_OCP_U3         OCP_N01784 SW_START ENDRV OCP_ENDRV1 AND3_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_OCP_OC_SnH_S6    OCP_OC_SnH_N14741475 0 OCP_OC_SnH_N14741441 0
+  OC_SnH_OCP_OC_SnH_S6 
X_OCP_OC_SnH_U4         OCP_OC_SnH_N14741601 OCP_OC_SnH_N14741777
+  OCP_OC_SnH_N14741797 OCP_OC_SnH_N14741585 AND3_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_OCP_OC_SnH_U2         OCP_ENDRV2 OCP_OC_SnH_N14741577 INV_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
V_OCP_OC_SnH_V1         OCP_OC_SnH_N14741809 0 1
X_OCP_OC_SnH_S5    OCP_OC_SnH_N14741393 0 OCP_OC_SnH_N14741441
+  OCP_OC_SnH_N14741207 OC_SnH_OCP_OC_SnH_S5 
X_OCP_OC_SnH_S2    OCP_SAMP 0 SW OCP_OC_SnH_N14741207 OC_SnH_OCP_OC_SnH_S2 
X_OCP_OC_SnH_U7         OCP_OC_SnH_N14741797 OCP_OC_SnH_N14741793
+  OCP_OC_SnH_N14741761 OCP_OC_SnH_N14741793 OCP_OC_SnH_N14741825
+  OCP_OC_SnH_N14741809 DFFSBRB_RHPBASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_OCP_OC_SnH_U3         OCP_OC_SnH_N14741577 OCP_OC_SnH_N14741825 INV_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
C_OCP_OC_SnH_C1         0 OCP_OC_SnH_N14741207  30p  
X_OCP_OC_SnH_U6         OCP_OC_SnH_N14741777 OCP_OC_SnH_N14741761
+  OCP_OC_SnH_N14741755 OCP_OC_SnH_N14741761 OCP_OC_SnH_N14741825
+  OCP_OC_SnH_N14741809 DFFSBRB_RHPBASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_OCP_OC_SnH_U8         OCP_OC_SnH_N14741585 OCP_OC_SnH_N14741577
+  OCP_OC_SnH_N14741479 OCP_OC_SnH_N14741475 SRLATCHRHP_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5
E_OCP_OC_SnH_ABM1         OCP_OC_SnH_N14741601 0 VALUE { if(
+  V(OCP_OC_SnH_N14741479) < 0.5 ,  
+ V(OCP_SAMP) ,  1)    }
E_OCP_OC_SnH_ABM2         OCP_N01362 0 VALUE { V(OCP_OC_SnH_N14741441)*-1    }
X_OCP_OC_SnH_U9         OCP_OC_SnH_N14741479 OCP_HOLD OCP_OC_SnH_N14741393
+  AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_OCP_OC_SnH_U1         OCP_OC_SnH_N14741601 OCP_OC_SnH_N14741755 INV_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_OCP_OC_TIMING_U22         LDON OCP_OC_TIMING_N492089 BUF_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5
R_OCP_OC_TIMING_R2         OCP_OC_TIMING_N492007 OCP_EN_HS_SNS  1.443  
C_OCP_OC_TIMING_C2         0 OCP_OC_TIMING_N492137  1n  
X_OCP_OC_TIMING_U24         OCP_OC_TIMING_N491825 OCP_HOLD one_shot PARAMS: 
+  T=300  
X_OCP_OC_TIMING_D25         OCP_OC_TIMING_N492089 OCP_OC_TIMING_N492125 d_d3
R_OCP_OC_TIMING_R3         OCP_OC_TIMING_N492125 OCP_OC_TIMING_N492137  28.86  
X_OCP_OC_TIMING_U23         OCP_ENDRV1 HDON OCP_OC_TIMING_N491825
+  AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
C_OCP_OC_TIMING_C3         0 OCP_OC_TIMING_N492291  1n  
X_OCP_OC_TIMING_D26         OCP_OC_TIMING_N492131 OCP_OC_TIMING_N492089 d_d3
X_OCP_OC_TIMING_U21         OCP_OC_TIMING_N491993 OCP_OC_TIMING_N491973
+  BUF_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_OCP_OC_TIMING_D27         OCP_OC_TIMING_N492299 OCP_OC_TIMING_N492337 d_d3
R_OCP_OC_TIMING_R5         OCP_OC_TIMING_N492337 OCP_OC_TIMING_N492291  72.15  
R_OCP_OC_TIMING_R4         OCP_OC_TIMING_N492131 OCP_OC_TIMING_N492137  1.443  
X_OCP_OC_TIMING_D24         OCP_OC_TIMING_N492007 OCP_OC_TIMING_N491973 d_d3
C_OCP_OC_TIMING_C1         0 OCP_EN_HS_SNS  1n  
X_OCP_OC_TIMING_U13         OCP_OC_TIMING_N492137 OCP_ENDRV1
+  OCP_OC_TIMING_N492291 OCP_SAMP AND3_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_OCP_OC_TIMING_U4         OCP_HOLD OCP_OC_TIMING_N492299 INV_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
R_OCP_OC_TIMING_R6         OCP_OC_TIMING_N492331 OCP_OC_TIMING_N492291  1.443  
R_OCP_OC_TIMING_R1         OCP_OC_TIMING_N492013 OCP_EN_HS_SNS  216.45  
X_OCP_OC_TIMING_D30         OCP_OC_TIMING_N491973 OCP_OC_TIMING_N492013 d_d3
X_OCP_OC_TIMING_D28         OCP_OC_TIMING_N492331 OCP_OC_TIMING_N492299 d_d3
X_OCP_OC_TIMING_U3         OCP_ENDRV1 OCP_OC_TIMING_N491747 INV_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
E_OCP_OC_TIMING_ABM1         OCP_OC_TIMING_N491993 0 VALUE { IF(
+  (V(OCP_OC_TIMING_N491747)>0.5),0,V(HDON))    }
X_OCP_U21         ENDRV OCP_ENDRB INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
V_OCP_V1         OCP_N_1V 0 1
X_OCP_U9         CLK SW_START OCP_CLK2 AND2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_OCP_U6         OCFLT OCP_N04180 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_OCP_U20         OCP_N16254 OCP_N14747 SS_ACT OCP_N14747 OCFLT OCP_N_1V
+  DFFSBRB_RHPBASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_OCP_OCSET_U5         OCP_OCSET_N151316 OCP_OCSET_N151166 TRILD OR2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_OCP_OCSET_U19         OCP_OCSET_N159883 OCP_OCSET_N153743 OCP_N01627 N160024
+  SRLATCHRHP_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_OCP_OCSET_U18         OCP_OCSET_N414075 OCP_OCSET_N153743 CAL_DONE1 N156574
+  SRLATCHRHP_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_OCP_OCSET_S2    CAL_END_SIG 0 OCP_OCSET_N112055 LDRV_OC OCSET_OCP_OCSET_S2 
X_OCP_OCSET_U8         MENA OCP_OCSET_N153809 one_shot PARAMS:  T=
+ {(1.8-(1.65*SS)) * 1e6}
G_OCP_OCSET_ABMII1         OCP_OCSET_N112099 OCP_OCSET_N112055 VALUE { {IF
+  (V(CAL_END_SIG) > 0.5, 10u, 0)}    }
X_OCP_OCSET_U15         OCP_OCSET_N153809 OCP_OCSET_N153855 one_shot_1 PARAMS: 
+  T=50  
X_OCP_OCSET_U2         MENA OCP_OCSET_N408431 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_OCP_OCSET_U1          OCP_OCSET_N112055 OCP_OCSET_N112099 dc_1mv_1ma_1v_1na
V_OCP_OCSET_V1         OCP_OCSET_N112099 0 345m
X_OCP_OCSET_U4         CAL_DONE1 OCP_OCSET_N408435 OCP_OCSET_N151166
+  NOR2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
E_OCP_OCSET_ABM1         OCP_OCSET_N159883 0 VALUE { {IF (V(CAL_END_SIG) > 0.5
+  & V(CAL_DONE1) > 0.5 & V(LDRV_OC) > 340m, 1, 0)}    }
X_OCP_OCSET_U6         ENDRV OCP_OCSET_N151316 INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
E_OCP_OCSET_E2         OCP_N01337 0 OCP_OCSET_N112055 0 2
X_OCP_OCSET_U7         MENA OCP_OCSET_N153743 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
C_OCP_OCSET_C2         0 OCP_OCSET_N112055  1n  
R_OCP_OCSET_R5         OCP_OCSET_N408503 OCP_OCSET_N408435  1.443  
X_OCP_OCSET_D24         OCP_OCSET_N408405 OCP_OCSET_N408431 d_d3 
C_OCP_OCSET_C1         0 OCP_OCSET_N408435  1n  
R_OCP_OCSET_R6         OCP_OCSET_N408405 OCP_OCSET_N408435  7.215k  
X_OCP_OCSET_D23         OCP_OCSET_N408431 OCP_OCSET_N408503 d_d3 
V_OCP_OCSET_V3         OCP_OCSET_N413990 0 {SS}
X_OCP_OCSET_U10         OCP_OCSET_N153855 OCP_OCSET_N413990 OCP_OCSET_N414075
+  OR2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_OCP_U18         OCFLT OCP_N493339 OCP_N11993 AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_OCP_U15         SS_ACT OCP_N487569 OCP_N09250 NOR2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_OCP_U4         OCP_N02424 OCP_HOLD OCP_OCLS AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_OCP_U13         OCP_N06890 OCP_FAULTB OCP_N116664 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_OCP_U2         OCP_N01627 OCP_N01784 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_OCP_U16         OCFLT OCP_N09250 OCP_N12189 AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_OCP_U7         OCP_N04180 OCP_ENDRV1 OCP_ENDRV2 AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_OCP_UP_DN_CNTR2_TFLOP1_U1         OCP_UP_DN_CNTR2_Q0 OCP_UP_DN_CNTR2_Q0B
+  OCP_N116297 OCP_UP_DN_CNTR2_TFLOP1_N00087 OCP_UP_DN_CNTR2_N00321
+  OCP_UP_DN_CNTR2_TFLOP1_N00116 DFFSBRB_RHPBASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_OCP_UP_DN_CNTR2_TFLOP1_U2         OCP_UP_DN_CNTR2_Q0 OCP_UP_DN_CNTR2_HOLDB
+  OCP_UP_DN_CNTR2_TFLOP1_N00087 XOR2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
V_OCP_UP_DN_CNTR2_TFLOP1_V1         OCP_UP_DN_CNTR2_TFLOP1_N00116 0 1
X_OCP_UP_DN_CNTR2_U8         OCP_N116664 OCP_UP_DN_CNTR2_DOWN INV_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_OCP_UP_DN_CNTR2_TFLOP2_U1         OCP_UP_DN_CNTR2_Q1 OCP_UP_DN_CNTR2_Q1B
+  OCP_N116297 OCP_UP_DN_CNTR2_TFLOP2_N00087 OCP_UP_DN_CNTR2_N00321
+  OCP_UP_DN_CNTR2_TFLOP2_N00116 DFFSBRB_RHPBASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_OCP_UP_DN_CNTR2_TFLOP2_U2         OCP_UP_DN_CNTR2_Q1 OCP_UP_DN_CNTR2_T1
+  OCP_UP_DN_CNTR2_TFLOP2_N00087 XOR2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
V_OCP_UP_DN_CNTR2_TFLOP2_V1         OCP_UP_DN_CNTR2_TFLOP2_N00116 0 1
X_OCP_UP_DN_CNTR2_U1         OCP_ENDRB OCP_UP_DN_CNTR2_N00321 INV_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_OCP_UP_DN_CNTR2_U6         OCP_UP_DN_CNTR2_Q0B OCP_UP_DN_CNTR2_HOLDB
+  OCP_UP_DN_CNTR2_DOWN OCP_UP_DN_CNTR2_N00689 NAND3_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_OCP_UP_DN_CNTR2_U2         OCP_UP_DN_CNTR2_HOLD OCP_UP_DN_CNTR2_HOLDB
+  INV_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_OCP_UP_DN_CNTR2_U9         OCP_UP_DN_CNTR2_Q0B OCP_UP_DN_CNTR2_Q1B OCP_CNT_0
+  AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_OCP_UP_DN_CNTR2_U7         OCP_UP_DN_CNTR2_N00647 OCP_UP_DN_CNTR2_N00689
+  OCP_UP_DN_CNTR2_T1 NAND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_OCP_UP_DN_CNTR2_U3         OCP_UP_DN_CNTR2_Q0 OCP_UP_DN_CNTR2_Q1 OCP_CNT_3
+  AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_OCP_UP_DN_CNTR2_U11         OCP_UP_DN_CNTR2_N02662 OCP_UP_DN_CNTR2_N02762
+  OCP_UP_DN_CNTR2_HOLD NAND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_OCP_UP_DN_CNTR2_U10         OCP_UP_DN_CNTR2_DOWN OCP_CNT_0
+  OCP_UP_DN_CNTR2_N02762 NAND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_OCP_UP_DN_CNTR2_U4         OCP_CNT_3 OCP_N116664 OCP_UP_DN_CNTR2_N02662
+  NAND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_OCP_UP_DN_CNTR2_U5         OCP_UP_DN_CNTR2_Q0 OCP_UP_DN_CNTR2_HOLDB
+  OCP_N116664 OCP_UP_DN_CNTR2_N00647 NAND3_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_OCP_U29         N06512 OCP_OCLS OCDET OR2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_OCP_U19         OCP_N11993 OCP_N12189 DCHG OR2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_OCP_U22         OCP_CNT_0 OCP_ENDRB OCP_N120446 NOR2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_OCP_U28         OCDET OCP_N06516 OCP_N06890 N150084 SRLATCHRHP_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_OCP_U11         OCP_CLK2 OCP_N503670 OCP_N06516 NOR2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_OCP_D26         OCP_N487595 OCP_N487565 d_d3
C_OCP_C1         0 OCP_N493339  1n  
X_OCP_U30         SS_ACT OCP_N487565 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_OCP_U27         OCFLT OCP_N493357 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
C_OCP_C4         0 OCP_N02424  1p  
R_OCP_R7         OCP_N486065 OCP_N02424  144.3k  
R_OCP_R3         OCP_N487605 OCP_N487569  173.16  
R_OCP_R1         OCP_N4932370 OCP_N493339  14.43  
R_OCP_R4         OCP_N487595 OCP_N487569  14.43  
X_OCP_D24         OCP_N493369 OCP_N493357 d_d3 
X_OCP_D25         OCP_N487565 OCP_N487605 d_d3 
C_OCP_C2         0 OCP_N487569  1n  
R_OCP_R2         OCP_N493369 OCP_N493339  173.16  
X_OCP_D23         OCP_N493357 OCP_N4932370 d_d3  
C_OCP_C3         0 OCP_N503670  1n  
X_OCP_D27         OCP_N503710 OCP_N503694 d_d3 
R_OCP_R6         OCP_N503700 OCP_N503670  14.43  
X_OCP_U25         OCP_CLK2 OCP_N503710 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
R_OCP_R5         OCP_N503694 OCP_N503670  37.51  
X_OCP_D28         OCP_N503700 OCP_N503710 d_d3
.ENDS TPS40345_TRANS
*$
.subckt ERROR_AMP_ERROR_AMP_S1 1 2 3 4
S_ERROR_AMP_S1         3 4 1 2 _ERROR_AMP_S1
RS_ERROR_AMP_S1 1 2 1G
.MODEL         _ERROR_AMP_S1 VSWITCH Roff=1e7 Ron=1.0 Voff=0.25V Von=0.75V
.ends ERROR_AMP_ERROR_AMP_S1
*$
.subckt ERROR_AMP_ERROR_AMP_S2 1 2 3 4
S_ERROR_AMP_S2         3 4 1 2 _ERROR_AMP_S2
RS_ERROR_AMP_S2 1 2 1G
.MODEL         _ERROR_AMP_S2 VSWITCH Roff=1e7 Ron=1.0 Voff=0.25V Von=0.75V
.ends ERROR_AMP_ERROR_AMP_S2
*$
.subckt EN_SS_EN_SS_S1 1 2 3 4
S_EN_SS_S1         3 4 1 2 _EN_SS_S1
RS_EN_SS_S1 1 2 1G
.MODEL         _EN_SS_S1 VSWITCH Roff=1e9 Ron=1.0 Voff=0.25V Von=0.75V
.ends EN_SS_EN_SS_S1
*$
.subckt EN_SS_EN_SS_S2 1 2 3 4
S_EN_SS_S2         3 4 1 2 _EN_SS_S2
RS_EN_SS_S2 1 2 1G
.MODEL         _EN_SS_S2 VSWITCH Roff=1e9 Ron=1.0 Voff=0.25V Von=0.75V
.ends EN_SS_EN_SS_S2
*$
.subckt DRIVER_DRIVER_S2 1 2 3 4
S_DRIVER_S2         3 4 1 2 _DRIVER_S2
RS_DRIVER_S2 1 2 1G
.MODEL         _DRIVER_S2 VSWITCH Roff=1.0 Ron=1e9 Voff=0.25V Von=0.75V
.ends DRIVER_DRIVER_S2
*$
.subckt DRIVER_DRIVER_S3 1 2 3 4
S_DRIVER_S3         3 4 1 2 _DRIVER_S3
RS_DRIVER_S3 1 2 1G
.MODEL         _DRIVER_S3 VSWITCH Roff=1e9 Ron=1.5 Voff=0.25V Von=0.75V
.ends DRIVER_DRIVER_S3
*$
.subckt PWMOSC_PWMOSC_S3 1 2 3 4
S_PWMOSC_S3         3 4 1 2 _PWMOSC_S3
RS_PWMOSC_S3 1 2 1G
.MODEL         _PWMOSC_S3 VSWITCH Roff=1e9 Ron=10e-3 Voff=0.2V Von=0.7V
.ends PWMOSC_PWMOSC_S3
*$
.subckt DRIVER_DRIVER_S4 1 2 3 4
S_DRIVER_S4         3 4 1 2 _DRIVER_S4
RS_DRIVER_S4 1 2 1G
.MODEL         _DRIVER_S4 VSWITCH Roff=1u Ron=1e9 Voff=0.25V Von=0.75V
.ends DRIVER_DRIVER_S4
*$
.subckt DRIVER_DRIVER_S1 1 2 3 4
S_DRIVER_S1         3 4 1 2 _DRIVER_S1
RS_DRIVER_S1 1 2 1G
.MODEL         _DRIVER_S1 VSWITCH Roff=1e9 Ron=1.5 Voff=0.25V Von=0.75V
.ends DRIVER_DRIVER_S1
*$
.subckt PWMOSC_PWMOSC_S1 1 2 3 4
S_PWMOSC_S1         3 4 1 2 _PWMOSC_S1
RS_PWMOSC_S1 1 2 1G
.MODEL         _PWMOSC_S1 VSWITCH Roff=1e9 Ron=1.0 Voff=0.25V Von=0.75V
.ends PWMOSC_PWMOSC_S1
*$
.subckt COMP_CALIB_COMP_CALIB_S2 1 2 3 4
S_COMP_CALIB_S2         3 4 1 2 _COMP_CALIB_S2
RS_COMP_CALIB_S2 1 2 1G
.MODEL         _COMP_CALIB_S2 VSWITCH Roff=1e9 Ron=1 Voff=0.25V Von=0.75V
.ends COMP_CALIB_COMP_CALIB_S2
*$
.subckt COMP_CALIB_COMP_CALIB_H2 1 2 3 4
H_COMP_CALIB_H2         3 4 VH_COMP_CALIB_H2 1000
VH_COMP_CALIB_H2         1 2 0V
.ends COMP_CALIB_COMP_CALIB_H2
*$
.subckt COMP_CALIB_COMP_CALIB_S4 1 2 3 4
S_COMP_CALIB_S4         3 4 1 2 _COMP_CALIB_S4
RS_COMP_CALIB_S4 1 2 1G
.MODEL         _COMP_CALIB_S4 VSWITCH Roff=1e9 Ron=1 Voff=0.25V Von=0.75V
.ends COMP_CALIB_COMP_CALIB_S4
*$
.subckt PGOOD_PGOOD_S1 1 2 3 4
S_PGOOD_S1         3 4 1 2 _PGOOD_S1
RS_PGOOD_S1 1 2 1G
.MODEL         _PGOOD_S1 VSWITCH Roff=1e9 Ron=30 Voff=0.2 Von=0.8
.ends PGOOD_PGOOD_S1
*$
.subckt OC_SnH_OCP_OC_SnH_S4 1 2 3 4
S_OCP_OC_SnH_S4         3 4 1 2 _OCP_OC_SnH_S4
RS_OCP_OC_SnH_S4 1 2 1G
.MODEL         _OCP_OC_SnH_S4 VSWITCH Roff=1e9 Ron=1.0m Voff=0.2V Von=0.8V
.ends OC_SnH_OCP_OC_SnH_S4
*$
.subckt OC_SnH_OCP_OC_SnH_S3 1 2 3 4
S_OCP_OC_SnH_S3         3 4 1 2 _OCP_OC_SnH_S3
RS_OCP_OC_SnH_S3 1 2 1G
.MODEL         _OCP_OC_SnH_S3 VSWITCH Roff=1e9 Ron=1.0m Voff=0.2V Von=0.8V
.ends OC_SnH_OCP_OC_SnH_S3
*$
.subckt OC_SnH_OCP_OC_SnH_S5 1 2 3 4
S_OCP_OC_SnH_S5         3 4 1 2 _OCP_OC_SnH_S5
RS_OCP_OC_SnH_S5 1 2 1G
.MODEL         _OCP_OC_SnH_S5 VSWITCH Roff=1e9 Ron=100 Voff=0.2V Von=0.8V
.ends OC_SnH_OCP_OC_SnH_S5
*$
.subckt OC_SnH_OCP_OC_SnH_S2 1 2 3 4
S_OCP_OC_SnH_S2         3 4 1 2 _OCP_OC_SnH_S2
RS_OCP_OC_SnH_S2 1 2 1G
.MODEL         _OCP_OC_SnH_S2 VSWITCH Roff=1e9 Ron=100 Voff=0.2V Von=0.8V
.ends OC_SnH_OCP_OC_SnH_S2
*$
.subckt OC_SnH_OCP_OC_SnH_S6 1 2 3 4
S_OCP_OC_SnH_S6         3 4 1 2 _OCP_OC_SnH_S6
RS_OCP_OC_SnH_S6 1 2 1G
.MODEL         _OCP_OC_SnH_S6 VSWITCH Roff=1e7 Ron=1k  Voff=0.2V Von=0.8V
.ends OC_SnH_OCP_OC_SnH_S6
*$
.subckt OCSET_OCP_OCSET_S2 1 2 3 4
S_OCP_OCSET_S2         3 4 1 2 _OCP_OCSET_S2
RS_OCP_OCSET_S2 1 2 1G
.MODEL         _OCP_OCSET_S2 VSWITCH Roff=1e9 Ron=1 Voff=0.25V Von=0.75V
.ends OCSET_OCP_OCSET_S2
*$
.subckt DC_1mV_1mA_1V_1nA A C
G1 A C TABLE { V(A, C) } ( (-1,-1n)(0,0)(1m,1m) (2m,100m) (3m,10) )
.ends DC_1mV_1mA_1V_1nA
*$
.subckt DC_1mV_1A_1V_1nA A C
G1 A C TABLE { V(A, C) } ( (-1,-1n)(0,0)(1m,1) (2m,10) (3m,1000) )
.ends DC_1mV_1A_1V_1nA
*$
.SUBCKT COMPARATOR INP INM OUT
EOUT OUT 0 VALUE { IF( V(INP)>V(INM),1,0) }
.ends COMPARATOR
*$
.SUBCKT ONE_SHOT IN OUT
+ PARAMs:  T=100
S_S1         MEAS 0 RESET2 0 S1
E_ABM1         CH 0 VALUE { if( V(IN)>0.5 | V(OUT)>0.5,1,0)    }
R_R2 RESET2 RESET 0.1
E_ABM3         OUT 0 VALUE { if( V(MEAS)<0.5 & V(CH)>0.5,1,0)    }
R_R1 MEAS CH {T}
C_C2 0 RESET2 1.4427n
C_C1 0 MEAS 1.4427n
E_ABM2         RESET 0 VALUE { if(V(CH)<0.5,1,0)    }
.MODEL         S1 VSWITCH Roff=1e9 Ron=1.0 Voff=0.25V Von=0.75V
.ENDS ONE_SHOT
*$
.SUBCKT ONE_SHOT_1 IN OUT
+ PARAMs:  T=100
S_S1         MEAS 0 RESET2 0 S1
E_ABM1         CH 0 VALUE { if( V(IN)<0.5 | V(OUT)>0.5,1,0)    }
R_R2 RESET2 RESET 0.1
E_ABM3         OUT 0 VALUE { if( V(MEAS)<0.5 & V(CH)>0.5,1,0)    }
R_R1 MEAS CH {T}
C_C2 0 RESET2 1.4427n
C_C1 0 MEAS 1.4427n
E_ABM2         RESET 0 VALUE { if(V(CH)<0.5,1,0)    }
.MODEL         S1 VSWITCH Roff=1e9 Ron=1.0 Voff=0.25V Von=0.75V
.ENDS ONE_SHOT_1
*$
.SUBCKT AND_1 A B OUT
EOUT OUT 0 VALUE { IF( V(A)>0.5 & V(B)<0.5,1,0) }
.ends AND_1
*$
.SUBCKT AND A B OUT
EOUT OUT 0 VALUE { IF( V(A)>0.5 & V(B)>0.5,1,0) }
.ends AND
*$
.SUBCKT DLATCH D CLK Q
EABM1  1 0 VALUE { If( (V(D)>0.5 & V(CLK)>0.5) | V(Q)>0.5, 1,0)    }
EABM2  Q  0 VALUE { If( V(2)>0.5 & (V(CLK)<0.5 | V(D)>0.5) , 1,0)    }
R1 1 2 1
C1 2 0 5n
.ENDS DLATCH
*$
.SUBCKT INVERTER IN OUT
EOUT OUT 0 VALUE { IF( V(IN)<0.5,1,0) }
.ends INVERTER
*$
.SUBCKT OR A B OUT
EOUT OUT 0 VALUE { IF( V(A)>0.5 | V(B)>0.5,1,0) }
.ends OR
*$
.SUBCKT RSFF_RDOM R S Q
EABM1  1 0 VALUE { If( V(S)>0.5 | V(Q)>0.5, 1,0)    }
EABM2  Q  0 VALUE { If( V(2)>0.5 & V(R)<0.5, 1,0)    }
R1 1 2 1
C1 2 0 5n
.ENDS RSFF_RDOM
*$
.model DIDEAL D Is=1e-14 Cjo=.1pF Rs=.1
*$
.SUBCKT AND3 A B C OUT
EOUT OUT 0 VALUE { IF( V(A)>0.5 & V(B)>0.5 & V(C)>0.5,1,0) }
.ends AND3
*$
.SUBCKT DELAY IN OUT
+ PARAMs:  T=100
S_S1         MEAS 0 RESET2 0 S1
E_ABM1         CH 0 VALUE { if( V(IN)>0.5,1,0)    }
E_ABM3         OUT 0 VALUE { if( V(MEAS)>0.5 & V(CH)>0.5,1,0)    }
R_R1 MEAS CH {T}
C_C1 0 MEAS 1.4427n
E_ABM2         RESET 0 VALUE { if(V(CH)<0.5,1,0)    }
R_R2 RESET2 RESET 0.1
C_C2 0 RESET2 1.4427n
.MODEL         S1 VSWITCH Roff=1e9 Ron=1.0 Voff=0.25V Von=0.75V
.ENDS DELAY
*$
.SUBCKT OSC FAULT RAMP CLK PARAMS: FREQ=100E3 TCLK=1E-6 delay=0
VCLK         CLK2 0 PULSE 0 1 {DELAY} 1n 1n {TCLK} {1/FREQ}
S1    RAMP 0 2 0 S1M
EOUT1         2 0 VALUE { if( V(FAULT)>0.5 | V(CLK)>0.5,1,0)    }
EOUT2         CLK 0 VALUE { if( V(FAULT)<0.5,V(CLK2),0)    }
ICH         0 RAMP DC {ICHARGE}
COSC 0 RAMP 1n IC=0
.PARAM  ICHARGE={1E-9/TON} RON={TCLK/100/1E-9} TON={(1/FREQ)-TCLK}
.MODEL         S1M VSWITCH Roff=1G Ron=1m Voff=0.25 Von=0.75
.ENDS OSC
*$
.MODEL D_D1 D( IS=1e-15 TT=10p N=.3  )
*$
.SUBCKT OP_AMP P M OUT
+ PARAMs:  Hlimit=5 Rin=10Meg BW=18Meg DC_Gain=100 Rout=100 Llimit=0 SRP=1 SRM=1
R_Rin P M {Rin}
E_E1          5 0 M P {-Gain}
E_LIMIT2      6 0 VALUE {LIMIT(V(5), {-Abs(SRM)*Ca*1Meg+V(1)/Ra},
+                 {SRP*Ca*1Meg+V(1)/Ra})}
G_G2          1 0 6 0 -1
R_Ra 0 1 {Ra}
C_Ca 0 1 {Ca}
E_LIMIT1      2 0 VALUE {LIMIT(V(1),{Llimit},{Hlimit})}
V_VL          3 0 {Llimit+200m}
V_VH          4 0 {Hlimit-200m}
D_D1          3 1 Dideal
D_D2          1 4 Dideal
R_Rout OUT 2 {Rout}
.model Dideal D Is=1e-10 Cjo=.01pF Rs=1m  N=1
.PARAM  Ra=1k   Ca={exp(DC_gain*log(10)/20)/(2*3.14159*BW*Ra)}
+ Gain={exp(DC_gain*log(10)/20)/Ra}
.ENDS OP_AMP
*$
.SUBCKT COMP_BASIC INP INM Y
E_ABM Yint 0 VALUE {IF (V(INP) >
+ V(INM), 1,0)}
R1 Yint Y 1
C1 Y 0 1n
.ENDS COMP_BASIC
*$
.SUBCKT AND2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND2_BASIC_GEN
*$
.SUBCKT AND3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND3_BASIC_GEN
*$
.SUBCKT OR2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR2_BASIC_GEN
*$
.SUBCKT OR3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR3_BASIC_GEN
*$
.SUBCKT OR4_BASIC_GEN A B C D Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH} |
+ V(D) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR4_BASIC_GEN
*$
.SUBCKT NAND2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &
+ V(B) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NAND2_BASIC_GEN
*$
.SUBCKT NAND3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NAND3_BASIC_GEN
*$
.SUBCKT NOR2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |
+ V(B) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR2_BASIC_GEN
*$
.SUBCKT INV_BASIC_GEN A Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH} ,
+ {VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS INV_BASIC_GEN
*$
.SUBCKT INV_DELAY_BASIC_GEN A Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY = 10n
E_ABMGATE1    YINT1 0 VALUE {{IF(V(A) > {VTHRESH} ,
+ {VDD},{VSS})}}
RINT YINT1 YINT2 1
CINT YINT2 0 {DELAY*1.3}
E_ABMGATE2    YINT3 0 VALUE {{IF(V(YINT2) > {VTHRESH} ,
+ {VSS},{VDD})}}
RINT2 YINT3 Y 1
CINT2 Y 0 1n
.ENDS INV_DELAY_BASIC_GEN
*$
.SUBCKT BUF_BASIC_GEN A Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH} ,
+ {VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS BUF_BASIC_GEN
*$
.SUBCKT BUF_DELAY_BASIC_GEN A Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY = 10n
E_ABMGATE1    YINT1 0 VALUE {{IF(V(A) > {VTHRESH} ,
+ {VDD},{VSS})}}
RINT YINT1 YINT2 1
CINT YINT2 0 {DELAY*1.3}
E_ABMGATE2    YINT3 0 VALUE {{IF(V(YINT2) > {VTHRESH} ,
+ {VDD},{VSS})}}
RINT2 YINT3 Y 1
CINT2 Y 0 1n
.ENDS BUF_DELAY_BASIC_GEN
*$
.SUBCKT XOR2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE  YINT 0 VALUE {{IF(V(A) > {VTHRESH}  ^
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS XOR2_BASIC_GEN
*$
.SUBCKT SRLATCHRHP_BASIC_GEN S R Q QB PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
X_NOR1 R QB Q1 NOR2_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
R_8242 Q1 Q 1
C_8242 Q 0 1n IC=0
X_NOR2 S1 Q QB1 NOR2_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
R_6252 QB1 QB 1
C_6252 QB 0 1n
E_RHP S1 0 VALUE = {IF((V(S)>{VTHRESH} & V(R)>{VTHRESH}),{VSS},V(S))}
.ENDS SRLATCHRHP_BASIC_GEN
*$
.SUBCKT SRLATCHRHP_BASIC_GEN2 S R Q QB PARAMS: VDD=1 VSS=0 VTHRESH=0.5
GQ 0 Qint VALUE = {IF(V(R) > {VTHRESH},-5,IF(V(S)>{VTHRESH},5, 0))}
CQint Qint 0 1n
RQint Qint 0 10MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS}
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
RQq Qqqd1 Q 1
EQb QB 0 VALUE ={1-V(Q)}
Cdummy1 Q 0 1n
Cdummy2 QB 0 1n
.IC V(Qint) {VSS}
.ENDS SRLATCHRHP_BASIC_GEN2
*$
.SUBCKT DFFSBRB_RHPBASIC_GEN Q QB CLK D RB SB PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X1 CLK CLKdel INV_DELAY_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 15n
X2 CLK CLKdel CLKint AND2_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
GQ 0 Qint VALUE = {IF(V(RB) < {VTHRESH},-5,IF(V(SB)< {VTHRESH},5, IF(V(CLKint)> {VTHRESH},
+ IF(V(D)> {VTHRESH},5,-5),0)))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 5
D_D11 0 Qint D_D1
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_DELAY_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 20n
RQq Qqqd1 Q 1
EQb QB 0 VALUE ={1-V(Q)}
Cdummy1 Q 0 1nF
Cdummy2 QB 0 1nF
.IC V(Qint) {VSS}
.ENDS DFFSBRB_RHPBASIC_GEN
*$
.SUBCKT BUFFER_PS A Y PARAMS: vhi=1 vlo=0 vthresh=500e-3 tplh=1e-9 tphl=1e-9 tr=1e-9 tf=1e-9
RA A 0 1e11
CA A 0 0.01pF
VS VSUP 0 DC 1
EBUF1 Ypp 0 VALUE={IF(V(A) > ({vthresh}), 1, 0)}
ROUTpp Ypp 0 1e11
XNSW1 OUTp Ypp 0 NSW_PS PARAMS: RONval={(tplh+1e-15)/(1e-12*0.693)} VTHval=0.5
XPSW1 OUTp Ypp VSUP PSW_PS PARAMS: RONval={(tphl+1e-15)/(1e-12*0.693)} VTHval=0.5
CDEL1 OUTp 0 1pF
ETHRESH Yp 0 VALUE={IF(V(OUTp) > 0.5, 1, 0)}
ROUTp Yp 0 1e11
XNSW2 OUTr Yp 0 NSW_PS PARAMS: RONval={(tf+1e-15)/(1e-12*2.3)} VTHval=0.5
XPSW2 OUTr Yp VSUP PSW_PS PARAMS: RONval={(tr+1e-15)/(1e-12*2.3)} VTHval=0.5
CDEL2 OUTr 0 1pF
EOUT OUTf 0 VALUE={V(OUTr)*({vhi} - {vlo})+{vlo}}
RDR OUTf Y 1000
RO Y 0 1e11
.ENDS BUFFER_PS
*$
.SUBCKT INV_PS Y A PARAMS: vhi=1 vlo=0 vthresh=500e-3 tplh=1e-9 tphl=1e-9 tr=1e-9 tf=1e-9
RA A 0 1e11
CA A 0 0.01pF
VS VSUP 0 DC 1
EINV1 Ypp 0 VALUE={IF(V(A) > ({vthresh}), 0, 1)}
ROUTpp Ypp 0 1e11
XNSW1 OUTp Ypp 0 NSW_PS PARAMS: RONval={(tplh+1e-15)/(1e-12*0.693)} VTHval=0.5
XPSW1 OUTp Ypp VSUP PSW_PS PARAMS: RONval={(tphl+1e-15)/(1e-12*0.693)} VTHval=0.5
CDEL1 OUTp 0 1pF
ETHRESH Yp 0 VALUE={IF(V(OUTp) > 0.5, 1, 0)}
ROUTp Yp 0 1e11
XNSW2 OUTr Yp 0 NSW_PS PARAMS: RONval={(tf+1e-15)/(1e-12*2.3)} VTHval=0.5
XPSW2 OUTr Yp VSUP PSW_PS PARAMS: RONval={(tr+1e-15)/(1e-12*2.3)} VTHval=0.5
CDEL2 OUTr 0 1pF
EOUT OUTf 0 VALUE={V(OUTr)*({vhi} - {vlo})+{vlo}}
RDR OUTf Y 1000
RO Y 0 1e11
.ENDS INV_PS
*$
.SUBCKT SW1P2T_PS A SWC SWD1 SWD2 PARAMS: vth=500e-3 ron=100 roff=1e6 tdelay=1e-9 trise=1e-9 tfall=1e-9 initval=0
VS VSUP 0 DC 1
EBUF1 Ypp 0 VALUE={IF(V(A) > ({vth}), {initval}, {1-initval})}
ROUTpp Ypp 0 1e11
XNSW1 OUTp Ypp 0 NSW_PS PARAMS: RONval={(tdelay+1e-15)/(1e-12*0.693)} VTHval=0.5
XPSW1 OUTp Ypp VSUP PSW_PS PARAMS: RONval={(tdelay+1e-15)/(1e-12*0.693)} VTHval=0.5
CDEL1 OUTp 0 1pF
ETHRESH Yp 0 VALUE={IF(V(OUTp) > 0.5, 1, 0)}
ROUTp Yp 0 1e11
XNSW2 OUTr Yp 0 NSW_PS PARAMS: RONval={(trise+1e-15)/(1e-12*2.3)} VTHval=0.5
XPSW2 OUTr Yp VSUP PSW_PS PARAMS: RONval={(tfall+1e-15)/(1e-12*2.3)} VTHval=0.5
CDEL2 OUTr 0 1pF
EOUT1 VG1 test1 VALUE={V(OUTr)}
Etest1 test1 0 VALUE {IF(V(SWD1) < V(SWC), V(SWD1), V(SWC))}
Etest2 test2 0 VALUE {IF(V(SWD2) < V(SWC), V(SWD2), V(SWC))}
EOUT2 VG2 test2 VALUE={1-V(OUTr)}
XNSW3 SWD1 VG1 SWC NSW_PS PARAMS: RONval={ron} VTHval=0.5
XNSW4 SWD2 VG2 SWC NSW_PS PARAMS: RONval={ron} VTHval=0.5
.ENDS SW1P2T_PS
*$
.SUBCKT NSW_PS D G S PARAMS: RONval=10k VTHval=0.7 VCHARval=0.01 CGval=0.01pF CDval=0.01pF CSval=0.01pf
RDDUM D 0 1e11
RSDUM S 0 1e11
RGDUM G 0 1e11
CG G D {CGval}
CD D S {CDval}
CS G S {CSval}
Etest test 0 VALUE={IF(V(D) > V(S), V(G,S), V(G,D))}
GOUT D S VALUE={V(D,S)/(RONval*(1+EXP(-LIMIT(((V(test)-VTHval)/VCHARval),-80,80))))}
.ENDS NSW_PS
*$
.SUBCKT PSW_PS D G S PARAMS: RONval=10k VTHval=0.7 VCHARval=0.01 CGval=0.01pF CDval=0.01pF
RDDUM D 0 1e11
RSDUM S 0 1e11
RGDUM G 0 1e11
CG G D {CGval}
CD D S {CDval}
Etest test 0 VALUE={IF(V(S) > V(D), V(S,G), V(D,G))}
GOUT S D VALUE={V(S,D)/(RONval*(1+EXP(-LIMIT(((V(test)-VTHval)/VCHARval),-80,80))))}
.ENDS PSW_PS
*$
.MODEL MBRS340T3 D (IS=182.183u RS=31.26m N=1.403 BV=40 IBV=0.1m
+ CJO=492.728p M=0.464 TT=1n)
*$
.SUBCKT COMP_BASIC_GEN INP INM Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABM Yint 0 VALUE {IF (V(INP) >
+ V(INM), {VDD},{VSS})}
R1 Yint Y 1
C1 Y 0 1n
.ENDS COMP_BASIC_GEN
*$
.subckt d_d3 1 2
d1 1 2 dd
.model dd d
+ is=1e-015
+ n=0.3
+ tt=1e-011
.ends d_d3
*$
.SUBCKT LDCR IN OUT
+ PARAMs:  L=1u DCR=0.01 IC=0
L	IN 1  {L} IC={IC}
RDCR	1 OUT {DCR}
.ENDS LDCR
*$
.SUBCKT CESR IN OUT
+ PARAMs:  C=100u ESR=0.01 X=1 IC=0
C	IN 1 {C*X} IC={IC}
RESR	1 OUT {ESR/X}
.ENDS CESR
*$