*$
* OPA454
*****************************************************************************
* (C) Copyright 2022 Texas Instruments Incorporated. All rights reserved.                                            
*****************************************************************************
** This model is designed as an aid for customers of Texas Instruments.
** TI and its licensors and suppliers make no warranties, either expressed
** or implied, with respect to this model, including the warranties of 
** merchantability or fitness for a particular purpose.  The model is
** provided solely on an "as is" basis.  The entire risk as to its quality
** and performance is with the customer
*****************************************************************************
*
* This model is subject to change without notice. Texas Instruments
* Incorporated is not responsible for updating this model.
*
*****************************************************************************
*
** Released by: Online Design Tools, Texas Instruments Inc.
* Part: OPA454
* Date: 10OCT2022
* Model Type: ALL IN ONE
* EVM Order Number: N/A
* EVM Users Guide: N/A
* Datasheet: SBOS391B –DECEMBER 2007–REVISED MARCH 2016
*
* Model Version: Final 1.1
*
*****************************************************************************
*
* Updates:
*
* Final 1.1
* Updated PSpice Symbol.
* Added .ENDS name ad OPA454.
*
* Final 1.0 
* Release to Web
*
*****************************************************************************
* Model Usage Notes:
* 1. The following parameters are modeled: 
*    OPEN LOOP GAIN AND PHASE W RL AND CL EFFECTS
*    INPUT OFFSET VOLTAGE W TEMPCO
*    INPUT VOLTAGE NOISE WITH 1/F
*    INPUT CURRENT NOISE
*    INPUT BIAS CURRENT W TEMPERATURE EFFECTS
*    INPUT CAPACITANCE
*    INPUT COMMON MODE VOLTAGE RANGE
*    INPUT CLAMPS TO RAILS
*    CMRR WITH FREQUENCY EFFECTS
*    PSRR WITH FREQUENCY EFFECTS
*    SLEW RATE
*    OPEN LOOP OUTPUT IMPEDANCE
*    SETTLING TIME
*    QUIESCENT CURRENT
*    RAIL TO RAIL OUTPUT STAGE
*    OUTPUT CURRENT THROUGH SUPPLIES
*    OUTPUT CURRENT LIMITING W TEMPCOS
*    CURRENT LIMIT REPORTING DELAYS
*    OUTPUT CLAMPS TO RAILS
*    OUTPUT SWING VS OUTPUT CURRENT
*    ENABLE DISABLE FUNCTION
*    ENABLE INPUT CURRENT
*    QUIESCENT CURRENT IN SHUTDOWN
*    THERMAL SHUTDOWN
*    STATUS FLAG FUNCTION
* 2. Simulation Notes :
*    INPUT BIAS CURRENT ACCURACY DEPENDS ON GMIN BEING
*    SET AT THE DEFAULT VALUE OF 1E-12
*    FOR AID IN DC CONVERGENCE SET ITL1 FROM 400 TO 4000
*    FOR AID IN TRANSIENT ANALYSIS SET ITL4 FROM 50 TO 500
*    MODEL TEMPERATURE RANGE IS
*    -40 C TO +85 C NOT ALL
*    PARAMETERS TRACK THOSE OF
*    THE REAL PART VS TEMPERATURE
*****************************************************************************
* BEGIN MODEL OPA454
* PINOUT ORDER +IN -IN +V -V OUT ED EDCOMM STATFLG
* PINOUT ORDER  3   2   7  4  6   8   1       5
.SUBCKT OPA454 3 2 7 4 6 8 1 5
*****************************************************************************
* BEGIN MODEL PROGRAMMING
* RESISITORS R144 AND R158 BELOW ARE THE THERMAL RESISTANCE
* IN DEGREES C PER WATT FROM CASE TO AMBIENT. THESE VALUES
* MAY BE CHANGED TO REPRESENT DIFFERENT HEAT SINKING OF THE
* CASE. FOR THE THERMAL RESISTANCE OF DIFFERENT HEAT SINKING
* SCENARIOS SEE THE DATA SHEET. BOTH VALUES MUST BE THE SAME.
R144 195 109 52
R158 197 109 52
* THE TWO COMPUTATION LINES BELOW HAVE DIFFERENT SYNTAX
* FOR PSPICE AND PSPICE DERIVED SIMULATORS AND FOR THE
* BERKELEY SPICE3 AND BERKELEY SPICE3 DERIVED SIMULATORS
* AND FOR THE HSPICE SIMULATOR.
* PSPICE SYNTAX
E53 105 0 VALUE={V(101)*V(102)}
E56 107 0 VALUE={V(103)*V(104)}
* BERKELEY SYNTAX
*B53 105 0 V = V(101) * V(102)
*B56 107 0 V = V(103) * V(104)
* HSPICE SYNTAX
*E53 105 0 VOL='V(101)*V(102)'
*E56 107 0 VOL='V(103)*V(104)'
* END MODEL PROGRAMMING
Q20 110 111 112 QNL
R3 113 114 250
R4 115 114 250
R10 111 116 1E3
R11 117 118 1E3
R12 119 7 0.5
R13 4 120 0.5
R16 121 122 9E3
R17 123 124 0.5
R18 112 125 0.5
D5 6 7 DD
D6 4 6 DD
D7 126 0 DIN
D8 127 0 DIN
I8 0 126 0.1E-3
I9 0 127 0.1E-3
E2 112 0 4 0 1
E3 124 0 7 0 1
D9 128 0 DVN
D10 129 0 DVN
I10 0 128 0.1E-3
I11 0 129 0.1E-3
E4 130 2 128 129 1.5
G2 131 2 126 127 1.9E-5
R22 4 7 100E6
E5 132 0 124 0 1
E6 133 0 112 0 1
E7 134 0 135 0 1
R30 132 136 1E6
R31 133 137 1E6
R32 134 138 1E6
R33 0 136 100
R34 0 137 100
R35 0 138 100
E10 139 3 138 0 -7E-3
R36 140 135 1E3
R37 135 141 1E3
C6 132 136 0.2E-12
C7 133 137 0.2E-12
C8 134 138 20E-12
E11 142 139 137 0 -0.01
E12 143 142 136 0 0.01
E14 144 112 124 112 0.5
D11 121 124 DD
D12 112 121 DD
M1 145 146 120 120 NOUT L=3U W=4000U
M2 147 148 119 119 POUT L=3U W=4000U
M3 149 149 123 123 POUT L=3U W=4000U
M4 150 151 113 113 PIN L=3U W=5U
M5 152 130 115 115 PIN L=3U W=5U
M8 153 153 125 125 NOUT L=3U W=4000U
R43 154 148 100
R44 155 146 100
G3 121 144 156 144 0.2E-3
R45 144 121 90E6
C12 122 6 5.4E-12
R46 112 150 3E3
R47 112 152 3E3
C13 150 152 12E-12
C14 131 0 5E-12
C15 130 0 5E-12
C16 6 0 18E-12
D13 146 110 DD
D14 157 148 DD
Q15 157 117 124 QPL
V18 131 151 210E-6
M19 158 159 124 124 PIN L=6U W=500U
E17 141 0 131 0 1
E18 140 0 2 0 1
M23 159 159 124 124 PIN L=6U W=500U
V21 158 114 1.6
R59 6 147 0.5
R60 145 6 0.5
J1 160 131 160 JC
J2 160 130 160 JC
J3 130 161 130 JC
J4 131 161 131 JC
C21 131 130 0.5E-12
E20 162 144 152 150 1
R62 162 156 1E4
C23 156 144 1E-12
G7 163 144 121 144 -1E-3
G8 144 164 121 144 1E-3
G9 144 165 153 112 1E-3
G10 166 144 124 149 1E-3
D17 166 163 DD
D18 164 165 DD
R66 163 166 1E12
R67 165 164 1E12
R68 166 124 1E3
R69 112 165 1E3
E23 124 154 124 166 1
E24 155 112 165 112 1
R70 164 144 1E10
R71 165 144 1E10
R72 144 166 1E10
R73 144 163 1E10
G11 7 4 167 0 3E-3
I19 0 168 1E-3
D19 168 0 DD
V23 168 169 0.71
R74 0 169 1E6
R75 142 143 1E9
R76 139 142 1E9
R77 3 139 1E9
R78 2 130 1E9
R79 144 156 1E9
R81 154 124 1E9
R82 112 155 1E9
R83 135 0 1E9
V24 170 4 1.18
F1 124 171 V24 -1
F2 172 112 V24 -1
R87 173 171 97
R88 172 173 110
E25 173 0 6 0 1
G12 174 124 147 175 1
G13 112 176 177 145 1
D20 174 124 DD
D21 112 176 DD
G14 159 112 167 0 118E-6
G15 149 153 167 0 50E-6
E48 178 121 167 0 80
E49 179 144 167 0 -80
V49 180 179 40
V50 181 178 -40
R127 178 0 1E12
R128 179 0 1E12
M41 144 181 121 182 PSW L=1.5U W=150U
M42 121 180 144 183 NSW L=1.5U W=150U
R129 182 0 1E12
R130 183 0 1E12
M43 184 185 112 112 NEN L=3U W=300U
M44 186 184 112 112 NEN L=3U W=3000U
R131 184 187 1E4
R132 186 188 1E6
V51 188 112 1
M45 189 189 187 187 PEN L=6U W=60U
M46 185 189 187 187 PEN L=6U W=60U
I20 189 112 0.2E-6
C26 185 0 1E-12
E50 167 0 190 112 1
V52 186 190 1.111E-6
R133 112 190 1E12
V53 118 174 0
V54 176 116 0
F3 124 191 V53 1
F4 124 191 V54 1
R134 112 191 22E3
M47 192 193 124 124 PIN L=6U W=0.4U
M48 192 193 112 112 NIN L=3U W=0.2U
E51 102 0 147 6 2
E52 101 0 119 147 1
R136 0 101 1E6
R137 0 102 1E6
R138 0 105 1E6
E54 104 0 6 145 2
E55 103 0 4 6 -1
R139 0 103 1E6
R140 0 104 1E6
R141 0 107 1E6
G16 106 0 105 0 -1
C27 106 0 0.8E-4
C28 194 0 5.5E-4
R142 106 194 9
R143 194 195 1
C29 195 0 10E-4
C32 187 184 10E-9
C33 188 186 4E-12
G17 108 0 107 0 -1
C34 108 0 0.8E-4
C35 196 0 5.5E-4
R156 108 196 9
R157 196 197 1
C36 197 0 10E-4
E63 198 112 199 0 1
R165 112 198 1E6
V63 200 0 300
M57 201 202 124 124 PIN L=6U W=0.4U
M58 201 202 112 112 NIN L=3U W=0.2U
M59 203 198 112 112 NIN L=3U W=125U
R167 203 124 100E3
R169 112 202 1E6
D24 203 202 DD
C37 202 112 30E-12
R172 204 205 1E6
R173 200 204 1E6
E64 206 0 204 106 10
D25 199 207 DD
D26 208 199 DD
R174 206 199 1E4
V66 208 0 -15
V67 207 0 15
E65 209 0 201 0 6
D27 205 207 DD
D28 208 205 DD
R176 205 209 1E4
E66 210 112 211 0 1
R177 112 210 1E6
M64 212 210 112 112 NIN L=3U W=125U
R178 212 124 100E3
D29 212 202 DD
R180 213 214 1E6
R181 200 213 1E6
E67 215 0 213 108 10
D30 211 216 DD
D31 217 211 DD
R182 215 211 1E4
V70 217 0 -15
V71 216 0 15
E68 218 0 201 0 6
D32 214 216 DD
D33 217 214 DD
R183 214 218 1E4
R184 202 201 100E6
I21 7 4 150E-6
I22 0 219 1E-3
D34 219 0 DD
V72 219 220 0.702
R185 0 220 1E6
E69 109 0 220 0 -560
R186 0 109 1E6
R187 0 218 1E9
R188 215 0 1E9
R189 0 209 1E9
R190 206 0 1E9
V74 124 160 1
V75 161 112 2.6
R195 0 167 1E9
R196 169 0 1E6
R197 4 170 1E9
R201 0 192 84E3
R202 0 201 84E6
R203 4 170 1.89E3
R205 121 6 6E10
C38 191 112 22E-12
E70 221 112 191 112 1
R206 221 193 25E3
C39 193 112 212E-12
D35 222 223 DL
V143 223 0 3
R314 0 222 1E8
G52 2 0 222 0 5.06E-11
I65 2 0 3.4E-12
G53 131 0 222 0 5.06E-11
I66 131 0 3.4E-12
M65 185 224 112 112 NEN L=3U W=300U
M66 224 201 124 124 PIN L=6U W=0.4U
M67 224 201 112 112 NIN L=3U W=0.2U
M68 225 225 226 226 PEN L=6U W=60U
M69 227 225 226 226 PEN L=6U W=60U
I67 225 1 1E-6
V144 226 1 2
E71 228 112 8 1 1
M70 229 228 112 112 NEN L=3U W=300U
M71 185 229 112 112 NEN L=3U W=300U
R316 229 187 1E4
R317 185 187 1E4
M72 230 231 112 112 NEN L=3U W=3000U
M73 230 232 112 112 NEN L=3U W=3000U
M74 230 224 112 112 NEN L=3U W=3000U
R318 230 124 1E4
M75 5 230 1 1 NEN L=3U W=0.15U
M76 231 192 112 112 NEN L=3U W=3000U
R320 231 124 1E4
R322 0 8 1E12
M77 233 233 112 112 NEN L=3U W=300U
M78 1 233 112 112 NEN L=3U W=300U
R323 225 226 1E12
R324 112 233 1E12
I68 187 233 10E-6
E72 171 175 220 0 -0.064
E73 172 177 220 0 -0.064
R325 177 172 1E12
R326 175 171 1E12
E74 131 143 220 0 9.05E-4
R327 143 131 1E9
E75 234 112 229 235 1
R328 234 232 60E3
C43 232 112 100E-12
V146 187 112 10
E76 235 112 187 112 0.5
D36 227 8 DD
D37 8 236 DD
R329 237 236 150E3
V147 237 1 1
R330 0 235 1E12
R331 112 234 1E12
G56 0 131 0 131 -4E-12
G57 0 130 0 130 -4E-12
.MODEL DL D IS=0.95E-11 N=1.47 XTI=1.5
.MODEL DD D
.MODEL DVN D KF=3E-14 IS=1E-16
.MODEL DIN D
.MODEL JC NJF
.MODEL QNL NPN
.MODEL QPL PNP
.MODEL POUT PMOS KP=200U VTO=-0.7
.MODEL NOUT NMOS KP=200U VTO=0.7
.MODEL PIN PMOS KP=200U VTO=-0.7
.MODEL NIN NMOS KP=200U VTO=0.7
.MODEL NEN NMOS KP=200U VTO=0.5 IS=1E-18
.MODEL PEN PMOS KP=200U VTO=-0.7 IS=1E-18
.MODEL PSW PMOS KP=200U VTO=-20 IS=1E-18
.MODEL NSW NMOS KP=200U VTO=20 IS=1E-18
.ENDS OPA454
* END MODEL OPA454
