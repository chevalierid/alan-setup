* PSpice Model Editor - Version 16.0.0
*$
* TPS53316
*****************************************************************************
*  (C) Copyright 2011 Texas Instruments Incorporated. All rights reserved.
*****************************************************************************
** This model is designed as an aid for customers of Texas Instruments.
** TI and its licensors and suppliers make no warrenties, either expressed
** or implied, with respect to this model, including the warranties of 
** merchantability or fitness for a particular purpose.  The model is
** provided solely on an "as is" basis.  The entire risk as to its quality
** and performance is with the customer
*****************************************************************************
*
** Released by: Analog eLab Design Center, Texas Instruments Inc.
* Part: TPS53316
* Date: 20DEC2011
* Model Type: TRANSIENT
* Simulator: PSPICE
* Simulator Version: 16.0.0.P001
* EVM Order Number: TPS53316EVM-075 
* EVM Users Guide: 
* Datasheet: SLUSAP5 - DECEMBER 13, 2011
*
* Model Version: Final 1.00
*
*****************************************************************************
*
* Updates:
*
* Final 1.00
* Release to Web.
*
*****************************************************************************
.SUBCKT TPS53316_TRANS PwPd VIN1 VIN2 EN FB PG PS VBST SW1 SW2 SW3 PGND1
+ PGND2 PGND3 VREG3 COMP RFOC GND PARAMS: fastss=1
X_S16    ENZC GND COMPI COMPSH TPS53316_TRANS_S16 
C_C9         DL GND  10p IC=0 TC=0,0 
E_ABM3         N17664535 0 VALUE { if( V(LDRV_PRE) > 2.5,  
+ -V(SWI),0)   }
C_C4         N162761 AMPR  10p  TC=0,0 
E_ABM6         OCB 0 VALUE { if( V(OCBOT) > V(OCLIMB) * 20m  & V(PO)> 2.5,  
+ 5,0)   }
C_U5_C15         GND U5_COUNT  3n IC=0 TC=0,0 
C_U5_C6         U5_LLO GND  100p IC=0 TC=0,0 
X_U5_S15    U5_N01369 GND U5_N01237 U5_COUNT ZC_U5_S15 
R_U5_R39         GND U5_N01237  1e8 TC=0,0 
G_U5_ABMII5         BP7 U5_N01237 VALUE { if(V(U5_ZCEVENT)>2.5, .03,0)    }
X_U5_U104         RESCOUNT PO U5_N01405 AND2_BASIC_GEN PARAMS: VDD=5 VSS=0
+  VTHRESH=2.5
E_U5_ABM4         U5_N00193 0 VALUE { if( V(BOTON) > 2.5,  
+ V(SWI),0)   }
R_U5_R12         U5_LLO U5_N00193  100  
X_U5_U581         U5_N01113 U5_ZCEVENT U5_N01119 MONOPOS_PS PARAMS: PW=300n
X_U5_U587         SSEND U5_ZCEN BUF_DELAY_BASIC_GEN PARAMS: VDD=5 VSS=0
+  VTHRESH=2.5 DELAY=50u
R_U5_R48         GND U5_N01119  1e8  
E_U5_E6         U5_N05573 GND U5_N00161 GND 1
X_U5_U105         U5_N05573 SKIP ZC AND2_BASIC_GEN PARAMS: VDD=5 VSS=0
+  VTHRESH=2.5
E_U5_ABM73         U5_N01369 0 VALUE { if(V(U5_ZCEVENT)>2.5  
+ & V(U5_COUNT) <5.5 & V(U5_ZCEN) >2.5, 1,0)   }
X_U5_U633         U5_ZCEVENT ZC U5_N01113 OR2_BASIC_GEN PARAMS: VDD=5 VSS=0
+  VTHRESH=2.5
E_U5_ABM64         ENZC 0 VALUE { if(V(U5_COUNT)>4.5,5,0)    }
X_U5_S8    U5_N01405 GND U5_COUNT GND ZC_U5_S8 
R_U5_R47         BP7 U5_COUNT  1e9 TC=0,0 
E_U5_ABM56         U5_N00161 0 VALUE { if(V(U5_LLO)> 0.001, 5,0)    }
R_R11         OCBOT N17664535  100  
X_U12         N17753180 SWI d_d1 PARAMS:
X_S19    POR GND COMP P7 TPS53316_TRANS_S19 
E_ABM5         N17963709 0 VALUE { if( V(COMPI) > V(N264026) ,  
+ 5,0)   }
E_ABM77         AMPR 0 VALUE { ( V(VINBY4)  
+ +V(P7) )    }
X_U636         DE HEF SKIP OR2_BASIC_GEN PARAMS: VDD=5 VSS=0 VTHRESH=2.5
R_R296         SWI SW3  .0001m  
X_U587         N204665 CLKSET BUF_DELAY_BASIC_GEN PARAMS: VDD=5 VSS=0
+  VTHRESH=2.5 DELAY=10n
E_ABM9         FALL 0 VALUE { if( V(COMPI) > V(RAMPF) ,  
+ 5,0)   }
X_S2    RAMPRR GND RAMPR P7 TPS53316_TRANS_S2 
X_U91         CLKSET RSET INV_BASIC_GEN PARAMS: VDD=5 VSS=0 VTHRESH=2.5
X_U76      N17483279 INITCOMP BOTONB N17482639 AND3_BASIC_GEN PARAMS: VDD=5
+  VSS=0 VTHRESH=2.5
C_C16         GND OCCOUNT  3n IC=0 TC=0,0 
R_R290         PGND PGND3  .0001m  
R_R40         GND N17672774  1e8 TC=0,0 
R_R286         VINI VIN2  .0001m  
X_S18    N17672832 GND N17672774 OCCOUNT TPS53316_TRANS_S18 
X_U110         N17696171 PRES N17482644 AND2_BASIC_GEN PARAMS: VDD=5 VSS=0
+  VTHRESH=2.5
X_U637     N17672477 ENHI_TOGG OCLsdn OCLSDNB srlatchshp_basic_gen PARAMS:
+  PARAMS: VDD=5 VSS=0 VTHRESH=2.5
X_U635    N026892 OCB OCLIMS OR2_BASIC_GEN PARAMS: VDD=5 VSS=0 VTHRESH=2.5
E_ABM74         N204665 0 VALUE { if( V(FALL_EN) >2.5,   
+ V(FALL),  
+ V(N204667) )   }
X_U3_U93         UVP UVPCLEAR INV_BASIC_GEN PARAMS: VDD=5 VSS=0 VTHRESH=2.5
R_U3_R26         GND U3_N052001  1Meg  
R_U3_R25         GND U3_N052561  1Meg  
E_U3_ABM11         U3_N01061 0 VALUE { IF(V(FB) < 0.498 &  
+ V(SSEND) >2.5,5,0)   }
X_U3_U82         U3_OVLATCH PO OVP AND2_BASIC_GEN PARAMS: VDD=5 VSS=0
+  VTHRESH=2.5
R_U3_R30         GND ENHI_TOGG  1Meg  
X_U3_U577      U3_N01061 U3_N00713 BUF_DELAY_BASIC_GEN PARAMS: VDD=5 VSS=0
+  VTHRESH=2.5 DELAY=10u
X_U3_U92         OVP OVPCLEAR INV_BASIC_GEN PARAMS: VDD=5 VSS=0 VTHRESH=2.5
E_U3_ABM12         U3_OV 0 VALUE { IF(V(FB) > 0.702 &  
+ V(PO) >2.5,5,0)   }
E_U3_ABM52         U3_N052840 0 VALUE { if( V(VINI)>1 &  
+ V(POR) >2.5,5,0)   }
X_U3_U578         U3_N00713 ENHI_TOGG U3_UVLATCH U3_N052001
+  srlatchrhp_basic_gen PARAMS: VDD=5 VSS=0 VTHRESH=2.5
X_U3_S12    U3_DISCH GND SWI GND OVUVP_U3_S12 
X_U3_U83         U3_UVLATCH SSEND UVP AND2_BASIC_GEN PARAMS: VDD=5 VSS=0
+  VTHRESH=2.5
X_U3_U574         U3_OVREADY UVP U3_OVLATCH U3_N052561 srlatchrhp_basic_gen
+  PARAMS: VDD=5 VSS=0 VTHRESH=2.5
R_U3_R29         GND UVP  1Meg  
X_U3_U575      U3_N052840 U3_DISCH BUF_DELAY_BASIC_GEN PARAMS: VDD=5 VSS=0
+  VTHRESH=2.5 DELAY=0.5u
X_U3_U573         U3_OV U3_OVREADY BUF_DELAY_BASIC_GEN PARAMS: VDD=5 VSS=0
+  VTHRESH=2.5 DELAY=1u
R_R14         DL N17676561  10  
X_U4         N543552 COMP d_d2 PARAMS:
X_U10_U577         U10_N15593440 U10_N15605239 BUF_DELAY_BASIC_GEN PARAMS:
+  VDD=5 VSS=0 VTHRESH=2.5 DELAY=25U
G_U10_ABMII1      BP7 U10_FTIME VALUE { if(V(U10_N15600363) > 2.5, .07u, 0) 
+    }
X_U10_U637         PENR U10_HS ENHI_TOGG OR2_BASIC_GEN PARAMS: VDD=5 VSS=0
+  VTHRESH=2.5
X_U10_U636         UVP OCLIMS FAULT OR2_BASIC_GEN PARAMS: VDD=5 VSS=0
+  VTHRESH=2.5
X_U10_U93     PO U10_N15603095 U10_N15600363 AND2_BASIC_GEN PARAMS: VDD=5
+  VSS=0 VTHRESH=2.5
E_U10_ABM5         U10_HS 0 VALUE { if(V(U10_FTIME)>1, 5,0)    }
X_U10_U576         U10_HS U10_HR U10_N15593440 U10_N15593672
+  srlatchrhp_basic_gen PARAMS: VDD=5 VSS=0 VTHRESH=2.5
X_U10_U101         U10_N15605239 U10_N15593254 INV_BASIC_GEN PARAMS: VDD=5
+  VSS=0 VTHRESH=2.5
R_U10_R39         GND U10_HR  1Meg  
X_U10_U92         U10_N15593440 U10_N15593254 U10_N15593434 AND2_BASIC_GEN
+  PARAMS: VDD=5 VSS=0 VTHRESH=2.5
R_U10_R269         GND U10_N15593672  100MEG  
R_U10_R38         GND U10_N15603171  1Meg  
R_U10_R41         GND U10_FTIME  10e7  
X_U10_U575         FAULT U10_HR U10_N15603095 U10_N15603171
+  srlatchrhp_basic_gen PARAMS: VDD=5 VSS=0 VTHRESH=2.5
X_U10_U197         U10_N15593434 U10_HR BUFFER_PS PARAMS: VHI=5 VLO=0
+  VTHRESH=2.5 TPLH=20U TPHL=20U TR=1E-9 TF=1E-9
X_U10_U10         U10_FTIME BP7 d_d1 PARAMS:
X_U10_S17    U10_N15600363 GND U10_FTIME GND HICCUP_U10_S17 
C_U10_C14         U10_FTIME GND  1n  TC=0,0 
X_U84         N17921522 N011971 CLKRES AND2_BASIC_GEN PARAMS: VDD=5 VSS=0
+  VTHRESH=2.5
R_R285         VINI VIN1  .0001m  
X_U638       N30102 N17695204 PRES N17695164 srlatchshp_basic_gen PARAMS:
+  PARAMS: VDD=5 VSS=0 VTHRESH=2.5
X_U4_U82         PEN U4_N06725 U4_OCS AND2_BASIC_GEN PARAMS: VDD=5 VSS=0
+  VTHRESH=2.5
C_U4_C13         GND U4_VSNH  1M IC=0 TC=0,0 
E_U4_ABM32         RTMUL 0 VALUE { ( V(U4_N00841)  
+ +V(U4_N00860)  
+ +V(U4_N00881) )  }
X_U4_U587         PEN U4_N06707 BUF_DELAY_BASIC_GEN PARAMS: VDD=5 VSS=0
+  VTHRESH=2.5 DELAY=5U
X_U4_U91         U4_N06707 U4_N06725 INV_BASIC_GEN PARAMS: VDD=5 VSS=0
+  VTHRESH=2.5
E_U4_ABM26         U4_N00860 0 VALUE { if(V(RT)> 220m & V(RT)< 580m, .75, 0)   
+  }
X_U4_S9    U4_OCS GND RT U4_VSNH FSWsel_U4_S9 
E_U4_ABM27       U4_N00881 0 VALUE { if(V(RT)< 1.8 & V(RT)> 1, 2, 0)    }
E_U4_ABM56     OCLIMT 0 VALUE { if(V(U4_VRTOC)<0.1 | V(U4_VRTOC)> 0.58 &
+  V(U4_VRTOC)>0.55 | V(U4_VRTOC)>1.7 & V(U4_VRTOC)<1.8, 6.5, 4.5) * (2-
+  0.2* V(PGOODEN))    }
E_U4_ABM57       OCLIMB 0 VALUE { if(V(U4_VRTOC)<0.1 | V(U4_VRTOC)> 0.58 &
+  V(U4_VRTOC)>0.55 | V(U4_VRTOC)>1.7 & V(U4_VRTOC)<1.8, 7, 5.1) * (2- 0.2*
+  V(PGOODEN))    }
E_U4_E5         U4_VRTOC GND U4_VSNH GND 1
E_U4_ABM25         U4_N00841 0 VALUE { if(V(RT)< 100m |  V(RT) > 2, 1.1, 0)   
+  }
R_U4_R33         GND U4_VSNH  1e6  
R_R289        PGND PGND2  .0001m  
X_U93    PO ENVREF INITCOMP AND2_BASIC_GEN PARAMS: VDD=5 VSS=0 VTHRESH=2.5
X_U631     CLKSET N289306 N17921522 N17921574 srlatchshp_basic_gen PARAMS:
+  PARAMS: VDD=5 VSS=0 VTHRESH=2.5
X_U94      LDRV_PRE N17483279 INV_BASIC_GEN PARAMS: VDD=5 VSS=0 VTHRESH=2.5
X_U97       N17921522 N011970 INV_BASIC_GEN PARAMS: VDD=5 VSS=0 VTHRESH=2.5
V_V6         7P GND 7
G_UPG_ABM2I1         VREG3 UPG_PGTIME VALUE { if(V(UPG_PGOODB)>2.5, (5 -
+  V(SSMUL)) * 25n,0)    }
E_UPG_ABM23         UPG_PGOODB 0 VALUE { if(V(FB)>0.498 & V(FB)<0.702 &
+  V(EN)>2, 5,0)    }
X_UPG_U101         PGOODEN UPG_PGD INV_BASIC_GEN PARAMS: VDD=5 VSS=0
+  VTHRESH=2.5
X_UPG_S8    UPG_PGD GND PG GND PGOOD_UPG_S8 
E_UPG_ABM20         PGOODEN 0 VALUE { if(V(UPG_PGTIME)>3, 5, 0)    }
X_UPG_S5    UPG_PGOODB GND UPG_PGTIME GND PGOOD_UPG_S5 
C_UPG_C2         UPG_PGTIME GND  10p  TC=0,0 
E_ABM8         N17690809 0 VALUE { if( V(N17690788) > 2.5,  
+ V(DL),5)   }
X_U78         N17692455 PO UVPCLEAR N17696171 AND3_BASIC_GEN PARAMS: VDD=5
+  VSS=0 VTHRESH=2.5
R_R13         OCTOP N17666989  100  
R_R50         BP7 OCCOUNT  1e9 TC=0,0 
E_ABM79       CLMDCM 0 VALUE { if( V(enZC) > 2.5,V(VOUTBY4) - 0.12, 0.73)   
+  }
R_R268         GND N17481555  100MEG  
X_U106         ENZC ENZC N17690788 AND2_BASIC_GEN PARAMS: VDD=5 VSS=0
+  VTHRESH=2.5
X_U582         N17672708 OCEVENT N17672711 MONOPOS_PS PARAMS: PW=300n
R_R271         GND OCLBAR  100MEG  
X_S3    N202556 GND N162761 AMPR TPS53316_TRANS_S3 
X_S7    N17481839 GND HDRV SWI TPS53316_TRANS_S7 
X_U580         TOPON HIEDGE N17697806 MONOPOS_PS PARAMS: PW=10n
X_U109         OCLATCH ZC N17672477 AND2_BASIC_GEN PARAMS: VDD=5 VSS=0
+  VTHRESH=2.5
V_V12         N17753180 PGND -.25
E_ABM20         RAMPF 0 VALUE { if( V(HEF)>2.5 & V(enZC) < 2.5,   
+ LIMIT(V(N162761),0 , V(ampR)),  
+ LIMIT(V(N162761),V(VOUTBY4), V(ampR)))  }
X_U72         OVPCLEAR NOOCTOP UVPCLEAR TOPON AND3_BASIC_GEN PARAMS: VDD=5
+  VSS=0 VTHRESH=2.5
R_R282         GND N17695204  100MEG  
X_U105         HIEDGE DL RESCOUNT AND2_BASIC_GEN PARAMS: VDD=5 VSS=0
+  VTHRESH=2.5
X_U96         BOTON BOTONB INV_BASIC_GEN PARAMS: VDD=5 VSS=0 VTHRESH=2.5
X_U74         N17481751 INITCOMP N17482270 N17481839 AND3_BASIC_GEN PARAMS:
+  VDD=5 VSS=0 VTHRESH=2.5
X_U113       ENVREF ENVREFB INV_BASIC_GEN PARAMS: VDD=5 VSS=0 VTHRESH=2.5
X_U104         SSET SSETB INV_BASIC_GEN PARAMS: VDD=5 VSS=0 VTHRESH=2.5
X_S36    HDRV SWI VINI SWI TPS53316_TRANS_S36 
R_R280         GND N17669865  100MEG  
X_U634         OCEVENT OCT N17672708 OR2_BASIC_GEN PARAMS: VDD=5 VSS=0
+  VTHRESH=2.5
X_U70         N17482644 OVP N17482783 OR2_BASIC_GEN PARAMS: VDD=5 VSS=0
+  VTHRESH=2.5
X_U103       OCT N17668477 INV_BASIC_GEN PARAMS: VDD=5 VSS=0 VTHRESH=2.5
X_U633         SSETB FALLB N306198 N2987041 srlatchrhp_basic_gen PARAMS:
+  PARAMS: VDD=5 VSS=0 VTHRESH=2.5
R_R298         N67083 VSNS  6Meg  
G_ABM2I1         N162761 AMPR VALUE { if(V(ENZC) > 2.5, V(OSCRAMP)* 0.8,
+  V(OSCRAMP))    }
X_U108         N17668477 HDRV N17670959 AND2_BASIC_GEN PARAMS: VDD=5 VSS=0
+  VTHRESH=2.5
X_U11         N034851 VINI d_d1 PARAMS:
E_E6         N17596218 GND AMPR GND 1
R_R270         GND N2987041  100MEG  
X_S11    N17482639 GND LDRV PGND TPS53316_TRANS_S11 
X_U597    OCT N17670959 N17669865 OCRESCOUNT srlatchrhp_basic_gen PARAMS:
+  PARAMS: VDD=5 VSS=0 VTHRESH=2.5
X_U632         ZC TOPON DLb N17676561 srlatchrhp_basic_gen PARAMS:
+  VDD=5 VSS=0 VTHRESH=2.5
X_U85         N17963709 N17967774 SSET AND2_BASIC_GEN PARAMS: VDD=5 VSS=0
+  VTHRESH=2.5
G_ABM2I2    COMP N543552 VALUE { if(V(ENVREFB) >2.5, (V(COMP)- 0.73)/ 400,
+  0)    }
C_C10         N543552 COMP  20p IC=0 
X_U86         FALL_EN SSET N202556 AND2_BASIC_GEN PARAMS: VDD=5 VSS=0
+  VTHRESH=2.5
X_S10    LDRV_PRE GND BP7 LDRV TPS53316_TRANS_S10 
X_U_U102      PO U_N117458720 INV_BASIC_GEN PARAMS: VDD=5 VSS=0 VTHRESH=2.5
X_U_U576         PEN PO BUF_DELAY_BASIC_GEN PARAMS: VDD=5 VSS=0 VTHRESH=2.5
+  DELAY=.2m
X_U_U81         PO U_N11745948 PENR AND2_BASIC_GEN PARAMS: VDD=5 VSS=0
+  VTHRESH=2.5
E_U_ABM24         U_N03434 0 VALUE { if(V(VINI)>2.89,6.2,0)    }
R_U_R10         VREG3 U_N03296  10  
X_U_U589         U_N117458720 U_N11745948 BUF_DELAY_BASIC_GEN PARAMS: VDD=5
+  VSS=0 VTHRESH=2.5 DELAY=20U
E_U_ABM26         U_N03296 0 VALUE { if(V(VINI)>2.89,3.3,0)    }
R_U_R3         EN BP7  1.6Meg TC=0,0 
R_U_R9         ENSS EN  10k  
R_U_R12         BP7 U_N03434  10  
X_U_U99         PO POR INV_BASIC_GEN PARAMS: VDD=5 VSS=0 VTHRESH=2.5
C_U_C4         VREG3 GND  10p IC=0 TC=0,0 
C_U_C6         BP7 GND  10p IC=0 TC=0,0 
C_U_C3         ENSS GND  10p IC=0 TC=0,0 
R_U_R8         GND ENSS  1e8  
E_U_ABM2         PEN 0 VALUE { if( V(ENSS) > 2.5 &  
+ V(VINI) >2.89,5,0)   }
X_U10         RAMPR AMPR d_d1 PARAMS:
E_E5         RT GND RFOC GND 1
C_C12         PGND SWI  10p IC=0 
C_C1         RAMPR P7  10p IC=0 TC=0,0 
E_E7         COMPI GND COMP GND 1
X_S37    LDRV PGND SWI PGND TPS53316_TRANS_S37 
E_E8         N67083 GND SWI GND 1
E_ABM65         N026892 0 VALUE { if(V(OCCOUNT)>4.5,5,0)    }
E_ABM52         N17666989 0 VALUE { if( V(HDRV_PRE) > 2.5,  
+ V(VINI) -  
+ V(SWI), 0)  }
X_U596         OCLIMS ENHI_TOGG OCLATCH OCLBAR srlatchrhp_basic_gen PARAMS:
+  PARAMS: VDD=5 VSS=0 VTHRESH=2.5
R_R276         GND COMPSH  100MEG  
X_U111         FALL FALLB INV_BASIC_GEN PARAMS: VDD=5 VSS=0 VTHRESH=2.5
R_R45         GND N17697806  1e8  
X_U79         N17690809 OCLSDNB N17690830 N17692455 AND3_BASIC_GEN PARAMS:
+  VDD=5 VSS=0 VTHRESH=2.5
X_U89      HDRV_PRE N17481751 INV_BASIC_GEN PARAMS: VDD=5 VSS=0 VTHRESH=2.5
R_R281         GND N17695164  100MEG  
R_R272         P7 RAMPR  1e11  
E_ABM75         N17672832 0 VALUE { if(V(OCEVENT)>2.5  
+ & V(OCCOUNT) <5.5 & V(SSEND) >2.5, 1,0)   }
R_R6         N543552 COMP  4.91Meg  
X_U92         HEF N306198 RISE_EN AND2_BASIC_GEN PARAMS: VDD=5 VSS=0
+  VTHRESH=2.5
X_U112         QSET BOTONB N17483424 AND2_BASIC_GEN PARAMS: VDD=5 VSS=0
+  VTHRESH=2.5
X_U630         SSET RSET QSET N17481555 srlatchshp_basic_gen PARAMS: 
+  VDD=5 VSS=0 VTHRESH=2.5
X_S17    N17672847 GND OCCOUNT GND TPS53316_TRANS_S17 
V_V11         N034851 SWI -.25
C_C11         SWI VINI  10p IC=0 
G_ABMII1         BP7 RFOC VALUE { if(V(PO) >2.5, 10u, 0)    }
X_U6         N514503 COMP d_d2 PARAMS:
X_U73       TOPON INITCOMP N17481723 HDRV_PRE AND3_BASIC_GEN PARAMS: VDD=5
+  VSS=0 VTHRESH=2.5
R_R300         GND N90549  1k  
X_U13         RFOC BP7 d_d1 PARAMS:
R_R279         GND ENHI_TOGG  100MEG  
R_R274         AMPR N162761  1e9  
X_U75      BOTON INITCOMP N17483252 LDRV_PRE AND3_BASIC_GEN PARAMS: VDD=5
+  VSS=0 VTHRESH=2.5
E_U1_ABM27         DE 0 VALUE { if(V(PS)> 1 & V(PS) < 1.8, 5, 0)    }
E_U1_ABM26         HEF 0 VALUE { if(V(PS)> 0.24 & V(PS) < 0.58, 5, 0)    }
E_U1_ABM25   SSMUL 0 VALUE { if(V(PS)< 115m | V(PS) < 250m & V(PS) >0.230
+  | V(PS) <1.75 & V(PS)> 1.73, 4, 1)    }
R_U1_R274         GND PS  10MEG  
G_U1_ABMII3         VREG3 PS VALUE { if(V(PEN)>2.5, 10u,0)    }
X_U590         HDRV_PRE N30102 BUF_DELAY_BASIC_GEN PARAMS: VDD=5 VSS=0
+  VTHRESH=2.5 DELAY=10n
E_E4         N264026 GND RAMPR GND 1
E_E1         VINBY4 GND VINI GND .25
R_R299         GND VSNS  2Meg  
V_V4         N543552 GND 0.7
X_U98      DL OCLATCH OCLSD AND2_BASIC_GEN PARAMS: VDD=5 VSS=0 VTHRESH=2.5
C_C7         OCTOP GND  0.5n IC=0 TC=0,0 
R_R284         PGND PGND1  .0001m  
E_ABM76         OSCRAMP 0 VALUE { (V(RTMUL)   
+ * V(VINBY4) *10.25u)   }
X_S4    POR GND N162761 AMPR TPS53316_TRANS_S4 
X_U5         COMP N17596218 d_d2 PARAMS:
R_R273         GND OCLSDNB  100MEG  
X_U82         CLKRES RISE_EN RAMPRR OR2_BASIC_GEN PARAMS: VDD=5 VSS=0
+  VTHRESH=2.5
R_R275         GND DL  100MEG  
X_U87         TOPON N17482270 INV_BASIC_GEN PARAMS: VDD=5 VSS=0 VTHRESH=2.5
G_ABMII6         BP7 N17672774 VALUE { if(V(OCEVENT)>2.5, .05,0)    }
X_U100         CLKRES N289306 INV_BASIC_GEN PARAMS: VDD=5 VSS=0 VTHRESH=2.5
X_U9         BP7 VBST d_d1 PARAMS:
R_R283         GND PwPd  .0001m  
E_E10         N514503 GND CLMDCM GND 1
C_C5         OCBOT GND  100p IC=0 TC=0,0 
R_R295         SWI SW2  .0001m  
G_ABM2I6         AMPR RAMPR VALUE { if(V(ENZC) > 2.5, V(OSCRAMP)* 0.8,
+  V(OSCRAMP))    }
X_U80         HEF ENZC FALL_EN OR2_BASIC_GEN PARAMS: VDD=5 VSS=0 VTHRESH=2.5
E_E9         VOUTBY4 P7 VSNS GND 1
X_S1    POR GND RAMPR P7 TPS53316_TRANS_S1 
C_C15         N90549 VSNS  12p IC=0 
R_U2_R34         GND U2_N154599200  1e6  
X_U2_U81         U2_N15464161 PO U2_N154640182 AND2_BASIC_GEN PARAMS: VDD=5
+  VSS=0 VTHRESH=2.5
X_U2_U635      ENHI_TOGG ENHI_TOGG U2_N15460896 OR2_BASIC_GEN PARAMS: VDD=5
+  VSS=0 VTHRESH=2.5
X_U2_U589         ENHI_TOGG U2_N15462727 BUF_DELAY_BASIC_GEN PARAMS: VDD=5
+  VSS=0 VTHRESH=2.5 DELAY=19.5u
E_U2_E1         ENVREF GND U2_N154640182 GND 1
E_U2_ABM20         VREF_GM 0 VALUE { if(V(U2_SS)>0.6, 0.6, V(U2_SS))    }
X_U2_S5    ENVREF GND U2_SS GND VREF_U2_S5 
E_U2_ABM21         SSEND 0 VALUE { if(V(VREF_GM)>0.57, 5,0)    }
C_U2_C2         U2_SS GND  10p  TC=0,0 
R_U2_R35         GND U2_N15460896  1e6  
X_U2_U637         U2_N15462727 U2_N15460896 U2_N15464161 U2_N154599200
+  srlatchshp_basic_gen PARAMS: VDD=5 VSS=0 VTHRESH=2.5
G_U2_ABM2I1     VREG3 U2_SS VALUE { if(V(ENVREF)>2.5, V(SSMUL) * 15*({1n +
+  FASTSS*4n}),0)    }
X_U95      N17482639 N17483252 INV_BASIC_GEN PARAMS: VDD=5 VSS=0 VTHRESH=2.5
R_R294         SWI SW1  .0001m  
X_U90     N17481839 N17481723 INV_BASIC_GEN PARAMS: VDD=5 VSS=0 VTHRESH=2.5
X_U107         OCRESCOUNT PO N17672847 AND2_BASIC_GEN PARAMS: VDD=5 VSS=0
+  VTHRESH=2.5
X_S6    HDRV_PRE GND VBST HDRV TPS53316_TRANS_S6 
X_U88         QSET N17690830 INV_BASIC_GEN PARAMS: VDD=5 VSS=0 VTHRESH=2.5
R_R269         GND N17921574  100MEG  
X_U71         N17482783 OCLSD BOTON OR2_BASIC_GEN PARAMS: VDD=5 VSS=0
+  VTHRESH=2.5
E_ABM4         N204667 0 VALUE { if( V(RAMPR) > V(AMPR),  
+ 5,0)   }
E_ABM78         N17967774 0 VALUE { if(V(N264026) < V(ampR)* 0.8 , 5,0)    }
X_U191         N011970 N011971 BUFFER_PS PARAMS: VHI=5 VLO=0 VTHRESH=2.5
+  TPLH=1n TPHL=70n TR=1E-9 TF=1E-9
V_V13         P7 GND 0.73
X_U77         N17483424 PO OCLBAR NOOCTOP AND3_BASIC_GEN PARAMS: VDD=5 VSS=0
+  VTHRESH=2.5
R_R49         GND N17672711  1e8  
C_C13         GND COMPSH  10n  
E_ABM7         OCT 0 VALUE { if( V(OCTOP) > V(OCLIMT) * 20m & V(PO)> 2.5,  
+ 5,0)   }
G_ABM2I5         N543552 COMP VALUE { if(V(PEN) >2.5,LIMIT(((V(VREF_GM) -
+  V(FB))*20m), -1m, 1m),0)    }
.ends
*$
.subckt TPS53316_TRANS_S16 1 2 3 4  
S_S16         3 4 1 2 _S16
RS_S16         1 2 1G
.MODEL         _S16 VSWITCH Roff=1e9 Ron=1m Voff=2.6 Von=2.4
.ends TPS53316_TRANS_S16
*$
.subckt ZC_U5_S15 1 2 3 4  
S_U5_S15         3 4 1 2 _U5_S15
RS_U5_S15         1 2 1G
.MODEL         _U5_S15 VSWITCH Roff=1e11 Ron=10m Voff=0.0V Von=1.0V
.ends ZC_U5_S15
*$
.subckt ZC_U5_S8 1 2 3 4  
S_U5_S8         3 4 1 2 _U5_S8
RS_U5_S8         1 2 1G
.MODEL         _U5_S8 VSWITCH Roff=1e11 Ron=1.0m Voff=2.25 Von=2.75
.ends ZC_U5_S8
*$
.subckt TPS53316_TRANS_S19 1 2 3 4  
S_S19         3 4 1 2 _S19
RS_S19         1 2 1G
.MODEL         _S19 VSWITCH Roff=1e9 Ron=1m Voff=2.4 Von=2.6
.ends TPS53316_TRANS_S19
*$
.subckt TPS53316_TRANS_S2 1 2 3 4  
S_S2         3 4 1 2 _S2
RS_S2         1 2 1G
.MODEL         _S2 VSWITCH Roff=1e11 Ron=1m Voff=2 Von=3
.ends TPS53316_TRANS_S2
*$
.subckt TPS53316_TRANS_S18 1 2 3 4  
S_S18         3 4 1 2 _S18
RS_S18         1 2 1G
.MODEL         _S18 VSWITCH Roff=1e11 Ron=10m Voff=0.0V Von=1.0V
.ends TPS53316_TRANS_S18
*$
.subckt OVUVP_U3_S12 1 2 3 4  
S_U3_S12         3 4 1 2 _U3_S12
RS_U3_S12         1 2 1G
.MODEL         _U3_S12 VSWITCH Roff=1e11 Ron=60 Voff=2.4 Von=2.6
.ends OVUVP_U3_S12
*$
.subckt HICCUP_U10_S17 1 2 3 4  
S_U10_S17         3 4 1 2 _U10_S17
RS_U10_S17         1 2 1G
.MODEL         _U10_S17 VSWITCH Roff=1m Ron=1e11 Voff=2.25 Von=2.75
.ends HICCUP_U10_S17
*$
.subckt FSWsel_U4_S9 1 2 3 4  
S_U4_S9         3 4 1 2 _U4_S9
RS_U4_S9         1 2 1G
.MODEL         _U4_S9 VSWITCH Roff=1e11 Ron=1.0e-8 Voff=2.5 Von=2.6
.ends FSWsel_U4_S9
*$
.subckt PGOOD_UPG_S8 1 2 3 4  
S_UPG_S8         3 4 1 2 _UPG_S8
RS_UPG_S8         1 2 1G
.MODEL         _UPG_S8 VSWITCH Roff=1e8 Ron=10 Voff=2 Von=3
.ends PGOOD_UPG_S8
*$
.subckt PGOOD_UPG_S5 1 2 3 4  
S_UPG_S5         3 4 1 2 _UPG_S5
RS_UPG_S5         1 2 1G
.MODEL         _UPG_S5 VSWITCH Roff=1e11 Ron=10 Voff=3 Von=2
.ends PGOOD_UPG_S5
*$
.subckt TPS53316_TRANS_S3 1 2 3 4  
S_S3         3 4 1 2 _S3
RS_S3         1 2 1G
.MODEL         _S3 VSWITCH Roff=1e9 Ron=1m Voff=2.4 Von=2.6
.ends TPS53316_TRANS_S3
*$
.subckt TPS53316_TRANS_S7 1 2 3 4  
S_S7         3 4 1 2 _S7
RS_S7         1 2 1G
.MODEL         _S7 VSWITCH Roff=1e11 Ron=2 Voff=2.4 Von=2.6
.ends TPS53316_TRANS_S7
*$
.subckt TPS53316_TRANS_S36 1 2 3 4  
S_S36         3 4 1 2 _S36
RS_S36         1 2 1G
.MODEL         _S36 VSWITCH Roff=1e8 Ron=20m Voff=2.4V Von=2.6
.ends TPS53316_TRANS_S36
*$
.subckt TPS53316_TRANS_S11 1 2 3 4  
S_S11         3 4 1 2 _S11
RS_S11         1 2 1G
.MODEL         _S11 VSWITCH Roff=1e11 Ron=2 Voff=2.4 Von=2.6
.ends TPS53316_TRANS_S11
*$
.subckt TPS53316_TRANS_S10 1 2 3 4  
S_S10         3 4 1 2 _S10
RS_S10         1 2 1G
.MODEL         _S10 VSWITCH Roff=1e11 Ron=2 Voff=2.4 Von=2.6
.ends TPS53316_TRANS_S10
*$
.subckt TPS53316_TRANS_S37 1 2 3 4  
S_S37         3 4 1 2 _S37
RS_S37         1 2 1G
.MODEL         _S37 VSWITCH Roff=1e8 Ron=20m Voff=2.4 Von=2.6
.ends TPS53316_TRANS_S37
*$
.subckt TPS53316_TRANS_S17 1 2 3 4  
S_S17         3 4 1 2 _S17
RS_S17         1 2 1G
.MODEL         _S17 VSWITCH Roff=1e11 Ron=1.0m Voff=2.25 Von=2.75
.ends TPS53316_TRANS_S17
*$
.subckt TPS53316_TRANS_S4 1 2 3 4  
S_S4         3 4 1 2 _S4
RS_S4         1 2 1G
.MODEL         _S4 VSWITCH Roff=1e9 Ron=1m Voff=2 Von=3
.ends TPS53316_TRANS_S4
*$
.subckt TPS53316_TRANS_S1 1 2 3 4  
S_S1         3 4 1 2 _S1
RS_S1         1 2 1G
.MODEL         _S1 VSWITCH Roff=1e11 Ron=1m Voff=2 Von=3
.ends TPS53316_TRANS_S1
*$
.subckt VREF_U2_S5 1 2 3 4  
S_U2_S5         3 4 1 2 _U2_S5
RS_U2_S5         1 2 1G
.MODEL         _U2_S5 VSWITCH Roff=1e11 Ron=10 Voff=3 Von=2
.ends VREF_U2_S5
*$
.subckt TPS53316_TRANS_S6 1 2 3 4  
S_S6         3 4 1 2 _S6
RS_S6         1 2 1G
.MODEL         _S6 VSWITCH Roff=1e11 Ron=2 Voff=2.4 Von=2.6
.ends TPS53316_TRANS_S6
*$
.SUBCKT AND2_BASIC_GEN A B Y PARAMS: VDD=5 VSS=0 VTHRESH=2.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND2_BASIC_GEN
*$
.SUBCKT AND3_BASIC_GEN A B C Y PARAMS: VDD=5 VSS=0 VTHRESH=2.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND3_BASIC_GEN
*$
.SUBCKT OR2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR2_BASIC_GEN
*$
.SUBCKT NAND2_BASIC_GEN A B Y PARAMS: VDD=5 VSS=0 VTHRESH=2.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NAND2_BASIC_GEN
*$
.SUBCKT INV_BASIC_GEN A  Y PARAMS: VDD=5 VSS=0 VTHRESH=2.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS INV_BASIC_GEN
*$
.SUBCKT INV_DELAY_BASIC_GEN A  Y PARAMS: VDD=5 VSS=0
+ VTHRESH=2.5 DELAY = 10n 
E_ABMGATE1    YINT1 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT1 YINT2 1
CINT YINT2 0 {DELAY*1.3}
E_ABMGATE2    YINT3 0 VALUE {{IF(V(YINT2) > {VTHRESH} , 
+ {VSS},{VDD})}}
RINT2 YINT3 Y 1
CINT2 Y 0 1n
.ENDS INV_DELAY_BASIC_GEN
*$
.SUBCKT BUF_DELAY_BASIC_GEN A  Y PARAMS: VDD=5 VSS=0 VTHRESH=2.5
+ DELAY = 10n 
E_ABMGATE1    YINT1 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT1 YINT2 1
CINT YINT2 0 {DELAY*1.3}
E_ABMGATE2    YINT3 0 VALUE {{IF(V(YINT2) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT2 YINT3 Y 1
CINT2 Y 0 1n
.ENDS BUF_DELAY_BASIC_GEN
*$
.SUBCKT BUF_BASIC_GEN A  Y PARAMS: VDD=5 VSS=0 VTHRESH=2.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS BUF_BASIC_GEN
*$
.SUBCKT SRLATCHSHP_BASIC_GEN S R Q QB PARAMS: VDD=5 VSS=0 VTHRESH=2.5 
Rs S 0 1e11
Rr R 0 1e11
GQ 0 Qint VALUE = {IF(V(S) > {VTHRESH},5,IF(V(R)>{VTHRESH},-5, 0))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr QB 1 
Cdummy1 Q 0 1n 
Cdummy2 QB 0 1n 
.IC V(Qint) {VSS}
.MODEL D_D1 D( IS=1e-15 TT=10p Rs=0.05 N=.1  )
.ENDS SRLATCHSHP_BASIC_GEN
*$
.SUBCKT SRLATCHRHP_BASIC_GEN S R Q QB PARAMS: VDD=5 VSS=0 VTHRESH=2.5 
Rs S 0 1e11
Rr R 0 1e11
GQ 0 Qint VALUE = {IF(V(R) > {VTHRESH},-5,IF(V(S)>{VTHRESH},5, 0))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr QB 1 
Cdummy1 Q 0 1n 
Cdummy2 QB 0 1n
.IC V(Qint) {VSS}
.MODEL D_D1 D( IS=1e-15 TT=10p Rs=0.05 N=.1  )
.ENDS SRLATCHRHP_BASIC_GEN
*$
.SUBCKT COMP_BASIC_GEN INP INM Y PARAMS: VDD=5 VSS=0 VTHRESH=2.5 	
E_ABM Yint 0 VALUE {IF (V(INP) > 
+ V(INM), {VDD},{VSS})}
R1 Yint Y 1
C1 Y 0 1n
.ENDS COMP_BASIC_GEN
*$
.SUBCKT D_D1 1 2
D1 1 2 DD1
.MODEL DD1 D( IS=1e-15 TT=10p Rs=0.05 N=.1  )
.ENDS D_D1
*$
.SUBCKT D_D2 1 2
D1 1 2 DD2
.MODEL DD2 D( IS=1e-15 TT=10p Rs=0.01 N=.01  )
.ENDS D_D2
*$
.subckt d_d 1 2
d1 1 2 dd
.model dd d
+ is=1e-015
+ n=0.01
+ tt=1e-011
.ends d_d
*$
.SUBCKT MONOPOS_PS in Q Qn PARAMS: PW=250u 
VS VSUP 0 DC 5
r1 IN 0 1e11
GIN VSUP YA VALUE={IF(V(IN)>2.5, V(VSUP)/1000K, 0)}
GDIS YA 0 VALUE={IF(V(IN)>2.5,0, V(YA)/1m)}
CIN YA 0 1n IC=0
RIN YA 0 1e11
EABM1 YTD 0 VALUE={IF(V(YA)> {PW*1000}, 5, 0)}
RYTD YTD 0 1e11
EXOR P 0 VALUE={IF(V(YTD) > 2.5 ^ V(IN) > 2.5, 5, 0)}
ROUTpp2 P 0 1e11
EAND1 Q1 0 VALUE={ IF(V(P)>2.5 & V(IN)>2.5, 5, 0)}
Ro1 Q1 Q 1m
Co1 Q 0 1p
ROUT2 Q 0 1e11
EAND2 Qn1 0 VALUE={ IF(V(Q)>2.5, 0, 5)}
Ro2 Qn1 Qn 1m
Co2 Qn 0 1p
ROUT4 Qn 0 1e11
.ENDS MONOPOS_PS
*$
.SUBCKT MONONEG_PS in Q Qn PARAMS: PW=250u 
VS VSUP 0 DC 1
r1 IN 0 1e11
RS VSUP 0 1e11
GIN VSUP YA VALUE={IF(V(IN)<2.5, V(VSUP)/1000K, 0)}
GDIS YA 0 VALUE={IF(V(IN)<2.5,0, V(YA)/1m)}
CIN YA 0 1n IC=1
RIN YA 0 1e11
EABM1 YTD 0 VALUE={IF(V(YA)> {PW*1000}, 0, 5)}
RYTD YTD 0 1e11
EXOR P 0 VALUE={IF(V(YTD) > 2.5 ^ V(IN) > 2.5, 5, 0)}
ROUTpp2 P 0 1e11
EAND1 Q1 0 VALUE={ IF(V(P)>2.5 & V(YTD)>2.5, 5, 0)}
Ro1 Q1 Q 1m
Co1 Q 0 1p IC=0
ROUT2 Q 0 1e11
EAND2 Qn1 0 VALUE={ IF(V(Q)>0.5, 0, 5)}
Ro2 Qn1 Qn 1m
Co2 Qn 0 1p
ROUT4 Qn 0 1e11
.ENDS MONONEG_PS
*$
.SUBCKT BUFFER_PS A Y PARAMS: vhi=1 vlo=0 vthresh=500e-3
+ tplh=1e-9 tphl=1e-9 tr=1e-9 tf=1e-9
RA A 0 1e11
CA A 0 0.01pF
VS VSUP 0 DC 1
EBUF1 Ypp 0 VALUE={IF(V(A) > ({vthresh}), 1, 0)}
ROUTpp Ypp 0 1e11
XNSW1 OUTp Ypp 0 NSW_PS PARAMS: RONval={(tplh+1e-15)/(1e-12*0.693)}
+ VTHval=0.5
XPSW1 OUTp Ypp VSUP PSW_PS PARAMS: RONval={(tphl+1e-15)/(1e-12*0.693)}
+ VTHval=0.5
CDEL1 OUTp 0 1pF
ETHRESH Yp 0 VALUE={IF(V(OUTp) > 0.5, 1, 0)}
ROUTp Yp 0 1e11
XNSW2 OUTr Yp 0 NSW_PS PARAMS: RONval={(tf+1e-15)/(1e-12*2.3)} VTHval=0.5
XPSW2 OUTr Yp VSUP PSW_PS PARAMS: RONval={(tr+1e-15)/(1e-12*2.3)} VTHval=0.5
CDEL2 OUTr 0 1pF
EOUT OUTf 0 VALUE={V(OUTr)*({vhi} - {vlo})+{vlo}}
RDR OUTf Y  1000
RO Y 0 1e11
.ENDS BUFFER_PS
*$
.SUBCKT INV_PS Y A PARAMS: vhi=1 vlo=0 vthresh=500e-3
+ tplh=1e-9 tphl=1e-9 tr=1e-9 tf=1e-9
RA A 0 1e11
CA A 0 0.01pF
VS VSUP 0 DC 1
***** boolean ************
EINV1 Ypp 0 VALUE={IF(V(A) > ({vthresh}), 0, 1)}
ROUTpp Ypp 0 1e11
***** add delay lines ****
XNSW1 OUTp Ypp 0 NSW_PS PARAMS: RONval={(tplh+1e-15)/(1e-12*0.693)}
+ VTHval=0.5
XPSW1 OUTp Ypp VSUP PSW_PS PARAMS: RONval={(tphl+1e-15)/(1e-12*0.693)}
+ VTHval=0.5
CDEL1 OUTp 0 1pF
ETHRESH Yp 0 VALUE={IF(V(OUTp) > 0.5, 1, 0)}
ROUTp Yp 0 1e11
** add rise and fall *****
XNSW2 OUTr Yp 0 NSW_PS PARAMS: RONval={(tf+1e-15)/(1e-12*2.3)} VTHval=0.5
XPSW2 OUTr Yp VSUP PSW_PS PARAMS: RONval={(tr+1e-15)/(1e-12*2.3)} VTHval=0.5
CDEL2 OUTr 0 1pF
**************************
EOUT OUTf 0 VALUE={V(OUTr)*({vhi} - {vlo})+{vlo}}
RDR OUTf Y  100
RO Y 0 1e11
.ENDS INV_PS
*$
.SUBCKT NSW_PS D G S PARAMS: RONval=10k VTHval=0.7 VCHARval=0.01
+ CGval=0.01pF CDval=0.01pF 
RDDUM D 0 1e11
RSDUM S 0 1e11
RGDUM G 0 1e11
CG G D {CGval}
CD D S {CDval}
EEXP F1 0 VALUE={LIMIT(((V(G,S)-VTHval)/VCHARval),-80,80)} 
GOUT D S VALUE={V(D,S)/(RONval*(1+EXP(-LIMIT(((V(G,S)-VTHval)/VCHARval)
+ ,-80,80))))}
.ENDS NSW_PS
*$
.SUBCKT PSW_PS D G S PARAMS: RONval=10k VTHval=0.7 VCHARval=0.01
+ CGval=0.01pF CDval=0.01pF 
RDDUM D 0 1e11
RSDUM S 0 1e11
RGDUM G 0 1e11
CG G D {CGval}
CD D S {CDval}
EEXP F1 0 VALUE={LIMIT(((V(S,G)-VTHval)/VCHARval),-80,80)} 
GOUT S D VALUE={V(S,D)/(RONval*(1+EXP(-LIMIT(((V(S,G)-VTHval)/VCHARval)
+ ,-80,80))))}
.ENDS PSW_PS
*$