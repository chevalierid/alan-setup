*$
* TPS56121
*****************************************************************************
* (C) Copyright 2011 Texas Instruments Incorporated. All rights reserved.
*****************************************************************************
** This model is designed as an aid for customers of Texas Instruments.
** TI and its licensors and suppliers make no warranties, either expressed
** or implied, with respect to this model, including the warranties of
** merchantability or fitness for a particular purpose. The model is
** provided solely on an "as is" basis. The entire risk as to its quality
** and performance is with the customer
*****************************************************************************
*
** Released by: Analog eLab Design Center, Texas Instruments Inc.
* Part: TPS56121
* Date: 11MAR2011
* Model Type: Transient
* Simulator: PSpice
* Simulator Version: 16.0.0.p001
* EVM Order Number: TPS56121EVM-601   
* EVM Users Guide: SLVU445 - March 2011 
* Datasheet: SLUSAH4 - MARCH 2011
* Model Version: Final 1.00
*
*****************************************************************************
*
* Updates:
*
* Final 1.00
* Release to Web.
*
***************************************************************************
.SUBCKT TPS56121 BP FB COMP PGOOD VDD ILIM GND1 GND2 VIN_0 VIN_1 VIN_2 VIN_3 
+ VIN_4 VIN_5 SW_0 SW_1 SW_2 SW_3 SW_4 SW_5 EN_SS BOOT GND_0 GND_1 PARAMS: SS=0
X_U3_U9          U3_VREF U3_N132124 DC_1mV_1mA_1V_1nA
E_U3_GAIN1         U3_N144236 0 VALUE {1 * V(FB)}
V_U3_V4         U3_N133169 RAMP_PK 0.65
X_U3_U14         ENDRB U3_N134265 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U3_S1    U3_N134265 0 U3_N132166 EAOUT ERROR_AMP_U3_S1 
V_U3_V3         U3_N132124 0 0.6
X_U3_U12         ENDRB COMP_C_DONE U3_N133636 AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U3_U11          EAOUT U3_N133169 DC_1mV_1mA_1V_1nA
X_U3_U10         U3_VREF U3_N144236 U3_N132154 op_amp PARAMS: PARAMS:  HLIMIT=6
+  RIN=23.3MEG BW=24MEG DC_GAIN=60 ROUT=100 LLIMIT=0 SRP=10   SRM=10 
R_U3_R1         SS U3_VREF  1k  
X_U3_S2    U3_N134309 0 EAOUT 0 ERROR_AMP_U3_S2 
C_U3_C2         U3_N132154 U3_N132166  1p  
X_U3_U8          0 U3_VREF DC_1mV_1mA_1V_1nA
X_U3_U13         U3_N133636 OCFLT U3_N134309 OR2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
G_U3_G2         U3_N132154 U3_N132166 TABLE { V(U3_N132154, U3_N132166) } 
+ ( (-10,-0.0022)(-1m,-0.002)(0,0)(1m,2m)(10,2.2m) )
X_U1_U5          U1_N196558 BP DC_1mV_1mA_1V_1nA
X_U1_U7         U1_N115446 U1_N115777 EN1 SD1 SRLATCHRHP_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5
X_U1_U22         DCHG U1_N170709 U1_N139517 N175129 SRLATCHRHP_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_U1_ABM2         U1_V1P3 0 VALUE { IF( V(VDD) < 1.3, V(VDD), 1.3)    }
X_U1_U14         BPOK EN1 U1_UVLO_OFF MENA AND3_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U1_U20         ENDRB U1_N168084 U1_N166898 OR2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
V_U1_V1         U1_N115530 0 0.7
E_U1_ABM5         U1_N160998 0 VALUE { IF(V(ENDRV) > 0.5, (V(EN_SS) - 0.8), 0) 
+    }
X_U1_U15         MENA MSD INV_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U1_S1    U1_CHARGE1 0 U1_N190851 EN_SS EN_SS_U1_S1 
X_U1_U17         U1_N164290 MENA SS_UP AND2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U1_U23         VDD U1_N230834 U1_N230645 U1_UVLO_OFF COMPHYS_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U1_U9         U1_N144920 EN_SS U1_N115777 COMP_BASIC
V_U1_V2         U1_N151434 0 0.4
G_U1_ABMII1         U1_V1P3 EN_SS VALUE { { IF (V(U1_CHARGE1) > 0.5, 40u, 0) } 
+    }
X_U1_U3         U1_N151434 EN_SS U1_N151462 COMP_BASIC
V_U1_V3         U1_N144920 0 0.3
V_U1_V5         U1_N230834 0 4.16
X_U1_S2    ENDRV 0 U1_N196558 EN_SS EN_SS_U1_S2 
V_U1_V6         U1_N230645 0 0.545
X_U1_U1          U1_N190851 U1_V1P3 DC_1mV_1mA_1V_1nA
X_U1_U18         U1_N166898 SS_UP SS_ACT N176558 SRLATCHRHP_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5
X_U1_U6         EN_SS U1_N115530 U1_N115446 COMP_BASIC
E_U1_ABM3         SS 0 VALUE { MAX (V(U1_N160998), 0)    }
X_U1_U11         U1_T_DISCHARGE1 U1_N139517 U1_DISCHARGE1 OR2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U1_U16         SS U1_N163802 U1_N164290 COMP_BASIC
X_U1_U12         U1_N150535 SD1 ENDRV ENDRB SRLATCHRHP_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5
G_U1_ABMII2         EN_SS 0 VALUE { { IF (V(U1_DISCHARGE1) > 0.5, 140u, 0) }   
+  }
V_U1_V4         U1_N163802 0 0.7
X_U1_U8         CAL_DONE1 CAL_DONE2 U1_CHARGE1 NAND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U1_U19         U1_N151462 MENA U1_N168084 AND2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U1_U2          0 EN_SS DC_1mV_1mA_1V_1nA
X_U1_U13         EN1 U1_N151462 MENA U1_N150535 AND3_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U1_U10         CAL_DONE1 CAL_DONE2 ENDRB U1_T_DISCHARGE1 AND3_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U1_U21         U1_N168084 MSD U1_N170709 OR2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
G_U1_ABMII3         BP EN_SS VALUE { { IF (V(ENDRV) > 0.5, 10u, 0) }    }
R_R2         SW_0 SW_1  1m  
X_S3    LDRV 0 SW_0 0 TPS56121_S3 
R_R4         SW_0 SW_3  1m  
V_V2         VIN VIN_0 0Vdc
R_R20         GND2 0  1m  
X_U8_U11         U8_N160856 U8_N160840 delay PARAMS: PARAMS:  T=15  
X_U8_U38         U8_N160968 HDRV U8_N160778 COMP_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5
R_U8_R1         U8_N161046 BOOT  40  
X_U8_S1    U8_N160050 0 BOOT HDRV DRIVER_U8_S1 
X_U8_U35         HDON U8_N160050 BUFFER_PS PARAMS: VHI=1 VLO=0 VTHRESH=500E-3
+  TPLH=1E-9 TPHL=15E-9 TR=1E-9 TF=1E-9
D_U8_D5         LDRV VIN DIDEAL 
X_U8_U28          BP U8_N161046 DC_1mV_1A_1V_1nA
X_U8_U36         N00819 U8_N1607361 LDON AND2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U8_U37         N00841 U8_N160840 HDON AND2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
V_U8_V2         U8_N160896 0 0.7
X_U8_U31         U8_N160490 U8_N160440 U8_N160354 AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
D_U8_D4         SW_0 HDRV DIDEAL 
X_U8_U41         U8_N160440 U8_N160432 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U8_S2    U8_N161016 0 HDRV SW_0 DRIVER_U8_S2 
X_U8_U32         U8_N160490 U8_N160432 U8_N160282 AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U8_S3    U8_N160354 0 VIN LDRV DRIVER_U8_S3 
X_U8_U40         U8_N160050 U8_N161016 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U8_S4    U8_N160282 0 LDRV 0 DRIVER_U8_S4 
D_U8_D6         0 LDRV DIDEAL 
V_U8_V3         U8_N160968 SW_0 1.2
X_U8_U33         TRILD U8_N160490 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U8_U39         U8_N160896 LDRV U8_N160856 COMP_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5
X_U8_U34         LDON U8_N160440 BUFFER_PS PARAMS: VHI=1 VLO=0 VTHRESH=500E-3
+  TPLH=1E-9 TPHL=15E-9 TR=1E-9 TF=1E-9
X_U8_U12         U8_N160778 U8_N1607361 delay PARAMS: PARAMS:  T=11  
D_U8_D3         HDRV BOOT DIDEAL 
D_D23         0 SW_0 D_D1 
R_R19         GND1 0  1m  
R_R6         SW_0 SW_5  1m  
X_U2_U2         BP U2_N161218 BPOK COMP_BASIC
C_U2_C2         U2_N163835 BP  1p  
X_U2_U1         EN1 U2_N00092 0 VDD SW1P2T_PS PARAMS: VTH=500E-3 RON=100
+  ROFF=1E6 TDELAY=1E-9 TRISE=1E-9 TFALL=1E-9 INITVAL=0
G_U2_G2         U2_N163835 BP TABLE { V(U2_N163835, BP) } 
+ ( (-10,0)(-1m,0)(0,0)(1m,25m)(10,27m) )
E_U2_ABM3         U2_N163835 0 VALUE { LIMIT( (V(U2_N00092)*0.95), 0, 6.45)   
+  }
V_U2_V1         U2_N161218 0 2.5
R_R18         GND_1 0  1m  
X_U7_U43         U7_MAX_DUTY_CYCLE U7_RAMP U7_MAX_DUTY_B COMP_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5
X_U7_U36         U7_RAMP2 COMP U7_N200633 COMP_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5
E_U7_SUM2         U7_RAMP 0 VALUE {V(U7_RAMP_300)+V(U7_N252107)}
X_U7_U35         U7_SRAMP U7_N188271 U7_N114653 COMP_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5
X_U7_U27         N00841 CLK U7_N193107 N165290 SRLATCHRHP_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5
X_U7_U44         CLK U7_N210733 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U7_U32         U7_N193107 U7_N16779277 U7_N16778618 OR2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
C_U7_C1         U7_SRAMP 0  1n IC={SS} 
X_U7_U9          U7_SRAMP U7_N114537 DC_1mV_1mA_1V_1nA
X_U7_U40         U7_N168103 U7_FAULTB N00819 AND2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U7_U3         U7_N247326 U7_RAMP_300 U7_CLK_300 osc PARAMS: PARAMS: 
+  FREQ=300E3  TCLK=20n
X_U7_S1    U7_N113611 0 U7_SRAMP 0 PWMOSC_U7_S1 
X_U7_U31         OCHS U7_N200633 U7_N160213 OR2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U7_U37         U7_SRAMP U7_N16781644 U7_N16779277 COMP_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5
X_U7_U28         N00841 U7_N114653 U7_N166848 N167104 SRLATCHRHP_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U7_U48         FAULT U7_FAULT_1000 U7_N248370 OR2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
E_U7_ABM4         U7_MAX_DUTY_CYCLE 0 VALUE { IF( (V(FREQ) > 0.2 & V(FREQ) <
+  0.4), 0.93,  
+ IF( (V(FREQ) > 0.9 & V(FREQ) < 1.1), 0.85, 0.9) )   }
X_U7_U45         U7_N210733 U7_N210378 U7_PWM_BEFORE AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
E_U7_ABM6         U7_FAULT_500 0 VALUE { IF(( (V(FREQ) > 0.2 & V(FREQ) < 0.4) |
+   
+ (V(FREQ) > 0.9 & V(FREQ) <1.1)), 1, 0)   }
X_U7_U47         FAULT U7_FAULT_500 U7_N248204 OR2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
E_U7_SUM1         U7_N252107 0 VALUE {V(U7_RAMP_1000)+V(U7_RAMP_500)}
E_U7_ABM7         U7_FAULT_1000 0 VALUE { IF(( (V(FREQ) > 0.4 & V(FREQ) < 0.6)
+  |  
+ (V(FREQ) > 0.2 & V(FREQ) <0.4)), 1, 0)   }
E_U7_ABM3         RAMP_PK 0 VALUE { V(VDD)/6+0.65    }
X_U7_U30         U7_N114697 U7_N114609 U7_N16778618 U7_N168103 AND3_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
E_U7_ABM2         U7_N188271 0 VALUE { 1-V(U7_RAMP)    }
X_U7_U34         SW_START U7_N113611 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U7_U29         U7_N166848 U7_N114609 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U7_U5         U7_N248370 U7_RAMP_1000 U7_CLK_1000 osc PARAMS: PARAMS: 
+  FREQ=1000E3  TCLK=20n
V_U7_V3         RAMP_VLY 0 0.65
G_U7_ABMI1         U7_N114537 U7_SRAMP VALUE { 1e-3*V(FREQ)/128}    }
X_U7_U42         N00841 U7_N114697 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
E_U7_ABM5         U7_FAULT_300 0 VALUE { IF(( (V(FREQ) > 0.4 & V(FREQ) < 0.6) |
+   
+ (V(FREQ) > 0.9 & V(FREQ) <1.1)), 1, 0)   }
E_U7_SUM3         U7_N254345 0 VALUE {V(U7_CLK_1000)+V(U7_CLK_500)}
X_U7_U33         N00841 FAULT SW_START N173481 SRLATCHRHP_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5
X_U7_U26         CLK U7_N160213 U7_N210378 N204543 SRLATCHRHP_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5
V_U7_V1         U7_N114537 0 1.1
X_U7_U4         U7_N248204 U7_RAMP_500 U7_CLK_500 osc PARAMS: PARAMS: 
+  FREQ=500E3  TCLK=20n
E_U7_SUM4         CLK 0 VALUE {V(U7_CLK_300)+V(U7_N254345)}
X_U7_U39         U7_PWM_BEFORE U7_FAULTB U7_MAX_DUTY_B N00841 AND3_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
E_U7_ABM1         U7_RAMP2 0 VALUE { (V(U7_RAMP) *V(VDD)/6)+0.65    }
X_U7_U46         FAULT U7_FAULT_300 U7_N247326 OR2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
V_U7_V2         U7_N16781644 0 1
X_U7_U41         FAULT U7_FAULTB INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
R_R1         GND_0 0  1m  
R_R11         VIN_0 VIN_5  1m  
X_U4_S2    U4_CALSIG 0 EAOUT U4_N137823 COMP_CALIB_U4_S2 
X_U4_U14         U4_N147841 COMP_C_DONE BUFFER_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=140E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
X_U4_CALIB_TIMING_U17         U4_CALIB_TIMING_N151282 U4_CALIB_TIMING_N151316
+  CAL_DONE2 N153210 SRLATCHRHP_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U4_CALIB_TIMING_U18         U4_CALIB_TIMING_N151510 U4_CALIB_TIMING_N151316
+  U4_N147841 N153246 SRLATCHRHP_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U4_CALIB_TIMING_U6         MENA U4_CALSIG one_shot PARAMS: PARAMS:  T=
+ {(1.1-(SS))*1e6}
X_U4_CALIB_TIMING_U14         U4_CALSIG CAL_END_SIG one_shot_1 PARAMS: PARAMS: 
+  T={(0.8-(0.7*SS)) * 1e6}
X_U4_CALIB_TIMING_U27         MENA U4_CALIB_TIMING_N179654 INV_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U4_CALIB_TIMING_U15         U4_CALSIG U4_CALIB_TIMING_N151510 one_shot_1
+  PARAMS: PARAMS:  T=50  
X_U4_CALIB_TIMING_U16         CAL_END_SIG U4_CALIB_TIMING_N151282 one_shot_1
+  PARAMS: PARAMS:  T=50  
X_U4_CALIB_TIMING_U4         MENA U4_CALIB_TIMING_N151316 INV_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U4_CALIB_TIMING_U30         U4_CALSIG U4_CALIB_TIMING_N179654 OCFLT
+  CAL_END_SIG FAULT OR4_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
R_U4_R4         0 FREQ  1  
X_U4_U21         U4_CALSIG U4_N225143 U4_N225780 AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U4_U22         U4_N225143 U4_N225403 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
G_U4_ABMI4         0 FREQ VALUE { if( V(U4_40K)>0.5 & V(U4_13K)>0.5,1,  
+ if( V(U4_40K)>0.5 & V(U4_13K)<0.5,0.3,  
+ 0.5) )  }
X_U4_U24         U4_N227000 U4_N227008 U4_13K N227440 SRLATCHRHP_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U4_U23         U4_CALSIG U4_N225403 U4_N225872 AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U4_H2    EAOUT COMP U4_ICAL 0 COMP_CALIB_U4_H2 
X_U4_U25         U4_CALSIG U4_N226980 U4_N227000 AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
V_U4_V4         U4_N119463 0 0.005
X_U4_U26         U4_N226980 U4_N226996 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U4_U27         U4_CALSIG U4_N226996 U4_N227008 AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
V_U4_V5         U4_N119519 0 0.015
V_U4_V3         U4_N137823 0 0.4
X_U4_U20         U4_N225780 U4_N225872 U4_40K N225967 SRLATCHRHP_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U4_U15         U4_ICAL U4_N119463 U4_N225143 COMP_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5
X_U4_U16         U4_ICAL U4_N119519 U4_N226980 COMP_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5
X_U4_S4    CAL_END_SIG 0 COMP 0 COMP_CALIB_U4_S4 
R_R10         VIN_0 VIN_4  1m  
R_R3         SW_0 SW_2  1m  
R_R9         VIN_0 VIN_3  1m  
X_S2    HDRV SW_0 VIN SW_0 TPS56121_S2 
X_U5_U14         EN1 U5_N00276 U5_N02439 AND2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U5_U16         FB U5_N01260 U5_N2318683 U5_N00483 COMPHYS_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5
V_U5_V5         U5_N14725857 0 0.500
V_U5_V1         U5_N01260 0 0.675
V_U5_V6         U5_N147259070 0 25m
X_U5_S1    U5_N02439 0 PGOOD 0 PGOOD_U5_S1 
X_U5_U18         U5_N14725857 FB U5_N147259070 U5_N00458 COMPHYS_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U5_U15         U5_N00483 U5_N00458 U5_N00200 U5_N00276 OR3_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
V_U5_V3         U5_N2318683 0 25m
X_U5_U12         U5_N00264 SS_UP U5_N00254 AND2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U5_U11         U5_N00254 U5_N00200 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U5_U10         OCFLT U5_N00264 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
R_R8         VIN_0 VIN_2  1m  
R_R7         VIN_0 VIN_1  1m  
V_V3         LDRV ILIM 0Vdc
X_U6_DIG_MUX_2_1_U1         U6_N16254 OCFLT U6_DIG_MUX_2_1_N00100
+  NAND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U6_DIG_MUX_2_1_U2         U6_CLK2 U6_DIG_MUX_2_1_N00213 U6_DIG_MUX_2_1_N00110
+  NAND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U6_DIG_MUX_2_1_U3         U6_DIG_MUX_2_1_N00100 U6_DIG_MUX_2_1_N00110
+  U6_N116297 NAND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U6_DIG_MUX_2_1_U4         OCFLT OCFLT U6_DIG_MUX_2_1_N00213 NAND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U6_U1         U6_N01362 U6_N01337 U6_N128687 COMP_BASIC
X_U6_U23         OCFLT U6_FAULTB U6_CNT_3 U6_N_1V U6_N120446 U6_N_1V
+  DFFSBRB_RHPBASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U6_OC_HSD_U1         U6_ENDRV1 U6_OC_HSD_N00165 OCHS AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U6_OC_HSD_U3         U6_ENDRV1 U6_EN_HS_SNS U6_OC_HSD_N109886 AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U6_OC_HSD_U4         U6_OC_HSD_N00189 U6_OC_HSD_N109818 U6_OC_HSD_N00165
+  COMP_BASIC
X_U6_OC_HSD_U5         U6_OC_HSD_N109886 U6_OC_HSD_N109818 VIN SW_0 SW1P2T_PS
+  PARAMS: VTH=500E-3 RON=100 ROFF=1E6 TDELAY=1E-9 TRISE=1E-9 TFALL=1E-9
+  INITVAL=0
V_U6_OC_HSD_V1         VIN U6_OC_HSD_N00189 170m
X_U6_U3         U6_N01784 SW_START ENDRV U6_ENDRV1 AND3_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U6_OC_SnH_S4    U6_OC_SnH_N14720236 0 0 U6_OC_SnH_N14720068
+  OC_SnH_U6_OC_SnH_S4 
X_U6_OC_SnH_U7         U6_OC_SnH_N113722 U6_OC_SnH_N113798 U6_OC_SnH_N113310
+  U6_OC_SnH_N113798 U6_OC_SnH_N114524 U6_OC_SnH_N114111 DFFSBRB_RHPBASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U6_OC_SnH_U1         U6_SAMP U6_OC_SnH_N113247 INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U6_OC_SnH_U2         U6_ENDRV2 U6_OC_SnH_N109976 INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U6_OC_SnH_S3    U6_SAMP 0 0 U6_OC_SnH_N14720060 OC_SnH_U6_OC_SnH_S3 
X_U6_OC_SnH_U3         U6_OC_SnH_N109976 U6_OC_SnH_N114524 INV_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U6_OC_SnH_S5    U6_OC_SnH_N14720236 0 U6_N01362 U6_OC_SnH_N14720060
+  OC_SnH_U6_OC_SnH_S5 
X_U6_OC_SnH_U4         U6_SAMP U6_OC_SnH_N113648 U6_OC_SnH_N113722
+  U6_OC_SnH_N110230 AND3_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U6_OC_SnH_U6         U6_OC_SnH_N113648 U6_OC_SnH_N113310 U6_OC_SnH_N113247
+  U6_OC_SnH_N113310 U6_OC_SnH_N114524 U6_OC_SnH_N114111 DFFSBRB_RHPBASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U6_OC_SnH_U9         U6_OC_SnH_N109456 U6_HOLD U6_OC_SnH_N14720236
+  AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
C_U6_OC_SnH_C1         U6_OC_SnH_N14720068 U6_OC_SnH_N14720060  30p  
X_U6_OC_SnH_U8         U6_OC_SnH_N110230 U6_OC_SnH_N109976 U6_OC_SnH_N109456
+  U6_OC_SnH_N108898 SRLATCHRHP_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U6_OC_SnH_S2    U6_SAMP 0 SW_0 U6_OC_SnH_N14720068 OC_SnH_U6_OC_SnH_S2 
X_U6_OC_SnH_S6    U6_OC_SnH_N108898 0 U6_N01362 0 OC_SnH_U6_OC_SnH_S6 
V_U6_OC_SnH_V1         U6_OC_SnH_N114111 0 1
X_U6_OC_TIMING_U18         U6_OC_TIMING_N115503 U6_HOLD INV_PS PARAMS: VHI=1
+  VLO=0 VTHRESH=500E-3 TPLH=50E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
X_U6_OC_TIMING_U22         U6_HOLD U6_OC_TIMING_N116265 BUFFER_PS PARAMS: VHI=1
+  VLO=0 VTHRESH=500E-3 TPLH=300E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
X_U6_OC_TIMING_U1         HDON U6_OC_TIMING_HDONB INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U6_OC_TIMING_U11         U6_OC_TIMING_N107290 U6_OC_TIMING_N116265
+  U6_OC_TIMING_N114888 OR2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U6_OC_TIMING_U3         U6_ENDRV1 U6_OC_TIMING_N107290 INV_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U6_OC_TIMING_U10         HDON U6_OC_TIMING_N114707 U6_OC_TIMING_N114982
+  AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U6_OC_TIMING_U14         U6_OC_TIMING_N107280 U6_OC_TIMING_N107256
+  U6_EN_HS_SNS N121949 SRLATCHRHP_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U6_OC_TIMING_U17         U6_OC_TIMING_N107280 U6_OC_TIMING_HDONB INV_PS
+  PARAMS: VHI=1 VLO=0 VTHRESH=500E-3 TPLH=150E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
X_U6_OC_TIMING_U19         U6_OC_TIMING_N114707 HDON INV_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=10E-9 TPHL=10E-9 TR=1E-9 TF=1E-9
X_U6_OC_TIMING_U13         U6_OC_TIMING_N115420 U6_ENDRV1 U6_OC_TIMING_N115503
+  U6_SAMP AND3_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U6_OC_TIMING_U15         U6_OC_TIMING_N114982 U6_OC_TIMING_N114888 U6_HOLD
+  N122320 SRLATCHRHP_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U6_OC_TIMING_U20         LDON U6_OC_TIMING_N115420 BUFFER_PS PARAMS: VHI=1
+  VLO=0 VTHRESH=500E-3 TPLH=20E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
X_U6_OC_TIMING_U9         U6_OC_TIMING_HDONB U6_OC_TIMING_N107290
+  U6_OC_TIMING_N107256 OR2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U6_U21         ENDRV U6_ENDRB INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U6_U27         U6_N10086 OCFLT INV_PS PARAMS: VHI=1 VLO=0 VTHRESH=500E-3
+  TPLH=10E-9 TPHL=120E-9 TR=1E-9 TF=1E-9
X_U6_U25         U6_N06384 U6_CLK2 INV_PS PARAMS: VHI=1 VLO=0 VTHRESH=500E-3
+  TPLH=26E-9 TPHL=10E-9 TR=1E-9 TF=1E-9
V_U6_V1         U6_N_1V 0 1
X_U6_U26         U6_N08462 SS_ACT INV_PS PARAMS: VHI=1 VLO=0 VTHRESH=500E-3
+  TPLH=120E-9 TPHL=10E-9 TR=1E-9 TF=1E-9
X_U6_U9         CLK SW_START U6_CLK2 AND2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U6_U6         OCFLT U6_N04180 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U6_U20         U6_N16254 U6_N14747 SS_ACT U6_N14747 OCFLT U6_N_1V
+  DFFSBRB_RHPBASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U6_OCSET_U19         U6_OCSET_N159883 U6_OCSET_N153743 U6_DIS_OC N160024
+  SRLATCHRHP_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U6_OCSET_U5         U6_OCSET_N151316 U6_OCSET_N151166 TRILD OR2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U6_OCSET_U18         U6_OCSET_N153855 U6_OCSET_N153743 CAL_DONE1 N156574
+  SRLATCHRHP_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U6_OCSET_S2    CAL_END_SIG 0 U6_OCSET_N112055 ILIM OCSET_U6_OCSET_S2 
X_U6_OCSET_U8         MENA U6_OCSET_N153809 one_shot PARAMS: PARAMS:  T=
+ {(1.8-(1.65*SS)) * 1e6}
G_U6_OCSET_ABMII1         U6_OCSET_N112099 U6_OCSET_N112055 VALUE { {IF
+  (V(CAL_END_SIG) > 0.5, 10u, 0)}    }
X_U6_OCSET_U15         U6_OCSET_N153809 U6_OCSET_N153855 one_shot_1 PARAMS:
+  PARAMS:  T=50  
X_U6_OCSET_U2         MENA U6_OCSET_N150555 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
V_U6_OCSET_V1         U6_OCSET_N112099 0 345m
X_U6_OCSET_U1          U6_OCSET_N112055 U6_OCSET_N112099 DC_1mV_1mA_1V_1nA
X_U6_OCSET_U4         CAL_DONE1 U6_OCSET_N150946 U6_OCSET_N151166
+  NOR2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
E_U6_OCSET_ABM1         U6_OCSET_N159883 0 VALUE { {IF (V(CAL_END_SIG) > 0.5 &
+  V(CAL_DONE1) > 0.5 & V(ILIM) > 300m, 1, 0)}    }
X_U6_OCSET_U6         ENDRV U6_OCSET_N151316 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
E_U6_OCSET_E2         U6_N01337 0 U6_OCSET_N112055 0 2
X_U6_OCSET_U7         MENA U6_OCSET_N153743 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
C_U6_OCSET_C2         0 U6_OCSET_N112055  1n  
X_U6_OCSET_U3         U6_OCSET_N150555 U6_OCSET_N150946 BUFFER_PS PARAMS: VHI=1
+  VLO=0 VTHRESH=500E-3 TPLH=1E-9 TPHL=5E-6 TR=1E-9 TF=1E-9
X_U6_U18         OCFLT U6_N10086 U6_N11993 AND2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U6_U15         SS_ACT U6_N08462 U6_N09250 NOR2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U6_U4         U6_N02424 U6_HOLD U6_OCLS AND2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U6_U13         U6_N06890 U6_FAULTB U6_N116664 AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U6_U2         U6_DIS_OC U6_N01784 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U6_U16         OCFLT U6_N09250 U6_N12189 AND2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U6_U7         U6_N04180 U6_ENDRV1 U6_ENDRV2 AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U6_UP_DN_CNTR2_TFLOP1_U1         U6_UP_DN_CNTR2_Q0 U6_UP_DN_CNTR2_Q0B
+  U6_N116297 U6_UP_DN_CNTR2_TFLOP1_N00087 U6_UP_DN_CNTR2_N00321
+  U6_UP_DN_CNTR2_TFLOP1_N00116 DFFSBRB_RHPBASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U6_UP_DN_CNTR2_TFLOP1_U2         U6_UP_DN_CNTR2_Q0 U6_UP_DN_CNTR2_HOLDB
+  U6_UP_DN_CNTR2_TFLOP1_N00087 XOR2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
V_U6_UP_DN_CNTR2_TFLOP1_V1         U6_UP_DN_CNTR2_TFLOP1_N00116 0 1
X_U6_UP_DN_CNTR2_U8         U6_N116664 U6_UP_DN_CNTR2_DOWN INV_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U6_UP_DN_CNTR2_TFLOP2_U1         U6_UP_DN_CNTR2_Q1 U6_UP_DN_CNTR2_Q1B
+  U6_N116297 U6_UP_DN_CNTR2_TFLOP2_N00087 U6_UP_DN_CNTR2_N00321
+  U6_UP_DN_CNTR2_TFLOP2_N00116 DFFSBRB_RHPBASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U6_UP_DN_CNTR2_TFLOP2_U2         U6_UP_DN_CNTR2_Q1 U6_UP_DN_CNTR2_T1
+  U6_UP_DN_CNTR2_TFLOP2_N00087 XOR2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
V_U6_UP_DN_CNTR2_TFLOP2_V1         U6_UP_DN_CNTR2_TFLOP2_N00116 0 1
X_U6_UP_DN_CNTR2_U1         U6_ENDRB U6_UP_DN_CNTR2_N00321 INV_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U6_UP_DN_CNTR2_U6         U6_UP_DN_CNTR2_Q0B U6_UP_DN_CNTR2_HOLDB
+  U6_UP_DN_CNTR2_DOWN U6_UP_DN_CNTR2_N00689 NAND3_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U6_UP_DN_CNTR2_U2         U6_UP_DN_CNTR2_HOLD U6_UP_DN_CNTR2_HOLDB
+  INV_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U6_UP_DN_CNTR2_U9         U6_UP_DN_CNTR2_Q0B U6_UP_DN_CNTR2_Q1B U6_CNT_0
+  AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U6_UP_DN_CNTR2_U7         U6_UP_DN_CNTR2_N00647 U6_UP_DN_CNTR2_N00689
+  U6_UP_DN_CNTR2_T1 NAND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U6_UP_DN_CNTR2_U3         U6_UP_DN_CNTR2_Q0 U6_UP_DN_CNTR2_Q1 U6_CNT_3
+  AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U6_UP_DN_CNTR2_U11         U6_UP_DN_CNTR2_N02662 U6_UP_DN_CNTR2_N02762
+  U6_UP_DN_CNTR2_HOLD NAND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U6_UP_DN_CNTR2_U10         U6_UP_DN_CNTR2_DOWN U6_CNT_0 U6_UP_DN_CNTR2_N02762
+  NAND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U6_UP_DN_CNTR2_U4         U6_CNT_3 U6_N116664 U6_UP_DN_CNTR2_N02662
+  NAND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U6_UP_DN_CNTR2_U5         U6_UP_DN_CNTR2_Q0 U6_UP_DN_CNTR2_HOLDB U6_N116664
+  U6_UP_DN_CNTR2_N00647 NAND3_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U6_U29         OCHS U6_OCLS OCDET OR2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U6_U24         U6_N128687 U6_N02424 BUF_DELAY_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5 DELAY=100n
X_U6_U19         U6_N11993 U6_N12189 DCHG OR2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U6_U22         U6_CNT_0 U6_ENDRB U6_N120446 NOR2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U6_U28         OCDET U6_N06516 U6_N06890 N150084 SRLATCHRHP_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5
X_U6_U11         U6_CLK2 U6_N06384 U6_N06516 NOR2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
D_D22         SW_0 VIN D_D1 
R_R5         SW_0 SW_4  1m  
.ENDS TPS56121
*$
.subckt ERROR_AMP_U3_S1 1 2 3 4  
S_U3_S1         3 4 1 2 _U3_S1
RS_U3_S1         1 2 1G
.MODEL         _U3_S1 VSWITCH Roff=1e7 Ron=1.0 Voff=0.25V Von=0.75V
.ends ERROR_AMP_U3_S1
*$
.subckt ERROR_AMP_U3_S2 1 2 3 4  
S_U3_S2         3 4 1 2 _U3_S2
RS_U3_S2         1 2 1G
.MODEL         _U3_S2 VSWITCH Roff=1e7 Ron=1.0 Voff=0.25V Von=0.75V
.ends ERROR_AMP_U3_S2
*$
.subckt EN_SS_U1_S1 1 2 3 4  
S_U1_S1         3 4 1 2 _U1_S1
RS_U1_S1         1 2 1G
.MODEL         _U1_S1 VSWITCH Roff=1e9 Ron=1.0 Voff=0.25V Von=0.75V
.ends EN_SS_U1_S1
*$
.subckt EN_SS_U1_S2 1 2 3 4  
S_U1_S2         3 4 1 2 _U1_S2
RS_U1_S2         1 2 1G
.MODEL         _U1_S2 VSWITCH Roff=1e9 Ron=1.0 Voff=0.25V Von=0.75V
.ends EN_SS_U1_S2
*$
.subckt TPS56121_S3 1 2 3 4  
S_S3         3 4 1 2 _S3
RS_S3         1 2 1G
.MODEL         _S3 VSWITCH Roff=10e6 Ron=1.9m Voff=1 Von=2
.ends TPS56121_S3
*$
.subckt DRIVER_U8_S1 1 2 3 4  
S_U8_S1         3 4 1 2 _U8_S1
RS_U8_S1         1 2 1G
.MODEL         _U8_S1 VSWITCH Roff=1e9 Ron=1.5 Voff=0.25V Von=0.75V
.ends DRIVER_U8_S1
*$
.subckt DRIVER_U8_S2 1 2 3 4  
S_U8_S2         3 4 1 2 _U8_S2
RS_U8_S2         1 2 1G
.MODEL         _U8_S2 VSWITCH Roff=1e9 Ron=1.0 Voff=0.25V Von=0.75V
.ends DRIVER_U8_S2
*$
.subckt DRIVER_U8_S3 1 2 3 4  
S_U8_S3         3 4 1 2 _U8_S3
RS_U8_S3         1 2 1G
.MODEL         _U8_S3 VSWITCH Roff=1e9 Ron=1.5 Voff=0.25V Von=0.75V
.ends DRIVER_U8_S3
*$
.subckt DRIVER_U8_S4 1 2 3 4  
S_U8_S4         3 4 1 2 _U8_S4
RS_U8_S4         1 2 1G
.MODEL         _U8_S4 VSWITCH Roff=1e9 Ron=0.6 Voff=0.25V Von=0.75V
.ends DRIVER_U8_S4
*$
.subckt PWMOSC_U7_S1 1 2 3 4  
S_U7_S1         3 4 1 2 _U7_S1
RS_U7_S1         1 2 1G
.MODEL         _U7_S1 VSWITCH Roff=1e9 Ron=1.0 Voff=0.25V Von=0.75V
.ends PWMOSC_U7_S1
*$
.subckt COMP_CALIB_U4_S2 1 2 3 4  
S_U4_S2         3 4 1 2 _U4_S2
RS_U4_S2         1 2 1G
.MODEL         _U4_S2 VSWITCH Roff=1e9 Ron=1 Voff=0.25V Von=0.75V
.ends COMP_CALIB_U4_S2
*$
.subckt COMP_CALIB_U4_H2 1 2 3 4  
H_U4_H2         3 4 VH_U4_H2 1000
VH_U4_H2         1 2 0V
.ends COMP_CALIB_U4_H2
*$
.subckt COMP_CALIB_U4_S4 1 2 3 4  
S_U4_S4         3 4 1 2 _U4_S4
RS_U4_S4         1 2 1G
.MODEL         _U4_S4 VSWITCH Roff=1e9 Ron=1 Voff=0.25V Von=0.75V
.ends COMP_CALIB_U4_S4
*$
.subckt TPS56121_S2 1 2 3 4  
S_S2         3 4 1 2 _S2
RS_S2         1 2 1G
.MODEL         _S2 VSWITCH Roff=10e6 Ron=5m Voff=1 Von=2
.ends TPS56121_S2
*$
.subckt PGOOD_U5_S1 1 2 3 4  
S_U5_S1         3 4 1 2 _U5_S1
RS_U5_S1         1 2 1G
.MODEL         _U5_S1 VSWITCH Roff=500k Ron=30 Voff=0.2 Von=0.8
.ends PGOOD_U5_S1
*$
.subckt OC_SnH_U6_OC_SnH_S4 1 2 3 4  
S_U6_OC_SnH_S4         3 4 1 2 _U6_OC_SnH_S4
RS_U6_OC_SnH_S4         1 2 1G
.MODEL         _U6_OC_SnH_S4 VSWITCH Roff=1e9 Ron=1.0m Voff=0.2V Von=0.8V
.ends OC_SnH_U6_OC_SnH_S4
*$
.subckt OC_SnH_U6_OC_SnH_S3 1 2 3 4  
S_U6_OC_SnH_S3         3 4 1 2 _U6_OC_SnH_S3
RS_U6_OC_SnH_S3         1 2 1G
.MODEL         _U6_OC_SnH_S3 VSWITCH Roff=1e9 Ron=1.0m Voff=0.2V Von=0.8V
.ends OC_SnH_U6_OC_SnH_S3
*$
.subckt OC_SnH_U6_OC_SnH_S5 1 2 3 4  
S_U6_OC_SnH_S5         3 4 1 2 _U6_OC_SnH_S5
RS_U6_OC_SnH_S5         1 2 1G
.MODEL         _U6_OC_SnH_S5 VSWITCH Roff=1e9 Ron=100 Voff=0.2V Von=0.8V
.ends OC_SnH_U6_OC_SnH_S5
*$
.subckt OC_SnH_U6_OC_SnH_S2 1 2 3 4  
S_U6_OC_SnH_S2         3 4 1 2 _U6_OC_SnH_S2
RS_U6_OC_SnH_S2         1 2 1G
.MODEL         _U6_OC_SnH_S2 VSWITCH Roff=1e9 Ron=100 Voff=0.2V Von=0.8V
.ends OC_SnH_U6_OC_SnH_S2
*$
.subckt OC_SnH_U6_OC_SnH_S6 1 2 3 4  
S_U6_OC_SnH_S6         3 4 1 2 _U6_OC_SnH_S6
RS_U6_OC_SnH_S6         1 2 1G
.MODEL         _U6_OC_SnH_S6 VSWITCH Roff=1e7 Ron=1k  Voff=0.2V Von=0.8V
.ends OC_SnH_U6_OC_SnH_S6
*$
.subckt OCSET_U6_OCSET_S2 1 2 3 4  
S_U6_OCSET_S2         3 4 1 2 _U6_OCSET_S2
RS_U6_OCSET_S2         1 2 1G
.MODEL         _U6_OCSET_S2 VSWITCH Roff=1e9 Ron=1 Voff=0.25V Von=0.75V
.ends OCSET_U6_OCSET_S2
*$
.subckt DC_1mV_1mA_1V_1nA A C
G1 A C TABLE { V(A, C) } ( (-1,-1n)(0,0)(1m,1m) (2m,100m) (3m,10) )
.ends DC_1mV_1mA_1V_1nA
*$
.subckt DC_1mV_1A_1V_1nA A C
G1 A C TABLE { V(A, C) } ( (-1,-1n)(0,0)(1m,1) (2m,10) (3m,1000) )
.ends DC_1mV_1A_1V_1nA 
*$
.SUBCKT D_D 1 2
D1 1 2 DD
.MODEL DD D( IS=1F N=0.01 TT = 10p )
.ENDS D_D
*$
*.SUBCKT COMPARATOR INP INM OUT  
*EOUT OUT 0 VALUE { IF( V(INP)>V(INM),1,0) }
*.ends COMPARATOR
*$
.SUBCKT ONE_SHOT IN OUT
+ PARAMs:  T=100
S_S1         MEAS 0 RESET2 0 S1
E_ABM1         CH 0 VALUE { if( V(IN)>0.5 | V(OUT)>0.5,1,0)    }
R_R2         RESET2 RESET  0.1  
E_ABM3         OUT 0 VALUE { if( V(MEAS)<0.5 & V(CH)>0.5,1,0)    }
R_R1         MEAS CH  {T} 
C_C2         0 RESET2  1.4427n  
C_C1         0 MEAS  1.4427n  
E_ABM2         RESET 0 VALUE { if(V(CH)<0.5,1,0)    }
.MODEL         S1 VSWITCH Roff=1e9 Ron=1.0 Voff=0.25V Von=0.75V
.ENDS ONE_SHOT
*$
.SUBCKT ONE_SHOT_1 IN OUT
+ PARAMs:  T=100
S_S1         MEAS 0 RESET2 0 S1
E_ABM1         CH 0 VALUE { if( V(IN)<0.5 | V(OUT)>0.5,1,0)    }
R_R2         RESET2 RESET  0.1  
E_ABM3         OUT 0 VALUE { if( V(MEAS)<0.5 & V(CH)>0.5,1,0)    }
R_R1         MEAS CH  {T} 
C_C2         0 RESET2  1.4427n  
C_C1         0 MEAS  1.4427n  
E_ABM2         RESET 0 VALUE { if(V(CH)<0.5,1,0)    }
.MODEL         S1 VSWITCH Roff=1e9 Ron=1.0 Voff=0.25V Von=0.75V
.ENDS ONE_SHOT_1
*$
*.SUBCKT AND_1 A B OUT  
*EOUT OUT 0 VALUE { IF( V(A)>0.5 & V(B)<0.5,1,0) }
*.ends AND_1
*$
*.SUBCKT AND A B OUT  
*EOUT OUT 0 VALUE { IF( V(A)>0.5 & V(B)>0.5,1,0) }
*.ends AND
*$
.SUBCKT DLATCH D CLK Q
EABM1  1 0 VALUE { If( (V(D)>0.5 & V(CLK)>0.5) | V(Q)>0.5, 1,0)    }
EABM2  Q  0 VALUE { If( V(2)>0.5 & (V(CLK)<0.5 | V(D)>0.5) , 1,0)    }
R1   1 2 1
C1   2  0 5n
.ENDS DLATCH
*$
*.SUBCKT INVERTER IN OUT  
*EOUT OUT 0 VALUE { IF( V(IN)<0.5,1,0) }
*.ends INVERTER
*$
*.SUBCKT OR A B OUT  
*EOUT OUT 0 VALUE { IF( V(A)>0.5 | V(B)>0.5,1,0) }
*.ends OR
*$
*.SUBCKT RSFF_RDOM R S Q
*EABM1  1 0 VALUE { If( V(S)>0.5 | V(Q)>0.5, 1,0)    }
*EABM2  Q  0 VALUE { If( V(2)>0.5 & V(R)<0.5, 1,0)    }
*R1   1 2 1
*C1   2  0 5n
*.ENDS RSFF_RDOM
*$
.model DIDEAL D Is=1e-14 Cjo=.1pF Rs=.1
*$
*.SUBCKT AND3 A B C OUT  
*EOUT OUT 0 VALUE { IF( V(A)>0.5 & V(B)>0.5 & V(C)>0.5,1,0) }
*.ends AND3
*$
.SUBCKT DELAY IN OUT
+ PARAMs:  T=100
S_S1         MEAS 0 RESET2 0 S1
E_ABM1         CH 0 VALUE { if( V(IN)>0.5,1,0)    }
E_ABM3         OUT 0 VALUE { if( V(MEAS)>0.5 & V(CH)>0.5,1,0)    }
R_R1         MEAS CH  {T} 
C_C1         0 MEAS  1.4427n  
E_ABM2         RESET 0 VALUE { if(V(CH)<0.5,1,0)    }
R_R2         RESET2 RESET  0.1  
C_C2         0 RESET2  1.4427n  
.MODEL         S1 VSWITCH Roff=1e9 Ron=1.0 Voff=0.25V Von=0.75V
.ENDS DELAY
*$
.SUBCKT OSC FAULT RAMP CLK PARAMS:  FREQ=100E3 TCLK=1E-6
VCLK         CLK2 0 PULSE 0 1 {TON} 1n 1n {TCLK} {1/FREQ}
S1    RAMP 0 2 0 S1M 
EOUT1         2 0 VALUE { if( V(FAULT)>0.5 | V(CLK)>0.5,1,0)    }
EOUT2         CLK 0 VALUE { if( V(FAULT)<0.5,V(CLK2),0)    }
ICH         0 RAMP DC {ICHARGE}  
COSC         0 RAMP  1n IC=0
.PARAM  ICHARGE={1E-9/TON} RON={TCLK/100/1E-9} TON={(1/FREQ)-TCLK}
.MODEL         S1M VSWITCH Roff=1G Ron=1m Voff=0.25 Von=0.75 
.ENDS OSC
*$
.MODEL D_D1 D( IS=1e-15 TT=10p Rs=0.05 N=.1  )
*$
.SUBCKT OP_AMP P M OUT 
+ PARAMs:  Hlimit=5 Rin=10Meg BW=18Meg DC_Gain=100 Rout=100 Llimit=0 SRP=1 SRM=1
R_Rin         P M  {Rin}
E_E1          5 0 M P {-Gain}
E_LIMIT2      6 0 VALUE {LIMIT(V(5), {-Abs(SRM)*Ca*1Meg+V(1)/Ra},
+                 {SRP*Ca*1Meg+V(1)/Ra})}
G_G2          1 0 6 0 -1
R_Ra          0 1  {Ra} 
C_Ca          0 1  {Ca}   
E_LIMIT1      2 0 VALUE {LIMIT(V(1),{Llimit},{Hlimit})}
V_VL          3 0 {Llimit+200m}
V_VH          4 0 {Hlimit-200m}
D_D1          3 1 Dideal 
D_D2          1 4 Dideal 
R_Rout        OUT 2  {Rout}
.model Dideal D Is=1e-10 Cjo=.01pF Rs=1m  N=1
.PARAM  Ra=1k   Ca={exp(DC_gain*log(10)/20)/(2*3.14159*BW*Ra)} 
+ Gain={exp(DC_gain*log(10)/20)/Ra} 
.ENDS OP_AMP
*$
.SUBCKT COMP_BASIC INP INM Y
*** Changed 5V output to 1V output ***
*E_ABM Yint 0 VALUE {IF (V(INP) > 
*+ V(INM), 5,0)}
E_ABM Yint 0 VALUE {IF (V(INP) > 
+ V(INM), 1,0)}
R1 Yint Y 1
C1 Y 0 1n
.ENDS COMP_BASIC
*$
.SUBCKT COMPHYS_BASIC_GEN INP INM HYS OUT PARAMS: VDD=1 VSS=0 VTHRESH=0.5
EIN INP1 INM1 INP INM 1 
EHYS INP1 INP2 VALUE { IF( V(1) > {VTHRESH},-V(HYS),0) }
EOUT OUT 0 VALUE { IF( V(INP2)>V(INM1), {VDD} ,{VSS}) }
R1 OUT 1 1
C1 1 0 5n
RINP1 INP1 0 1K
.ENDS COMPHYS_BASIC_GEN
*$
.SUBCKT AND2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND2_BASIC_GEN
*$
.SUBCKT AND3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND3_BASIC_GEN
*$
.SUBCKT OR2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR2_BASIC_GEN
*$
.SUBCKT OR3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR3_BASIC_GEN
*$
.SUBCKT OR4_BASIC_GEN A B C D Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH} |
+ V(D) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR4_BASIC_GEN
*$
.SUBCKT NAND2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NAND2_BASIC_GEN
*$
.SUBCKT NAND3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NAND3_BASIC_GEN
*$
.SUBCKT NOR2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR2_BASIC_GEN
*$
.SUBCKT INV_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS INV_BASIC_GEN
*$
.SUBCKT INV_DELAY_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY = 10n 
E_ABMGATE1    YINT1 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT1 YINT2 1
CINT YINT2 0 {DELAY*1.3}
E_ABMGATE2    YINT3 0 VALUE {{IF(V(YINT2) > {VTHRESH} , 
+ {VSS},{VDD})}}
RINT2 YINT3 Y 1
CINT2 Y 0 1n
.ENDS INV_DELAY_BASIC_GEN
*$
.SUBCKT BUF_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS BUF_BASIC_GEN
*$
.SUBCKT BUF_DELAY_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY = 10n 
E_ABMGATE1    YINT1 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT1 YINT2 1
CINT YINT2 0 {DELAY*1.3}
E_ABMGATE2    YINT3 0 VALUE {{IF(V(YINT2) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT2 YINT3 Y 1
CINT2 Y 0 1n
.ENDS BUF_DELAY_BASIC_GEN
*$
.SUBCKT XOR2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE  YINT 0 VALUE {{IF(V(A) > {VTHRESH}  ^  
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS XOR2_BASIC_GEN
*$
**Reset has higher priority in this latch
.SUBCKT SRLATCHRHP_BASIC_GEN S R Q QB PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
GQ 0 Qint VALUE = {IF(V(R) > {VTHRESH},-5,IF(V(S)>{VTHRESH},5, 0))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr QB 1 
Cdummy1 Q 0 1n 
Cdummy2 QB 0 1n
.IC V(Qint) {VSS}
.ENDS SRLATCHRHP_BASIC_GEN
*$
.SUBCKT DFFSBRB_RHPBASIC_GEN Q QB CLK D RB SB PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
***Set has higher priority in this
** Changed the delay from 7n/10n to 15n/20n to help larger time step simulations
**Faster flip-flops require a a smaller time step to simulate
X1 CLK CLKdel INV_DELAY_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 15n
X2 CLK CLKdel CLKint AND2_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} 
GQ 0 Qint VALUE = {IF(V(RB) < {VTHRESH},-5,IF(V(SB)< {VTHRESH},5, IF(V(CLKint)> {VTHRESH}, 
+ IF(V(D)> {VTHRESH},5,-5),0)))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 5
D_D11 0 Qint D_D1 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_DELAY_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 20n
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr Qb 1 
Cdummy1 Q 0 1nF 
Cdummy2 QB 0 1nF 
.IC V(Qint) {VSS}
.ENDS DFFSBRB_RHPBASIC_GEN
*$
**** BUFFER
.SUBCKT BUFFER_PS A Y PARAMS: vhi=1 vlo=0 vthresh=500e-3 tplh=1e-9 tphl=1e-9 tr=1e-9 tf=1e-9
RA A 0 1e11
CA A 0 0.01pF
VS VSUP 0 DC 1
***** boolean ************
EBUF1 Ypp 0 VALUE={IF(V(A) > ({vthresh}), 1, 0)}
ROUTpp Ypp 0 1e11
***** add delay lines ****
XNSW1 OUTp Ypp 0 NSW_PS PARAMS: RONval={(tplh+1e-15)/(1e-12*0.693)} VTHval=0.5
XPSW1 OUTp Ypp VSUP PSW_PS PARAMS: RONval={(tphl+1e-15)/(1e-12*0.693)} VTHval=0.5
CDEL1 OUTp 0 1pF
ETHRESH Yp 0 VALUE={IF(V(OUTp) > 0.5, 1, 0)}
ROUTp Yp 0 1e11
** add rise and fall *****
XNSW2 OUTr Yp 0 NSW_PS PARAMS: RONval={(tf+1e-15)/(1e-12*2.3)} VTHval=0.5
XPSW2 OUTr Yp VSUP PSW_PS PARAMS: RONval={(tr+1e-15)/(1e-12*2.3)} VTHval=0.5
CDEL2 OUTr 0 1pF
**************************
EOUT OUTf 0 VALUE={V(OUTr)*({vhi} - {vlo})+{vlo}}
RDR OUTf Y  1000
RO Y 0 1e11
.ENDS BUFFER_PS
*$
**** INVERTER 
.SUBCKT INV_PS Y A PARAMS: vhi=1 vlo=0 vthresh=500e-3 tplh=1e-9 tphl=1e-9 tr=1e-9 tf=1e-9
RA A 0 1e11
CA A 0 0.01pF
VS VSUP 0 DC 1
***** boolean ************
EINV1 Ypp 0 VALUE={IF(V(A) > ({vthresh}), 0, 1)}
ROUTpp Ypp 0 1e11
***** add delay lines ****
XNSW1 OUTp Ypp 0 NSW_PS PARAMS: RONval={(tplh+1e-15)/(1e-12*0.693)} VTHval=0.5
XPSW1 OUTp Ypp VSUP PSW_PS PARAMS: RONval={(tphl+1e-15)/(1e-12*0.693)} VTHval=0.5
CDEL1 OUTp 0 1pF
ETHRESH Yp 0 VALUE={IF(V(OUTp) > 0.5, 1, 0)}
ROUTp Yp 0 1e11
** add rise and fall *****
XNSW2 OUTr Yp 0 NSW_PS PARAMS: RONval={(tf+1e-15)/(1e-12*2.3)} VTHval=0.5
XPSW2 OUTr Yp VSUP PSW_PS PARAMS: RONval={(tr+1e-15)/(1e-12*2.3)} VTHval=0.5
CDEL2 OUTr 0 1pF
**************************
EOUT OUTf 0 VALUE={V(OUTr)*({vhi} - {vlo})+{vlo}}
RDR OUTf Y  1000
RO Y 0 1e11
.ENDS INV_PS
*$
.SUBCKT SW1P2T_PS A SWC SWD1 SWD2 PARAMS: vth=500e-3 ron=100 roff=1e6 tdelay=1e-9 trise=1e-9 tfall=1e-9 initval=0
*
VS VSUP 0 DC 1
***** boolean ************
EBUF1 Ypp 0 VALUE={IF(V(A) > ({vth}), {initval}, {1-initval})}
ROUTpp Ypp 0 1e11
***** add delay lines ****
XNSW1 OUTp Ypp 0 NSW_PS PARAMS: RONval={(tdelay+1e-15)/(1e-12*0.693)} VTHval=0.5
XPSW1 OUTp Ypp VSUP PSW_PS PARAMS: RONval={(tdelay+1e-15)/(1e-12*0.693)} VTHval=0.5
CDEL1 OUTp 0 1pF
ETHRESH Yp 0 VALUE={IF(V(OUTp) > 0.5, 1, 0)}
ROUTp Yp 0 1e11
** Add rise and fall *****
XNSW2 OUTr Yp 0 NSW_PS PARAMS: RONval={(trise+1e-15)/(1e-12*2.3)} VTHval=0.5
XPSW2 OUTr Yp VSUP PSW_PS PARAMS: RONval={(tfall+1e-15)/(1e-12*2.3)} VTHval=0.5
CDEL2 OUTr 0 1pF
***Switches ************
EOUT1 VG1 test1 VALUE={V(OUTr)}
Etest1 test1 0 VALUE {IF(V(SWD1) < V(SWC), V(SWD1), V(SWC))}
Etest2 test2 0 VALUE {IF(V(SWD2) < V(SWC), V(SWD2), V(SWC))}
EOUT2 VG2 test2 VALUE={1-V(OUTr)}
XNSW3 SWD1 VG1 SWC NSW_PS PARAMS: RONval={ron} VTHval=0.5
XNSW4 SWD2 VG2 SWC NSW_PS PARAMS: RONval={ron} VTHval=0.5
.ENDS SW1P2T_PS
*$
.SUBCKT NSW_PS D G S PARAMS: RONval=10k VTHval=0.7 VCHARval=0.01 CGval=0.01pF CDval=0.01pF CSval=0.01pf
RDDUM D 0 1e11
RSDUM S 0 1e11
RGDUM G 0 1e11
CG G D {CGval}
CD D S {CDval}
CS G S {CSval}
***EEXP F1 0 VALUE={LIMIT(((V(G,S)-VTHval)/VCHARval),-80,80)} 
Etest test 0 VALUE={IF(V(D) > V(S), V(G,S), V(G,D))}
GOUT D S VALUE={V(D,S)/(RONval*(1+EXP(-LIMIT(((V(test)-VTHval)/VCHARval),-80,80))))}
.ENDS NSW_PS
*$
.SUBCKT PSW_PS D G S PARAMS: RONval=10k VTHval=0.7 VCHARval=0.01 CGval=0.01pF CDval=0.01pF 
RDDUM D 0 1e11
RSDUM S 0 1e11
RGDUM G 0 1e11
CG G D {CGval}
CD D S {CDval}
***EEXP F1 0 VALUE={LIMIT(((V(S,G)-VTHval)/VCHARval),-80,80)} 
Etest test 0 VALUE={IF(V(S) > V(D), V(S,G), V(D,G))}
GOUT S D VALUE={V(S,D)/(RONval*(1+EXP(-LIMIT(((V(test)-VTHval)/VCHARval),-80,80))))}
.ENDS PSW_PS
*$
.SUBCKT LDCR IN OUT
+ PARAMs:  L=1u DCR=0.01 IC=0
L	IN 1  {L} IC={IC}
RDCR	1 OUT {DCR}
.ENDS LDCR
*$
.SUBCKT CESR IN OUT
+ PARAMs:  C=100u ESR=0.01 X=2 IC=0
C	IN 1  {C*X} IC={IC}
RESR	1 OUT {ESR/X}
.ENDS CESR
*$
.SUBCKT COMP_BASIC_GEN INP INM Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5	
E_ABM Yint 0 VALUE {IF (V(INP) > 
+ V(INM), {VDD},{VSS})}
R1 Yint Y 1
C1 Y 0 1n
.ENDS COMP_BASIC_GEN
*$

