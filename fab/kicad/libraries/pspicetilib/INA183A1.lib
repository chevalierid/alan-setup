* INA183A1
*****************************************************************************
* (C) Copyright 2021 Texas Instruments Incorporated. All rights reserved.   
*****************************************************************************
** This model is designed as an aid for customers of Texas Instruments.
** TI and its licensors and suppliers make no warranties, either expressed
** or implied, with respect to this model, including the warranties of
** merchantability or fitness for a particular purpose.  The model is
** provided solely on an "as is" basis.  The entire risk as to its quality
** and performance is with the customer
*****************************************************************************
*
* This model is subject to change without notice. Texas Instruments
* Incorporated is not responsible for updating this model.
*
*****************************************************************************
*
* Released by: Texas Instruments Inc.
* Part: INA183A1
* Date: 2021-12-17
* Model Type:  All-in-One
* Simulator: Cadence PSpice
* Simulator Version: 17.4
* Datasheet: SBOSA08 - February 2021
*
* Model Version: 1.0
*
*****************************************************************************	
* MACRO-MODEL SIMULATED PARAMETERS:
*****************************************************************************
* AC PARAMETERS (Typical; small-signal)
**********************
* CLOSED-LOOP OUTPUT IMPEDANCE VS. FREQUENCY (Zout vs. Freq.)
* CLOSED-LOOP GAIN VS. FREQUENCY  WITH RL, CL EFFECTS (Acl vs. Freq.)
* COMMON-MODE REJECTION RATIO VS. FREQUENCY (CMRR vs. Freq.)
    * DC CMRR set to 108 dB, 112 dB, and 116 dB for A1, A2, and A3 variants respectively
**********************
* DC PARAMETERS (Typical)
**********************
* INPUT COMMON-MODE VOLTAGE RANGE (2.6V <= Vcm <= 26.4V)
* GAIN ERROR (Eg) (-267m%, -252m%, -271m% for A1, A2, A3 repectively at 27°C)
* GAIN ERROR DRIFT (Eg vs. Temp)(Max -10 ppm/°C for all variants)
* INPUT BIAS CURRENT VS. INPUT COMMON-MODE VOLTAGE (Ib vs. Vcm)
* INPUT BIAS CURRENT VS. SENSE VOLTAGE (Ib vs. Vsense)
* INPUT OFFSET VOLTAGE at room temperature (Vos) (-160 uV, -158 uV, -141 uV for A1, A2, A3 variant respectively)
* INPUT OFFSET VOLTAGE VS. TEMPERATURE (Vos vs. Temp) (Max -0.5 uV/°C for all variants)
* OUTPUT VOLTAGE SWING vs. OUTPUT CURRENT (Vout vs. Iout)
* SHORT-CIRCUIT OUTPUT CURRENT (Isc) (15 mA sourcing; 12 mA sinking)
* QUIESCENT CURRENT (Iq) (100uA DC offset added to IBP)
* INPUT ESD CURRENT INDICATORS (Increased IB when VCM>26.4 and VCM < -0.31V; ESD turns on when VCM approximately > 28V)
**********************
* TRANSIENT PARAMETERS
**********************
* SLEW RATE (SR)
* OVERLOAD RECOVERY TIME (tor)
******************************************************
.SUBCKT INA183A1 IN+ IN- GND OUT
******************************************************
.MODEL R_NOISELESS RES (T_ABS=-273.15)
C_C10         GND N42834  1E-15   
C_C11         N44757 GND  1E-15   
C_C12         GND N45892  1E-15   
C_C13         N45974 GND  1E-15   
C_C14         GND N853823  1E-15   
C_C15         N853899 GND  1E-15   
C_C16         GND N854203  1E-15   
C_C28         GND VIMON  50N   
C_C29         GND VOUT_S  1E-9   
C_C33         VS_B 0  1E-15   
C_C35         N819524 GND  1E-15   
C_C36         GND N35025  0.01N   
C_C7         N816536 GND  1E-15   
C_C8         GND N35813  1E-15   
C_C9         GND N38096  1E-15   
C_CC         CLAMP GND  45E-9   
E_E24         N988109 N827996 CMR GND -0.5
E_E25         N986744 N2159098 CMR GND 0.5
E_E3         N112292 GND OUT GND 1
G_G12         VSENSE GND CLAMP GND -1E-3
G_G15         CLAW_CLAMP GND N1304807 GND -1E-3
G_G16         CL_CLAMP GND CLAW_CLAMP GND -1E-3
G_G36         N2127928 0 N825687 0 -1
G_G61         N747447 GND GND IN- -1
G_G62         VICM GND IN+ N747447 -0.5
G_G66         ACL GND CL_CLAMP GND -1
G_G8         VS_CLP GND N35813 GND -1E-3
G_G9         GND_CLP GND N38096 GND -1E-3
R_R107         N2127928 0 R_NOISELESS 1
R_R110         N2127928 VS_B R_NOISELESS 1E-3
R_R147         N747447 GND R_NOISELESS 1
R_R148         VICM GND R_NOISELESS 1
R_R153         GND VCM_MIN R_NOISELESS 1E9
R_R154         VCM_MAX GND R_NOISELESS 1E9
R_R155         GND N819486 R_NOISELESS 1
R_R156         N819524 N819486 R_NOISELESS 1E-3
R_R157         GND ACL R_NOISELESS 1
R_R158         N827996 N825687  2.5K TC=0,0 
R_R159         VIMON N35025  100 TC=0,0 
R_R27         GND N816482 R_NOISELESS 1
R_R28         N816536 N816482 R_NOISELESS 1E-3
R_R29         N35669 VS_B R_NOISELESS 1E3
R_R30         N35813 N35669 R_NOISELESS 1E-3
R_R31         VS_CLP GND R_NOISELESS 1E3
R_R32         N38050 GND R_NOISELESS 1E3
R_R33         N38096 N38050 R_NOISELESS 1E-3
R_R34         GND_CLP GND R_NOISELESS 1E3
R_R35         GND VS_CLP R_NOISELESS 1E9
R_R36         N42663 GND R_NOISELESS 1
R_R37         N42834 N42663 R_NOISELESS 1E-3
R_R38         N44757 N44799 R_NOISELESS 1E-3
R_R39         GND N44799 R_NOISELESS 1
R_R40         GND GND_CLP R_NOISELESS 1E9
R_R41         GND N50645 R_NOISELESS 1E9
R_R42         N45856 GND R_NOISELESS 1
R_R43         N45892 N45856 R_NOISELESS 1E-3
R_R44         N45974 N45986 R_NOISELESS 1E-3
R_R45         GND N45986 R_NOISELESS 1
R_R46         GND N48550 R_NOISELESS 1E9
R_R49         GND N854059 R_NOISELESS 1E9
R_R50         N853781 GND R_NOISELESS 1
R_R51         N853823 N853781 R_NOISELESS 1E-3
R_R52         N853899 N853917 R_NOISELESS 1E-3
R_R53         GND N853917 R_NOISELESS 1
R_R54         GND N854005 R_NOISELESS 1E9
R_R55         N854203 VSENSE R_NOISELESS 1E-3
R_R60         GND AOL_1 R_NOISELESS 1E6
R_R61         GND CLAMP R_NOISELESS 1E6
R_R62         GND VSENSE R_NOISELESS 1E3
R_R65         GND CLAW_CLAMP R_NOISELESS 1E3
R_R66         GND CL_CLAMP R_NOISELESS 1E3
R_R81         GND N110431 R_NOISELESS 1E9
R_R82         VIMON N110431 R_NOISELESS 100
R_R83         GND N112292 R_NOISELESS 1E9
R_R84         VOUT_S N112292 R_NOISELESS 100
R_R_IN         N819524 N05102 R_NOISELESS 1E3
R_R_INN         N827996 IN- R_NOISELESS 1E-6
R_R_INP         N825687 IN+ R_NOISELESS 1E-6
R_R_IP         N816536 N2144761 R_NOISELESS 1E3
V_VCM_MAX         VCM_MAX GND 26.5
V_VCM_MIN         VCM_MIN GND 2.55
V_V_GRN         N854005 GND -36
V_V_GRP         N854059 GND 38.4
V_V_ISCN         N48550 GND -12
V_V_ISCP         N50645 GND 15
X_AOL_1         N2144761 N05102 GND AOL_1 AOL_1 
X_AOL_2         AOL_1 GND GND CLAMP AOL_2_INA183A1 PARAMS:  GAIN=1E-2 IPOS=1.8E-2
+  INEG=-1.8E-2
X_CLAWN         GND N35025 GND N38050 CLAWN_INA183A1 
X_CLAWP         N35025 GND N35669 VS_B CLAWP_INA183A1 
X_CLAW_AMP         VS_CLP GND_CLP VOUT_S GND N42663 N44799 CLAMP_AMP_LO_INA183A1 
X_CLAW_SRC         N42834 N44757 CLAW_CLAMP GND CLAW_SRC_INA183A1 PARAMS:  GAIN=1
+  IPOS=7.68E-2 INEG=-7.2E-2
X_CL_AMP         N50645 N48550 VIMON GND N45856 N45986 CLAMP_AMP_LO_INA183A1 
X_CL_SRC         N45892 N45974 CL_CLAMP GND CL_SRC_INA183A1 PARAMS:  GAIN=1 IPOS=1.54E-1
+  INEG=-1.44E-1
X_GR_AMP         N854059 N854005 N854203 GND N853781 N853917 CLAMP_AMP_HI_INA183A1 
X_GR_SRC         N853823 N853899 CLAMP GND GR_SRC_INA183A1 PARAMS:  GAIN=1 IPOS=3.6E-2
+  INEG=-3.6E-2
X_H3    OUT N516723 N110431 GND 08_COMPLETE_A1_H3_INA183A1 
X_IBN         N827996 GND VICM IBN_INA183A1 
X_IBP         N825687 GND VICM IBP_INA183A1 
X_PZ1_14         N2116025 GND N2116031 GND GND PZ1_INA183A1 PARAMS:  GAIN=1 FP=400
+  FZ=50K R=10E4
X_PZ1_22         N2116017 GND N2116025 GND GND PZ1_INA183A1 PARAMS:  GAIN=1 FP=400
+  FZ=50K R=1E4
X_U10         N1604384 GND N1304807 GND P1_INA183A1 PARAMS:  GAIN=1 FP=2E6 R=1E6
X_U3         N2148559 GND N2148565 GND GND ZP1_INA183A1 PARAMS:  GAIN=1 FP=10E6 FZ=40
+  R=1E8
X_U30         VICM GND N2148559 GND DC_REJ_SUB_INA183A1 PARAMS:  DC_REJ=108 R=1
X_U4         N2148565 GND CMR GND GND ZP1_INA183A1 PARAMS:  GAIN=1 FP=10E6 FZ=230E3
+  R=1E8
X_U75         GND N2144761 GAIN_RES_DRIFT_INA183A1 PARAMS:  G_RES=49.92E3
+  DRIFT_RES_ROOM=1000 RES_DRIFT=-5E-4 POL=1
X_U76         ACL N05102 GAIN_RES_DRIFT_INA183A1 PARAMS:  G_RES=49.92E3
+  DRIFT_RES_ROOM=1000 RES_DRIFT=-5E-4 POL=1
X_U77         N825687 N827996 VS_B GND ESD_IN_INA183A1 PARAMS: 
X_U9         VSENSE GND N1604384 GND P1_INA183A1 PARAMS:  GAIN=1 FP=300K R=1E6
X_VCM_CLAMPN         N988109 GND N819486 GND VCM_MAX VCM_MIN VCM_CLAMP_INA183A1 
X_VCM_CLAMPP         N986744 GND N816482 GND VCM_MAX VCM_MIN VCM_CLAMP_INA183A1 
X_VNOISE         N1436452 N2159098 VNOISE_INA183A1 PARAMS:  NV=33
X_VOS_DRIFT         N1436452 N825687 VOS_DRIFT_INA183A1 PARAMS:  DC=-208U DRIFT=-0.5E-6
+  POL=1
X_ZOUT_DC_SUB4         ACL N2116213 N2116017 N516723 GND ZOUT_DC_SUB_INA183A1 PARAMS: 
+  ZOUT_DC=.09 ZOUT_MAX=800
X_ZP1LIM8         N2116031 GND N2116213 GND GND ZP1LIM_INA183A1 PARAMS:  GAIN=1 FZ=1E6
+  FP=1E9 R=1E7 IPOS=2.4E3 INEG=-1.92E3
.ENDS  INA183A1
*
.SUBCKT 08_COMPLETE_A1_H3_INA183A1 1 2 3 4  
H_H3         3 4 VH_H3 -1E3
VH_H3         1 2 0V
.ENDS  08_COMPLETE_A1_H3_INA183A1
*
.SUBCKT AOL_1 VC+ VC- IOUT+ IOUT-
+ PARAMS:
+ GAIN = 1E-4
+ IPOS = .5
+ INEG = -.5
G1 IOUT+ IOUT- VALUE={LIMIT(GAIN*V(VC+,VC-),INEG,IPOS)}
.ENDS  AOL_1
*
.SUBCKT AOL_2_INA183A1 VC+ VC- IOUT+ IOUT-
+ PARAMS:
+ GAIN = 1E-2
+ IPOS = 2.66E-02
+ INEG = -2.66E-02
G1 IOUT+ IOUT- VALUE={LIMIT(GAIN*V(VC+,VC-),INEG,IPOS)}
.ENDS  AOL_2_INA183A1
*
.SUBCKT CLAMP_AMP_HI_INA183A1 VC+ VC- VIN COM VO+ VO-
.PARAM G = 10
GVO+ COM VO+ VALUE = {IF(V(VIN,COM)>V(VC+,COM),((V(VIN,COM)-V(VC+,COM))*G),0)}
GVO- COM VO- VALUE = {IF(V(VIN,COM)<V(VC-,COM),((V(VC-,COM)-V(VIN,COM))*G),0)}
.ENDS  CLAMP_AMP_HI_INA183A1
*
.SUBCKT CLAMP_AMP_LO_INA183A1 VC+ VC- VIN COM VO+ VO-
.PARAM G = 1
GVO+ COM VO+ VALUE = {IF(V(VIN,COM)>V(VC+,COM),((V(VIN,COM)-V(VC+,COM))*G),0)}
GVO- COM VO- VALUE = {IF(V(VIN,COM)<V(VC-,COM),((V(VC-,COM)-V(VIN,COM))*G),0)}
.ENDS  CLAMP_AMP_LO_INA183A1
*
.SUBCKT CLAWN_INA183A1 VC+ VC- IOUT+ IOUT-
G1 IOUT+ IOUT- TABLE {ABS(V(VC+,VC-))} =
+(0, 4.8E-5)
+(0.625, 1E-4)
+(1.18, 2E-4)
+(1.5, 2.2E-4)
+(2, 3.5E-4)
+(2.5, 4.5E-4)
+(5, 8E-4)
+(7.5, 1.3E-3)
+(10, 1.9E-3)
+(11.25, 2.2E-3)
+(12.4, 2.75E-3)
.ENDS  CLAWN_INA183A1
*
.SUBCKT CLAWP_INA183A1 VC+ VC- IOUT+ IOUT-
G1 IOUT+ IOUT- TABLE {ABS(V(VC+,VC-))}
+(0, 5E-5)
+(0.625, 1.1E-4)
+(1.18, 2.21E-4)
+(1.5, 2.35E-4)
+(2, 2.4E-4)
+(2.5, 2.45E-4)
+(5, 4E-4)
+(7.5, 7.5E-4)
+(10, 1E-3)
+(11.25, 1.2E-3)
+(12.4, 1.44E-3)
+(15, 1.8E-3)
.ENDS  CLAWP_INA183A1
*
.SUBCKT CLAW_SRC_INA183A1 VC+ VC- IOUT+ IOUT-
+ PARAMS:
+ GAIN = 1
+ IPOS = 7E-2
+ INEG = -8.8E-2
G1 IOUT+ IOUT- VALUE={LIMIT(GAIN*V(VC+,VC-),INEG,IPOS)}
.ENDS  CLAW_SRC_INA183A1
*
.SUBCKT CL_SRC_INA183A1 VC+ VC- IOUT+ IOUT-
+ PARAMS:
+ GAIN = 1
+ IPOS = 1.4E-1
+ INEG = -1.76E-1
G1 IOUT+ IOUT- VALUE={LIMIT(GAIN*V(VC+,VC-),INEG,IPOS)}
.ENDS  CL_SRC_INA183A1
*
.SUBCKT DC_REJ_SUB_INA183A1 VC+ VC- OUT+ OUT-
+ PARAMS:
+ DC_REJ = 120
+ R = 1
.MODEL R_NOISELESS RES (T_ABS=-273.15)
.PARAM GG1 = {PWR(10, (-(DC_REJ)/20))}
G1 OUT- OUT+ VC+ VC- {GG1}
R1 OUT+ OUT- R_NOISELESS  {R}
.ENDS  DC_REJ_SUB_INA183A1
*
.SUBCKT ESD_IN_INA183A1 ESDN ESDP VCC VEE
.MODEL ESD_SW VSWITCH(RON=100 ROFF=1E12 VON=28.2 VOFF=28)
S3 ESDN VEE ESDN VEE ESD_SW
S4 ESDP VEE ESDP VEE ESD_SW
.ENDS  ESD_IN_INA183A1
*
.SUBCKT GAIN_RES_DRIFT_INA183A1 1 2
+ PARAMS:
+ G_RES = 20E3
+ DRIFT_RES_ROOM = 100
+ RES_DRIFT = 1E-6
+ POL = 1
.MODEL R_NOISELESS RES (T_ABS=-273.15)
.MODEL R_DRIFT RES (TC1={RES_DRIFT})
R1 1 3 R_NOISELESS {G_RES-DRIFT_RES_ROOM}
R2 2 3 R_DRIFT {DRIFT_RES_ROOM}
.ENDS  GAIN_RES_DRIFT_INA183A1
*
.SUBCKT GR_SRC_INA183A1 VC+ VC- IOUT+ IOUT-
+ PARAMS:
+ GAIN = 1
+ IPOS = 5.32E-2
+ INEG = -5.32E-2
G1 IOUT+ IOUT- VALUE={LIMIT(GAIN*V(VC+,VC-),INEG,IPOS)}
.ENDS  GR_SRC_INA183A1
*
.SUBCKT IBN_INA183A1 VINN GND CM_IN
G1 VINN GND TABLE {(V(CM_IN,GND))} =
+(-0.35, -200E-6)
+(-0.31, -2E-9)
+(-0.3, -1E-9)
+(0, 100E-12)
+(0.4, 400E-12)
+(2, 10E-6)
+(2.4, 20E-6)
+(2.5, 23E-6)
+(2.7, 24E-6)
+(5, 26E-6)
+(8.75, 30E-6)
+(12, 33E-6)
+(18.5, 40E-6)
+(26, 50E-6)
+(26.4, 53E-6)
+(28, 200E-6)
.ENDS  IBN_INA183A1
*
.SUBCKT IBP_INA183A1 VINP GND CM_IN
G1 VINP GND TABLE {(V(CM_IN,GND))} =
+(-0.35, -200E-6)
+(-0.31, -2E-9)
+(-0.3, -1E-9)
+(0, 100E-12)
+(0.4, 400E-12)
+(2, 30E-6)
+(2.4, 90E-6)
+(2.5, 110E-6)
+(2.7, 123.5E-6)
+(5, 126E-6)
+(8.75, 130E-6)
+(12, 133E-6)
+(18.5, 140E-6)
+(26, 149E-6)
+(26.4, 153E-6)
+(28, 300E-6)
.ENDS  IBP_INA183A1
*
.SUBCKT P1_INA183A1 VC+ VC- OUT+ OUT-
+ PARAMS: 
+ GAIN = 1
+ FP = 1
+ R = 1E6
.MODEL R_NOISELESS RES (T_ABS=-273.15)
.PARAM CC1 = {1/(6.2831853 * FP * R)}
.PARAM GG1 = {GAIN / R}
G1 OUT- OUT+ VC+ VC- {GG1}
R1 OUT+ OUT- R_NOISELESS {R}
C1 OUT+ OUT- {CC1}
.ENDS  P1_INA183A1
*
.SUBCKT PZ1_INA183A1 VC+ VC- OUT+ OUT- 1
+ PARAMS: 
+ GAIN = 1
+ FP = 1E3
+ FZ = 1E4
+ R = 1E6
.MODEL R_NOISELESS RES (T_ABS=-273.15)
.PARAM CC1 = {1/(6.2831853 * FZ * R)}
.PARAM RR1 = {(1/(6.2831853 * FP * CC1)) - R}
C1 2 1 {CC1}
G1 OUT- OUT+ 3 1 {GAIN}
R1 VC+ 3 R_NOISELESS {RR1}
R2 3 2 R_NOISELESS {R}
R3 OUT+ OUT- R_NOISELESS 1
.ENDS  PZ1_INA183A1
*
.SUBCKT VCM_CLAMP_INA183A1 VIN+ VIN- IOUT- IOUT+ VP+ VP-
.PARAM GAIN = 1
G1 IOUT+ IOUT- VALUE={LIMIT(GAIN*V(VIN+,VIN-),V(VP-,VIN-), V(VP+,VIN-))}
.ENDS  VCM_CLAMP_INA183A1
*
.SUBCKT VNOISE_INA183A1 1 2
+ PARAMS:
+ NV = 1E3
.PARAM RNV={1.184*PWR(NV,2)}
R4 5 0 {RNV}
R5 5 0 {RNV}
E3 1 2 5 0 10
.ENDS  VNOISE_INA183A1
*
.SUBCKT VOS_DRIFT_INA183A1 VOS+ VOS-
+ PARAMS:
+ DC = 20E-6
+ DRIFT = 1E-6
+ POL = 1
E1 VOS+ VOS- VALUE={DC+POL*DRIFT*(TEMP-27)}
.ENDS  VOS_DRIFT_INA183A1
*
.SUBCKT ZOUT_DC_SUB_INA183A1 INA INB OUTA OUTB COM
+ PARAMS:
+ ZOUT_DC = 1
+ ZOUT_MAX = 1E3
.MODEL R_NOISELESS RES (T_ABS=-273.15)
.PARAM BETA = 1
.PARAM RDUMMY = {10*ZOUT_MAX}
.PARAM RX = {100*ZOUT_MAX}
.PARAM G1 = {RX/(ZOUT_DC*BETA)}
G1 COM OUTA INA OUTB {G1}
R1 OUTA COM R_NOISELESS 1
RDUMMY OUTB COM R_NOISELESS {RDUMMY}
RX INB OUTB R_NOISELESS {RX}
.ENDS  ZOUT_DC_SUB_INA183A1
*
.SUBCKT ZP1_INA183A1 VC+ VC- OUT+ OUT- 1
+ PARAMS:
+ GAIN = 1
+ FZ = 1E3
+ FP = 1E4
+ R = 1E6
.MODEL R_NOISELESS RES (T_ABS=-273.15)
.PARAM GG1 = {GAIN * FP/FZ}
.PARAM CC1 = {1/(6.2831853 * FZ * R)}
.PARAM RR1 = {R/(FP/FZ - 1)}
C1 VC+ 2 {CC1}
G1 OUT- OUT+ 2 1 {GG1}
R1 VC+ 2 R_NOISELESS {R}
R2 2 1 R_NOISELESS {RR1}
R3 OUT+ OUT- R_NOISELESS 1
.ENDS  ZP1_INA183A1
*
.SUBCKT ZP1LIM_INA183A1 VC+ VC- OUT+ OUT- 1
+ PARAMS:
+ GAIN = 1
+ FZ = 1E3
+ FP = 1E4
+ R = 1E6
+ IPOS = 1.72E3
+ INEG = -2.9E3
.MODEL R_NOISELESS RES (T_ABS=-273.15)
.PARAM GG1 = {GAIN * FP/FZ}
.PARAM CC1 = {1/(6.2831853 * FZ * R)}
.PARAM RR1 = {R/(FP/FZ - 1)}
C1 VC+ 2 {CC1}
G1 OUT- OUT+ VALUE={LIMIT(GG1 * V(2, 1), INEG, IPOS)}
R1 VC+ 2 R_NOISELESS {R}
R2 2 1 R_NOISELESS {RR1}
R3 OUT+ OUT- R_NOISELESS 1
.ENDS  ZP1LIM_INA183A1
*