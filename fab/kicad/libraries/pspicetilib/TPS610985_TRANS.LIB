*$
* TPS610985
*****************************************************************************
* (C) Copyright 2016 Texas Instruments Incorporated. All rights reserved.                                            
*****************************************************************************
** This model is designed as an aid for customers of Texas Instruments.
** TI and its licensors and suppliers make no warranties, either expressed
** or implied, with respect to this model, including the warranties of 
** merchantability or fitness for a particular purpose.  The model is
** provided solely on an "as is" basis.  The entire risk as to its quality
** and performance is with the customer.
*****************************************************************************
*
** Released by: WEBENCH Design Center, Texas Instruments Inc.
* Part: TPS610985
* Date: 26FEB2016
* Model Type: TRANSIENT
* Simulator: PSPICE
* Simulator Version: 16.2.0.p001
* EVM Order Number: TPS610985EVM-782
* EVM User's Guide: SLVUAM3–February 2016 
* Datasheet: SLVS873C-JUNE 2015–REVISED DECEMBER 2015
*
* Model Version: Final 1.00
*
*****************************************************************************
*
* Updates:
*
* Final 1.00
* Release to Web.
*
*****************************************************************************
*
* Model Usage Notes:
*
* A. Features have been modelled
*	1. Startup into Load at 0.7V Input Voltage
*	2. Nominal 450mA Switch Peak Current Limit
*	3. Operating Input Voltage from 0.7V to 4.5V
*	4. Integrated Load Switch 
*	5. Automatic Pass-Through
*	6. PWM & Burst Mode Operation 
*
* B. Features haven't been modelled
*	1. Input Current vs Input Voltage
*	2. Temperature dependent characteristics 
*
*****************************************************************************
.SUBCKT TPS610985_TRANS SW VIN MODE VMAIN VSUB GND PARAMS: SS = 0
X_U68         N16933372 PTV_CTL N17018395 OR2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U7_U67         U7_N17213747 U7_N17213716 U7_N17213972 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
V_U7_V13         U7_N17213926 0 1Vdc
X_U7_U32         0 U7_N17213716 d_d 
V_U7_V6         U7_N17213543 0 3.1
G_U7_ABMII5         U7_N17213926 COMP VALUE { IF(V(U7_N17213969) >0.5, 4u,0)   
+  }
X_U7_U68         U7_N17213670 U7_N17213972 U7_N17213969 OR2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
V_U7_V5         U7_N17213739 0 2
R_U7_R30         U7_N17213543 U7_VMAIN_TH  70k  
X_U7_U66         U7_SET U7_RESET U7_BURST_EN N17213639 srlatchrhp_basic_gen
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U7_U27         U7_N17213615 U7_N17213747 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
C_U7_C5         0 U7_SET  1n IC=0 
X_U7_U63         BURST_OUT HYS_MODE U7_N17213586 AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
G_U7_ABMII10         U7_VMAIN_TH 0 VALUE { IF(V(U7_N17213563)>0.5, 1u, 0)    }
X_U7_U12         U7_SET U7_N17213580 d_d 
X_U7_U669         U7_N17213563 U7_N17214262 BUF_DELAY_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5 DELAY=5n
X_U7_U29         U7_N17213615 BURST_OUT INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U7_U25         U7_N17213777 U7_N17213786 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
R_U7_R26         U7_N17213580 U7_SET  {50u/0.693n}  
C_U7_C8         0 U7_N17213563  1n IC=0 
C_U7_C12         U7_N17213777 0  12n IC=0 
X_U7_U30         U7_N17213586 U7_RESET INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
R_U7_R29         U7_N17213615 U7_N17213563  20  
X_U7_U26         U7_N17213777 U7_N17213739 d_d 
G_U7_ABMII8         0 U7_N17213777 VALUE { IF(V(U7_BURST_EN) >0.5,
+  0.5m*V(VIN)/V(VMAIN),0)    }
X_U7_U64         U7_BURST_EN U7_N17213786 U7_N17213670 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
E_U7_ABM11         U7_N17213615 0 VALUE { IF( V(VMAIN) > V(U7_VMAIN_TH), 1, 0) 
+    }
X_U7_U31         ZCB U7_N17213609 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U7_U670         U7_N17213609 HYS_MODE BURST_OUT U7_N17213580 AND3_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U7_S18    U7_N17213647 0 U7_N17213777 0 BURST_MODE_U7_S18 
C_U7_C13         U7_N17213716 0  12n IC=0 
G_U7_ABMII9         0 U7_N17213716 VALUE { IF(V(U7_N17213615) < 0.5,
+  LIMIT(-0.5m*V(VIN)/(V(VMAIN)+1u), -5m, 0),0)    }
X_U7_U28         U7_N17213615 U7_N17213716 d_d 
C_U7_C7         0 U7_N17213647  1n IC=0 
R_U7_R28         U7_N17213670 U7_N17213647  10  
E_U4_ABM13         U4_GATE_FET1 0 VALUE { IF(V(U4_STARTUP_CTL) < 0.5, IF(
+  V(ENCIR1) > 0.5, V(U4_N00669) ,0 ) ,0)    }
V_U4_V2         U4_N16759481 0 1.8
V_U4_V22         U4_N16759475 0 0.1V
X_U4_U12         VMAIN U4_N16759481 U4_N16759475 U4_STARTUP_CTL
+  COMPHYS_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U4_S2    U4_GATE_FET1 GND U4_N01219 GND OSCR_U4_S2 
E_U4_ABM6         U4_N01085 0 VALUE { V(VIN)    }
R_U4_R1         FB_BOOST VMAIN  1.0E6  
E_U4_E2         U4_N01097 0 TABLE { V(U4_N01085, 0) } 
+ ( (0.7,18)(0.75,10.8)(1.0,8.5)(1.2,4)(1.5,4) )
R_U4_R2         GND FB_BOOST  500k  
V_U4_VOSC         U4_N00669 GND  
+PULSE 0 1 10u 1n 1n 0.309u 0.4545u
X_U4_U7         SW_INT U4_N01219 U4_N01097 0 RVAR PARAMS:  RREF=1
V_V2         N169324520 GND -0.62V
X_U10         N169324520 SW_INT d_d1 PARAMS:
X_U5_U670         LS_PRE U5_N22890 LS_ON AND2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
C_U5_C20         GND U5_N23126  1p  TC=0,0 
R_U5_R45         HS_PRE U5_N23126  2 TC=0,0 
X_U5_U636         U5_N23126 U5_N22890 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
R_U5_R44         LS_PRE U5_N22822  1m TC=0,0 
C_U5_C19         GND U5_N22822  1p  TC=0,0 
X_U5_U635         U5_N22822 U5_N22896 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U5_U642         ZCB HYS_MODE U5_N22954 HS_ON AND3_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U5_U669         HS_PRE U5_N22896 U5_N22954 AND2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U637         PTV_CTL N16934620 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_S18    N16932335 GND SW_INT GND TPS610985_S18 
X_H3    SW_INT SW ISENSE GND TPS610985_H3 
X_U669         HS_ON BURST_OUT N16933372 AND2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U671         N16934146 N16934620 N16932335 AND2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_S17    N17018395 GND VMAIN SW_INT TPS610985_S17 
R_U2_R1         ENCIR1 U2_N16768323  1.58k  
X_U2_U4         U2_N16768323 ENCIR1 d_d 
C_U2_C1         U2_N16768323 0  1u IC={SS} 
X_U2_U9         VIN U2_N16739725 ENCIR1 COMP_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5
V_U2_V2         U2_N16759264 0 3.05
V_U2_V2hys         U2_N16759258 0 0.1V
V_U2_V1         U2_N16739725 0 0.6V
V_U2_VIH         U2_N16771104 0 1.2Vdc
V_U2_VIL         U2_N16771098 0 0.8Vdc
X_U2_U12         VIN U2_N16759264 U2_N16759258 PTV_CTL COMPHYS_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U2_U14         U2_N16768323 ENCIR BUF_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5
X_U2_U13         MODE U2_N16771104 U2_N16771098 MODE_CTL COMPHYS_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U670         LS_ON BURST_OUT N16934146 AND2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U6_U651         ENCIR U6_N160764 U6_N160890 AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
C_U6_Chys         COMP 0  0.05f IC=0 
V_U6_V6         U6_N228955 0 10m
C_U6_C22         U6_VREF 0  1n IC=0 
R_U6_R50         U6_N160526 U6_VREF  14.44  
X_U6_U657         U6_N228971 LS_ON U6_ZC ZCB srlatchrhp_basic_gen PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5
E_U6_ABM2         U6_N160902 0 VALUE { IF(V(VMAIN) < 1.79,1,0)    }
E_U6_ABM10         U6_N230270 0 VALUE { IF(V(ENCIR) >0.5,  
+ LIMIT((V(U6_VREF) -   
+ V(FB_BOOST)) * 3m, 0,V(U6_ILIM)),0)  }
E_U6_ABM12         U6_N160526 0 VALUE { IF(V(ENCIR) >0.5, 1.0, 0)    }
X_U6_U652         ENCIR U6_N160764 INV_DELAY_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5 DELAY=0.1u
E_U6_ABM1         U6_GAIN 0 VALUE { IF(V(LS_ON) < 0.5,115u, 92.6u)    }
R_U6_R49         0 ZCB  1e8 TC=0,0 
X_U6_U650         U6_N161736 U6_RESET U6_N160412 N160468 srlatchrhp_basic_gen
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U6_U661         ENCIR U6_N16051578 U6_N161736 AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
E_U6_ABM9         U6_ILIM 0 VALUE { IF(V(ENCIR) > 0.5, 37.04u,0)    }
X_U6_U668         U6_N160890 U6_N160902 U6_N161748 OR2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
E_U6_ABM16         LS_PRE 0 VALUE { IF(V(ENCIR) >0.5,V(U6_N16042422), 0)    }
G_U6_I2         COMP 0 VALUE { (V(U6_HYS_CHECK) * V(U6_GAIN))    }
X_U6_U11         LS_PRE HS_PRE INV_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
R_U6_Rdly1         U6_N161330 U6_N161082  14.43  
E_U6_ABM7         U6_N161652 0 VALUE { IF( V(HYS_MODE) >0.5, V(ISENSE) ,1)    }
X_U6_U659         COMP U6_N161082 U6_N16042300 COMP_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5
X_U6_U645         U6_N160991881 COMP d_d1 PARAMS:
C_U6_Cdly1         U6_N161082 0  1n IC=0 
X_U6_U646         U6_N160992101 VMAIN d_d1 PARAMS:
X_U6_U662         ENCIR U6_N160412 HYS_MODE AND2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
E_U6_ABM17         U6_N161330 0 VALUE { V(VMAIN)/2    }
X_U6_U656         VMAIN U6_N160744 U6_N16051578 COMP_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5
V_U6_V7         U6_N160992101 COMP 50m
R_U6_R52         U6_N161748 U6_RESET  1  
R_U6_Rcomp         U6_N230270 0  10E6 TC=0,0 
V_U6_V5         U6_N160744 0 1.8
V_U6_V8         U6_N160991881 0 54m
R_U6_Rhys         COMP 0  1E6 TC=0,0 
C_U6_C24         U6_RESET 0  1n IC=0 
X_U6_U658         U6_N228955 ISENSE U6_N228971 COMP_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5
E_U6_ABM11         U6_HYS_CHECK 0 VALUE { IF( V(LS_ON) > 0.5,V(U6_N161652) -
+  50m, V(U6_N161652))    }
C_U6_Ccomp         U6_N230270 0  10p IC=0 
X_U6_U669         U6_N16042300 U6_N16042422 BUF_DELAY_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5 DELAY=80n
G_U6_I1         0 COMP VALUE { {IF(V(U6_N230270) >5u , V(U6_N230270) , -1u)}   
+  }
M_U1_M1         VMAIN U1_VGATE U1_N16960685 U1_N16960685 NMOS01           
E_U1_ABM11         U1_SS 0 VALUE { {SS}    }
C_U1_Cgd         VMAIN U1_VGATE  110p  
V_U1_Vlim2         U1_N16960682 0 65m
C_U1_C4         U1_SS 0  1n  
X_U1_U16         0 VSUB d_d1 PARAMS:
E_U1_ABM10         U1_N16960891 0 VALUE { IF(V(U1_SWEN)> 0.5, IF(V(U1_SS)> 0.5,
+  IF(V(U1_VGATE) < 0.5, 100u, 0.47u),IF(V(U1_VGATE) < 0.5, 100u, 0.38u)), 0)   
+  }
X_U1_S18    MODE_CTL 0 U1_N16960685 0 LOAD_SWITCH_U1_S18 
X_U1_U11         VMAIN U1_N17019274 U1_N17019300 COMP_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5
G_U1_G1         U1_VGATE_CLAMP U1_VGATE U1_N16960891 0 1
V_U1_V2         U1_N17019274 0 2.4V
E_U1_ABM9         U1_N16960630 0 VALUE { IF(V(U1_SWEN)> 0.5, 0,100u)    }
E_U1_ABM12         U1_VMAIN_POR 0 VALUE { IF(V(VIN) < 1,  V(ENCIR), 
+  V(U1_N17019300))    }
C_U1_Cgs         U1_VGATE U1_N16960685  1.2n IC={4.2*SS} 
V_U1_VGclamp         U1_VGATE_CLAMP 0 4.2V
X_U1_H1    U1_N16960685 VSUB U1_I_SENSE 0 LOAD_SWITCH_U1_H1 
G_U1_G2         U1_VGATE 0 U1_N16960630 0 1
V_U1_Vlim         U1_N16960633 0 200m
X_U1_U12         MODE_CTL U1_VMAIN_POR U1_SWEN AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U1_U14         U1_N16960682 U1_VGATE d_d1 PARAMS:
X_U1_U15         U1_N16960685 VMAIN d_d1 PARAMS:
G_U1_ABM2I4         U1_VGATE 0 VALUE {
+  LIMIT((V(U1_I_SENSE)-V(U1_N16960633))*1m, 0,100u)    }
X_U1_U13         U1_VGATE U1_VGATE_CLAMP d_d1 PARAMS:
V_V3         N169478110 SW_INT -0.62V
X_U11         N169478110 N169478220 d_d1 PARAMS:
R_Rdrop         N169478220 VMAIN  300m  
.ENDS TPS610985_TRANS
*$
.SUBCKT BURST_MODE_U7_S18 1 2 3 4  
S_U7_S18         3 4 1 2 _U7_S18
RS_U7_S18         1 2 1G
.MODEL         _U7_S18 VSWITCH Roff=1e9 Ron=450m Voff=0.8 Von=0.2
.ENDS BURST_MODE_U7_S18
*$
.SUBCKT OSCR_U4_S2 1 2 3 4  
S_U4_S2         3 4 1 2 _U4_S2
RS_U4_S2         1 2 1G
.MODEL         _U4_S2 VSWITCH Roff=1e12 Ron=1m Voff=0 Von=1
.ENDS OSCR_U4_S2
*$
.SUBCKT TPS610985_S18 1 2 3 4  
S_S18         3 4 1 2 _S18
RS_S18         1 2 1G
.MODEL         _S18 VSWITCH Roff=1e9 Ron=400m Voff=0.2 Von=0.8
.ENDS TPS610985_S18
*$
.SUBCKT TPS610985_H3 1 2 3 4  
H_H3         3 4 VH_H3 -1
VH_H3         1 2 0V
.ENDS TPS610985_H3
*$
.SUBCKT TPS610985_S17 1 2 3 4  
S_S17         3 4 1 2 _S17
RS_S17         1 2 1G
.MODEL         _S17 VSWITCH Roff=1e9 Ron=550m Voff=0.2 Von=0.8
.ENDS TPS610985_S17
*$
.SUBCKT LOAD_SWITCH_U1_S18 1 2 3 4  
S_U1_S18         3 4 1 2 _U1_S18
RS_U1_S18         1 2 1G
.MODEL         _U1_S18 VSWITCH Roff=1e9 Ron=375 Voff=0.9 Von=0.1
.ENDS LOAD_SWITCH_U1_S18
*$
.SUBCKT LOAD_SWITCH_U1_H1 1 2 3 4  
H_U1_H1         3 4 VH_U1_H1 1
VH_U1_H1         1 2 0V
.ENDS LOAD_SWITCH_U1_H1
*$
.MODEL NMOS01 NMOS (VTO = 0.5 KP = 12 LAMBDA = 0.001)
*$
.SUBCKT COMP_BASIC_GEN INP INM Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5	
E_ABM Yint 0 VALUE {IF (V(INP) > 
+ V(INM), {VDD},{VSS})}
R1 Yint Y 1
C1 Y 0 1n
.ENDS COMP_BASIC_GEN
*$
.SUBCKT COMPHYS_BASIC_GEN INP INM HYS OUT PARAMS: VDD=1 VSS=0 VTHRESH=0.5	
EIN INP1 INM1 INP INM 1 
EHYS INP1 INP2 VALUE { IF( V(1) > {VTHRESH},-V(HYS),0) }
EOUT OUT 0 VALUE { IF( V(INP2)>V(INM1), {VDD} ,{VSS}) }
R1 OUT 1 1
C1 1 0 5n
RINP1 INP1 0 1K
.ENDS COMPHYS_BASIC_GEN
*$
.SUBCKT BUF_DELAY_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY = 10n 
E_ABMGATE1    YINT1 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT1 YINT2 1
CINT YINT2 0 {DELAY*1.3}
E_ABMGATE2    YINT3 0 VALUE {{IF(V(YINT2) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT2 YINT3 Y 1
CINT2 Y 0 1n
.ENDS BUF_DELAY_BASIC_GEN
*$
.SUBCKT INV_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS INV_BASIC_GEN
*$
.SUBCKT AND2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND2_BASIC_GEN
*$
.SUBCKT AND3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND3_BASIC_GEN
*$
.SUBCKT OR2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR2_BASIC_GEN
*$
.SUBCKT SRLATCHRHP_BASIC_GEN S R Q QB PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
GQ 0 Qint VALUE = {IF(V(R) > {VTHRESH},-5,IF(V(S)>{VTHRESH},5, 0))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr QB 1 
Cdummy1 Q 0 1n 
Cdummy2 QB 0 1n
.IC V(Qint) {VSS}
.MODEL D_D1 D( IS=1e-15 TT=10p Rs=0.05 N=.1  )
.ENDS SRLATCHRHP_BASIC_GEN
*$
.SUBCKT D_D1 1 2
D1 1 2 DD1
.MODEL DD1 D( IS=1e-15 TT=10p Rs=0.05 N=.1  )
.ENDS D_D1
*$
.SUBCKT BUF_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS BUF_BASIC_GEN
*$
.SUBCKT INV_DELAY_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY = 10n 
E_ABMGATE1    YINT1 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT1 YINT2 1
CINT YINT2 0 {DELAY*1.3}
E_ABMGATE2    YINT3 0 VALUE {{IF(V(YINT2) > {VTHRESH} , 
+ {VSS},{VDD})}}
RINT2 YINT3 Y 1
CINT2 Y 0 1n
.ENDS INV_DELAY_BASIC_GEN
*$
.SUBCKT CESR IN OUT
+ PARAMs:  C=100u ESR=0.01 X=2 IC=0
C	IN 1  {C*X} IC={IC}
RESR	1 OUT {ESR/X}
.ENDS CESR
*$
.SUBCKT LDCR IN OUT
+ PARAMs:  L=1u DCR=0.01 IC=0
L	IN 1  {L} IC={IC}
RDCR	1 OUT {DCR}
.ENDS LDCR
*$
.SUBCKT COMPHYS2_BASIC_GEN INP INM HYS OUT PARAMS: VDD=1 VSS=0 VTHRESH=0.5	
+ T=10
EIN INP1 INM1 INP INM 1 
EHYS INM2 INM1 VALUE { IF( V(1) > {VTHRESH},-V(HYS)/2,V(HYS)/2) }
EOUT OUT 0 VALUE { IF( V(INP1)>V(INM2), {VDD} ,{VSS}) }
R1 OUT 1 1
C1 1 0 {T*1e-9}
RINP1 INP1 0 10K
RINM2 INM2 0 10K
.ENDS COMPHYS2_BASIC_GEN
*$
.SUBCKT SRLATCHSHP_BASIC_GEN S R Q QB PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
GQ 0 Qint VALUE = {IF(V(S) > {VTHRESH},5,IF(V(R)>{VTHRESH},-5, 0))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr QB 1 
Cdummy1 Q 0 1n 
Cdummy2 QB 0 1n 
.IC V(Qint) {VSS}
.MODEL D_D1 D( IS=1e-15 TT=10p Rs=0.05 N=.1  )
.ENDS SRLATCHSHP_BASIC_GEN
*$
.SUBCKT RVAR 101 102 201 202 PARAMS: RREF=1
* nodes : 101 102 : nodes between which variable resistance is placed
* 201 202 : nodes to whose voltage the resistance is proportional
* parameters : rref : reference value of the resistance
rin 201 202 1G; input resistance
r 301 0 {rref}
fcopy 0 301 vsense 1; copy output current thru Z
eout 101 106 poly(2) 201 202 301 0 0 0 0 0 1; multiply VoverZ with Vctrl
vsense 106 102 0; sense iout
.ENDS RVAR
*$
.SUBCKT D_D 1 2
D1 1 2 DD
.MODEL DD D (IS=1E-015 N=0.01 TT=10p)
.ENDS D_D
*$
.SUBCKT ONE_SHOT IN OUT
+ PARAMs:  T=100
S_S1         MEAS 0 RESET2 0 S1
E_ABM1         CH 0 VALUE { if( V(IN)>0.5 | V(OUT)>0.5,1,0)    }
R_R2         RESET2 RESET  0.1  
E_ABM3         OUT 0 VALUE { if( V(MEAS)<0.5 & V(CH)>0.5,1,0)    }
R_R1         MEAS CH  {T} 
C_C2         0 RESET2  1.4427n  
C_C1         0 MEAS  1.4427n  
E_ABM2         RESET 0 VALUE { if(V(CH)<0.5,1,0)    }
.MODEL         S1 VSWITCH Roff=1e9 Ron=1.0 Voff=0.25V Von=0.75V
.ENDS ONE_SHOT
*$
