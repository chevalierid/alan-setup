*$
* TPS62125
*****************************************************************************
* (C) Copyright 2020 Texas Instruments Incorporated. All rights reserved.                                            
*****************************************************************************
** This model is designed as an aid for customers of Texas Instruments.
** TI and its licensors and suppliers make no warranties, either expressed
** or implied, with respect to this model, including the warranties of 
** merchantability or fitness for a particular purpose.  The model is
** provided solely on an "as is" basis.  The entire risk as to its quality
** and performance is with the customer
*****************************************************************************
*
* This model is subject to change without notice. Texas Instruments
* Incorporated is not responsible for updating this model.
*
*****************************************************************************
*
** Released by: Texas Instruments Inc.
* Part: TPS62125
* Date: 18DEC2020
* Model Type: TRANSIENT
* Simulator: PSPICE
* Simulator Version: 17.4-2019 S012
* EVM Order Number: TPS62125EVM-044
* EVM User's Guide: 8 SLVU659B–March 2012–Revised July 2019
* Datasheet: SLVSAQ5E –MARCH 2012–REVISED MAY 2017
* Topologies Supported: Buck
*
* Model Version: Final 1.10
*
*****************************************************************************
*
* Updates: 
*
* Final 1.10
* TPS62125_TOPLEVEL block has been renamed as TPS62125_TRANS.
* Release to Web.
*
* Final 1.00
* Release to Web.
*
*****************************************************************************
*
* Model Usage Notes:
*
* A. Features have been modelled
*  1. Current Limit
*  2. UVLO
*  3. Adjustable Enable threshold and Hysteresis
*
* B. Features have not been modeled
*  1. Operating Quiescent Current
*  2. Shutdown Current 
*  3. Temperature dependent characteristics
*
*****************************************************************************
.SUBCKT TPS62125_TRANS EN FB PG SW EN_HYS VIN VOS ETPAD GND
C_U10_C1         0 U10_N00497  1n  
X_U10_U10         FB U10_N21068 U10_N213710 U10_OUT2 COMPHYS_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5
X_U10_S1    U10_N16310 0 PG 0 PG_SGND_U10_S1 
R_U10_R1         U10_OUT2 U10_N00497  2.88k  
V_U10_V2         U10_N213710 0 40m
V_U10_V1         U10_N21068 0 0.76
X_U10_U6         U10_N00497 U10_N16310 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
D_U27         N73924 N73876 D_D1 
C_U2_C3         0 U2_N14352  5p  
X_U2_U9         U2_N14352 U2_N10820 MIN_TON COMP_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5
R_U2_R1         U2_N10820 VIN  465k  
X_U2_U11         DRVH_PRE U2_N12733 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
C_U2_C2         0 U2_N10820  7.52p  
R_U2_R2         SWBY3P5 U2_N14352  1.3MEG  
X_U2_S1    U2_N12733 0 U2_N10820 0 Minton_U2_S1 
X_U7_U7         U7_N35044 U7_N33986 DRVH_PRE U7_PMOS_CTRL MUX2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_U7_ABM6         U7_N60886 0 VALUE { IF(V(VIN_LDO) <1,1,V(VIN_LDO))    }
E_U7_ABM5         U7_N38522 0 VALUE {
+  1m*((-40.25/(V(U7_N60886)-0.8621))+698.63)    }
R_U7_R5         U7_N38522 U7_N38518  1  
C_U7_C3         0 U7_N38518  1n  
X_U7_U8         U7_N38644 U7_N38518 DRVL_PRE U7_NMOS_CTRL MUX2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
V_U7_V3         U7_N35044 0 0
X_U7_U13         U7_N722061 U7_N33952 d_d1special PARAMS:
X_U7_H1    VIN U7_N33952 ISENSE_HS 0 Driver_U7_H1 
V_U7_V1         U7_N721300 SW 620m
X_U7_U12         LS_ON U7_N33832 BUF_DELAY_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5 DELAY=8n
X_U7_S3    U7_PMOS_CTRL 0 U7_N33952 SW Driver_U7_S3 
X_U7_U2         U7_N33760 U7_N33764 DRVH_PRE AND2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
C_U7_C2         0 U7_N33986  1n  
X_U7_U11         HS_ON U7_N33760 BUF_DELAY_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5 DELAY=8n
V_U7_V2         SW U7_N722061 620m
X_U7_S4    U7_NMOS_CTRL 0 SW U7_N33844 Driver_U7_S4 
E_U7_ABM4         U7_N33994 0 VALUE { 1m*((-157.34/(V(VIN_LDO)-37.04m))+766.71)
+     }
X_U7_U14         U7_N33844 U7_N721300 d_d1special PARAMS:
X_U7_U4         U7_N33832 U7_N33808 BUF_DELAY_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5 DELAY=24n
R_U7_R4         U7_N33994 U7_N33986  1  
X_U7_U1         U7_N33760 U7_N33764 BUF_DELAY_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5 DELAY=6n
V_U7_V4         U7_N38644 0 0
X_U7_U3         U7_N33832 U7_N33808 DRVL_PRE AND2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U7_H2    U7_N33844 GND_INT 0 ISENSE_LS Driver_U7_H2 
C_C2         0 N73924  100p  
V_U5_V5         U5_N22805 0 100m
X_U5_U3         ISENSE_HS U5_N03621 U5_N03655 COMP_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5
V_U5_V1         U5_N11335 0 240m
X_U5_U1         U5_N11335 ISENSE_LS U5_N03489 COMP_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5
X_U5_U10         VIN U5_N19919 U5_N22805 UVLO_OUT COMPHYS_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5
V_U5_V2         U5_N03621 0 750m
V_U5_V4         U5_N19919 0 2.9
X_U5_U9         UVLO_OUT EN_LOGIC U5_N12138 SDWN_N AND3_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U5_U2         DRVL_PRE U5_N03489 CLIMIT_LS AND2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
V_U5_V3         U5_N12138 0  
+PULSE 0 1 1u 10n 10n 1000 2000
X_U5_U4         U5_N03655 DRVH_PRE CLIMIT_HS AND2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U6         SDWN_N SDWN INV_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
R_R3         N73876 N73924  144k  
R_R7         0 ETPAD  1k  
C_C3         0 VIN_LDO  1n  
X_U26         N73924 P100 BUF_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_GAIN1         N73876 0 VALUE {1 * V(HS_ON)}
X_U3_U9         U3_N14024 U3_N10915 MIN_TOFF COMP_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5
X_U3_S1    U3_N12733 0 U3_N10915 0 Mintoff_U3_S1 
V_U3_V5         U3_N11301 0 1.2
I_U3_I1         U3_N11301 U3_N10915 DC 5.336u  
X_U3_U11         DRVL_PRE U3_N12733 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
C_U3_C2         0 U3_N10915  480f  
D_U3_U12         U3_N10915 U3_N11301 D_D1 
V_U3_V4         U3_N14024 0 667m
R_R4         0 EN  160MEG  
R_R5         N128939 VIN_LDO  1  
X_U4         MIN_TOFF MIN_TOFF_N INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U3         MIN_TON MIN_TON_N INV_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
E_ABM1         N128939 0 VALUE { IF(V(VIN) > 5V, 5, V(VIN))    }
X_U6_U14         U6_N15145 DRVH_PRE CAPRIO U6_N20123 SRLATCHRHP_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U6_U15         U6_N16390 U6_N16592 PAUSE AND2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
V_U6_V1         U6_N23722 0 1.5m
C_U6_C4         0 U6_N16592  1n  
D_U6_U17         U6_N16592 U6_N17195 D_D1 
X_U6_U18         DRVH_PRE DRVL_PRE U6_N17195 NOR2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U6_U12         U6_N23722 ISENSE_LS U6_N14289 COMP_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5
R_U6_R4         0 U6_N20123  10k  
R_U6_R3         U6_N17195 U6_N16592  72  
X_U6_U16         MODE_LOGIC U6_N16390 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U6_U13         DRVL_PRE U6_N14289 U6_N15145 AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
R_R8         GND GND_INT  43m  
E_U1_ABM1         U1_N147191 0 VALUE { IF(V(SDWN_N) < 0.5,0,0.8)    }
R_U1_R11         U1_INNER_REF GND_INT  2.4G  
E_U1_ABM4         U1_N175122 0 VALUE { LIMIT(((V(U1_N147197) -V(FB))*5.3u),  
+ 500n,-500n)   }
R_U1_R15         U1_N148765 U1_N195543  1  
X_U1_S3    SDWN_N 0 U1_INNER_FB U1_INNER_REF ErrorAmp_U1_S3 
R_U1_R17         0 SWBY3P5  285.7k  
X_U1_U4         U1_N147271 U1_N147377 N148783 U1_SOFTSTART SRLATCHRHP_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
C_U1_C4         0 U1_N147197  1n  
E_U1_ABM6         U1_N180936 0 VALUE { IF(V(HS_ON) > 0.5,1.5u,0)    }
C_U1_C10         0 U1_VCTRLM  1n  
X_U1_U10         FB U1_N194447 U1_N194443 COMP_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5
R_U1_R7         GND_INT U1_N147163  6k  
R_U1_R9         U1_N147197 U1_N147191  1  
V_U1_V6         U1_N194447 0 0.744
R_U1_R1         U1_INNER_FB SWBY3P5  3MEG  
C_U1_C6         0 U1_N148771  1n  
E_U1_ABM10         U1_N192580 0 VALUE { IF((V(CL_DET) > 0.5)  
+ | (V(SDWN_N) <0.5),0,  
+ +V(U1_N217758))  }
X_U1_S2    HS_ON 0 U1_N147247 U1_N147163 ErrorAmp_U1_S2 
D_U1_U11         U1_N147247 U1_N147365 D_D1 
X_U1_U5         SDWN_N U1_N147377 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
R_U1_R13         U1_VCLAMP U1_N175122  1  
G_U1_ABMII3         U1_ISINK 0 VALUE { IF(V(CL_DET) > 0.5,125n,0)    }
R_U1_R3         SWBY3P5 SW  714.25k  
C_U1_C1         VOS U1_INNER_FB  12.5p  
X_U1_U7         U1_N148765 U1_N148771 U1_SOFTSTART U1_N217758 MUX2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_U1_ABM8         U1_N195543 0 VALUE { IF(V(U1_N194443) > 0.5,V(U1_VCLAMP),  
+ 125n)   }
R_U1_R19         U1_N180936 U1_VCTRLM  1  
C_U1_C7         0 U1_VCLAMP  1n  
X_U1_S1    U1_FBREF_SHORT 0 U1_INNER_FB U1_ISINK ErrorAmp_U1_S1 
R_U1_R14         U1_N192580 U1_VCLAMP_OUT  1  
V_U1_V1         U1_N147365 0 15m
G_U1_ABMII2         U1_N147365 U1_N147247 VALUE { V(U1_VCTRLM)    }
R_U1_R6         U1_INNER_REF U1_ISINK  1MEG  
X_U1_U2         U1_INNER_REF U1_INNER_FB PWMIN COMP_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5
E_U1_ABM3         U1_N147133 0 VALUE { IF(V(U1_VCLAMP) > 125n, 125n,  
+ IF (V(U1_VCLAMP) <-125n,  
+ -125n,V(U1_VCLAMP)))  }
C_U1_C9         0 U1_N148765  1n  
G_U1_ABMII1         0 U1_INNER_REF VALUE { V(U1_VCLAMP_OUT)    }
C_U1_C11         0 U1_VCLAMP_OUT  1n  
V_U1_V2         U1_N147219 0 0.784
X_U1_U8         PAUSE P100 U1_FBREF_SHORT OR2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U1_U3         FB U1_N147219 U1_N147271 COMP_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5
R_U1_R12         U1_N147133 U1_N148771  1  
C_U1_C3         U1_INNER_REF U1_N147163  15p  
V_U4_V5         U4_N222943 0 0.05
X_U4_U2         U4_N19762 EN_LOGIC BUF_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5
C_U4_C2         0 MODE_LOGIC  1n  
C_U4_C3         0 U4_N19762  1n  
X_U4_U13         EN U4_N22596 U4_N222943 U4_N19727 COMPHYS_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5
V_U4_V4         U4_N22596 0 1.2
R_U4_R3         U4_N19727 U4_N19762  72k  
E_U4_ABM2         U4_N15867 0 VALUE { IF(V(MODE) > 0.8,1,0)    }
D_U4_U12         U4_N19762 U4_N19727 D_D1 
X_U4_S1    EN_LOGIC 0 EN_HYS 0 LogicTrans_U4_S1 
R_U4_R2         U4_N15867 MODE_LOGIC  1  
X_U8_U13         U8_HS_ON_N U8_N96933 U8_N97687 AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U8_U8         U8_HS_SET U8_HS_RST HS_ON N96925 SRLATCHRHP_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5
X_U8_U15         U8_HS_ON_N U8_N97631 LS_ON AND2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U8_U18         U8_LS_SET U8_LS_RST U8_N97631 U8_LS_ON_PRE
+  SRLATCHRHP_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U8_U7         U8_LS_ON_PRE SDWN_N U8_PWM U8_HS_SET AND3_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U8_U9         U8_PWM U8_N96933 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U8_U23         CLIMIT_HS U8_N97725 CL_DET U8_N97755 SRLATCHRHP_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
D_U8_U19         U8_HS_RST U8_N96973 D_D1 
R_U8_R1         U8_N96973 U8_HS_RST  800  
X_U8_U11         CLIMIT_HS U8_N96937 SDWN U8_N96973 OR3_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U8_U16         U8_N97687 U8_N97707 SDWN_N U8_LS_SET AND3_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U8_U21         CAPRIO SDWN U8_N96965 U8_LS_RST OR3_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U8_U24         PWMIN U8_N97755 U8_PWM AND2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
C_U8_C1         0 U8_HS_RST  100p  
X_U8_U14         HS_ON U8_HS_ON_N INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U8_U20         LS_ON U8_LS_ON_N INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U8_U25         CAPRIO SDWN U8_N97725 OR2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U8_U22         MIN_TOFF_N U8_PWM U8_N96965 AND2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U8_U17         CAPRIO U8_N97707 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U8_U10         U8_N96933 MIN_TON_N U8_N96937 AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
V_V1         MODE 0 0Vdc
.ENDS TPS62125_TRANS
*$
.subckt PG_SGND_U10_S1 1 2 3 4  
S_U10_S1         3 4 1 2 _U10_S1
RS_U10_S1         1 2 1G
.MODEL         _U10_S1 VSWITCH Roff=60e6 Ron=300 Voff=0.2V Von=0.8
.ends PG_SGND_U10_S1
*$
.subckt Minton_U2_S1 1 2 3 4  
S_U2_S1         3 4 1 2 _U2_S1
RS_U2_S1         1 2 1G
.MODEL         _U2_S1 VSWITCH Roff=100e6 Ron=1 Voff=0.2 Von=0.8
.ends Minton_U2_S1
*$
.subckt Driver_U7_H1 1 2 3 4  
H_U7_H1         3 4 VH_U7_H1 1
VH_U7_H1         1 2 0V
.ends Driver_U7_H1
*$
.subckt Driver_U7_S3 1 2 3 4  
S_U7_S3         3 4 1 2 _U7_S3
RS_U7_S3         1 2 1G
.MODEL         _U7_S3 VSWITCH Roff=10e6 Ron=1 Voff=0.2 Von=0.8
.ends Driver_U7_S3
*$
.subckt Driver_U7_S4 1 2 3 4  
S_U7_S4         3 4 1 2 _U7_S4
RS_U7_S4         1 2 1G
.MODEL         _U7_S4 VSWITCH Roff=10e6 Ron=100m Voff=0.2 Von=0.8
.ends Driver_U7_S4
*$
.subckt Driver_U7_H2 1 2 3 4  
H_U7_H2         3 4 VH_U7_H2 1
VH_U7_H2         1 2 0V
.ends Driver_U7_H2
*$
.subckt Mintoff_U3_S1 1 2 3 4  
S_U3_S1         3 4 1 2 _U3_S1
RS_U3_S1         1 2 1G
.MODEL         _U3_S1 VSWITCH Roff=10e6 Ron=1.0 Voff=0.2 Von=0.8
.ends Mintoff_U3_S1
*$
.subckt ErrorAmp_U1_S3 1 2 3 4  
S_U1_S3         3 4 1 2 _U1_S3
RS_U1_S3         1 2 1G
.MODEL         _U1_S3 VSWITCH Roff=1 Ron=10G Voff=0.2V Von=0.9V
.ends ErrorAmp_U1_S3
*$
.subckt ErrorAmp_U1_S2 1 2 3 4  
S_U1_S2         3 4 1 2 _U1_S2
RS_U1_S2         1 2 1G
.MODEL         _U1_S2 VSWITCH Roff=100e6 Ron=1m Voff=0.4V Von=0.8V
.ends ErrorAmp_U1_S2
*$
.subckt ErrorAmp_U1_S1 1 2 3 4  
S_U1_S1         3 4 1 2 _U1_S1
RS_U1_S1         1 2 1G
.MODEL         _U1_S1 VSWITCH Roff=1000e6 Ron=1m Voff=0.4V Von=0.8V
.ends ErrorAmp_U1_S1
*$
.subckt LogicTrans_U4_S1 1 2 3 4  
S_U4_S1         3 4 1 2 _U4_S1
RS_U4_S1         1 2 1G
.MODEL         _U4_S1 VSWITCH Roff=1 Ron=10e6 Voff=0.4 Von=0.8
.ends LogicTrans_U4_S1
*$
.SUBCKT AND2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND2_BASIC_GEN
*$
.SUBCKT AND3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND3_BASIC_GEN
*$
.SUBCKT OR2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR2_BASIC_GEN
*$
.SUBCKT OR3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR3_BASIC_GEN
*$
.SUBCKT NOR2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR2_BASIC_GEN
*$
.SUBCKT INV_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS INV_BASIC_GEN
*$
.SUBCKT BUF_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS BUF_BASIC_GEN
*$
.SUBCKT BUF_DELAY_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY = 10n 
E_ABMGATE1    YINT1 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT1 YINT2 1
CINT YINT2 0 {DELAY*1.3}
E_ABMGATE2    YINT3 0 VALUE {{IF(V(YINT2) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT2 YINT3 Y 1
CINT2 Y 0 1n
.ENDS BUF_DELAY_BASIC_GEN
*$
.SUBCKT MUX2_BASIC_GEN A B S Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE  YINT 0 VALUE {{IF(V(S) > {VTHRESH},  
+ V(B),V(A))}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS MUX2_BASIC_GEN
*$
**Reset has higher priority in this latch
.SUBCKT SRLATCHRHP_BASIC_GEN S R Q QB PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
GQ 0 Qint VALUE = {IF(V(R) > {VTHRESH},-5,IF(V(S)>{VTHRESH},5, 0))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr QB 1 
Cdummy1 Q 0 1n 
Cdummy2 QB 0 1n
.IC V(Qint) {VSS}
.ENDS SRLATCHRHP_BASIC_GEN
*$
.SUBCKT COMP_BASIC_GEN INP INM Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5	
E_ABM Yint 0 VALUE {IF (V(INP) > 
+ V(INM), {VDD},{VSS})}
R1 Yint Y 1
C1 Y 0 1n
.ENDS COMP_BASIC_GEN
*$
.SUBCKT COMPHYS_BASIC_GEN INP INM HYS OUT PARAMS: VDD=1 VSS=0 VTHRESH=0.5	
EIN INP1 INM1 INP INM 1 
EHYS INP1 INP2 VALUE { IF( V(1) > {VTHRESH},-V(HYS),0) }
EOUT OUT 0 VALUE { IF( V(INP2)>V(INM1), {VDD} ,{VSS}) }
R1 OUT 1 1
C1 1 0 5n
RINP1 INP1 0 1K
.ENDS COMPHYS_BASIC_GEN
*$
.MODEL D_D1 D( IS=1e-15 TT=10p Rs=0.05 N=.1  )
.MODEL DD D( IS=1F N=0.01 TT = 10p )
*$
.SUBCKT D_D1special 1 2
D1 1 2 DD1spec
.MODEL DD1spec D( IS=1e-15 TT=10p Rs=0.8 N=.1  )
.ENDS D_D1special
*$
.SUBCKT LDCR IN OUT
+ PARAMs:  L=1u DCR=0.01 IC=0
L	IN 1  {L} IC={IC}
RDCR	1 OUT {DCR}
.ENDS LDCR
*$
.SUBCKT CESR IN OUT
+ PARAMs:  C=100u ESR=0.01 X=2 IC=0
C	IN 1  {C*X} IC={IC}
RESR	1 OUT {ESR/X}
.ENDS CESR
*$