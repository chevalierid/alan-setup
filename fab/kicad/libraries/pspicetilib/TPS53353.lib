*$
* TPS53353
*****************************************************************************
* (C) Copyright 2013 Texas Instruments Incorporated. All rights reserved.
*****************************************************************************
** This model is designed as an aid for customers of Texas Instruments.
** TI and its licensors and suppliers make no warranties, either expressed
** or implied, with respect to this model, including the warranties of
** merchantability or fitness for a particular purpose. The model is
** provided solely on an "as is" basis. The entire risk as to its quality
** and performance is with the customer
*****************************************************************************
*
** Released by: WEBENCH Design Center, Texas Instruments Inc.
* Part: TPS53353
* Date: 07MAY2013
* Model Type: Transient
* Simulator: PSpice
* Simulator Version: 16.2
* EVM Order Number: TPS53353EVM-744
* EVM Users Guide: SLUU521 – AUGUST 2011
* Datasheet: SLUSAK2A – AUGUST 2011 REVISED-SEPTEMBER 2012
* Model Version: Final 1.00
*
*****************************************************************************
*
* Updates:
*
* Final 1.00
* Release to Web
*
*****************************************************************************
*Application Notes:

*1.  In this model, a parameter called FAST has been provided which can be used 
*	 to reduce the simulation time. 
*    If FAST is set to 0, then the circuit operates in accordance with the datasheet.
*	 If FAST is set to 1, then
*         a. Soft Start Time is reduced 5X,
*         b. PGOOD Delay is reduced from 1ms to 200us. and
*         c. Hiccup Delay is reduced 10X
*
*****************************************************************************		 
.SUBCKT TPS53353 VREG EN RF VBST MODE NC LL_0 LL_1 LL_2 LL_3
+ LL_4 LL_5 PGOOD VDD VFB VIN_0 VIN_1 VIN_2 VIN_3 VIN_4 VIN_5
+ TRIP GND_0 GND_1 PARAMS: FAST=1
V_U10_V5         U10_N16565311 0 {1.10*VREF}
X_U10_U194         U10_TO_DELAY U10_L_PGOOD BUFFER_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=0.5 TPLH={1m*(1-0.8*FAST)} TPHL=10u TR=1E-9 TF=1E-9
X_U10_U197         U10_N16565311 VFB U10_N16565277 U10_PG2 COMPHYS_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
V_U10_V3         U10_N16565143 0 {0.95*VREF}
V_U10_V6         U10_N16565277 0 {0.05*VREF}
X_U10_S9    U10_L_PGOOD 0 PGOOD 0 PGOOD_U10_S9 
X_U10_U195         U10_PG1 U10_PG2 SSEND U10_TO_DELAY AND3_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U10_U196         VFB U10_N16565143 U10_N16565209 U10_PG1 COMPHYS_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
V_U10_V4         U10_N16565209 0 {0.05*VREF}
R_R19         VIN VIN_5  1m  
R_R13         LL_0 LL_4  1m  
R_R11         LL_0 LL_2  1m  
X_U3_U584         NCL U3_N16405208 U3_N16117459 AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U3_U590         U3_N16117617 MIN_OFFB ENCIRD LOOPB NAND3_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
E_U3_E7         U3_RMPIN 0 U3_RMP 0 1
X_U3_U589         U3_LBB U3_LBB LOOPB U3_N16117617 NAND3_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
R_U3_R24         0 U3_RMP  10Meg TC=0,0 
E_U3_ABM15         U3_REFEFF 0 VALUE { V(VREF)  
+ + V(U3_RAMP)   }
X_U3_U642         U3_REFEFF VFB U3_LUPB COMP_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5
X_U3_S11    U3_QRMP 0 U3_RMP 0 DCAP_PWM_U3_S11 
G_U3_ABM2I3         VREG U3_RMP VALUE { if(V(ENCIRD)>0.5, (7u/V(TSEL)),0)    }
E_U3_ABM46         U3_RAMP 0 VALUE { if(V(ENCIRD)>0.5,   
+ LIMIT((V(U3_RMPIN)-0.007),-7m,3.5m),0)   }
X_U3_U592         OVP U3_N16410476 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U3_U591         PWMMODE OVP U3_N16405208 OR2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U3_U588         BLNKM U3_LOOP U3_LBB OR2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
C_U3_C8         0 U3_RMP  4n IC=0 TC=0,0 
X_U3_U645         HDR U3_QRMP rising_oneshot PARAMS:  PULSE=10n VDD=1 VSS=0
+  VTHRESH=0.5
X_U3_U587         U3_N16117699 U3_LOOP INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U3_U586         U3_N16410476 U3_LUPB U3_N16410579 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U3_U585         U3_N16410579 U3_N16117459 U3_N16117699 OR2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
C_U2_C13         U2_SS 0  1n  TC=0,0 
X_U2_H1    U2_N13171505 U2_N13171363 U2_N13171277 0 SOFTSTART_U2_H1 
E_U2_ABM36         PWMMODE 0 VALUE { if(V(MODE) >1.8, 1,0)    }
E_U2_ABM4         VREF 0 VALUE { MIN(V(U2_SS),{VREF})    }
E_U2_ABM38         U2_SS_0_7 0 VALUE { if( V(U2_MODESEL)>=17, .857,0)    }
E_U2_SUM3         U2_N13177195 0 VALUE {V(U2_N13173736)+V(U2_N13173726)}
X_U2_S3    ENHI_RECAL 0 U2_N13177195 U2_VSNH SOFTSTART_U2_S3 
E_U2_ABM6         U2_HICCUP_5_6 0 VALUE { if(V(U2_VSNH)<0.16, 16.1n,0)    }
C_U2_C12         0 U2_VSNH  1m IC=0 TC=0,0 
E_U2_ABM5         U2_SS_5_6 0 VALUE { if(V(U2_MODESEL)<3.5, 0.107,0)    }
V_U2_V1         U2_N15484376 0 0.599
E_U2_ABM16         U2_SS_2_8 0 VALUE { if(V(U2_MODESEL)>=3.5 &
+  V(U2_MODESEL)<7.5, .214,0)    }
E_U2_SUM2         U2_N13173726 0 VALUE {V(U2_SS_1_4)+V(U2_SS_0_7)}
X_U2_U580         U2_SS U2_N15484376 SSEND COMP_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5
D_U2_D1         U2_SS VREG DD 
E_U2_ABM17         U2_HICCUP_2_8 0 VALUE { if(V(U2_VSNH)>=0.16 &
+  V(U2_VSNH)<0.32, 28.6n,0)    }
E_U2_E2         U2_N13171505 0 ENHI_TOGG 0 .1
X_U2_S5    U2_ENSS 0 U2_SS 0 SOFTSTART_U2_S5 
E_U2_E4         U2_MODESEL 0 U2_N13171277 0 1E7
E_U2_SUM4         U2_N15529557 0 VALUE {V(U2_HICCUP_1_4)+V(U2_HICCUP_0_7)}
G_U2_ABM2I1         VREG U2_SS VALUE { if(V(U2_N15493842) >0.5, V(U2_VSNH)*
+ {1u+FAST*4u}, 0)    }
E_U2_ABM39         U2_HICCUP_1_4 0 VALUE { if(V(U2_VSNH)>= 0.32 &
+  V(U2_VSNH)<0.64, 47n,0)    }
E_U2_SUM5         U2_N15529565 0 VALUE {V(U2_HICCUP_5_6)+V(U2_HICCUP_2_8)}
X_U2_U581         U2_ENSS ENCIRD U2_N15493842 AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U2_S4    ENHI_TOGG 0 MODE U2_N13171363 SOFTSTART_U2_S4 
X_U2_U579         ENHI_TOGG1 UVP U2_ENSS N15472541 srlatchshp PARAMS: VDD=1
+  VSS=0 VTHRESH=.5
E_U2_ABM40         U2_HICCUP_0_7 0 VALUE { if( V(U2_VSNH)>= 0.64, 69n,0)    }
E_U2_SUM6         HICCUP_I 0 VALUE {V(U2_N15529565)+V(U2_N15529557)}
E_U2_SUM1         U2_N13173736 0 VALUE {V(U2_SS_5_6)+V(U2_SS_2_8)}
E_U2_ABM37         U2_SS_1_4 0 VALUE { if(V(U2_MODESEL)>= 7.5 &
+  V(U2_MODESEL)<17, .429,0)    }
X_U2_U210         ENCIR ENCIRD rising_delay PARAMS:  DELAY=250u VDD=1 VSS=0
+  VTHRESH=0.5
R_R16         VIN VIN_2  1m  
X_U8_U605         ENCIRD U8_DRVOFF INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
R_U8_R41         VBST U8_N16575032  10  
D_U8_D3         LL_0 U8_N167389890 DD 
X_U8_U637         U8_DRVOFF U8_DRVOFF HI_READY UVP HDR NOR4_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
V_U8_V5         U8_N16705521 LL_0 250m
X_U8_U636         LOW_READY U8_PREBIAS UVP U8_DRVOFF U8_N16732455
+  NOR4_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U8_S2    DRVL GND_0 LL_0 GND_0 DRIVER_U8_S2 
X_U8_S1    DRVH LL_0 VIN LL_0 DRIVER_U8_S1 
D_U8_D5         VREG U8_N16575032 DD 
V_U8_V6         U8_N167389890 VIN 250m
X_U8_U620         HDR U8_HDRB INV_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
D_U8_D4         GND_0 U8_N16705521 DD 
X_U8_S3    LL_PD 0 LL_0 0 DRIVER_U8_S3 
X_U8_U639         U8_N16732455 U8_N16732455 U8_LDR OR2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U8_S7    U8_LDR 0 VREG DRVL DRIVER_U8_S7 
X_U8_U638         OVP ZC N16732817 AND2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U8_S5    HDR 0 VBST DRVH DRIVER_U8_S5 
X_U8_S8    U8_LDRB 0 DRVL 0 DRIVER_U8_S8 
X_U8_S6    U8_HDRB 0 DRVH LL_0 DRIVER_U8_S6 
X_U8_U614         U8_LDR U8_LDRB INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U8_U640         HDR U8_DRVOFF N16518149 U8_PREBIAS SRLATCHRHP_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
R_R10         LL_0 LL_1  1m  
V_V1         VIN VIN_0 0Vdc
R_R17         VIN VIN_3  1m  
C_U6_C1         0 EN  1p IC=0 TC=0,0 
X_U6_U210         U6_N11757218 ENHI_TOGG BUFFER_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=2n TPHL=20u TR=1E-9 TF=1E-9
E_U6_ABM15         U6_N11271642 0 VALUE { IF((V(U6_EN_ON) > 0.5) &
+  (V(U6_ENVREG5) >3.5), 0, 1)    }
E_U6_ABM17         U6_EN_ON 0 VALUE { if(V(EN)>1.8,1,0)    }
E_U6_ABM18         U6_ENVREG5 0 VALUE { LIMIT (V(VDD) - 230m, 0 , 5)    }
X_U6_U299         U6_EN_ON U6_V5INOK ENCIR AND2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U6_U300         U6_EN_ON U6_N11757218 rising_oneshot PARAMS:  PULSE=230u
+  VDD=1 VSS=0 VTHRESH=0.5
X_U6_U298         VREG U6_N11749566 U6_N11749570 U6_V5INOK COMPHYS_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
V_U6_V2         U6_N11749570 0 0.25
V_U6_V1         U6_N11749566 0 4.2
G_U6_G2         U6_REG5 VREG TABLE { V(U6_REG5, VREG) } 
+ ( (-10,-30m)(-1m,-29m)(0,0)(1m,29m)(10,30m) )
C_U6_C5         0 U6_REG5  100p  
E_U6_ABM1         LL_PD 0 VALUE { IF(V(U6_EN_ON) < 0.5 & V(VDD) >1.5  , 1 , 0 )
+     }
X_U6_S1    U6_N11271642 0 VREG 0 LDO_U6_S1 
R_U6_R4         U6_REG5 U6_ENVREG5  1  
X_U6_U301         U6_N11757218 ENHI_RECAL INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
R_R12         LL_0 LL_3  1m  
X_U7_U617         HDR U7_N16387817 U7_N16390437 AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U7_U601         ENCIRD U7_ONG U7_MIN_OFF U7_N16352359 NAND3_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U7_U634         U7_ON U7_ONB INV_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U7_U191         U7_N16351875 U7_N16387817 BUFFER_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=2n TPHL=15n TR=1E-9 TF=1E-9
X_U7_U586         U7_N16374747 MIN_OFFB INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U7_U192         DRVL U7_N16352147 BUFFER_PS PARAMS: VHI=1 VLO=0 VTHRESH=2.5
+  TPLH=2E-9 TPHL=2E-9 TR=1E-9 TF=1E-9
X_U7_U639         U7_N16351875 U7_N16390437 U7_LOW_DELAY NOR2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U7_U603         U7_ON TOS ENCIRD U7_N16351533 NAND3_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U7_U638         U7_N166884770 U7_N16352147 U7_ON1 NOR2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U7_U606         HI_READY U7_N16351875 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U7_U602         U7_ONSET U7_ONSET U7_N16351533 U7_ON NAND3_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U7_U626         ZC U7_N16375979 U7_N16378128 OR2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U7_U623         U7_ON U7_ON1 HI_READY NAND2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U7_U643         OVPX LOOPB OCL U7_MIN_OFF U7_ONSET OR4_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U7_U624         U7_N16352147 U7_N16375979 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U7_U612         MIN_OFFB U7_N16378128 BLNKM NAND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U7_U600         U7_N16352359 TOS TOS U7_MIN_OFF NAND3_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U7_U622         U7_LOW_DELAY U7_ONB ZC LOW_READY NAND3_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U7_U604         LOW_READY U7_N166884770 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U7_U188         U7_MIN_OFF U7_N16374747 BUFFER_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=2n TPHL=10E-9 TR=1E-9 TF=1E-9
X_U7_U644         LOW_READY U7_ONG falling_delay PARAMS:  DELAY=250n VDD=1
+  VSS=0 VTHRESH=0.5
R_R7         GND_1 0  1m TC=0,0 
R_R18         VIN VIN_4  1m  
X_U4_U610         ENCIRD U4_N16240012 U4_N16240006 AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
R_U4_R23         0 U4_TON  10Meg TC=0,0 
E_U4_GAIN1         U4_SWBUF 0 VALUE {1 * V(LL_0)}
V_U4_V77         U4_N16671213 0 5.5
X_U4_U644         U4_N16239896 U4_TON U4_N16240012 COMP_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5
R_U4_R6         U4_VOINFO U4_N16666401  1e6 TC=0,0 
G_U4_ABM2I2         U4_TON 0 VALUE { if(V(U4_DQOS) >.75, V(U4_TON)/200,0)    }
G_U4_ABM2I1         VREG U4_TON VALUE { if(V(U4_DQOS)<0.25, V(U4_SWBUF)/384K,0)
+     }
R_U4_R5         U4_N16666401 U4_SWBUF  1e6 TC=0,0 
E_U4_MULT1         U4_VSEL 0 VALUE {V(TSEL)*V(U4_VOINFO)}
V_U4_V82         U4_N16239896 U4_VSEL 10m
X_U4_U632         U4_N16240006 U4_DQOS TOS OR2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
C_U4_C5         0 U4_N16666401  10p IC=0 TC=0,0 
X_U4_U35427         U4_VOINFO U4_N16671213 OVPX COMP_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5
X_U4_U193         HI_READY U4_DQOS BUFFER_PS PARAMS: VHI=1 VLO=0 VTHRESH=500E-3
+  TPLH=2E-9 TPHL=2E-9 TR=1E-9 TF=1E-9
C_U4_C4         0 U4_TON  10p IC=0 TC=0,0 
C_U4_C6         0 U4_VOINFO  5p IC=0 TC=0,0 
X_U1_H1    U1_N12800130 U1_N12799590 U1_N12799266 0 RF_SEL_U1_H1 
X_U1_S3    ENHI_RECAL 0 U1_N12799504 TSEL RF_SEL_U1_S3 
E_U1_ABM19         U1_F850 0 VALUE { if(V(U1_RFSEL)>-1.25 & V(U1_RFSEL)<=-120m,
+  0.294,0)    }
E_U1_ABM4         U1_F250 0 VALUE { if(V(U1_RFSEL)>1.25, 1,0)    }
E_U1_ABM20         U1_F970 0 VALUE { if(V(U1_RFSEL)<=-1.25, 0.258,0)    }
E_U1_SUM1         U1_N13198704 0 VALUE {V(U1_F250)+V(U1_F300)}
E_U1_SUM4         U1_N13199055 0 VALUE {V(U1_F850)+V(U1_F970)}
E_U1_E4         U1_RFSEL 0 U1_N12799266 0 10000
X_U1_S4    ENHI_TOGG 0 RF U1_N12799590 RF_SEL_U1_S4 
C_U1_C12         0 TSEL  1m IC=0 TC=0,0 
R_U1_R1         RF VREG  1e11 TC=0,0 
E_U1_SUM5         U1_N12799890 0 VALUE {V(U1_N13198935)+V(U1_N13199055)}
E_U1_ABM22         U1_F500 0 VALUE { if(V(U1_RFSEL)>-15m & V(U1_RFSEL)<=20m,
+  0.5,0)    }
E_U1_ABM16         U1_F300 0 VALUE { if(V(U1_RFSEL)>80m & V(U1_RFSEL)<=1.25,
+  0.833,0)    }
E_U1_E2         U1_N12800130 0 ENHI_TOGG 0 2.5
R_U1_R2         0 RF  1e11 TC=0,0 
E_U1_ABM21         U1_F400 0 VALUE { if(V(U1_RFSEL)>20m & V(U1_RFSEL)<=80m,
+  0.625,0)    }
E_U1_SUM2         U1_N13198818 0 VALUE {V(U1_F400)+V(U1_F500)}
E_U1_ABM18         U1_F750 0 VALUE { if(V(U1_RFSEL)>-120m & V(U1_RFSEL)<=-50m,
+  0.333,0)    }
E_U1_SUM6         U1_N12799900 0 VALUE {V(U1_N13198704)+V(U1_N13198818)}
E_U1_SUM3         U1_N13198935 0 VALUE {V(U1_F600)+V(U1_F750)}
E_U1_ABM17         U1_F600 0 VALUE { if(V(U1_RFSEL)>-50m & V(U1_RFSEL)<=-15m,
+  0.417,0)    }
E_U1_SUM7         U1_N12799504 0 VALUE {V(U1_N12799900)+V(U1_N12799890)}
E_U5_E6         U5_N16300611 0 TRIP 0 {1/8}
X_U5_U591         U5_OCLDIS U5_OCLDIS OCL U5_N16300383 NAND3_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U5_U599         BLNKM U5_OCLHI U5_OCLDIS OR2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U5_U595         U5_N16299751 U5_N16299751 ZC U5_N16299791 NAND3_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
V_U5_V87         U5_NCLTHR U5_MODECHECK 1m
X_U5_U641         U5_OCLTHR U5_LLO U5_OCLHI COMP_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5
E_U5_ABM9         U5_N16300285 0 VALUE { if( V(DRVL)>2.5 & V(LL_0) < 0.5,  
+ V(LL_0),  
+ V(0) )  }
G_U5_ABMII1         VREG TRIP VALUE { if(V(ENCIR)>0.5, 10u,0)    }
X_U5_U609         NCL U5_NCLB INV_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U5_U643         U5_N16694363 N16694391 rising_delay PARAMS:  DELAY=5n VDD=1
+  VSS=0 VTHRESH=0.5
V_U5_V89         U5_N16694321 0 2.5
X_U5_U642         DRVL U5_N16694321 U5_N16694363 COMP_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5
E_U5_E5         U5_OCLTHR 0 TRIP 0 {-1/32}
E_U5_ABM8         U5_MODECHECK 0 VALUE { if( V(U5_NEGLIM)>0.5,  
+ V(U5_N16300611),  
+ V(0) )  }
X_U5_U592         U5_N16300383 MIN_OFFB ENCIRD OCL NAND3_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
V_U5_V88         U5_N16576005 0 3V
X_U5_U598         BLNKM U5_NCLB U5_N16299751 OR2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
R_U5_R9         U5_LLO U5_N16300285  100  
X_U5_U596         U5_N16299791 MIN_OFFB ENCIRD ZC NAND3_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
D_U5_D1         TRIP U5_N16576005 DD 
X_U5_U640         U5_LLO U5_NCLTHR NCL COMP_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5
C_U5_C15         U5_LLO 0  20p  TC=0,0 
X_U5_U608         OVP SSEND U5_FAULT AND2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U5_U607         PWMMODE U5_FAULT U5_NEGLIM OR2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
G_U9_ABM2I5         VREG U9_FTIME VALUE { if(V(ENCIRD) >0.5 & V(U9_N16331759)
+  >0.5, V(HICCUP_I) * (FAST*9 + 1), 0)    }
X_U9_U579         U9_HS U9_HR U9_N16331925 N16332109 srlatchrhp PARAMS: VDD=1
+  VSS=0 VTHRESH=.5
X_U9_S12    U9_N16331715 0 U9_FTIME 0 UVOVP_U9_S12 
C_U9_C14         U9_FTIME 0  1n  TC=0,0 
X_U9_U631         ENHI_TOGG U9_HS ENHI_TOGG1 OR2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
D_U9_D1         U9_FTIME VREG DD 
E_U9_ABM61         U9_UVLATCH 0 VALUE { if( V(OVP) <0.5,   
+ V(U9_N16226756),  
+ V(U9_N16226800) )  }
X_U9_U196         U9_HR U9_N16331715 BUFFER_PS PARAMS: VHI=1 VLO=0 VTHRESH=.5
+  TPLH=1u TPHL=1u TR=1E-9 TF=1E-9
X_U9_U50         U9_N16226926 UVP U9_N16226718 N16226836 srnandlatchshp_basic
+  PARAMS:
X_U9_U577         U9_N16226800 U9_N16226756 BUF_DELAY_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=.5 DELAY=1m
E_U9_ABM14         U9_N16227006 0 VALUE { IF(V(VFB) > 0.72 &  
+ V(ENCIRD) >0.5,1,0)   }
X_U9_U636         U9_N16226762 ENHI_TOGG1 UVP N16227038 SRLATCHRHP_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U9_U635         U9_N16332115 U9_N16331725 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U9_U578         UVP U9_HR U9_N16331759 N16332227 srlatchrhp PARAMS: VDD=1
+  VSS=0 VTHRESH=.5
X_U9_U614         U9_N16226718 ENCIRD OVP AND2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
E_U9_ABM16         U9_N16226800 0 VALUE { IF(V(VFB) < 0.42 &  
+ V(SSEND) >.5,1,0)   }
X_U9_U574         U9_N16331925 U9_N16332115 BUF_DELAY_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=.5 DELAY=3u
X_U9_U629         U9_N16331925 U9_N16331725 U9_N16336641 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U9_U573         U9_N16227006 U9_OVLATCH BUF_DELAY_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=.5 DELAY=0.5u
X_U9_U612         U9_OVLATCH ENCIRD U9_N16226926 AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
E_U9_ABM5         U9_HS 0 VALUE { if(V(U9_FTIME)>1, 1,0)    }
X_U9_U197         U9_N16336641 U9_HR BUFFER_PS PARAMS: VHI=1 VLO=0 VTHRESH=.5
+  TPLH=2u TPHL=2u TR=1E-9 TF=1E-9
X_U9_U613         U9_UVLATCH SSEND U9_N16226762 AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
R_R14         LL_0 LL_5  1m  
R_R15         VIN VIN_1  1m  
.PARAM  vref=0.6
.ENDS TPS53353
*$
.subckt PGOOD_U10_S9 1 2 3 4  
S_U10_S9         3 4 1 2 _U10_S9
RS_U10_S9         1 2 1G
.MODEL         _U10_S9 VSWITCH Roff=1e8 Ron=30 Voff=0.75 Von=0.25
.ends PGOOD_U10_S9
*$
.subckt DCAP_PWM_U3_S11 1 2 3 4  
S_U3_S11         3 4 1 2 _U3_S11
RS_U3_S11         1 2 1G
.MODEL         _U3_S11 VSWITCH Roff=1e11 Ron=1m Voff=.25 Von=.75
.ends DCAP_PWM_U3_S11
*$
.subckt SOFTSTART_U2_H1 1 2 3 4  
H_U2_H1         3 4 VH_U2_H1 1
VH_U2_H1         1 2 0V
.ends SOFTSTART_U2_H1
*$
.subckt SOFTSTART_U2_S3 1 2 3 4  
S_U2_S3         3 4 1 2 _U2_S3
RS_U2_S3         1 2 1G
.MODEL         _U2_S3 VSWITCH Roff=1e9 Ron=1.0m Voff=1 Von=0
.ends SOFTSTART_U2_S3
*$
.subckt SOFTSTART_U2_S5 1 2 3 4  
S_U2_S5         3 4 1 2 _U2_S5
RS_U2_S5         1 2 1G
.MODEL         _U2_S5 VSWITCH Roff=1e9 Ron=1 Voff=.75 Von=.25
.ends SOFTSTART_U2_S5
*$
.subckt SOFTSTART_U2_S4 1 2 3 4  
S_U2_S4         3 4 1 2 _U2_S4
RS_U2_S4         1 2 1G
.MODEL         _U2_S4 VSWITCH Roff=1e10 Ron=1.0 Voff=0.0V Von=1.0V
.ends SOFTSTART_U2_S4
*$
.subckt DRIVER_U8_S2 1 2 3 4  
S_U8_S2         3 4 1 2 _U8_S2
RS_U8_S2         1 2 1G
.MODEL         _U8_S2 VSWITCH Roff=100E6 Ron=1.5m Voff=1 Von=2
.ends DRIVER_U8_S2
*$
.subckt DRIVER_U8_S1 1 2 3 4  
S_U8_S1         3 4 1 2 _U8_S1
RS_U8_S1         1 2 1G
.MODEL         _U8_S1 VSWITCH Roff=100E6 Ron=5m Voff=1 Von=2
.ends DRIVER_U8_S1
*$
.subckt DRIVER_U8_S3 1 2 3 4  
S_U8_S3         3 4 1 2 _U8_S3
RS_U8_S3         1 2 1G
.MODEL         _U8_S3 VSWITCH Roff=1e9 Ron=40 Voff=0.25 Von=0.75
.ends DRIVER_U8_S3
*$
.subckt DRIVER_U8_S7 1 2 3 4  
S_U8_S7         3 4 1 2 _U8_S7
RS_U8_S7         1 2 1G
.MODEL         _U8_S7 VSWITCH Roff=1E11 Ron=1 Voff=.25 Von=.75
.ends DRIVER_U8_S7
*$
.subckt DRIVER_U8_S5 1 2 3 4  
S_U8_S5         3 4 1 2 _U8_S5
RS_U8_S5         1 2 1G
.MODEL         _U8_S5 VSWITCH Roff=1E10 Ron=4.5 Voff=0.25 Von=0.75
.ends DRIVER_U8_S5
*$
.subckt DRIVER_U8_S8 1 2 3 4  
S_U8_S8         3 4 1 2 _U8_S8
RS_U8_S8         1 2 1G
.MODEL         _U8_S8 VSWITCH Roff=1E11 Ron=0.5 Voff=.25 Von=.75
.ends DRIVER_U8_S8
*$
.subckt DRIVER_U8_S6 1 2 3 4  
S_U8_S6         3 4 1 2 _U8_S6
RS_U8_S6         1 2 1G
.MODEL         _U8_S6 VSWITCH Roff=1E10 Ron=0.7 Voff=0.25 Von=0.75
.ends DRIVER_U8_S6
*$
.subckt LDO_U6_S1 1 2 3 4  
S_U6_S1         3 4 1 2 _U6_S1
RS_U6_S1         1 2 1G
.MODEL         _U6_S1 VSWITCH Roff=1e8 Ron=1 Voff=0.2 Von=0.8
.ends LDO_U6_S1
*$
.subckt RF_SEL_U1_H1 1 2 3 4  
H_U1_H1         3 4 VH_U1_H1 1
VH_U1_H1         1 2 0V
.ends RF_SEL_U1_H1
*$
.subckt RF_SEL_U1_S3 1 2 3 4  
S_U1_S3         3 4 1 2 _U1_S3
RS_U1_S3         1 2 1G
.MODEL         _U1_S3 VSWITCH Roff=1E9 Ron=1m Voff=0.75 Von=0.25
.ends RF_SEL_U1_S3
*$
.subckt RF_SEL_U1_S4 1 2 3 4  
S_U1_S4         3 4 1 2 _U1_S4
RS_U1_S4         1 2 1G
.MODEL         _U1_S4 VSWITCH Roff=1e10 Ron=10k Voff=0.0V Von=1.0V
.ends RF_SEL_U1_S4
*$
.subckt UVOVP_U9_S12 1 2 3 4  
S_U9_S12         3 4 1 2 _U9_S12
RS_U9_S12         1 2 1G
.MODEL         _U9_S12 VSWITCH Roff=1e11 Ron=1 Voff=.25 Von=.75
.ends UVOVP_U9_S12
*$
*$
.SUBCKT AND2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND2_BASIC_GEN
*$
.SUBCKT AND3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND3_BASIC_GEN
*$
.SUBCKT NAND2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NAND2_BASIC_GEN
*$
.SUBCKT NAND3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NAND3_BASIC_GEN
*$
.SUBCKT OR2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR2_BASIC_GEN
*$
.SUBCKT OR4_BASIC_GEN A B C D Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH} |
+ V(D) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR4_BASIC_GEN
*$
.SUBCKT BUF_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS BUF_BASIC_GEN
*$
.SUBCKT INV_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS INV_BASIC_GEN
*$
.SUBCKT NOR2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR2_BASIC_GEN
*$
.SUBCKT NOR3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR3_BASIC_GEN
*$
.SUBCKT NOR4_BASIC_GEN A B C D Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH} |
+ V(D) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR4_BASIC_GEN
*$
.SUBCKT COMP_BASIC_GEN INP INM Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5	
E_ABM Yint 0 VALUE {IF (V(INP) > 
+ V(INM), {VDD},{VSS})}
R1 Yint Y 1
C1 Y 0 1n
.ENDS COMP_BASIC_GEN
*$
.SUBCKT COMPHYS_BASIC_GEN INP INM HYS OUT PARAMS: VDD=1 VSS=0 VTHRESH=0.5    
EIN INP1 INM1 INP INM 1 
EHYS INP1 INP2 VALUE { IF( V(1) > {VTHRESH},-V(HYS),0) }
EOUT OUT 0 VALUE { IF( V(INP2)>V(INM1), {VDD} ,{VSS}) }
R1 OUT 1 1
C1 1 0 5n
RINP1 INP1 0 1K
.ENDS COMPHYS_BASIC_GEN
*$
.SUBCKT RISING_DELAY IN OUT PARAMS: DELAY=100n VDD=1 VSS=0 VTHRESH=0.5
D_D1         INT IN DD 
R_R1         IN INT  {DELAY/(0.693 * 1E-9)}  
C_C1         0 INT  1n  
X_U1         INT OUT BUF_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH=
+ {VTHRESH}
.MODEL DD D( IS=1F N=0.01 TT = 10p )
.ENDS RISING_DELAY
*$
.SUBCKT FALLING_DELAY IN OUT PARAMS: DELAY=100n VDD=1 VSS=0 VTHRESH=0.5
X_U1         INT OUT BUF_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH=
+ {VTHRESH}
R_R1         IN INT  {DELAY/(0.693 * 1E-9)}  
C_C1         0 INT  1n  
D_D1         IN INT DD 
.MODEL DD D( IS=1F N=0.01 TT = 10p )
.ENDS FALLING_DELAY
*$
.SUBCKT RISING_ONESHOT IN OUT PARAMS: PULSE=100n VDD=1 VSS=0 VTHRESH=0.5
D_D1         INT IN DD 
C_C1         0 INT  1n  
X_U22         INT IN_B_DELAYED INV_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS}
+  VTHRESH={VTHRESH}
R_R1         IN INT  {PULSE/(0.693 * 1E-9)}  
X_U1         IN IN_B_DELAYED OUT AND2_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS}
+  VTHRESH={VTHRESH}
.MODEL DD D( IS=1F N=0.01 TT = 10p )
.ENDS RISING_ONESHOT
*$
.SUBCKT BUFFER_PS A Y PARAMS: vhi=1 vlo=0 vthresh=500e-3
+ tplh=1e-9 tphl=1e-9 tr=1e-9 tf=1e-9
RA A 0 1e11
CA A 0 0.01pF
VS VSUP 0 DC 1
***** boolean ************
EBUF1 Ypp 0 VALUE={IF(V(A) > ({vthresh}), 1, 0)}
ROUTpp Ypp 0 1e11
***** add delay lines ****
XNSW1 OUTp Ypp 0 NSW_PS PARAMS: RONval={(tplh+1e-15)/
+(1e-12*0.693)} VTHval=0.5
XPSW1 OUTp Ypp VSUP PSW_PS PARAMS: RONval={(tphl+1e-15)/
+(1e-12*0.693)} VTHval=0.5
CDEL1 OUTp 0 1pF
ETHRESH Yp 0 VALUE={IF(V(OUTp) > 0.5, 1, 0)}
ROUTp Yp 0 1e11
** add rise and fall *****
XNSW2 OUTr Yp 0 NSW_PS PARAMS: RONval={(tf+1e-15)/
+(1e-12*2.3)} VTHval=0.5
XPSW2 OUTr Yp VSUP PSW_PS PARAMS: RONval={(tr+1e-15)
+/(1e-12*2.3)} VTHval=0.5
CDEL2 OUTr 0 1pF
**************************
EOUT OUTf 0 VALUE={V(OUTr)*({vhi} - {vlo})+{vlo}}
RDR OUTf Y  1000
RO Y 0 1e11
.ENDS BUFFER_PS
*$
.SUBCKT INV_PS Y A PARAMS: vhi=1 vlo=0 vthresh=500e-3
+ tplh=1e-9 tphl=1e-9 tr=1e-9 tf=1e-9
RA A 0 1e11
CA A 0 0.01pF
VS VSUP 0 DC 1
***** boolean ************
EINV1 Ypp 0 VALUE={IF(V(A) > ({vthresh}), 0, 1)}
ROUTpp Ypp 0 1e11
***** add delay lines ****
XNSW1 OUTp Ypp 0 NSW_PS PARAMS: RONval={(tplh+1e-15)/
+(1e-12*0.693)} VTHval=0.5
XPSW1 OUTp Ypp VSUP PSW_PS PARAMS: RONval={(tphl+1e-15)/
+(1e-12*0.693)} VTHval=0.5
CDEL1 OUTp 0 1pF
ETHRESH Yp 0 VALUE={IF(V(OUTp) > 0.5, 1, 0)}
ROUTp Yp 0 1e11
** add rise and fall *****
XNSW2 OUTr Yp 0 NSW_PS PARAMS: RONval={(tf+1e-15)/
+(1e-12*2.3)} VTHval=0.5
XPSW2 OUTr Yp VSUP PSW_PS PARAMS: RONval={(tr+1e-15)/
+(1e-12*2.3)} VTHval=0.5
CDEL2 OUTr 0 1pF
**************************
EOUT OUTf 0 VALUE={V(OUTr)*({vhi} - {vlo})+{vlo}}
RDR OUTf Y  1000
RO Y 0 1e11
.ENDS INV_PS
*$
.SUBCKT NSW_PS D G S PARAMS: RONval=10k VTHval=0.7
+ VCHARval=0.01 CGval=0.01pF CDval=0.01pF 
RDDUM D 0 1e11
RSDUM S 0 1e11
RGDUM G 0 1e11
CG G D {CGval}
CD D S {CDval}
EEXP F1 0 VALUE={LIMIT(((V(G,S)-VTHval)/VCHARval),-80,80)} 
GOUT D S VALUE={V(D,S)/(RONval*(1+EXP(-LIMIT(((V(G,S)-VTHval)
+/VCHARval),-80,80))))}
.ENDS NSW_PS
*$
.SUBCKT PSW_PS D G S PARAMS: RONval=10k VTHval=0.7
+ VCHARval=0.01 CGval=0.01pF CDval=0.01pF 
RDDUM D 0 1e11
RSDUM S 0 1e11
RGDUM G 0 1e11
CG G D {CGval}
CD D S {CDval}
EEXP F1 0 VALUE={LIMIT(((V(S,G)-VTHval)/VCHARval),-80,80)} 
GOUT S D VALUE={V(S,D)/(RONval*(1+EXP(-LIMIT(((V(S,G)-VTHval)
+/VCHARval),-80,80))))}
.ENDS PSW_PS
*$
.SUBCKT SRNANDLATCHSHP_BASIC S R Q QB
r1 R 0 1e11
r2 S 0 1e11
GQ 0 Qint VALUE = {IF(V(S) > .5,5,IF(V(R)>.5,-5, 0))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 5
D_D11 0 Qint D_D1 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUFFER_PS
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > .5, 0,1)}
RQb Qbr QB 1 
Cdummy1 Q 0 10p IC={1}
Cdummy2 QB 0 10p IC={0}
.MODEL D_D1 D( IS=1e-15 TT=10p Rs=0.05 N=.1  )
.ENDS SRNANDLATCHSHP_BASIC
*$
**Reset has higher priority in this latch
.SUBCKT SRLATCHRHP_BASIC_GEN S R Q QB PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
GQ 0 Qint VALUE = {IF(V(R) > {VTHRESH},-5,IF(V(S)>{VTHRESH},5, 0))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr QB 1 
Cdummy1 Q 0 1n 
Cdummy2 QB 0 1n
.IC V(Qint) {VSS}
.ENDS SRLATCHRHP_BASIC_GEN
*$
**Reset has higher priority in this latch
.SUBCKT SRLATCHRHP S R Q QB PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
Rs S 0 1e11
Rr R 0 1e11
GQ 0 Qint VALUE = {IF(V(R) > {VTHRESH},-5,IF(V(S)>{VTHRESH},5, 0))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUFFER_PS
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr QB 1 
Cdummy1 Q 0 10p 
Cdummy2 QB 0 10p
.IC V(Qint) {VSS}
.MODEL D_D1 D( IS=1e-15 TT=10p Rs=0.05 N=.1  )
.ENDS SRLATCHRHP
*$
.SUBCKT MONOPOS_PS in Q Qn PARAMS: PW=250u 
VS VSUP 0 DC 1
r1 IN 0 1e11
GIN VSUP YA VALUE={IF(V(IN)>0.5, V(VSUP)/1000K, 0)}
GDIS YA 0 VALUE={IF(V(IN)>0.5,0, V(YA)/1m)}
CIN YA 0 1n IC=0
RIN YA 0 1e11
EABM1 YTD 0 VALUE={IF(V(YA)> {PW*1000}, 1, 0)}
RYTD YTD 0 1e11
EXOR P 0 VALUE={IF(V(YTD) > 0.5 ^ V(IN) > .5, 1, 0)}
ROUTpp2 P 0 1e11
EAND1 Q1 0 VALUE={ IF(V(P)>0.5 & V(IN)>0.5, 1, 0)}
Ro1 Q1 Q 1m
Co1 Q 0 1p
ROUT2 Q 0 1e11
EAND2 Qn1 0 VALUE={ IF(V(Q)>0.5, 0, 1)}
Ro2 Qn1 Qn 1m
Co2 Qn 0 1p
ROUT4 Qn 0 1e11
.ENDS MONOPOS_PS
*$
.SUBCKT BUF_DELAY_BASIC_GEN A  Y PARAMS: VDD=5 VSS=0 VTHRESH=2.5
+ DELAY = 10n 
E_ABMGATE1    YINT1 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT1 YINT2 1
CINT YINT2 0 {DELAY*1.3}
E_ABMGATE2    YINT3 0 VALUE {{IF(V(YINT2) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT2 YINT3 Y 1
CINT2 Y 0 1n
.ENDS BUF_DELAY_BASIC_GEN
*$
.SUBCKT SRLATCHSHP_BASIC_GEN S R Q QB PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
rs s 0 1e11
rr r 0 1e11
GQ 0 Qint VALUE = {IF(V(S) > {VTHRESH},5,IF(V(R)>{VTHRESH},-5, 0))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 buffer_ps
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr QB 1 
Cdummy1 Q 0 10p 
Cdummy2 QB 0 10p
.IC V(Qint) {VSS}
.model d_d1 d
+ is=1e-015
+ tt=1e-011
+ rs=0.05
+ n=0.1
.ENDS SRLATCHSHP_BASIC_GEN
*$
.SUBCKT SRLATCHSHP S R Q QB PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
Rs S 0 1e11
Rr R 0 1e11
GQ 0 Qint VALUE = {IF(V(S) > {VTHRESH},5,IF(V(R)>{VTHRESH},-5, 0))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUFFER_PS
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr QB 1 
Cdummy1 Q 0 10p 
Cdummy2 QB 0 10p
.IC V(Qint) {VSS}
.MODEL D_D1 D( IS=1e-15 TT=10p Rs=0.05 N=.1  )
.ENDS SRLATCHSHP
*$
.SUBCKT LDCR IN OUT
+ PARAMs:  L=1u DCR=0.01 IC=0
L	IN 1  {L} IC={IC}
RDCR	1 OUT {DCR}
.ENDS LDCR
*$
.SUBCKT CESR IN OUT
+ PARAMs:  C=100u ESR=0.01 X=2 IC=0
C	IN 1  {C*X} IC={IC}
RESR	1 OUT {ESR/X}
.ENDS CESR
*$
.MODEL D_D1 D( IS=1e-15 TT=10p Rs=0.05 N=.1  )
*$
.MODEL DD D( IS=1F N=0.01 TT = 10p )
*$
