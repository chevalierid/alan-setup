*$
* TPS54821
*****************************************************************************
* (C) Copyright 2014 Texas Instruments Incorporated. All rights reserved.                                            
*****************************************************************************
** This model is designed as an aid for customers of Texas Instruments.
** TI and its licensors and suppliers make no warranties, either expressed
** or implied, with respect to this model, including the warranties of 
** merchantability or fitness for a particular purpose.  The model is
** provided solely on an "as is" basis.  The entire risk as to its quality
** and performance is with the customer
*****************************************************************************
*
* This model is subject to change without notice. Texas Instruments
* Incorporated is not responsible for updating this model.
*
*****************************************************************************
*
** Released by: WEBENCH Design Center, Texas Instruments Inc.
* Part: TPS54821
* Date: 09MAY2014
* Model Type: TRANSIENT
* Simulator: PSPICE
* Simulator Version: 16.2.0.p001
* EVM Order Number: TPS54821EVM-049
* EVM Users Guide: SLVU479–October 2011
* Datasheet: SLVSB14–OCTOBER 2011
*
* Model Version: Final 1.00
*
*****************************************************************************
*
* Updates:
*
* Final 1.00
* Release to Web.
*
***************************************************************************** 
.SUBCKT TPS54821_TRANS BOOT COMP EN GND_0 GND_1 PH_0 PH_1 PVIN_0 PVIN_1 PWPD
+  PWRGD RT SS_TR V_SNS VIN  PARAMS: SS=0
R_R16         PH_0 PH_1  1m  
X_U12_U618         SYSCLK U12_N16726160 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U12_U616         U12_N16721150 U12_N16721260 U12_N16721200 COMP_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
V_U12_V67         U12_N16721260 0 3
X_U12_U609         ENAB U12_N16726160 U12_N16725776 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
C_U12_C154         0 U12_N16721160  10p  
E_U12_ABM158         U12_N16721310 0 VALUE { {IF(V(LDRV) > 0.5, 1,0)}    }
X_U12_U617         N16735875 OCLOWLIMIT U12_N16721200 SET1 U12_N16725776 SET1
+  DFFSBRB_RHPBASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
E_U12_ABM157         U12_N16721150 0 VALUE { {IF(V(U12_N16721160) > 0.5,   
+ V(OCLOW),0)}   }
R_U12_R272         U12_N16721310 U12_N16721160  14.4k  
D_U12_D59         U12_N16721160 U12_N16721310 D_D1 
R_R8         GND_0 GND_1  1m  
R_R7         PVIN_1 PVIN_0  1m  
X_U11_U136         U11_N16496294 U11_N6045102 SDWN_H OR2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U11_U603         SDWN_H U11_N6045130 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
V_U11_V64         U11_N6045018 0 3.85
X_U11_U605         HICCUP U11_HICCUP_N INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
C_U11_C163         U11_N6045130 U11_N6045136  140.5p  
X_U11_U604         ENAB U11_N16496294 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
R_U11_R287         0 U11_N6045136  1k  
E_U11_ABM173         SS_DISCH 0 VALUE { {IF(V(SS_TR)  < 54m,0,  
+ IF(V(U11_N6045136) > 0.5,1,0))}   }
X_U11_U827         U11_N6045018 VIN U11_N16630658 U11_N6045102
+  COMPHYS_BASIC_GEN PARAMS:  VDD=1 VSS=0 VTHRESH=0.5
V_U11_V65         U11_N16630658 0 0.15
E_U4_ABM176         VREF_GM 0 VALUE { 
+ {IF(V(SS_TR)<0.521,V(SS_TR),IF(V(SS_TR)<0.709,
+  -1.2546*(V(SS_TR)**2)+1.9633*V(SS_TR)-0.1614 ,0.6))}    }
V_U4_V72         U4_N7406021 0 -0.1mVdc
C_U4_C15         0 U4_N7398492  100n  
X_U4_U2         HICCUP U4_HICCUP_N INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
G_U4_ABMII1         U4_N7397984 SS_TR VALUE { {IF(V(U4_N16572832) > 0.5,IF({SS}
+  > 0.5,1,2.3u),0)}    }
G_U4_ABMI5         SS_TR 0 VALUE { {IF(V(SS_DISCH) > 2.5, 1.25e-3,0)}    }
V_U4_V70         U4_N7397984 0 1.7
R_U4_R15         U4_N16639089 U4_N7398492  1  
X_U4_U827         U4_HICCUP_N U4_N16637245 U4_N16572832 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U4_U825         SDWN OCB HICCUP U4_N16639089 OR3_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
D_U4_D63         0 SS_TR D_D1 
D_U4_D62         SS_TR U4_N7397984 D_D1 
C_U4_C8         0 SS_TR  0.1p  
X_U4_U1         SDWN U4_N16637245 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U4_S68    U4_N7398492 0 SS_TR U4_N7406021 SoftStart_U4_S68 
R_U5_R4         0 COMP  3.07MEG  
C_U5_C11         0 OCB  1n  
V_U5_V5         U5_N7407325 0 0.25
G_U5_ABM2I3         0 U5_N7406901 VALUE { {V(VREF_GM) - V(VSENSEINT)}    }
C_U5_C10         0 U5_N7406901  79.6n  
R_U5_R12         U5_N7406885 OCB  1  
E_U5_ABM8         U5_N7406885 0 VALUE { {IF(V(COMP) > 1.5,5,0)}    }
D_U5_D10         COMP U5_N7407271 D_D 
D_U5_D9         U5_N7407325 COMP D_D 
G_U5_ABM2I1         0 COMP VALUE { {LIMIT((V(U5_N7406901) - V(0))*1300u,
+  -110u,110u)}    }
R_U5_R7         0 U5_N7406901  1  
V_U5_V6         U5_N7407271 0 1.5
C_U5_C5         0 COMP  20.7p  
R_U10_R8         U10_N16805924 U10_N16805858  14.43Meg  
X_U10_S3    U10_H_END 0 U10_N16806132 0 Hiccup_U10_S3 
C_U10_C5         0 U10_N16805924  1n  
G_U10_G4         0 U10_N16806132 U10_N16806062 0 -1
V_U10_V2         U10_N16806013 0 512.5
R_U10_R3         U10_N16805858 U10_N16806092  1  
V_U10_V3         U10_N16806154 0 5
E_U10_ABM9         U10_N16805977 0 VALUE { {IF(V(COMP) > 1,1,0)}    }
D_U10_D10         U10_N16806005 U10_N16806046 D_D1 
C_U10_C2         0 U10_N16805953  1n  
X_U10_U30         U10_N16805990 U10_N16805941 HICCUP U10_HICCUP_N
+  SRLATCHRHP_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U10_U612         U10_N16806132 U10_N16806138 U10_N16806092 COMP_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
C_U10_C4         0 U10_N16805858  1n  
X_U10_S2    U10_N16806078 0 U10_N16806005 0 Hiccup_U10_S2 
X_U10_U25         U10_N16806068 U10_N16806189 U10_N16806462 MONONEG_PS PARAMS:
+  PW=500e-9
C_U10_C1         0 U10_N16806005  500n IC=0 
D_U10_D11         U10_N16806132 U10_N16806154 D_D1 
X_U10_U26         U10_N16805977 U10_N16806192 U10_N16805912 MONONEG_PS PARAMS:
+  PW=10e-6
R_U10_R6         0 U10_N16806462  1e8  
E_U10_ABM10         U10_N16806062 0 VALUE { IF( V(HICCUP)>0.5, V(I_RT), 0)    }
X_U10_U615         U10_N16806192 U10_N16806071 U10_N16806078 OR2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
V_U10_V1         U10_N16806046 0 520
E_U10_ABM8         U10_N16805883 0 VALUE { {IF(V(COMP) > 1.35,1,0)}    }
X_U10_U614         U10_N16805883 SYSCLK U10_HICCUP_N U10_N16806068
+  AND3_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U10_U607         U10_N16805953 U10_N16805957 INV_DELAY_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5 DELAY=10u
R_U10_R2         U10_N16805953 HICCUP  1  
X_U10_U613         SDWN_H U10_H_END U10_N16805941 OR2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U10_U608         U10_N16805953 U10_N16805957 U10_N16806071 AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
V_U10_V4         U10_N16806138 0 2
X_U10_U616         U10_N16805924 U10_N16805858 U10_H_END OR2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
G_U10_G3         0 U10_N16806005 U10_N16806189 0 1
D_U10_D12         U10_N16805858 U10_N16805924 D_D1 
C_U10_C3         0 U10_N16806132  {5.1377p*16384} IC=0 
R_U10_R4         0 U10_N16805912  1e8  
X_U10_U609         U10_N16806005 U10_N16806013 U10_N16805990 COMP_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
V_V47         SET0 0 0Vdc
X_U3_S27    U3_N16664960 0 U3_N16664880 0 Oscillator_U3_S27 
E_U3_ABM4         ISLOPE 0 VALUE { MAX(V(U3_N16664880)-0.2,0)*1.875u    }
X_U3_F2    U3_N16751190 U3_N16664858 U3_N16664888 U3_N16664880 Oscillator_U3_F2
+  
C_U3_C80         U3_N16664880 0  5.1377p  
X_U3_U135         SYSCLK U3_N16664740 BUF_DELAY_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5 DELAY=20n
X_U3_U131         U3_RAMP U3_N16664744 SYSCLK COMP_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5
X_U3_F1    RT U3_N16751100 U3_N16664888 U3_RAMP Oscillator_U3_F1 
X_U3_S26    U3_N16665088 0 U3_RAMP 0 Oscillator_U3_S26 
V_U3_V44         U3_N16664858 0 0.5
X_U3_H1    U3_N16751100 U3_N16751190 I_RT 0 Oscillator_U3_H1 
V_U3_V45         U3_N16664888 0 5
C_U3_C79         U3_RAMP 0  5.1377p  
X_U3_U134         SDWN U3_N16664740 U3_N16665088 OR2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
D_U3_D12         U3_N16664880 U3_N16664888 D_D1 
D_U3_D11         U3_RAMP U3_N16664888 D_D1 
V_U3_V46         U3_N16664744 0 2
X_U3_U136         SDWN SYSCLK U3_N16664960 OR2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
V_V46         SET1 0 1
V_U9_V5         U9_N16633294 0 0.6Vdc
V_U9_V2         U9_N16624483 0 0.564Vdc
X_U9_U2         VSENSEINT U9_N16624483 U9_N16624491 U9_UVP COMPHYS_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
V_U9_V3         U9_N16625442 0 0.636Vdc
X_U9_U614         VIN U9_N16633294 U9_N16633723 COMP_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5
V_U9_V1         U9_N16624491 0 0.018Vdc
V_U9_V4         U9_N16625450 0 0.018Vdc
C_U9_C160         0 U9_N16630346  2n  
E_U9_ABM164         U9_N16621864 0 VALUE { V(V_SNS)    }
X_U9_U3         U9_N16625442 VSENSEINT U9_N16625450 OVP COMPHYS_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
R_U9_R284         U9_N16630509 U9_N16630346  14k  
R_U9_R282         U9_N16621864 VSENSEINT  1  
X_U9_U611         SDWN U9_N16557840 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U9_U615         U9_N16630695 U9_N16633723 U9_N16634012 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
C_U9_C159         0 VSENSEINT  1n  
X_U9_U612         U9_UVP OVP U9_N16557840 U9_N16630509 NAND3_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U9_S19    U9_N16634012 0 PWRGD 0 PGOOD_U9_S19 
X_U9_U613         U9_N16630346 U9_N16630695 BUF_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5
V_U1_V2         U1_N16623972 0 1.2Vdc
D_U1_D9         EN VIN D_D1 
R_U1_R256         EN U1_N7335522  100MEG  
X_U1_U2         EN U1_N16623972 U1_N16623980 ENAB COMPHYS_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5
G_U1_ABMII1         VIN EN VALUE { {1.15u+ 3.4u*V(ENAB)}    }
D_U1_D8         EN U1_N7335522 D_D1 
E_U1_ABM173         U1_N7335522 0 VALUE { {IF(V(VIN) > 4,3,0)}    }
V_U1_V1         U1_N16623980 0 0.04Vdc
X_U13         HICCUP SDWN_H SDWN OR2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U7_U823         U7_N16497188 PWM_CLK U7_N16489522 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U7_U822         PWM_CLK U7_N16497188 INV_DELAY_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5 DELAY=15n
R_U7_R272         U7_N16489522 U7_INDELAYED1  10.1k  
D_U7_D9         U7_N16489522 U7_INDELAYED1 D_D 
X_U7_U824         U7_N16489522 U7_INDELAYED1 PWM_CLK PWM_FINAL OR3_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
C_U7_C172         0 U7_INDELAYED1  10p  
D_U8_D10         PH U8_N16831495 D_D 
X_U8_S4    U8_N16831584 0 U8_N16831601 LDRV Driver_U8_S4 
C_U8_C77         U8_N16831621 0  18n  
X_U8_S5    U8_N16831587 0 LDRV 0 Driver_U8_S5 
R_U8_R244         U8_N16831519 BOOT_UVLO  1  
X_U8_U612         U8_N16831511 U8_N16831555 BUF_DELAY_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5 DELAY=10n
X_U8_U608         U8_HDRVIN U8_N16831549 U8_N16831496 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
E_U8_ABM167         U8_N16831519 0 VALUE { {IF((V(BOOT) - V(PH)) < 2.1,0,1)}   
+  }
X_U8_U609         U8_N16831555 U8_N16831511 U8_N16831498 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
V_U8_V49         U8_N16831601 0 5
D_U8_D11         U8_N16831531 BOOT D_D 
X_U8_S3    U8_N16831498 0 HDRV PH Driver_U8_S3 
C_U8_C140         0 BOOT_UVLO  1n  
D_U8_D9         U8_N16802056 PH D_D 
X_U8_U619         U8_SDWN_N PWM_FINAL U8_N16831621 U8_HDRVIN AND3_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U8_U614         U8_LDRVIN U8_N16831565 U8_N16831584 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U8_U610         U8_HDRVIN U8_N16831511 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U8_S30    HDRV PH U8_N16831495 PH Driver_U8_S30 
X_U8_S31    LDRV 0 PH U8_N16802056 Driver_U8_S31 
X_U8_U617         U8_N16831569 U8_N16831571 BUF_DELAY_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5 DELAY=10n
C_U8_C78         U8_N16831628 0  18n  
X_U8_U620         U8_BOOT_ON LDRV_MASK VIN U8_LDRVIN AND3_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U8_U611         U8_HDRVIN U8_N16831549 BUF_DELAY_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5 DELAY=10n
X_U8_U615         U8_LDRVIN U8_N16831565 BUF_DELAY_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5 DELAY=10n
E_U8_ABM170         U8_N16831622 0 VALUE { {IF(V(LDRV) > 1.1,0,1)}    }
X_U8_H1    PVIN_0 U8_N16831495 ISW 0 Driver_U8_H1 
X_U8_U621         PWM_FINAL U8_N16831633 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
R_U8_R245         0 BOOT  10MEG  
E_U8_ABM79         U8_N16831630 0 VALUE { {IF((V(HDRV) - V(PH)) > 1.1  
+ ,0,1)}   }
X_U8_U616         U8_LDRVIN U8_N16831569 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U8_S34    U8_BOOT_ON 0 U8_N16831531 VIN Driver_U8_S34 
X_U8_U622         U8_SDWN_N U8_N16831633 OCLOWLIMIT U8_N16831628 U8_BOOT_ON
+  AND4_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U8_U613         SDWN U8_SDWN_N INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
R_U8_R144         U8_N16831630 U8_N16831628  1  
X_U8_H2    U8_N16802056 0 0 OCLOW Driver_U8_H2 
X_U8_U618         U8_N16831571 U8_N16831569 U8_N16831587 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U8_S2    U8_N16831496 0 BOOT HDRV Driver_U8_S2 
R_U8_R143         U8_N16831622 U8_N16831621  1  
V_V48         PH PH_0 0
X_U6_U620         HICCUP U6_N16844926 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U6_U624         U6_2 U6_N16645498 U6_CLK2 U6_1 SDWN SET0 DFFSR_RHPBASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U6_U612         SS_TR U6_N16599550 U6_N16599500 COMP_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5
X_U6_U621         U6_CBC_ILIMIT U6_VALLEY_ILIMIT U6_N16844926 U6_ILIM
+  AND3_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U6_U643         U6_N16864392 U6_N16846021 U6_N16650498 U6_N16848187
+  OR3_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U6_U632         U6_2 U6_S_HIGH U6_N16650498 AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U6_U610         U6_N16591585 HDRV U6_VALLEY_ILIMIT OR2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U6_U639         U6_CLK U6_CLK1 BUF_DELAY_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5 DELAY=150n
R_U6_R255         U6_N16489395 U6_N16489275  14.4k  
E_U6_ABM154         U6_SLEEP_N 0 VALUE { {IF(V(SS_TR) > 1.4,  
+ V(U6_N16864392),V(U6_N16848187))}   }
E_U6_ABM164         U6_ICTRL 0 VALUE { (((V(COMP)
+  -0.25)/62.5k)-V(ISLOPE))*1312500    }
X_U6_U633         SDWN U6_SDWN_N INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
C_U6_C146         0 U6_N16489275  5p  
X_U6_U625         SS_TR U6_N16871305 U6_N16871293 COMP_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5
X_U6_U622         U6_1 N16861891 U6_CLK1 PH SDWN SET0 DFFSR_RHPBASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U6_U640         U6_CLK U6_CLK2 BUF_DELAY_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5 DELAY=120n
E_U6_E1         U6_N16803881 0 OCLOW 0 -1
X_U6_U600         U6_ICTRL U6_ISWF U6_CTRL COMP_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5
V_U6_V83         U6_N16871305 0 1.4
X_U6_U630         U6_CTRL U6_SLEEP_N U6_SKIP_N AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
V_U6_V81         U6_N16589122 0 11.5
X_U6_U638         SYSCLK U6_CLK U6_N16775582 MONONEG_PS PARAMS: PW=200n
X_U6_U603         PWM_CLK N16528816 SYSCLK SET1 U6_CLK_LOW SET1
+  DFFSBRB_RHPBASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
E_U6_ABM151         U6_N16489395 0 VALUE { {IF(V(HDRV) > 0.5, 1,0)}    }
V_U6_V82         U6_N16599550 0 1.4
X_U6_U627         U6_SDWN_N U6_N16871293 LDRV_MASK AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U6_U629         VREF_GM U6_N16801909 U6_S_HIGH COMP_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5
X_U6_U606         COMP U6_N16744471 U6_N16864392 COMP_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5
D_U6_D58         U6_N16489275 U6_N16489395 D_D1 
X_U6_U604         U6_N16859806 ISW U6_CBC_ILIMIT COMP_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5
X_U6_U628         VREF_GM VSENSEINT U6_HIGH COMP_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5
V_U6_V85         U6_N16801909 VSENSEINT 0.01
X_U6_U608         U6_N16589122 U6_N16803881 U6_N16591585 COMP_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5
X_U6_U631         U6_HIGH U6_N16645498 U6_N16846021 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
V_U6_V80         U6_N16859806 0 14.5
X_U6_U611         SDWN U6_N16599500 N16899834 U6_PBIAS SRLATCHRHP_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
R_U6_R400         0 U6_N16775582  1e8  
E_U6_ABM152         U6_ISWF 0 VALUE { {IF(V(U6_N16489275) > 0.5,  
+ V(ISW),-50)}   }
X_U6_U609         U6_SKIP_N U6_ILIM OVP BOOT_UVLO U6_CLK_LOW AND4_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
V_U6_V84         U6_N16744471 0 0.25
.IC         V(SS_TR )=0
.IC         V(EN )=0
.ENDS TPS54821_TRANS
*$
.subckt SoftStart_U4_S68 1 2 3 4  
S_U4_S68         3 4 1 2 _U4_S68
RS_U4_S68         1 2 1G
.MODEL         _U4_S68 VSWITCH Roff=100e6 Ron=3571 Voff=0.2 Von=0.8
.ends SoftStart_U4_S68
*$
.subckt Hiccup_U10_S3 1 2 3 4  
S_U10_S3         3 4 1 2 _U10_S3
RS_U10_S3         1 2 1G
.MODEL         _U10_S3 VSWITCH Roff=1e9 Ron=1.0 Voff=0.25 Von=0.75
.ends Hiccup_U10_S3
*$
.subckt Hiccup_U10_S2 1 2 3 4  
S_U10_S2         3 4 1 2 _U10_S2
RS_U10_S2         1 2 1G
.MODEL         _U10_S2 VSWITCH Roff=1e6 Ron=1.0 Voff=0.25 Von=0.75
.ends Hiccup_U10_S2
*$
.subckt Oscillator_U3_S27 1 2 3 4  
S_U3_S27         3 4 1 2 _U3_S27
RS_U3_S27         1 2 1G
.MODEL         _U3_S27 VSWITCH Roff=100e6 Ron=1.0 Voff=0.2 Von=0.8
.ends Oscillator_U3_S27
*$
.subckt Oscillator_U3_F2 1 2 3 4  
F_U3_F2         3 4 VF_U3_F2 -1
VF_U3_F2         1 2 0V
.ends Oscillator_U3_F2
*$
.subckt Oscillator_U3_F1 1 2 3 4  
F_U3_F1         3 4 VF_U3_F1 -1
VF_U3_F1         1 2 0V
.ends Oscillator_U3_F1
*$
.subckt Oscillator_U3_S26 1 2 3 4  
S_U3_S26         3 4 1 2 _U3_S26
RS_U3_S26         1 2 1G
.MODEL         _U3_S26 VSWITCH Roff=100e6 Ron=1.0 Voff=0.2 Von=0.8
.ends Oscillator_U3_S26
*$
.subckt Oscillator_U3_H1 1 2 3 4  
H_U3_H1         3 4 VH_U3_H1 1
VH_U3_H1         1 2 0V
.ends Oscillator_U3_H1
*$
.subckt PGOOD_U9_S19 1 2 3 4  
S_U9_S19         3 4 1 2 _U9_S19
RS_U9_S19         1 2 1G
.MODEL         _U9_S19 VSWITCH Roff=100e6 Ron=50 Voff=0.2 Von=0.8
.ends PGOOD_U9_S19
*$
.subckt Driver_U8_S4 1 2 3 4  
S_U8_S4         3 4 1 2 _U8_S4
RS_U8_S4         1 2 1G
.MODEL         _U8_S4 VSWITCH Roff=1e6 Ron=2 Voff=0.2 Von=0.8
.ends Driver_U8_S4
*$
.subckt Driver_U8_S5 1 2 3 4  
S_U8_S5         3 4 1 2 _U8_S5
RS_U8_S5         1 2 1G
.MODEL         _U8_S5 VSWITCH Roff=1e6 Ron=1.0 Voff=0.2 Von=0.8
.ends Driver_U8_S5
*$
.subckt Driver_U8_S3 1 2 3 4  
S_U8_S3         3 4 1 2 _U8_S3
RS_U8_S3         1 2 1G
.MODEL         _U8_S3 VSWITCH Roff=1e6 Ron=1.0 Voff=0.2 Von=0.8
.ends Driver_U8_S3
*$
.subckt Driver_U8_S30 1 2 3 4  
S_U8_S30         3 4 1 2 _U8_S30
RS_U8_S30         1 2 1G
.MODEL         _U8_S30 VSWITCH Roff=10e6 Ron=32m Voff=0.4 Von=1.1
.ends Driver_U8_S30
*$
.subckt Driver_U8_S31 1 2 3 4  
S_U8_S31         3 4 1 2 _U8_S31
RS_U8_S31         1 2 1G
.MODEL         _U8_S31 VSWITCH Roff=10e6 Ron=19m Voff=0.4 Von=1.1
.ends Driver_U8_S31
*$
.subckt Driver_U8_H1 1 2 3 4  
H_U8_H1         3 4 VH_U8_H1 1
VH_U8_H1         1 2 0V
.ends Driver_U8_H1
*$
.subckt Driver_U8_S34 1 2 3 4  
S_U8_S34         3 4 1 2 _U8_S34
RS_U8_S34         1 2 1G
.MODEL         _U8_S34 VSWITCH Roff=1000e6 Ron=1m Voff=0.2 Von=0.8
.ends Driver_U8_S34
*$
.subckt Driver_U8_H2 1 2 3 4  
H_U8_H2         3 4 VH_U8_H2 -1
VH_U8_H2         1 2 0V
.ends Driver_U8_H2
*$
.subckt Driver_U8_S2 1 2 3 4  
S_U8_S2         3 4 1 2 _U8_S2
RS_U8_S2         1 2 1G
.MODEL         _U8_S2 VSWITCH Roff=1e6 Ron=2 Voff=0.2 Von=0.8
.ends Driver_U8_S2
*$
.model D_D1 d
+ is=1e-015
+ tt=1e-011
+ rs=0.05
+ n=0.1
*$
.model D_D d
+ is=1e-015
+ n=0.01
+ tt=1e-011
*$
.SUBCKT COMP_BASIC_GEN INP INM Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABM Yint 0 VALUE {IF (V(INP) > 
+ V(INM), {VDD},{VSS})}
R1 Yint Y 1
C1 Y 0 1n
.ENDS COMP_BASIC_GEN
*$
.SUBCKT COMPHYS_BASIC_GEN INP INM HYS OUT PARAMS: VDD=1 VSS=0 VTHRESH=0.5	
EIN INP1 INM1 INP INM 1 
EHYS INP1 INP2 VALUE { IF( V(1) > {VTHRESH},-V(HYS),0) }
EOUT OUT 0 VALUE { IF( V(INP2)>V(INM1), {VDD} ,{VSS}) }
R1 OUT 1 1
C1 1 0 5n
RINP1 INP1 0 1K
.ENDS COMPHYS_BASIC_GEN
*$
.SUBCKT COMPHYS2_BASIC_GEN INP INM HYS OUT PARAMS: VDD=1 VSS=0 VTHRESH=0.5	
+ T=10
EIN INP1 INM1 INP INM 1 
EHYS INM2 INM1 VALUE { IF( V(1) > {VTHRESH},-V(HYS)/2,V(HYS)/2) }
EOUT OUT 0 VALUE { IF( V(INP1)>V(INM2), {VDD} ,{VSS}) }
R1 OUT 1 1
C1 1 0 {T*1e-9}
RINP1 INP1 0 10K
RINM2 INM2 0 10K
.ENDS COMPHYS2_BASIC_GEN
*$
.SUBCKT AND2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND2_BASIC_GEN
*$
.SUBCKT AND3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND3_BASIC_GEN
*$
.SUBCKT AND4_BASIC_GEN A B C D Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH} &
+ V(D) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND4_BASIC_GEN
*$
.SUBCKT NAND2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NAND2_BASIC_GEN
*$
.SUBCKT NAND3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NAND3_BASIC_GEN
*$
.SUBCKT NAND4_BASIC_GEN A B C D Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH} &
+ V(D) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NAND4_BASIC_GEN
*$
.SUBCKT OR2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR2_BASIC_GEN
*$
.SUBCKT OR3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR3_BASIC_GEN
*$
.SUBCKT OR4_BASIC_GEN A B C D Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH} |
+ V(D) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR4_BASIC_GEN
*$
.SUBCKT NOR2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR2_BASIC_GEN
*$
.SUBCKT NOR3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR3_BASIC_GEN
*$
.SUBCKT NOR4_BASIC_GEN A B C D Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH} |
+ V(D) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR4_BASIC_GEN
*$
.SUBCKT NOR5_BASIC_GEN A B C D E Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH} |
+ V(D) > {VTHRESH} |
+ V(E) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR5_BASIC_GEN
*$
.SUBCKT NOR6_BASIC_GEN A B C D E F Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH} |
+ V(D) > {VTHRESH} |
+ V(E) > {VTHRESH} |
+ V(F) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR6_BASIC_GEN
*$
.SUBCKT INV_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS INV_BASIC_GEN
*$
.SUBCKT XOR2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE  YINT 0 VALUE {{IF(V(A) > {VTHRESH}  ^  
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS XOR2_BASIC_GEN
*$
.SUBCKT XNOR2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE  YINT 0 VALUE {{IF(V(A) > {VTHRESH}  ^  
+ V(B) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS XNOR2_BASIC_GEN
*$
.SUBCKT MUX2_BASIC_GEN A B S Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE  YINT 0 VALUE {{IF(V(S) > {VTHRESH},  
+ V(B),V(A))}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS MUX2_BASIC_GEN
*$
.SUBCKT INV_DELAY_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY = 10n 
E_ABMGATE1    YINT1 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT1 YINT2 1
CINT YINT2 0 {DELAY*1.3}
E_ABMGATE2    YINT3 0 VALUE {{IF(V(YINT2) > {VTHRESH} , 
+ {VSS},{VDD})}}
RINT2 YINT3 Y 1
CINT2 Y 0 1n
.ENDS INV_DELAY_BASIC_GEN
*$
.SUBCKT BUF_DELAY_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY = 10n 
E_ABMGATE1    YINT1 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT1 YINT2 1
CINT YINT2 0 {DELAY*1.3}
E_ABMGATE2    YINT3 0 VALUE {{IF(V(YINT2) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT2 YINT3 Y 1
CINT2 Y 0 1n
.ENDS BUF_DELAY_BASIC_GEN
*$
.SUBCKT BUF_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS BUF_BASIC_GEN
*$
.SUBCKT SRLATCHSHP_BASIC_GEN S R Q QB PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
GQ 0 Qint VALUE = {IF(V(S) > {VTHRESH},5,IF(V(R)>{VTHRESH},-5, 0))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr QB 1 
Cdummy1 Q 0 1n 
Cdummy2 QB 0 1n 
.IC V(Qint) {VSS}
.ENDS SRLATCHSHP_BASIC_GEN
*$
.SUBCKT SRLATCHRHP_BASIC_GEN S R Q QB PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
GQ 0 Qint VALUE = {IF(V(R) > {VTHRESH},-5,IF(V(S)>{VTHRESH},5, 0))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr QB 1 
Cdummy1 Q 0 1n 
Cdummy2 QB 0 1n
.IC V(Qint) {VSS}
.ENDS SRLATCHRHP_BASIC_GEN
*$
.SUBCKT SBRBLATCHRHP_BASIC_GEN SB RB Q QB PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
GQ 0 Qint VALUE = {IF(V(RB) < {VTHRESH},-5,IF(V(SB) < {VTHRESH},5, 0))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr QB 1 
.IC V(Qint) {VSS}
.ENDS SBRBLATCHRHP_BASIC_GEN
*$
.SUBCKT SBRBLATCHSHP_BASIC_GEN SB RB Q QB PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
GQ 0 Qint VALUE = {IF(V(SB) < {VTHRESH},5,IF(V(RB) < {VTHRESH},-5, 0))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr QB 1 
.IC V(Qint) {VSS}
.ENDS SBRBLATCHSHP_BASIC_GEN
*$
.SUBCKT DFFSBRB_SHPBASIC_GEN Q QB CLK D RB SB PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
X1 CLK CLKdel INV_DELAY_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 15n
X2 CLK CLKdel CLKint AND2_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
GQ 0 Qint VALUE = {IF(V(SB) < {VTHRESH},5,IF(V(RB)<{VTHRESH},-5, IF(V(CLKint)> {VTHRESH}, 
+ IF(V(D)> {VTHRESH},5,-5),0)))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_DELAY_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 20n
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr Qb 1 
Cdummy1 Q 0 1nF 
Cdummy2 QB 0 1nF 
.IC V(Qint) {VSS}
.ENDS DFFSBRB_SHPBASIC_GEN
*$
.SUBCKT DFFSR_SHPBASIC_GEN Q QB CLK D R S PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
X1 CLK CLKdel INV_DELAY_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 15n
X2 CLK CLKdel CLKint AND2_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} 
GQ 0 Qint VALUE = {IF(V(S) > {VTHRESH},5,IF(V(R) > {VTHRESH},-5, IF(V(CLKint)> {VTHRESH}, 
+ IF(V(D)> {VTHRESH},5,-5),0)))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_DELAY_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY = 20n
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr Qb 1 
Cdummy1 Q 0 1nF 
Cdummy2 QB 0 1nF 
.IC V(Qint) {VSS}
.ENDS DFFSR_SHPBASIC_GEN
*$
.SUBCKT DFFSBRB_RHPBASIC_GEN Q QB CLK D RB SB PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
X1 CLK CLKdel1 INV_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
R100 CLKdel1 CLKdel 21.64502165
C100 CLKdel 0 1n
X2 CLK CLKdel CLKint AND2_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} 
GQ 0 Qint VALUE = {IF(V(RB) < {VTHRESH},-5,IF(V(SB)< {VTHRESH},5, IF(V(CLKint)> {VTHRESH}, 
+ IF(V(D)> {VTHRESH},5,-5),0)))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 5
D_D11 0 Qint D_D1 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_DELAY_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 1n
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr Qb 1 
Cdummy1 Q 0 1nF 
Cdummy2 QB 0 1nF 
.IC V(Qint) {VSS}
.ENDS DFFSBRB_RHPBASIC_GEN
*$
.SUBCKT DFFSR_RHPBASIC_GEN Q QB CLK D R S PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
X1 CLK CLKdel INV_DELAY_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 15n
X2 CLK CLKdel CLKint AND2_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}  
GQ 0 Qint VALUE = {IF(V(R) > {VTHRESH},-5,IF(V(S) > {VTHRESH},5, IF(V(CLKint)> {VTHRESH}, 
+ IF(V(D)> {VTHRESH},5,-5),0)))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_DELAY_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 20n
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr Qb 1 
Cdummy1 Q 0 1nF 
Cdummy2 QB 0 1nF 
.IC V(Qint) {VSS}
.ENDS DFFSR_RHPBASIC_GEN
*$
.SUBCKT MONONEG_PS in Q Qn PARAMS: PW=1u 
VS VSUP 0 DC 1
GIN VSUP YA VALUE={IF(V(IN)<0.5, V(VSUP)/1000K, 0)}
GDIS YA 0 VALUE={IF(V(IN)<0.5,0, V(YA)/1m)}
CIN YA 0 1n IC=0
RIN YA 0 1e11
EABM1 YTD 0 VALUE={IF(V(YA)> {PW*1000}, 0, 1)}
RYTD YTD 0 1e11
EXOR P 0 VALUE={IF(V(YTD) > 0.5 ^ V(IN) > .5, 1, 0)}
ROUTpp2 P 0 1e11
EAND1 Q1 0 VALUE={ IF(V(P)>0.5 & V(YTD)>0.5, 1, 0)}
Ro1 Q1 Q 1m
Co1 Q 0 1p IC=0
ROUT2 Q 0 1e11
EAND2 Qn1 0 VALUE={ IF(V(Q)>0.5, 0, 1)}
Ro2 Qn1 Qn 1m
Co2 Qn 0 1p
ROUT4 Qn 0 1e11
.ENDS MONONEG_PS
*$
.SUBCKT LDCR IN OUT
+ PARAMs:  L=1u DCR=0.01 IC=0
L	IN 1  {L} IC={IC}
RDCR	1 OUT {DCR}
.ENDS LDCR
*$
.SUBCKT CESR IN OUT
+ PARAMs:  C=100u ESR=0.01 X=2 IC=0
C	IN 1  {C*X} IC={IC}
RESR	1 OUT {ESR/X}
.ENDS CESR
*$
