* PSpice Model Editor - Version 16.2.0
*$
* LM25069-1
*****************************************************************************
*  (C) Copyright 2013 Texas Instruments Incorporated. All rights reserved.
*****************************************************************************
** This model is designed as an aid for customers of Texas Instruments.
** TI and its licensors and suppliers make no warranties, either expressed
** or implied, with respect to this model, including the warranties of 
** merchantability or fitness for a particular purpose.  The model is
** provided solely on an "as is" basis.  The entire risk as to its quality
** and performance is with the customer
*****************************************************************************
*
** Released by: WEBENCH Design Center, Texas Instruments Inc.
* Part: LM25069-1
* Date: 12 MAR 2013
* Model Type: Transient
* Simulator: PSPICE
* Simulator Version: 16.2.0.s003
* EVM Order Number: AN-1947 
* EVM Users Guide: SNVA388C, 29 JUN 2009
* Datasheet:  SNVS607D, 9 DEC 2010
*
* Model Version: Final 1.00
*
*****************************************************************************
*
* Updates:
*
* Final 1.00   
* Release to Web.
***********************************************************************
.SUBCKT LM25069-1_TRANS SENSE VIN UVLO OVLO GND TIMER PWR PGD OUT GATE
+ PARAMS: R_SENSE = 0.0080, R_PWR = 19.6k
D3 VIN SENSE _D4_MOD 0.065 IC=0
.MODEL _D4_MOD D N=1.054 TT=0.1NS VJ=0.6 T_ABS=27 M=1
GB1 GND GATE Value = { IF(V(SHUTDOWN) < 1.75 , 20u , 0)}
X_A20 FSHUTDOWN 93 FTIMERON NOR2
E20 OVLODET GND Value = {IF(V(OVLO)>1.16, 3.5,0.3)}
X_A21 RUNNING ACTIVE 93 NAND2
D2 SENSE VIN _D4_MOD 0.065 IC=0
D9 PWR VDDINT1 _D1_MOD 1 IC=0
R2 SENSE OUT 1e6
VA GND ISUM DC=0
V12 SENSEY SENSE DC=0 AC=0
D4 9 GATE _D1_MOD 1 IC=0
.MODEL _D1_MOD D TT=0.1NS VJ=0.6 T_ABS=27 M=1
V5 9 GND DC=0.799V
D7 GATE 13 _D1_MOD 1 IC=0
V6 13 GND DC=18.949V
G_B2 GATE GND Value = {IF(V(SHUTDOWN)>1.75, 2m,0)}
VX GND 14 DC=0
GB3 GATE GND Value= { IF(I(VA) < 132u, I(VA),132u)}
V9 VIN ILIMREF DC=50M
G_B4 ISUM GND Value= {IF(I(VX)>0,I(VX),0)}
G1 14 GND ILIMREF SENSEY 5.4E-2
G_B6 GND PWR Value ={IF(V(SHUTDOWN)<1.75, 15u,0)}
V11 VDDINT1 GND DC=4.7V
E_B5 ACTIVEILIM GND Value = {IF(I(VX)>9u,3.5,0.3)}
X2 PWR GND SHUTDOWN GND SSWITCH_0
D8 GND OUT _D1_MOD 1 IC=0
E7 PFETLIM GND Value = {{R_PWR}/(2.32e5 * {R_SENSE})}
R5 CBDET CBDETDLY 27.1K
G_B11 GATE GND Value = {IF(V(CBDETDLY)<1.75 & V(ITPOR)<1.75,0,260m)}
G_B8 ISUM GND Value= { IF(I(VY) > 0 ,I(VY),0 )}
VY GND 25 DC=0
G2 25 GND PSENSE PFETLIM 3.6E-5
E_B9 ACTIVEPLIM GND VALUE = {IF(I(VY)>9u,3.5,0.3)}
E_B10 PSENSE GND VALUE = {(V(VIN,SENSE)/{R_SENSE})*V(SENSE,OUT)}
E_B17 UVLODET GND VALUE = {IF(V(UVLO)>1.17,0,3.5)}
C1 CBDETDLY GND 10P
E_B12 CBDET GND Value = {IF(V(VIN,SENSE)>95m,3.5,0)}
X3 VIN 32 ITPORDET COMPHYST_0
E_B13 ACTIVE GND VALUE = {IF((V(ACTIVEILIM)>1.75 | V(ACTIVEPLIM)>1.75)&
+(V(SHUTDOWN)<1.75),3.5,0)}
V13 32 GND DC=2.6
E_B15 SHUTDOWN GND VALUE ={IF(V(ITPOR)<1.75 & V(UVLOCK)<1.75 &
+V(OVLOCK)<1.75 & V(TIMEOUT) < 1.75, 0, 3.5)}
V15 VDDINT2 GND DC=3.5V
C12 TIMEOUT GND 1F
X4 ITPORDLY GND ITPORDET GND SSWITCH_1
C2 ITPORDLY GND 144P
R6 VDDINT2 ITPORDLY 1MEG
E_B16 ITPOR GND VALUE = {IF(V(ITPORDLY)<1.75,3.5,0)}
C3 UVLODETX GND 1P
R7 UVLODETX UVLODET 1K
D10 GND UVLO _D1_MOD 1 IC=0
G_B18 UVLO GND Value = {IF(V(UVLODETX)>1.75,20u,0)}
X5 VDDINT2 UVLODETDLY VDDINT2 UVLODETX SSWITCH_2
X6 UVLODETDLY GND UVLODETX GND SSWITCH_3
C4 UVLODETDLY GND 12P
E_B19 UVLOCK GND VALUE = {IF(V(UVLODETDLY) > 1.75,0,3.5)}
C5 OVLODETX GND 1P
R10 OVLODETX OVLODET 1K
D11 OVLO VDDINT1 _D1_MOD 1 IC=0
G_B21 VDDINT1 OVLO Value = {IF(V(OVLODETX) > 1.75 , 20u , 0)}
X7 VDDINT2 OVLODETDLY VDDINT2 OVLODETX SSWITCH_4
X8 OVLODETDLY GND OVLODETX GND SSWITCH_3
C6 OVLODETDLY GND 11.86p
E_B22 OVLOCK GND VALUE = {IF(V(OVLODETDLY) > 1.75,0,3.5)}
X9 51 SENSE NPG COMPHYST_1
V4 51 OUT DC=1.9V
E_B23 VINDET GND VALUE = {IF(V(VIN) > 1.6 , 3.5 , 0)}
E_B24 NOTPGD GND VALUE = {IF(((V(NPG)>1.75 | V(ITPOR)>1.75 |
+V(SHUTDOWN)>1.75) & V(VINDET)>1.75),3.5,0)}
X10 PGD GND NOTPGD GND SSWITCH_6
D12 80 TIMER _D1_MOD 1 IC=0
D13 TIMER VDDINT1 _D1_MOD 1 IC=0
V3 80 GND DC=0.673027V
G_B25 TIMER GND Value = {IF(V(ITIMERFINISH)>1.75,2.5u,0)}
G_B26 VDDINT1 TIMER Value = {IF(V(ITIMERFINISH)>1.75,0,5.5u)}
G_B27 TIMER GND Value= {IF(V(ENDITIMER) > 1.75 , 2m , 0)}
G_B28 VDDINT1 TIMER Value = {IF(V(FTIMERON) > 1.75, 82.5u , 0)}
E_B29 RESTART GND Value = {IF(V(TIMER) < 0.3,3.5,0)}
X11 TIMER 81 TIMERCHARGEDET COMPHYST_2
V8 81 GND DC=1.72
X12 VDDINT2 TIMERCHARGEBAR VDDINT2 TIMERCHARGEDET SSWITCH_3
X13 TIMERCHARGEBAR GND TIMERCHARGEDET GND SSWITCH_3
C7 TIMERCHARGEBAR GND 28.9P
E_B30 TIMERCHARGE GND VALUE = {IF(V(TIMERCHARGEBAR) < 1.75,3.5,0.3)}
E_B31 TIMERISLOW GND Value = {IF(V(RESTART) > 1.75 &
+V(TIMERCHARGE) > 1.75 , 3.5 ,0.3)}
X_A1 ITPOR 82 83 NOR2
X_A2 83 TIMERISLOW 82 NOR2
X_A3 83 RESETTIMER INVERTER
X_A4 RESETTIMER 84 ITIMERALMFINISH NOR2
X_A5 ITIMERALMFINISH TIMERDISCH 84 NOR2
X_A6 TIMERCHARGE TIMERDISCH INVERTER
X_A7 RESETTIMER IHOLDOFF ITIMERFINISH NOR2
X_A8 ITIMERFINISH 85  IHOLDOFF NOR2
X_A9  ITIMERALMFINISH TIMERISLOW  85 AND2
C8 ITIMERFINISH GND 1F
X_A10 RESETTIMER 86  ENDITIMER OR2
X_A11 ITIMERALMFINISH IHOLDOFF  86 AND2
C9 ENDITIMER GND 1F
X_A12 FAULTR 87  FSHUTDOWN NOR2
X_A13 FSHUTDOWN FAULTS 87 NOR2
X_A14 FSHUTDOWN RESETCOUNTER INVERTER
X_A15 TIMERISLOW UVLOCK 88 AND2
X_A16 88 RESETTIMER FAULTR OR2
X_A17 ITIMERFINISH TIMERDISCH  FAULTS AND2
X_A18  FSHUTDOWN IHOLDOFF RUNNING NOR2
X_A19 RUNNING TIMEOUT INVERTER
C10 FTIMERON GND 1F
.ENDS
*$
* LM25069-1
*****************************************************************************
*  (C) Copyright 2013 Texas Instruments Incorporated. All rights reserved.
*****************************************************************************
** This model is designed as an aid for customers of Texas Instruments.
** TI and its licensors and suppliers make no warranties, either expressed
** or implied, with respect to this model, including the warranties of 
** merchantability or fitness for a particular purpose.  The model is
** provided solely on an "as is" basis.  The entire risk as to its quality
** and performance is with the customer
*****************************************************************************
*
** Released by: WEBENCH Design Center, Texas Instruments Inc.
* Part: LM25069-1
* Date: 12 MAR 2013
* Model Type: Transient
* Simulator: PSPICE
* Simulator Version: 16.2.0.s003
* EVM Order Number: AN-1947 
* EVM Users Guide: SNVA388C, 29 JUN 2009
* Datasheet:  SNVS607D, 9 DEC 2010
*
* Model Version: Final 1.00
*
*****************************************************************************
*
* Updates:
*
* Final 1.00   
* Release to Web.
***********************************************************************
.SUBCKT LM25069-1_RESTART SENSE VIN UVLO OVLO GND TIMER PWR PGD OUT GATE
+ PARAMS: R_SENSE = 0.0080, R_PWR = 19.6k
VUVLO RESETUVLO 0 DC=0 PULSE 0 3.5 5 1N 1N 20m 10
Q1 UVLO RESETUVLO 0 QN918
.MODEL QN918 NPN BF=104 BR=4 CJC=3.0E-12 CJE=2.4E-12
+ IKF=3.0E-02 IS=5.08E-15 ISE=4.88E-12 NE=2.0 NF=1.0 NR=1.0
+ RB=7.3E+01 RC=7.3E+00 RE=1.8E+01 TF=2.3E-10 TR=2.1E-08
+ VAF=70 VAR=12 XTB=1.5
D3 VIN SENSE _D4_MOD 0.065 IC=0
.MODEL _D4_MOD D N=1.054 TT=0.1NS VJ=0.6 T_ABS=27 M=1
GB1 GND GATE Value = { IF(V(SHUTDOWN) < 1.75 , 20u , 0)}
X_A20 FSHUTDOWN 93 FTIMERON NOR2
E20 OVLODET GND Value = {IF(V(OVLO)>1.16, 3.5,0.3)}
X_A21 RUNNING ACTIVE 93 NAND2
D2 SENSE VIN _D4_MOD 0.065 IC=0
D9 PWR VDDINT1 _D1_MOD 1  IC=0
R2 SENSE OUT 1e6
VA GND ISUM DC=0
V12 SENSEY SENSE DC=0 AC=0
D4 9 GATE _D1_MOD 1 IC=0
.MODEL _D1_MOD D TT=0.1NS VJ=0.6 T_ABS=27 M=1
V5 9 GND DC=0.799V
D7 GATE 13 _D1_MOD 1 IC=0
V6 13 GND DC=18.949V
G_B2 GATE GND Value = {IF(V(SHUTDOWN)>1.75, 2m,0)}
VX GND 14 DC=0
GB3 GATE GND Value= { IF(I(VA) < 132u, I(VA),132u)}
V9 VIN ILIMREF DC=50M
G_B4 ISUM GND Value= {IF(I(VX)>0,I(VX),0)}
G1 14 GND ILIMREF SENSEY 5.4E-2
G_B6 GND PWR Value ={IF(V(SHUTDOWN)<1.75, 15u,0)}
V11 VDDINT1 GND DC=4.7V
E_B5 ACTIVEILIM GND Value = {IF(I(VX)>9u,3.5,0.3)}
X2 PWR GND SHUTDOWN GND SSWITCH_0
D8 GND OUT _D1_MOD 1 IC=0
E7 PFETLIM GND Value = {{R_PWR}/(2.32e5 * {R_SENSE})}
R5 CBDET CBDETDLY 27.1K
G_B11 GATE GND Value = {IF(V(CBDETDLY)<1.75 & V(ITPOR)<1.75,0,260m)}
G_B8 ISUM GND Value= { IF(I(VY) > 0 ,I(VY),0 )}
VY GND 25 DC=0
G2 25 GND PSENSE PFETLIM 3.6E-5
E_B9 ACTIVEPLIM GND VALUE = {IF(I(VY)>9u,3.5,0.3)}
E_B10 PSENSE GND VALUE = {(V(VIN,SENSE)/{R_SENSE})*V(SENSE,OUT)}
E_B17 UVLODET GND VALUE = {IF(V(UVLO)>1.17,0,3.5)}
C1 CBDETDLY GND 10P
E_B12 CBDET GND Value = {IF(V(VIN,SENSE)>95m,3.5,0)}
X3 VIN 32 ITPORDET COMPHYST_0
E_B13 ACTIVE GND VALUE = {IF((V(ACTIVEILIM)>1.75 | V(ACTIVEPLIM)>1.75)&
+ (V(SHUTDOWN)<1.75),3.5,0)}
V13 32 GND DC=2.6
E_B15 SHUTDOWN GND VALUE ={IF(V(ITPOR)<1.75 & V(UVLOCK)<1.75 &
+ V(OVLOCK)<1.75 & V(TIMEOUT) < 1.75, 0, 3.5)}
V15 VDDINT2 GND DC=3.5V
C12 TIMEOUT GND 1F
X4 ITPORDLY GND ITPORDET GND SSWITCH_1
C2 ITPORDLY GND 144P
R6 VDDINT2 ITPORDLY 1MEG
E_B16 ITPOR GND VALUE = {IF(V(ITPORDLY)<1.75,3.5,0)}
C3 UVLODETX GND 1P
R7 UVLODETX UVLODET 1K
D10 GND UVLO _D1_MOD 1 IC=0
G_B18 UVLO GND Value = {IF(V(UVLODETX)>1.75,20u,0)}
X5 VDDINT2 UVLODETDLY VDDINT2 UVLODETX SSWITCH_2
X6 UVLODETDLY GND UVLODETX GND SSWITCH_3
C4 UVLODETDLY GND 12P
E_B19 UVLOCK GND VALUE = {IF(V(UVLODETDLY) > 1.75,0,3.5)}
C5 OVLODETX GND 1P
R10 OVLODETX OVLODET 1K
D11 OVLO VDDINT1 _D1_MOD 1 IC=0
G_B21 VDDINT1 OVLO Value = {IF(V(OVLODETX) > 1.75 , 20u , 0)}
X7 VDDINT2 OVLODETDLY VDDINT2 OVLODETX SSWITCH_4
X8 OVLODETDLY GND OVLODETX GND SSWITCH_3
C6 OVLODETDLY GND 11.86p
E_B22 OVLOCK GND VALUE = {IF(V(OVLODETDLY) > 1.75,0,3.5)}
X9 51 SENSE NPG COMPHYST_1
V4 51 OUT DC=1.9V
E_B23 VINDET GND VALUE = {IF(V(VIN) > 1.6 , 3.5 , 0)}
E_B24 NOTPGD GND VALUE = {IF(((V(NPG)>1.75 | V(ITPOR)>1.75 |
+V(SHUTDOWN)>1.75) & V(VINDET)>1.75),3.5,0)}
X10 PGD GND NOTPGD GND SSWITCH_6
D12 80 TIMER _D1_MOD 1 IC=0
D13 TIMER VDDINT1 _D1_MOD 1 IC=0
V3 80 GND DC=0.673027V
G_B25 TIMER GND Value = {IF(V(ITIMERFINISH)>1.75,2.5u,0)}
G_B26 VDDINT1 TIMER Value = {IF(V(ITIMERFINISH)>1.75,0,5.5u)}
G_B27 TIMER GND Value= {IF(V(ENDITIMER) > 1.75 , 2m , 0)}
G_B28 VDDINT1 TIMER Value = {IF(V(FTIMERON) > 1.75, 82.5u , 0)}
E_B29 RESTART GND Value = {IF(V(TIMER) < 0.3,3.5,0)}
X11 TIMER 81 TIMERCHARGEDET COMPHYST_2
V8 81 GND DC=1.72
X12 VDDINT2 TIMERCHARGEBAR VDDINT2 TIMERCHARGEDET SSWITCH_3
X13 TIMERCHARGEBAR GND TIMERCHARGEDET GND SSWITCH_3
C7 TIMERCHARGEBAR GND 28.9P
E_B30 TIMERCHARGE GND VALUE = {IF(V(TIMERCHARGEBAR) < 1.75,3.5,0.3)}
E_B31 TIMERISLOW GND Value = {IF(V(RESTART) > 1.75 &
+ V(TIMERCHARGE) > 1.75 , 3.5 ,0.3)}
X_A1 ITPOR 82 83 NOR2
X_A2 83 TIMERISLOW 82 NOR2
X_A3 83 RESETTIMER INVERTER
X_A4 RESETTIMER 84 ITIMERALMFINISH NOR2
X_A5 ITIMERALMFINISH TIMERDISCH 84 NOR2
X_A6 TIMERCHARGE TIMERDISCH INVERTER
X_A7 RESETTIMER IHOLDOFF ITIMERFINISH NOR2
X_A8 ITIMERFINISH 85  IHOLDOFF NOR2
X_A9  ITIMERALMFINISH TIMERISLOW  85 AND2
C8 ITIMERFINISH GND 1F
X_A10 RESETTIMER 86  ENDITIMER OR2
X_A11 ITIMERALMFINISH IHOLDOFF  86 AND2
C9 ENDITIMER GND 1F
X_A12 FAULTR 87  FSHUTDOWN NOR2
X_A13 FSHUTDOWN FAULTS 87 NOR2
X_A14 FSHUTDOWN RESETCOUNTER INVERTER
X_A15 TIMERISLOW UVLOCK 88 AND2
X_A16 88 RESETTIMER FAULTR OR2
X_A17 ITIMERFINISH TIMERDISCH  FAULTS AND2
X_A18  FSHUTDOWN IHOLDOFF RUNNING NOR2
X_A19 RUNNING TIMEOUT INVERTER
C10 FTIMERON GND 1F
.ENDS
*$
*****************************************************
*NOR subckt
.SUBCKT NOR2 1 2 3
EB1 4 0 VALUE ={IF(V(1)>1.75 | V(2)>1.75, 0.3, 3.5)}
RD 4 3 1
CD 3 0 0.2nF
.ENDS
*$
*****************************************************
*NAND subckt
.SUBCKT NAND2 1 2 3
EB1 4 0 VALUE ={IF(V(1)>1.75 & V(2)>1.75, 0.3, 3.5)}
RD 4 3 1
CD 3 0 0.2nF
.ENDS
*$
*****************************************************
*AND subckt
.SUBCKT AND2 1 2 3
EB1 4 0 VALUE ={IF(V(1)>1.75 & V(2)>1.75, 3.5, 0.3)}
RD 4 3 1
CD 3 0 0.2nF
.ENDS
*$
*****************************************************
*OR subckt
.SUBCKT OR2 1 2 3
EB1 4 0 VALUE ={IF(V(1)>1.75 | V(2)>1.75, 3.5, 0.3)}
RD 4 3 1
CD 3 0 0.2nF
.ENDS
*$
*****************************************************
*Inverter subckt
.SUBCKT INVERTER 1 2
EB1 3 0 VALUE ={IF(V(1)>1.75 , 0.3, 3.5)}
RD 3 2 1
CD 2 0 0.2nF
.ENDS
*$
.SUBCKT SSWITCH_0 1 2 3 4
*CONNECTIONS    + - NC+ NC-
*PARAMETERS: RON ON RESISTANCE IN OHMS, ROFF OFF RESISTANCE IN OHMS
* VON ON CURRENT IN AMPS, VOFF OFF CURRENT IN AMPS
* IF V(3,4) > VON THEN RSWITCH=RON, IF V(3,4) < VOFF THEN RSWITCH=ROFF, ELSE
* RSWITCH WILL SMOOTHLY TRANSISTION BETWEEN THE ON AND OFF STATES
S_A1 1 2 3 4 SMOOTH
.MODEL SMOOTH VSWITCH RON=140.00  ROFF=1e9 VON=1.8000  VOFF=1.7000
.ENDS
*$
.SUBCKT SSWITCH_1 1 2 3 4
*CONNECTIONS    + - NC+ NC-
*PARAMETERS: RON ON RESISTANCE IN OHMS, ROFF OFF RESISTANCE IN OHMS
* VON ON CURRENT IN AMPS, VOFF OFF CURRENT IN AMPS
* IF V(3,4) > VON THEN RSWITCH=RON, IF V(3,4) < VOFF THEN RSWITCH=ROFF, ELSE
* RSWITCH WILL SMOOTHLY TRANSISTION BETWEEN THE ON AND OFF STATES
S_A1 1 2 3 4 SMOOTH
.MODEL SMOOTH VSWITCH RON=1.0000  ROFF=1e9 VON=1.8000  VOFF=1.7000
.ENDS
*$
.SUBCKT SSWITCH_2 1 2 3 4
*CONNECTIONS    + - NC+ NC-
*PARAMETERS: RON ON RESISTANCE IN OHMS, ROFF OFF RESISTANCE IN OHMS
* VON ON CURRENT IN AMPS, VOFF OFF CURRENT IN AMPS
* IF V(3,4) > VON THEN RSWITCH=RON, IF V(3,4) < VOFF THEN RSWITCH=ROFF, ELSE
* RSWITCH WILL SMOOTHLY TRANSISTION BETWEEN THE ON AND OFF STATES
S_A1 1 2 3 4 SMOOTH
.MODEL SMOOTH VSWITCH RON=1.8070MEG ROFF=1e9  VON=1.8000  VOFF=1.7000
.ENDS
*$
.SUBCKT SSWITCH_3 1 2 3 4
*CONNECTIONS    + - NC+ NC-
*PARAMETERS: RON ON RESISTANCE IN OHMS, ROFF OFF RESISTANCE IN OHMS
* VON ON CURRENT IN AMPS, VOFF OFF CURRENT IN AMPS
* IF V(3,4) > VON THEN RSWITCH=RON, IF V(3,4) < VOFF THEN RSWITCH=ROFF, ELSE
* RSWITCH WILL SMOOTHLY TRANSISTION BETWEEN THE ON AND OFF STATES
S_A1 1 2 3 4 SMOOTH
.MODEL SMOOTH VSWITCH RON=1.0000MEG ROFF=1e9  VON=1.8000  VOFF=1.7000
.ENDS
*$
.SUBCKT SSWITCH_4 1 2 3 4
*CONNECTIONS    + - NC+ NC-
*PARAMETERS: RON ON RESISTANCE IN OHMS, ROFF OFF RESISTANCE IN OHMS
* VON ON CURRENT IN AMPS, VOFF OFF CURRENT IN AMPS
* IF V(3,4) > VON THEN RSWITCH=RON, IF V(3,4) < VOFF THEN RSWITCH=ROFF, ELSE
* RSWITCH WILL SMOOTHLY TRANSISTION BETWEEN THE ON AND OFF STATES
S_A1 1 2 3 4 SMOOTH
.MODEL SMOOTH VSWITCH RON=1.9510MEG ROFF=1e9  VON=1.8000  VOFF=1.7000
.ENDS
*$
.SUBCKT SSWITCH_6 1 2 3 4
*CONNECTIONS    + - NC+ NC-
*PARAMETERS: RON ON RESISTANCE IN OHMS, ROFF OFF RESISTANCE IN OHMS
* VON ON CURRENT IN AMPS, VOFF OFF CURRENT IN AMPS
* IF V(3,4) > VON THEN RSWITCH=RON, IF V(3,4) < VOFF THEN RSWITCH=ROFF, ELSE
* RSWITCH WILL SMOOTHLY TRANSISTION BETWEEN THE ON AND OFF STATES
S_A1 1 2 3 4 SMOOTH
.MODEL SMOOTH VSWITCH RON=7.5000  ROFF=100.000MEG VON=1.8000  VOFF=1.7000
.ENDS
*$
.SUBCKT COMPHYST_0 LO HI OUT
*FAMILY = ANALOG
*FAMILY = ANALOG
*FAMILY = ANALOG
S1 2 OUT HI LO _S1_MOD
.MODEL _S1_MOD VSWITCH VT=75.000M VH=75.000M ROFF=1MEG
R1 OUT 0 1K
V2 2 0 DC=3.5
R2 LO 0 1E12
R3 HI 0 1E12
.ENDS
*$
.SUBCKT COMPHYST_1 LO HI OUT
*FAMILY = ANALOG
*FAMILY = ANALOG
*FAMILY = ANALOG
S1 2 OUT HI LO _S1_MOD
.MODEL _S1_MOD VSWITCH VT=300.000M VH=300.000M ROFF=1MEG RON=10M
R1 OUT 0 1K
E_V2 2 0 VALUE ={3.5}
R2 LO 0 1E12
R3 HI 0 1E12
.ENDS
*$
.SUBCKT COMPHYST_2 LO HI OUT
*FAMILY = ANALOG
*FAMILY = ANALOG
*FAMILY = ANALOG
S1 2 OUT HI LO _S1_MOD
.MODEL _S1_MOD VSWITCH VH=360.000M VT=360.000M ROFF=1MEG
R1 OUT 0 1K
V2 2 0 DC=3.5
R2 LO 0 1E12
R3 HI 0 1E12
.ENDS
*$
******************************
***External Components********
******************************
.SUBCKT WB_N_MOSFET 2 1 3
*Nom Temp=25 deg C
*14 May 03
Ca 12 8 2.1e-9
Cb 15 14 2.1e-9
Cin 6 8 2.7e-9
Dbody 7 5 Dbody
Dbreak 5 11 Dbreak
Dplcap 10 5 Dplcap
Ebreak 11 7 17 18 33.5
Eds 14 8 5 8 1
Egs 13 8 6 8 1
Esg 6 10 6 8 1
Evthres 6 21 19 8 1
Evtemp 20 6 18 22 1
It 8 17 1
Lgate 1 9 6.5e-9
Ldrain 2 5 1.0e-9
Lsource 3 7 1.8e-9
RLgate 1 9 65
RLdrain 2 5 10
RLsource 3 7 18
Mmed 16 6x 8 8 Mmed L=10u W=1u
rmmed 6 6x 2
Mstro 16 6 8 8 Mstro L=10u W=1u
Mweak 16 21x 8 8 Mweak L=10u W=1u
rmweak 21 21x 20
Rbreak 17 18 1
Rdrain 50 16 2e-3
Rgate 9 20 2.0
RSLC1 5 51 1e-6
RSLC2 5 50 1e3
Rsource 8 7 2e-3
Rvthres 22 8 1
Rvtemp 18 19 1
S1a 6 12 13 8 S1A
S1b 13 12 13 8 S1B
S2a 6 15 14 13 S2A
S2b 13 15 14 13 S2B
Vbat 22 19 DC 1
E_BSLC 51 50  Value = {(V(5,51)/ABS(V(5,51)))*(
+ PWR(V(5,51)/(1e-6*500),10))}
.MODEL Dbody D (IS=7E-12 IKF=10 N=1.01
+ RS=2.5e-3 TRS1=8e-4 TRS2=2e-7
+ CJO=1.2e-9 M=0.57 TT=1e-15 XTI=1.2)
.MODEL Dbreak D (RS=8e-2 TRS1=1e-3 TRS2=-8.9e-6)
.MODEL Dplcap D (CJO=9.2e-10 IS=1e-30 N=10 M=0.37)
.MODEL Mmed NMOS (VTO=1.8 KP=9 IS=1e-30 TOX=1)
.MODEL Mstro NMOS (VTO=2.2 KP=380 IS=1e-30 TOX=1)
.MODEL Mweak NMOS (VTO=1.49 KP=0.05 IS=1e-30 TOX=1 RS=0.1)
.MODEL S1A VSWITCH (RON=1e-5 ROFF=0.1 VON=-4 VOFF=-3)
.MODEL S1B VSWITCH (RON=1e-5 ROFF=0.1 VON=-3 VOFF=-4)
.MODEL S2A VSWITCH (RON=1e-5 ROFF=0.1 VON=-2 VOFF=-0.5)
.MODEL S2B VSWITCH (RON=1e-5 ROFF=0.1 VON=-0.5 VOFF=-2)
.ENDS
*$
******************************************************************************************
* WB_DIODE_TVS Spice Model
*
******************************************************************************************
* 09/06/2005
* ON Semiconductor MBRD6X0CT model with BV=200V
* 08/11/2003
* had to modify breakdown voltage to handle
* higher voltage parts (i.e. LM5007).
* Changed 'bv' parameter from 72V to 110V
* 04/09/2003
* default Live Wire diode model:
* used when a part number does not
* have a vendor model available
* ON Semiconductor MBR1060
* 60V 10A Schottky
.subckt WB_DIODE_TVS AN CAT
D1 AN CAT WB_DIODE_D
.MODEL WB_DIODE_D D BV=500 CJO=470E-12 EG=0.69 IBV=1E-6
+ IS=9E-6 M=0.8 N=1.442 RS=60E-3 VJ=1 XTI=2
.ENDS
*$
******************************************************************************************
* WB_CAP_OUTPUT Spice Model
*
******************************************************************************************
.SUBCKT WB_CAP_OUTPUT 13 2
+ PARAMS: IC = 0
* Steve's Tantalum Model w/Initial Conditions
* C=5.0E-4 F
* ESR@1K=0.0010 Ohm
* ESL=8.0E-9 H
* RLEAK=1000000.0 Ohm
C3 13 11 6.25E-5 IC= {IC}
C4 13 3 3.125E-5 IC={IC}
C5 13 4 1.5625E-5 IC={IC}
R1 4 5 0.00125
R2 3 6 9.000000000000001E-4
R3 11 7 0.00175
R4 12 8 0.00232
C6 13 9 2.5E-4 IC={IC}
R5 13 0 1000000.0
R6 9 10 0.00625
L1 5 2 8.0E-9
L2 6 2 8.0E-9
L3 7 2 8.0E-9
L4 8 2 8.0E-9
L5 10 2 8.0E-9
R8 2 0 1000000.0
C2 13 12 1.25E-4 IC={IC}
.ENDS
*$
