*$
* TPS5401
*****************************************************************************
* (C) Copyright 2015 Texas Instruments Incorporated. All rights reserved.                                            
*****************************************************************************
** This model is designed as an aid for customers of Texas Instruments.
** TI and its licensors and suppliers make no warranties, either expressed
** or implied, with respect to this model, including the warranties of 
** merchantability or fitness for a particular purpose.  The model is
** provided solely on an "as is" basis.  The entire risk as to its quality
** and performance is with the customer
*****************************************************************************
*
* This model is subject to change without notice. Texas Instruments
* Incorporated is not responsible for updating this model.
*
*****************************************************************************
*
** Released by: WEBENCH Design Center, Texas Instruments Inc.
* Part: TPS5401
* Date: 12JUN2015
* Model Type: TRANSIENT
* Simulator: PSPICE
* Simulator Version: 16.2.0.p001
* EVM Order Number: TPS5401EVM-708
* EVM Users Guide: SLVU430–January 2011
* Datasheet: SLVSAB0A –DECEMBER 2010–REVISED NOVEMBER 2014
*
* Model Version: 1.00
*
*****************************************************************************
*
* Updates:
*
* Final 1.00
* Release to Web.
*
******************************************************************************
.SUBCKT TPS5401_Trans BOOT VIN EN SS_TR RT
+ PWRGD VSENSE COMP GND PH PARAMS: MODE=0 L=2.2E-5 fsw=1608377.1547514435 vout=5.0 vin=24.25
+ iout=0.5 Rt=66500.0
.IC V(COMP)= {MODE*((0.99939+((((VIN-VOUT)*VOUT)/(2*FSW*L*VIN))+IOUT)+(82390*
+ ((((2E8*(0.5/RT)*(0.5/RT)) +(9765.5*(0.5/RT))+0.0019)*0.000001*VOUT)/(5.236*0.000000001*FSW*VIN))))/1.86)}
.IC         V(ENAB )=0
.IC         V(EN )={MODE*1.5}
.IC V(SYSCLK)=0
R_TRANSCONDUCTANCEAMPLIFIER_R11 TRANSCONDUCTANCEAMPLIFIER_N00512 OCB 100
X_TRANSCONDUCTANCEAMPLIFIER_D10         COMP TRANSCONDUCTANCEAMPLIFIER_N00648
+  d_d1 PARAMS:
R_TRANSCONDUCTANCEAMPLIFIER_R286 TRANSCONDUCTANCEAMPLIFIER_N00560 TRANSCONDUCTANCEAMPLIFIER_N00494 1
C_TRANSCONDUCTANCEAMPLIFIER_C166 0 TRANSCONDUCTANCEAMPLIFIER_VGM 1n
X_TRANSCONDUCTANCEAMPLIFIER_U597         TRANSCONDUCTANCEAMPLIFIER_N00654 COMP
+  d_d1 PARAMS:
R_TRANSCONDUCTANCEAMPLIFIER_R294 TRANSCONDUCTANCEAMPLIFIER_N00698 TRANSCONDUCTANCEAMPLIFIER_VGM 1
C_TRANSCONDUCTANCEAMPLIFIER_C9 0 OCB 1n
E_TRANSCONDUCTANCEAMPLIFIER_ABM177         TRANSCONDUCTANCEAMPLIFIER_N00698 0
+  VALUE { IF(V(TRANSCONDUCTANCEAMPLIFIER_N00494) < 26u, 26u,
+  IF(V(TRANSCONDUCTANCEAMPLIFIER_N00494) > 97u,
+  97u,V(TRANSCONDUCTANCEAMPLIFIER_N00494)))    }
V_TRANSCONDUCTANCEAMPLIFIER_V5         TRANSCONDUCTANCEAMPLIFIER_N00654 0 0.5
C_TRANSCONDUCTANCEAMPLIFIER_C165 0 TRANSCONDUCTANCEAMPLIFIER_N00494 1n
C_TRANSCONDUCTANCEAMPLIFIER_C5 0 COMP 5.72p
G_TRANSCONDUCTANCEAMPLIFIER_ABM2I1         0 COMP VALUE { {LIMIT((V(VREF_GM) -
+  V(VSENSE))*V(TRANSCONDUCTANCEAMPLIFIER_VGM), -7u,7u)}    }
E_TRANSCONDUCTANCEAMPLIFIER_ABM171         TRANSCONDUCTANCEAMPLIFIER_N00560 0
+  VALUE { {IF(V(SS_TR) < 0.7, 26u, 26u + (71u *((V(SS_TR) -700m)/299m)))}    }
V_TRANSCONDUCTANCEAMPLIFIER_V6         TRANSCONDUCTANCEAMPLIFIER_N00648 0 1.6
R_TRANSCONDUCTANCEAMPLIFIER_R4 0 COMP 103.092MEG
E_TRANSCONDUCTANCEAMPLIFIER_ABM8         TRANSCONDUCTANCEAMPLIFIER_N00512 0
+  VALUE { {IF(V(COMP) > 1.5,1,0)}    }
R_UVLO_R257 ENAB UVLO_N00368 1
G_UVLO_ABMII1         VIN EN VALUE { {0.9u+ 2.9u*V(ENAB)}    }
R_UVLO_R256 EN UVLO_N00342 100MEG
X_UVLO_D8         EN UVLO_N00342 d_d1 PARAMS:
E_UVLO_ABM173         UVLO_N00342 0 VALUE { {IF(V(VIN) > 2.5,5,0)}    }
C_UVLO_C3 ENAB 0 1n
C_UVLO_C2 EN 0 1n
E_UVLO_ABM1         UVLO_N00368 0 VALUE { {IF(V(EN) < 1.25,0,1)}    }
X_UVLO_D9         EN VIN d_d1 PARAMS:
X_DRIVER_F3    VIN DRIVER_N01069 2P5 ISW DRIVER_DRIVER_F3
E_DRIVER_ABM168         DRIVER_N01475 0 VALUE { {IF((V(BOOT) - V(PH)) > 6 |
+  V(ENAB) < 0.5 | V(SDWN) > 0.5,0,1)}    }
C_DRIVER_C147 0 DRIVER_N01459 1n
V_DRIVER_V30         DRIVER_N01253 0 1
X_DRIVER_U61         DRIVER_HDRVIN DRIVER_LDRV INV_BASIC_GEN
R_DRIVER_R244 DRIVER_N01339 PWMANDI 1
X_DRIVER_S2    DRIVER_HDRVIN 0 BOOT HDRV DRIVER_DRIVER_S2
X_DRIVER_S34    DRIVER_BOOT_SDWN 0 BOOT VIN DRIVER_DRIVER_S34
X_DRIVER_S3    DRIVER_N01121 0 HDRV PH DRIVER_DRIVER_S3
C_DRIVER_C140 0 PWMANDI 1n
X_DRIVER_S30    HDRV PH DRIVER_N01069 PH DRIVER_DRIVER_S30
C_DRIVER_C142 PH DRIVER_N01069 10p
R_DRIVER_R247 DRIVER_N01475 DRIVER_N01459 1
R_DRIVER_R243 0 ISW 1
X_DRIVER_U56         DRIVER_HDRVIN DRIVER_N01121 INV_BASIC_GEN
E_DRIVER_ABM169         DRIVER_N01339 0 VALUE { {IF((V(BOOT) - V(PH)) <
+  2.1,0,1)}    }
X_DRIVER_U52         DRIVER_N01253 ENAB PWMFF DRIVER_HDRVIN AND3_BASIC_GEN
X_DRIVER_D13         PH DRIVER_N01069 d_d1 PARAMS:
X_DRIVER_U599         DRIVER_LDRV DRIVER_N01459 DRIVER_BOOT_SDWN AND2_BASIC_GEN
R_OSCILLATOR_R6 OSCILLATOR_N167716431 OSCILLATOR_N16770595 1
V_OSCILLATOR_V46         OSCILLATOR_N16771101 0 5
X_OSCILLATOR_U581         OSCILLATOR_N16770727 OSCILLATOR_OUT2
+  OSCILLATOR_FSBY4EN_PRE AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
E_OSCILLATOR_ABM8         OSCILLATOR_N16771235 0 VALUE {
+  ((200000k*V(OSCILLATOR_I_RT)*V(OSCILLATOR_I_RT))+9765.5*V(OSCILLATOR_I_RT)+0.0019)
+
+ /((V(OSCILLATOR_FSBY8EN_PRE)*7.5)+(V(OSCILLATOR_FSBY4EN_PRE)*3.5)
+ +(V(OSCILLATOR_FSBY2EN_PRE)*1.5)+(V(OSCILLATOR_FSEN_PRE)*0.5)+0.5)  }
X_OSCILLATOR_D12         OSCILLATOR_RAMP OSCILLATOR_N16771101 d_d1 PARAMS:
R_OSCILLATOR_R279 OSCILLATOR_I_RT 0 1
C_OSCILLATOR_C6 0 OSCILLATOR_N16770595 1n
E_OSCILLATOR_ABM7         OSCILLATOR_N167707511 0 VALUE {
+  ((V(OSCILLATOR_OUT3)*20m) + 0.6)    }
X_OSCILLATOR_U582         OSCILLATOR_FSBY8EN_PRE OSCILLATOR_N16770727
+  INV_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_OSCILLATOR_U8         OSCILLATOR_N16770363 VSENSE OSCILLATOR_FSBY8EN_PRE
+  COMP_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
G_OSCILLATOR_ABMI4         OSCILLATOR_N16771101 OSCILLATOR_RAMP VALUE {
+ (0.408624*(-I(V_OSCILLATOR_V44)**(1/1.0888))) /((V(OSCILLATOR_FSBY8EN_PRE)*7.5)
+ +(V(OSCILLATOR_FSBY4EN_PRE)*3.5)+(V(OSCILLATOR_FSBY2EN_PRE)*1.5)
+ +(V(OSCILLATOR_FSEN_PRE)*0.5)+0.5)  }
R_OSCILLATOR_R9 OSCILLATOR_N167707511 OSCILLATOR_N16770671 1
R_OSCILLATOR_R281 OSCILLATOR_N16770933 RT 1
X_OSCILLATOR_U583         OSCILLATOR_OUT2 OSCILLATOR_N16770795 INV_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
V_OSCILLATOR_V47         OSCILLATOR_N16771497 0 2.5
R_OSCILLATOR_R283 OSCILLATOR_N16771235 IF2IA 1
X_OSCILLATOR_U9         OSCILLATOR_N16770595 VSENSE OSCILLATOR_OUT2
+  COMP_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
C_OSCILLATOR_C162 0 IF2IA 1n
C_OSCILLATOR_C8 0 OSCILLATOR_N16770671 1n
X_OSCILLATOR_U584         OSCILLATOR_OUT3 OSCILLATOR_FSEN_PRE INV_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
V_OSCILLATOR_V44         OSCILLATOR_N16770927 0 0.5
X_OSCILLATOR_U134         SDWN OSCILLATOR_N16771205 OSCILLATOR_N16771449
+  OR2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
E_OSCILLATOR_ABM3         OSCILLATOR_N167703871 0 VALUE {
+  ((V(OSCILLATOR_FSBY8EN_PRE)*20m) + 0.2)    }
X_OSCILLATOR_S26    OSCILLATOR_N16771449 0 OSCILLATOR_RAMP 0
+  OSCILLATOR_OSCILLATOR_S26
R_OSCILLATOR_R278 0 OSCILLATOR_N16770933 500MEG
X_OSCILLATOR_U10         OSCILLATOR_N16770671 VSENSE OSCILLATOR_OUT3
+  COMP_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
R_OSCILLATOR_R4 OSCILLATOR_N167703871 OSCILLATOR_N16770363 1
X_OSCILLATOR_H1    OSCILLATOR_N16770933 OSCILLATOR_N16770927 OSCILLATOR_I_RT 0
+  OSCILLATOR_OSCILLATOR_H1
E_OSCILLATOR_ABM5         OSCILLATOR_N167716431 0 VALUE {
+  ((V(OSCILLATOR_OUT2)*20m) + 0.4)    }
X_OSCILLATOR_U132         OSCILLATOR_RAMP OSCILLATOR_N16771497 SYSCLK
+  COMP_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
C_OSCILLATOR_C5 0 OSCILLATOR_N16770363 1n
C_OSCILLATOR_C80 OSCILLATOR_RAMP 0 2p
X_OSCILLATOR_U580         OSCILLATOR_N16770795 OSCILLATOR_OUT3
+  OSCILLATOR_FSBY2EN_PRE AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_OSCILLATOR_U612         SYSCLK OSCILLATOR_N16771205 BUF_DELAY_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY=20n
R_POWERGOOD_R149 0 POWERGOOD_N00769 1k
X_POWERGOOD_U26         POWERGOOD_N00803 POWERGOOD_N00769 VSENSE 0 swhyste
+  PARAMS:  RON=1 ROFF=1MEG VT=0.744 VH=0.008
V_POWERGOOD_V8         POWERGOOD_N00803 0 1.0
X_POWERGOOD_U581         POWERGOOD_VSGOOD POWERGOOD_N16770770 PWRGD2
+  AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_POWERGOOD_U583         PWRGD3 PWRGD INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_POWERGOOD_S26    PWRGD 0 PWRGD3 0 PWRGD_S26
X_POWERGOOD_U27         POWERGOOD_N00907 POWERGOOD_N00845 VSENSE 0 swhyste
+  PARAMS:  RON=1MEG ROFF=1 VT=0.864 VH=0.008
X_POWERGOOD_U582         SDWN POWERGOOD_N16770770 INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
R_POWERGOOD_R150 0 POWERGOOD_N00845 1k
V_POWERGOOD_V9         POWERGOOD_N00907 0 1.0
X_POWERGOOD_U52         ENAB POWERGOOD_N00769 POWERGOOD_N00845 POWERGOOD_VSGOOD
+  AND3_BASIC_GEN
C_SHUTDOWN_C148 0 SHUTDOWN_N00804 1n
X_SHUTDOWN_U568        GND SHUTDOWN_N00718 SHUTDOWN_N00670
+  SHUTDOWN_N00764 OR3_BASIC_GEN
X_SHUTDOWN_U549         ENAB SHUTDOWN_N00718 INV_BASIC_GEN
R_SHUTDOWN_R279 SHUTDOWN_N00764 SDWN1 1
C_SHUTDOWN_C160 SDWN1 0 1n
E1 SDWN 0 VALUE {IF(TIME<10e-9,0,V(SDWN1) )}
E_SHUTDOWN_ABM172         SHUTDOWN_N00890 0 VALUE { {IF(V(SS_TR)  < 54m,1,0)}
+   }
X_SHUTDOWN_U604         SHUTDOWN_N00784 SHUTDOWN_N00804 SHUTDOWN_N00850
+  AND2_BASIC_GEN
E_SHUTDOWN_ABM174         SHUTDOWN_N00834 0 VALUE { {IF(V(SS_TR)  > 54m,1,0)}
+   }
R_SHUTDOWN_R288 0 SHUTDOWN_N00862 10MEG
R_SHUTDOWN_R265 SHUTDOWN_N00890 SHUTDOWN_N00868 1
C_SHUTDOWN_C151 0 SHUTDOWN_N00868 1n
X_SHUTDOWN_U602         SHUTDOWN_N00850 SHUTDOWN_N00868 SS_DISCH
+  SHUTDOWN_N00862 srlatchrhp_basic_gen PARAMS:
V_SHUTDOWN_V80         SHUTDOWN_N00660 0 182
R_SHUTDOWN_R287 0 SHUTDOWN_N00784 1k
X_SHUTDOWN_U569         SHUTDOWN_N00666 VIN SHUTDOWN_N00670 COMP_BASIC_GEN
R_SHUTDOWN_R263 SHUTDOWN_N00834 SHUTDOWN_N00804 1
V_SHUTDOWN_V64         SHUTDOWN_N00666 0 2.5
X_SHUTDOWN_U600         SDWN SHUTDOWN_N00778 INV_BASIC_GEN
C_SHUTDOWN_C163 SHUTDOWN_N00778 SHUTDOWN_N00784 140.5p IC={MODE*1}
X_SLOPECOMPENSATION_H1    SLOPECOMPENSATION_N01502 0 SLOPECOMPENSATION_RAMPIN 0
+  SLOPECOMPENSATION_SLOPECOMPENSATION_H1
R_SLOPECOMPENSATION_R293 0 SLOPECOMPENSATION_N01314 1
G_SLOPECOMPENSATION_ABMII4         SLOPECOMPENSATION_N01314 0 VALUE {
+ {((V(COMP) /-132.8k)  + 3.64u)*3}    }
G_SLOPECOMPENSATION_ABMI4         SLOPECOMPENSATION_VRAMP 0 VALUE { {V(IF2IA) *
+  -1}    }
X_SLOPECOMPENSATION_U587         SYSCLK SLOPECOMPENSATION_N01810
+  INV_DELAY_BASIC_GEN PARAMS: DELAY=15n
C_SLOPECOMPENSATION_C135 COMP 0 10f
X_SLOPECOMPENSATION_D58         SLOPECOMPENSATION_N01596
+  SLOPECOMPENSATION_N01618 d_d1 PARAMS:
R_SLOPECOMPENSATION_R242 0 SLOPECOMPENSATION_ICTRL 1
E_SLOPECOMPENSATION_ABM151         SLOPECOMPENSATION_N01618 0 VALUE {
+ {IF(V(PWMFF) > 0.5, 1,0)}    }
E_SLOPECOMPENSATION_ABM149         SLOPECOMPENSATION_N02264 0 VALUE {
+ {IF(V(SLOPECOMPENSATION_ISWF) > V(SLOPECOMPENSATION_ICTRL),
+ 0,1)}   }
C_SLOPECOMPENSATION_C134 0 SLOPECOMPENSATION_VRAMP 5.236n IC=0
R_SLOPECOMPENSATION_R248 0 SLOPECOMPENSATION_N01684 100MEG
V_SLOPECOMPENSATION_V79         SLOPECOMPENSATION_N01338 0 0.856
R_SLOPECOMPENSATION_R255 SLOPECOMPENSATION_N01618 SLOPECOMPENSATION_N01596 10
X_SLOPECOMPENSATION_S26    SLOPECOMPENSATION_N01298 0 SLOPECOMPENSATION_VRAMP 0
+  SLOPECOMPENSATION_SLOPECOMPENSATION_S26
I_SLOPECOMPENSATION_I1         SLOPECOMPENSATION_N01420 0 DC -114u
E_SLOPECOMPENSATION_ABM163         SLOPECOMPENSATION_N01306 0 VALUE {
+ {((V(SLOPECOMPENSATION_N01314) - V(SLOPECOMPENSATION_RAMPIN)) * 10)
+ -12.1u}   }
X_SLOPECOMPENSATION_U598         SLOPECOMPENSATION_N02264 PWMANDI
+  SLOPECOMPENSATION_OVTP SLOPECOMPENSATION_PWM AND3_BASIC_GEN
R_SLOPECOMPENSATION_R241 0 SLOPECOMPENSATION_N01420 1
X_SLOPECOMPENSATION_U586         SYSCLK SLOPECOMPENSATION_N01810
+  SLOPECOMPENSATION_N01298 AND2_BASIC_GEN
E_SLOPECOMPENSATION_ABM152         SLOPECOMPENSATION_ISWF 0 VALUE {
+ {IF(V(SLOPECOMPENSATION_N01596) > .5,
+ V(ISW),-0.07)}   }
C_SLOPECOMPENSATION_C146 0 SLOPECOMPENSATION_N01596 1n
G_SLOPECOMPENSATION_ABMII3         2P5 SLOPECOMPENSATION_N01502 VALUE {
+  V(SLOPECOMPENSATION_VRAMP) * 1u    }
G_SLOPECOMPENSATION_ABM2I2         2P5 SLOPECOMPENSATION_ICTRL VALUE {
+ {IF(V(SLOPECOMPENSATION_N01306) > V(SLOPECOMPENSATION_N01420),
+  8239*V(SLOPECOMPENSATION_N01420), 8239*V(SLOPECOMPENSATION_N01306))}
+  }
X_SLOPECOMPENSATION_U594         SLOPECOMPENSATION_N01338 VSENSE
+  SLOPECOMPENSATION_OVTP COMP_BASIC_GEN
R_R1 GND 0 1m
E_SOFTSTART_ABM179         SOFTSTART_N01989 0 VALUE { {IF(V(OCB) > .5 &
+ V(SS_TR) > 54m,1,0)}   }
R_SOFTSTART_R13 SOFTSTART_N01683 SOFTSTART_N01689 1
C_SOFTSTART_C15 0 SOFTSTART_N01913 100n
C_SOFTSTART_C12 0 SOFTSTART_N01689 1n
E_SOFTSTART_ABM175         SOFTSTART_N01683 0 VALUE { IF(V(SS_TR) < 500m,
+  V(SS_TR) - 34.4m,
+ IF(V(SS_TR) > 1500m, 0.8,
+ V(SS_TR) - ((0.6633*V(SS_TR)*V(SS_TR)) -(0.6493*V(SS_TR)) + 0.1802)))  }
R_SOFTSTART_R15 SOFTSTART_N01989 SOFTSTART_N01913 1
R_SOFTSTART_R14 SOFTSTART_N16772198 VREF_GM 1
C_SOFTSTART_C6 0 1P7 1n
V_SOFTSTART_V70         SOFTSTART_N01523 0 1.7
C_SOFTSTART_C14 0 VREF_GM 1n
X_SOFTSTART_S68    SOFTSTART_N01913 0 SS_TR 0 SOFTSTART_SOFTSTART_S68
G_SOFTSTART_ABMI1         1P7 SS_TR VALUE { {IF(V(ENAB) > .5,2u,0)}    }
E_SOFTSTART_ABM180         SOFTSTART_N16772198 0 VALUE { IF(V(SOFTSTART_N01689)
+  < 0.8, V(SOFTSTART_N01689),0.8)    }
E_SOFTSTART_ABM5         SOFTSTART_N01447 0 VALUE { {IF(V(SDWN) > .5,0,
+ IF(V(VIN) < 1.7, V(VIN), 1.7))}   }
X_SOFTSTART_D62         SS_TR SOFTSTART_N01523 d_d1 PARAMS:
X_SOFTSTART_D63         0 SS_TR d_d1 PARAMS:
R_SOFTSTART_R5 SOFTSTART_N01447 1P7 10
C_SOFTSTART_C8 0 SS_TR 0.1p
G_SOFTSTART_ABMI5         SS_TR 0 VALUE { {IF(V(SS_DISCH) > .5, 1.25e-3,0)}
+  }
V_V48         2P5 0 2.5
C_MINONTIME_C177 0 MINONTIME_INDELAYED2 1n
R_MINONTIME_R276 MINONTIME_N01118 MINONTIME_INDELAYED2 180
X_MINONTIME_U623         MINONTIME_N01118 MINONTIME_INDELAYED2 d_d1 PARAMS:
X_MINONTIME_U828         MINONTIME_N01118 MINONTIME_INDELAYED2 PWMFF1 PWMFF
+  OR3_BASIC_GEN
X_MINONTIME_U829         PWMFF1 MINONTIME_N01102 INV_DELAY_BASIC_GEN PARAMS:
+  DELAY=15n
X_MINONTIME_U830         MINONTIME_N01102 PWMFF1 MINONTIME_N01118
+  AND2_BASIC_GEN
V_V46         SET5 0 1
V_V47         SET0 0 0Vdc
X_SLOPECOMPENSATION_U582         SLOPECOMPENSATION_PWM
+  SLOPECOMPENSATION_N16805285 INV_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_SLOPECOMPENSATION_U629         SYSCLK SLOPECOMPENSATION_N16805285 PWMFF1
+  SLOPECOMPENSATION_N01684 RSFFLATCH_RHP 
.ENDS TPS5401_Trans
*$
.subckt DRIVER_DRIVER_F3 1 2 3 4
F_DRIVER_F3         3 4 VF_DRIVER_F3 1
VF_DRIVER_F3         1 2 0V
.ends DRIVER_DRIVER_F3
*$
.subckt DRIVER_DRIVER_S2 1 2 3 4
S_DRIVER_S2         3 4 1 2 _DRIVER_S2
RS_DRIVER_S2 1 2 1G
.MODEL         _DRIVER_S2 VSWITCH Roff=1e6 Ron=2 Voff=.4V Von=.5V
.ends DRIVER_DRIVER_S2
*$
.subckt DRIVER_DRIVER_S34 1 2 3 4
S_DRIVER_S34         3 4 1 2 _DRIVER_S34
RS_DRIVER_S34 1 2 1G
.MODEL         _DRIVER_S34 VSWITCH Roff=1000e6 Ron=15 Voff=0.2V Von=.8
.ends DRIVER_DRIVER_S34
*$
.subckt DRIVER_DRIVER_S3 1 2 3 4
S_DRIVER_S3         3 4 1 2 _DRIVER_S3
RS_DRIVER_S3 1 2 1G
.MODEL         _DRIVER_S3 VSWITCH Roff=1e6 Ron=1.0 Voff=0.2V Von=.8V
.ends DRIVER_DRIVER_S3
*$
.subckt DRIVER_DRIVER_S30 1 2 3 4
S_DRIVER_S30         3 4 1 2 _DRIVER_S30
RS_DRIVER_S30 1 2 1G
.MODEL         _DRIVER_S30 VSWITCH Roff=10e6 Ron=300m Voff=0.4V Von=2.8
.ends DRIVER_DRIVER_S30
*$
.subckt OSCILLATOR_OSCILLATOR_S26 1 2 3 4
S_OSCILLATOR_S26         3 4 1 2 _OSCILLATOR_S26
RS_OSCILLATOR_S26 1 2 1G
.MODEL         _OSCILLATOR_S26 VSWITCH Roff=100e6 Ron=1.0 Voff=0.2 Von=0.8
.ends OSCILLATOR_OSCILLATOR_S26
*$
.subckt OSCILLATOR_OSCILLATOR_H1 1 2 3 4
H_OSCILLATOR_H1         3 4 VH_OSCILLATOR_H1 -1
VH_OSCILLATOR_H1         1 2 0V
.ends OSCILLATOR_OSCILLATOR_H1
*$
.subckt SLOPECOMPENSATION_SLOPECOMPENSATION_H1 1 2 3 4
H_SLOPECOMPENSATION_H1         3 4 VH_SLOPECOMPENSATION_H1 1
VH_SLOPECOMPENSATION_H1         1 2 0V
.ends SLOPECOMPENSATION_SLOPECOMPENSATION_H1
*$
.subckt SLOPECOMPENSATION_SLOPECOMPENSATION_S26 1 2 3 4
S_SLOPECOMPENSATION_S26         3 4 1 2 _SLOPECOMPENSATION_S26
RS_SLOPECOMPENSATION_S26 1 2 1G
.MODEL         _SLOPECOMPENSATION_S26 VSWITCH Roff=100e6 Ron=10m Voff=0.4
+  Von=0.6
.ends SLOPECOMPENSATION_SLOPECOMPENSATION_S26
*$
.subckt SOFTSTART_SOFTSTART_S68 1 2 3 4
S_SOFTSTART_S68         3 4 1 2 _SOFTSTART_S68
RS_SOFTSTART_S68 1 2 1G
.MODEL         _SOFTSTART_S68 VSWITCH Roff=100e6 Ron=3571 Voff=0.2 Von=0.8
.ends SOFTSTART_SOFTSTART_S68
*$
.subckt Oscillator_U3_S26 1 2 3 4
S_U3_S26         3 4 1 2 _U3_S26
RS_U3_S26 1 2 1G
.MODEL         _U3_S26 VSWITCH Roff=100e6 Ron=1.0 Voff=0.2 Von=0.8
.ends Oscillator_U3_S26
*$
.subckt Oscillator_U3_H1 1 2 3 4
H_U3_H1         3 4 VH_U3_H1 -1
VH_U3_H1         1 2 0V
.ends Oscillator_U3_H1
*$
.subckt SoftStart_U4_S68 1 2 3 4
S_U4_S68         3 4 1 2 _U4_S68
RS_U4_S68 1 2 1G
.MODEL         _U4_S68 VSWITCH Roff=100e6 Ron=3571 Voff=0.2 Von=0.8
.ends SoftStart_U4_S68
*$
.subckt GmIphase_U6_S26 1 2 3 4
S_U6_S26         3 4 1 2 _U6_S26
RS_U6_S26 1 2 1G
.MODEL         _U6_S26 VSWITCH Roff=100e6 Ron=10m Voff=0.2 Von=0.8
.ends GmIphase_U6_S26
*$
.subckt Driver_U8_S34 1 2 3 4
S_U8_S34         3 4 1 2 _U8_S34
RS_U8_S34 1 2 1G
.MODEL         _U8_S34 VSWITCH Roff=1000e6 Ron=15 Voff=0.2 Von=0.8
.ends Driver_U8_S34
*$
.subckt Driver_U8_S2 1 2 3 4
S_U8_S2         3 4 1 2 _U8_S2
RS_U8_S2 1 2 1G
.MODEL         _U8_S2 VSWITCH Roff=1e6 Ron=2 Voff=0.2 Von=0.8
.ends Driver_U8_S2
*$
.subckt Driver_U8_S3 1 2 3 4
S_U8_S3         3 4 1 2 _U8_S3
RS_U8_S3 1 2 1G
.MODEL         _U8_S3 VSWITCH Roff=1e6 Ron=1.0 Voff=0.2 Von=0.8
.ends Driver_U8_S3
*$
.subckt Driver_U8_S30 1 2 3 4
S_U8_S30         3 4 1 2 _U8_S30
RS_U8_S30 1 2 1G
.MODEL         _U8_S30 VSWITCH Roff=10e6 Ron=300m Voff=0.2 Von=0.8
.ends Driver_U8_S30
*$
.subckt Driver_U8_H1 1 2 3 4
H_U8_H1         3 4 VH_U8_H1 1
VH_U8_H1         1 2 0V
.ends Driver_U8_H1
*$
.subckt PGOOD_U9_S19 1 2 3 4
S_U9_S19         3 4 1 2 _U9_S19
RS_U9_S19 1 2 1G
.MODEL         _U9_S19 VSWITCH Roff=100e6 Ron=50 Voff=2.4V Von=2.5V
.ends PGOOD_U9_S19
*$
.subckt d_d 1 2
d1 1 2 dd
.model dd d
+ is=1e-015
+ n=0.01
+ tt=1e-011
.ends d_d
*$
.SUBCKT AND2_BASIC A B Y
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > 2.5  &
+ V(B) > 2.5,5,0)}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND2_BASIC
*$
.SUBCKT AND3_BASIC A B C Y
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > 2.5  &
+ V(B) > 2.5 &
+ V(C) > 2.5,5,0)}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND3_BASIC
*$
.SUBCKT AND4_BASIC A B C D Y
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > 2.5  &
+ V(B) > 2.5 &
+ V(C) > 2.5 &
+ V(D) > 2.5,5,0)}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND4_BASIC
*$
.SUBCKT NAND2_BASIC A B Y
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > 2.5  &
+ V(B) > 2.5,0,5)}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NAND2_BASIC
*$
.SUBCKT NAND3_BASIC A B C Y
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > 2.5  &
+ V(B) > 2.5 &
+ V(C) > 2.5,0,5)}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NAND3_BASIC
*$
.SUBCKT NAND4_BASIC A B C D Y
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > 2.5  &
+ V(B) > 2.5 &
+ V(C) > 2.5 &
+ V(D) > 2.5,0,5)}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NAND4_BASIC
*$
.SUBCKT OR2_BASIC A B Y
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > 2.5  |
+ V(B) > 2.5,5,0)}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR2_BASIC
*$
.SUBCKT OR3_BASIC A B C Y
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > 2.5  |
+ V(B) > 2.5 |
+ V(C) > 2.5,5,0)}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR3_BASIC
*$
.SUBCKT OR4_BASIC A B C D Y
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > 2.5  |
+ V(B) > 2.5 |
+ V(C) > 2.5 |
+ V(D) > 2.5,5,0)}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR4_BASIC
*$
.SUBCKT NOR2_BASIC A B Y
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > 2.5  |
+ V(B) > 2.5,0,5)}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR2_BASIC
*$
.SUBCKT NOR3_BASIC A B C Y
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > 2.5  |
+ V(B) > 2.5 |
+ V(C) > 2.5,0,5)}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR3_BASIC
*$
.SUBCKT NOR4_BASIC A B C D Y
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > 2.5  |
+ V(B) > 2.5 |
+ V(C) > 2.5 |
+ V(D) > 2.5,0,5)}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR4_BASIC
*$
.SUBCKT NOR5_BASIC A B C D E Y
E_ABMGATE YINT 0 VALUE {{IF(V(A) > 2.5  |
+ V(B) > 2.5 |
+ V(C) > 2.5 |
+ V(D) > 2.5 |
+ V(E) > 2.5,0,5)}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR5_BASIC
*$
.SUBCKT NOR6_BASIC A B C D E F Y
E_ABMGATE YINT 0 VALUE {{IF(V(A) > 2.5  |
+ V(B) > 2.5 |
+ V(C) > 2.5 |
+ V(D) > 2.5 |
+ V(E) > 2.5 |
+ V(F) > 2.5,0,5)}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR6_BASIC
*$
.SUBCKT INV_BASIC A  Y
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > 2.5 ,
+ 0,5)}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS INV_BASIC
*$
.SUBCKT XOR2_BASIC A B Y
E_ABMGATE  YINT 0 VALUE {{IF(V(A) > 2.5  ^
+ V(B) > 2.5,5,0)}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS XOR2_BASIC
*$
.SUBCKT XNOR2_BASIC A B Y
E_ABMGATE  YINT 0 VALUE {{IF(V(A) > 2.5  ^
+ V(B) > 2.5,0,5)}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS XNOR2_BASIC
*$
.SUBCKT MUX2_BASIC A B S Y
E_ABMGATE  YINT 0 VALUE {{IF(V(S) > 2.5,
+ V(B),V(A))}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS MUX2_BASIC
*$
.SUBCKT INV_DELAY_BASIC A  Y PARAMS: DELAY = 10n
E_ABMGATE1    YINT1 0 VALUE {{IF(V(A)
+  > 2.5 ,
+ 5,0)}}
RINT YINT1 YINT2 1
CINT YINT2 0 {DELAY*1.3}
E_ABMGATE2    YINT3 0 VALUE {{IF(V(YINT2) > 2.5 ,
+ 0,5)}}
RINT2 YINT3 Y 1
CINT2 Y 0 1n
.ENDS INV_DELAY_BASIC
*$
.SUBCKT SRNANDLATCH_BASICORIGINAL S R Q QB
X_U2         N04337 QB Q NAND2_BASIC
X_U3         Q N04379 QB NAND2_BASIC
X_U4         N04337 R N04379 NAND2_BASIC
X_U5         S N04337 INV_BASIC
Cdummy1 Q 0 0.01pF IC={0}
Cdummy2 QB 0 0.01pF IC={5}
.ENDS SRNANDLATCH_BASICORIGINAL
*$
.SUBCKT SRNANDLATCHSHP_BASIC S R Q QB
GQ 0 Qint VALUE = {IF(V(S) > 2.5,5,IF(V(R)
+ >2.5,-5, 0))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 5
D_D11 0 Qint D_D1
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_BASIC
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > 2.5, 0,5)}
RQb Qbr QB 1
Cdummy1 Q 0 1n IC={5}
Cdummy2 QB 0 1n IC={0}
.MODEL D_D1 D( IS=1e-15 TT=10p Rs=0.05 N=.1  )
.ENDS SRNANDLATCHSHP_BASIC
*$
.SUBCKT DFF_BASICORIGINAL Q QB CLK D R S
X_U1         S N00273 N00171 N00150 NAND3_BASIC
X_U2         N00150 R CLK N00171 NAND3_BASIC
X_U3         N00171 CLK N00273 N00212 NAND3_BASIC
X_U4         N00212 R D N00273 NAND3_BASIC
X_U5         S N00171 QB Q NAND3_BASIC
X_U6         Q R N00212 QB NAND3_BASIC
Cdummy1 Q 0 0.01pF IC={0}
Cdummy2 QB 0 0.01pF IC={5}
.IC V(N00171) = {5}
.IC V(N00212) = {0}
.ENDS DFF_BASICORIGINAL
*$
.SUBCKT DFF_BASIC Q QB CLK D R S
X1 CLK CLKdel INV_DELAY_BASIC PARAMS: DELAY = 15n
X2 CLK CLKdel CLKint AND2_BASIC
GQ 0 Qint VALUE = {IF(V(S) < 2.5,5,IF(V(R)<
+ 2.5,-5, IF(V(CLKint)>2.5,
+ IF(V(D)>2.5,5,-5),0)))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 5
D_D11 0 Qint D_D1
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_DELAY_BASIC PARAMS: DELAY = 20n
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > 2.5, 0,5)}
RQb Qbr Qb 1
Cdummy1 Q 0 1nF
Cdummy2 QB 0 1nF
.IC V(Qint) = 0
.MODEL D_D1 D( IS=1e-15 TT=10p Rs=0.05 N=.1  )
.ENDS DFF_BASIC
*$
.SUBCKT BUF_DELAY_BASIC A  Y PARAMS: DELAY = 10n
E_ABMGATE1    YINT1 0 VALUE {{IF(V(A) > 2.5 ,
+ 5,0)}}
RINT YINT1 YINT2 1
CINT YINT2 0 {DELAY*1.3}
E_ABMGATE2    YINT3 0 VALUE {{IF(V(YINT2) > 2.5 ,
+ 5,0)}}
RINT2 YINT3 Y 1
CINT2 Y 0 1n
.ENDS BUF_DELAY_BASIC
*$
.SUBCKT BUF_BASIC A  Y
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > 2.5 ,
+ 5,0)}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS BUF_BASIC
*$
.SUBCKT DFF_BASICUNOPTIMIZED Q QB CLK D R S
X1 CLK CLKdel INV_DELAY_BASIC PARAMS: DELAY = 7n
X2 CLK CLKdel CLKint AND2_BASIC
GQ 0 Qint VALUE = {IF(V(S) < 2.5,5,IF(V(R)<
+ 2.5,-5, IF(V(CLKint)>2.5,
+ IF(V(D)>2.5,5,-5),0)))}
CQint Qint 0 1n
RQint Qint 0 100MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 5
D_D11 0 Qint D_D1
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 INV_DELAY_BASIC PARAMS: DELAY = 5n
X4 Qqqd1 Qqqd2 INV_DELAY_BASIC PARAMS: DELAY = 5n
RQq Qqqd2 Q 1
GQB 0 QBint VALUE = {IF(V(S) < 2.5,-5,IF(V(R)
+ < 2.5,5, IF(V(CLKint)>2.5,
+ IF(V(D)>2.5,-5,5),0)))}
CQBint QBint 0 1n
RQBint QBint 0 100MEG
D_D12 QBint MY52 D_D1
V2 MY52 0 5
D_D14 0 QBint D_D1
EQB QqB 0 QBint 0 1
X5 QqB QqBd1 INV_DELAY_BASIC PARAMS: DELAY = 5n
X6 QqBd1 QqBd2 INV_DELAY_BASIC PARAMS: DELAY = 5n
RQb QqBd2 QB 1
Cdummy1 Q 0 1nF
Cdummy2 QB 0 1nF
.IC V(Qint) = 0
.IC V(QBint) = 5
.MODEL D_D1 D( IS=1e-15 TT=10p Rs=0.05 N=.1  )
.ENDS DFF_BASICUNOPTIMIZED
*$
.SUBCKT SRNANDLATCHRHP_BASIC S R Q QB
GQ 0 Qint VALUE = {IF(V(R) > 2.5,-5,IF(V(S)
+ >2.5,5, 0))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 5
D_D11 0 Qint D_D1
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_BASIC
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > 2.5, 0,5)}
RQb Qbr QB 1
Cdummy1 Q 0 1n IC={5}
Cdummy2 QB 0 1n IC={0}
.MODEL D_D1 D( IS=1e-15 TT=10p Rs=0.05 N=.1  )
.ENDS SRNANDLATCHRHP_BASIC
*$
.SUBCKT SBRBNANDLATCHRHP_BASIC SB RB Q QB
GQ 0 Qint VALUE = {IF(V(RB) < 2.5,-5,IF(V(SB)
+ < 2.5,5, 0))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 5
D_D11 0 Qint D_D1
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_BASIC
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > 2.5, 0,5)}
RQb Qbr QB 1
Cdummy1 Q 0 1n IC={5}
Cdummy2 QB 0 1n IC={0}
.MODEL D_D1 D( IS=1e-15 TT=10p Rs=0.05 N=.1  )
.ENDS SBRBNANDLATCHRHP_BASIC
*$
.SUBCKT COMP_BASIC INP INM Y
E_ABM Yint 0 VALUE {IF (V(INP) >
+ V(INM), 5,0)}
R1 Yint Y 1
C1 Y 0 1n
.ENDS COMP_BASIC
*$
.SUBCKT NMOSIDEAL_PS D G S PARAMS: k=1 vth=0
RDDUM D 0 1e11
RSDUM S 0 1e11
RGDUM G 0 1e11
EON Yp 0 VALUE={IF(V(G,S) > {vth}, 1, 0)}
GOUT D S VALUE={IF(V(D,S) >= (V(G,S)-{vth}),
+ V(Yp)*({k}/2)*(V(G,S)-{vth})**2, V(Yp)
+ *({k})*(V(G,S)-{vth}-V(D,S)/2)*V(D,S))}
.ENDS NMOSIDEAL_PS
*$
.SUBCKT PMOSIDEAL_PS D G S PARAMS: k=1 vth=0
RDDUM D 0 1e11
RSDUM S 0 1e11
RGDUM G 0 1e11
EON Yp 0 VALUE={IF(V(S,G) > {vth}, -1, 0)}
GOUT D S VALUE={IF(V(S,D) >= (V(S,G)-{vth}),
+  V(Yp)*({k}/2)*(V(S,G)-{vth})**2, V(Yp)*({k})
+ *(V(S,G)-{vth}-V(S,D)/2)*V(S,D))}
.ENDS PMOSIDEAL_PS
*$
.subckt SWHYSTE NodeMinus NodePlus
+ Plus Minus PARAMS: RON=1
+ ROFF=1MEG VT=5 VH=2
S5 NodePlus NodeMinus 8 0 smoothSW
EBcrtl 8 0 Value = { IF ( V(plus)-V(minus)
+ > V(ref), 1, 0 ) }
EBref ref1 0 Value = { IF ( V(8) > 0.5,
+ {VT-VH}, {VT+VH} ) }
Rdel ref1 ref 100
Cdel ref 0 100p IC={VT+VH}
Rconv1 8 0 10Meg
Rconv2 plus 0 10Meg
Rconv3 minus 0 10Meg
.model smoothSW VSWITCH (RON={RON}
+ ROFF={ROFF} VON=1 VOFF=0)
.ends SWHYSTE
*$
.SUBCKT AND2_BASIC_GEN A B Y
+ PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND2_BASIC_GEN
*$
.SUBCKT AND3_BASIC_GEN A B C Y
+ PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND3_BASIC_GEN
*$
.SUBCKT AND4_BASIC_GEN A B C D Y
+ PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH} &
+ V(D) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND4_BASIC_GEN
*$
.SUBCKT NAND2_BASIC_GEN A B Y
+ PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &
+ V(B) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NAND2_BASIC_GEN
*$
.SUBCKT NAND3_BASIC_GEN A B C Y
+ PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NAND3_BASIC_GEN
*$
.SUBCKT NAND4_BASIC_GEN A B C D Y
+ PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH} &
+ V(D) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NAND4_BASIC_GEN
*$
.SUBCKT OR2_BASIC_GEN A B Y
+ PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR2_BASIC_GEN
*$
.SUBCKT OR3_BASIC_GEN A B C Y
+ PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR3_BASIC_GEN
*$
.SUBCKT OR4_BASIC_GEN A B C D Y
+ PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH} |
+ V(D) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR4_BASIC_GEN
*$
.SUBCKT NOR2_BASIC_GEN A B Y
+ PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |
+ V(B) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR2_BASIC_GEN
*$
.SUBCKT NOR3_BASIC_GEN A B C Y
+ PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR3_BASIC_GEN
*$
.SUBCKT NOR4_BASIC_GEN A B C D Y
+ PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH} |
+ V(D) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR4_BASIC_GEN
*$
.SUBCKT NOR5_BASIC_GEN A B C D E Y
+ PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH} |
+ V(D) > {VTHRESH} |
+ V(E) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR5_BASIC_GEN
*$
.SUBCKT NOR6_BASIC_GEN A B C D E F Y
+ PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH} |
+ V(D) > {VTHRESH} |
+ V(E) > {VTHRESH} |
+ V(F) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR6_BASIC_GEN
*$
.SUBCKT INV_BASIC_GEN A  Y
+ PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH} ,
+ {VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS INV_BASIC_GEN
*$
.SUBCKT XOR2_BASIC_GEN A B Y
+ PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE  YINT 0 VALUE {{IF(V(A) > {VTHRESH}  ^
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS XOR2_BASIC_GEN
*$
.SUBCKT XNOR2_BASIC_GEN A B Y
+ PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE  YINT 0 VALUE {{IF(V(A) > {VTHRESH}  ^
+ V(B) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS XNOR2_BASIC_GEN
*$
.SUBCKT MUX2_BASIC_GEN A B S Y
+ PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE  YINT 0 VALUE {{IF(V(S) > {VTHRESH},
+ V(B),V(A))}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS MUX2_BASIC_GEN
*$
.SUBCKT INV_DELAY_BASIC_GEN A  Y
+ PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY = 10n
E_ABMGATE1    YINT1 0 VALUE {{IF(V(A) > {VTHRESH} ,
+ {VDD},{VSS})}}
RINT YINT1 YINT2 1
CINT YINT2 0 {DELAY*1.3}
E_ABMGATE2    YINT3 0 VALUE {{IF(V(YINT2) > {VTHRESH} ,
+ {VSS},{VDD})}}
RINT2 YINT3 Y 1
CINT2 Y 0 1n
.ENDS INV_DELAY_BASIC_GEN
*$
.SUBCKT BUF_DELAY_BASIC_GEN A  Y
+ PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY = 10n
E_ABMGATE1    YINT1 0 VALUE {{IF(V(A) > {VTHRESH} ,
+ {VDD},{VSS})}}
RINT YINT1 YINT2 1
CINT YINT2 0 {DELAY*1.3}
E_ABMGATE2    YINT3 0 VALUE {{IF(V(YINT2) > {VTHRESH} ,
+ {VDD},{VSS})}}
RINT2 YINT3 Y 1
CINT2 Y 0 1n
.ENDS BUF_DELAY_BASIC_GEN
*$
.SUBCKT BUF_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH} ,
+ {VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS BUF_BASIC_GEN
*$
.SUBCKT SRLATCHSHP_BASIC_GEN S R Q QB
+ PARAMS: VDD=1 VSS=0 VTHRESH=0.5
GQ 0 Qint VALUE = {IF(V(S) > {VTHRESH},5,IF(V(R)
+ >{VTHRESH},-5, 0))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS}
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_BASIC_GEN
+ PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr QB 1
Cdummy1 Q 0 1n
Cdummy2 QB 0 1n
.IC V(Qint) {VSS}
.MODEL D_D1 D( IS=1e-15 TT=10p Rs=0.05 N=.1  )
.ENDS SRLATCHSHP_BASIC_GEN
*$
**Reset has higher priority in this latch
.SUBCKT SRLATCHRHP_BASIC_GEN S R Q QB
+ PARAMS: VDD=1 VSS=0 VTHRESH=0.5
GQ 0 Qint VALUE = {IF(V(R) > {VTHRESH},
+ -5,IF(V(S)>{VTHRESH},5, 0))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS}
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_BASIC_GEN
+ PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr QB 1
Cdummy1 Q 0 1n
Cdummy2 QB 0 1n
.IC V(Qint) {VSS}
.MODEL D_D1 D( IS=1e-15 TT=10p Rs=0.05 N=.1  )
.ENDS SRLATCHRHP_BASIC_GEN
*$
.SUBCKT SBRBLATCHRHP_BASIC_GEN SB RB Q QB
+ PARAMS: VDD=1 VSS=0 VTHRESH=0.5
GQ 0 Qint VALUE = {IF(V(RB) < {VTHRESH},
+ -5,IF(V(SB) < {VTHRESH},5, 0))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS}
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_BASIC_GEN
+ PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q)
+ > {VTHRESH}, {VSS},{VDD})}
RQb Qbr QB 1
.IC V(Qint) {VSS}
.MODEL D_D1 D( IS=1e-15 TT=10p Rs=0.05 N=.1  )
.ENDS SBRBLATCHRHP_BASIC_GEN
*$
.SUBCKT SBRBLATCHSHP_BASIC_GEN SB RB Q QB PARAMS: VDD=1 VSS=0 VTHRESH=0.5
GQ 0 Qint VALUE = {IF(V(SB)
+ < {VTHRESH},5,IF(V(RB) < {VTHRESH},-5, 0))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS}
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_BASIC_GEN
+ PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr QB 1
.IC V(Qint) {VSS}
.MODEL D_D1 D( IS=1e-15 TT=10p Rs=0.05 N=.1  )
.ENDS SBRBLATCHSHP_BASIC_GEN
*$
.SUBCKT DFFSBRB_SHPBASIC_GEN Q QB CLK D RB SB
+ PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X1 CLK CLKdel INV_DELAY_BASIC_GEN
+ PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 15n
X2 CLK CLKdel CLKint AND2_BASIC_GEN
+ PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
GQ 0 Qint VALUE = {IF(V(SB) < {VTHRESH},
+ 5,IF(V(RB)<{VTHRESH},-5, IF(V(CLKint)> {VTHRESH},
+ IF(V(D)> {VTHRESH},5,-5),0)))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS}
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_DELAY_BASIC_GEN
+ PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 20n
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr Qb 1
Cdummy1 Q 0 1nF
Cdummy2 QB 0 1nF
.IC V(Qint) {VSS}
.MODEL D_D1 D( IS=1e-15 TT=10p Rs=0.05 N=.1  )
.ENDS DFFSBRB_SHPBASIC_GEN
*$
.SUBCKT DFFSR_SHPBASIC_GEN Q QB CLK D R S
+ PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X1 CLK CLKdel INV_DELAY_BASIC_GEN
+ PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 15n
X2 CLK CLKdel CLKint AND2_BASIC_GEN
+ PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
GQ 0 Qint VALUE = {IF(V(S) > {VTHRESH},
+ 5,IF(V(R) > {VTHRESH},-5, IF(V(CLKint)> {VTHRESH},
+ IF(V(D)> {VTHRESH},5,-5),0)))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS}
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_DELAY_BASIC_GEN
+ PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY = 20n
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr Qb 1
Cdummy1 Q 0 1nF
Cdummy2 QB 0 1nF
.MODEL D_D1 D( IS=1e-15 TT=10p Rs=0.05 N=.1  )
.IC V(Qint) {VSS}
.ENDS DFFSR_SHPBASIC_GEN
*$
.SUBCKT DFFSBRB_RHPBASIC_GEN Q QB CLK D RB SB
+ PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X1 CLK CLKdel INV_DELAY_BASIC_GEN
+ PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 15n
X2 CLK CLKdel CLKint AND2_BASIC_GEN
+ PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
GQ 0 Qint VALUE = {IF(V(RB) < {VTHRESH},-5,
+ IF(V(SB)< {VTHRESH},5, IF(V(CLKint)> {VTHRESH},
+ IF(V(D)> {VTHRESH},5,-5),0)))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 5
D_D11 0 Qint D_D1
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_DELAY_BASIC_GEN
+ PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 20n
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr Qb 1
Cdummy1 Q 0 1nF
Cdummy2 QB 0 1nF
.IC V(Qint) {VSS}
.MODEL D_D1 D( IS=1e-15 TT=10p Rs=0.05 N=.1  )
.ENDS DFFSBRB_RHPBASIC_GEN
*$
.SUBCKT DFFSR_RHPBASIC_GEN Q QB CLK D R S
+ PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X1 CLK CLKdel INV_DELAY_BASIC_GEN
+ PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 15n
X2 CLK CLKdel CLKint AND2_BASIC_GEN
+ PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
GQ 0 Qint VALUE = {IF(V(R) > {VTHRESH},-5,
+ IF(V(S) > {VTHRESH},5, IF(V(CLKint)> {VTHRESH},
+ IF(V(D)> {VTHRESH},5,-5),0)))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS}
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_DELAY_BASIC_GEN
+ PARAMS: VDD={VDD} VSS={VSS}
+ VTHRESH={VTHRESH} DELAY = 20n
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH},
+ {VSS},{VDD})}
RQb Qbr Qb 1
Cdummy1 Q 0 1nF
Cdummy2 QB 0 1nF
.IC V(Qint) {VSS}
.MODEL D_D1 D( IS=1e-15 TT=10p Rs=0.05 N=.1  )
.ENDS DFFSR_RHPBASIC_GEN
*$
.subckt d_d11 1 2
d1 1 2 dd1
.MODEL DD1 D( IS=1e-15 TT=10p Rs=0.05 N=.1  )
.ends d_d11
*$
.subckt d_d1 1 2
d1 1 2 dd1
.model dd1 d
+ is=1e-015
+ tt=1e-011
+ rs=0.05
+ n=0.001
.ends d_d1
*$
.SUBCKT COMP_BASIC_GEN INP INM Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5	
E_ABM Yint 0 VALUE {IF (V(INP) >
+ V(INM), {VDD},{VSS})}
R1 Yint Y 1
C1 Y 0 1n
.ENDS COMP_BASIC_GEN
*$
.subckt PWRGD_S26 1 2 3 4
S_PWRGD_S26         3 4 1 2 _PWRGD_S26
RS_PWRGD_S26 1 2 1G
.MODEL         _PWRGD_S26 VSWITCH Roff=100e6 Ron=50 Voff=0.4
+  Von=0.6
.ends PWRGD_S26
*$
.SUBCKT RSFFLATCH_RHP S R Q QB
EQB 10 0 Value ={ IF( V(R) > 0.6, 1,IF (  V(R)< 0.6 & V(Q)>0.5 , 0 , 1)) }
EQ 20 0 Value ={ IF( V(R) > 0.6, 0, IF ( V(S) < 0.4 & V(QB) > 0.5 , 0 , 1)) }
RD1 10 QB 15
CD1 QB 0 1E-9 IC = 1
RD2 20 Q 15
CD2 Q 0 1E-9 IC=0
.ENDS RSFFLATCH_RHP
*$
.SUBCKT CESR IN OUT
+ PARAMs:  C=100u ESR=0.01 X=2 IC=0
C	IN 1  {C*X} IC={IC}
RESR	1 OUT {ESR/X}
.ENDS CESR
*$
.SUBCKT LDCR IN OUT
+ PARAMs:  L=1u DCR=0.01 IC=0
L	IN 1  {L} IC={IC}
RDCR	1 OUT {DCR}
.ENDS LDCR
*$