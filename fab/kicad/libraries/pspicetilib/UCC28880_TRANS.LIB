*****************************************************************************
* UCC28880
*****************************************************************************
* (C) Copyright 2016 Texas Instruments Incorporated. All rights reserved.                                            
*****************************************************************************
** This model is designed as an aid for customers of Texas Instruments.
** TI and its licensors and suppliers make no warranties, either expressed
** or implied, with respect to this model, including the warranties of 
** merchantability or fitness for a particular purpose.  The model is
** provided solely on an "as is" basis.  The entire risk as to its quality
** and performance is with the customer
*****************************************************************************
*
* This model is subject to change without notice. Texas Instruments
* Incorporated is not responsible for updating this model.
*
*****************************************************************************
*
** Released by: WEBENCH Design Center, Texas Instruments Inc.
* Part: UCC28880
* Date: 02JUN2016
* Model Type:  TRANSIENT
* Simulator: PSPICE
* Simulator Version: 16.2.0.p001
* EVM Order Number: UCC28880EVM-616
* EVM Users Guide: SLUUB56A – July 2014 – Revised August 2014, PMP10175
* Datasheet: SLUSC05D – JULY 2014 – REVISED MAY 2016
*
* Model Version: Final 1.01
*
*****************************************************************************
*
* Updates:
*
* Final 1.01
* Model functionality is corrected
* 1. Current limit
* 2. Minimum ON/OFF time
*
* Final 1.00
* Release to Web.
*
*****************************************************************************
*
* Model Usage Notes:
*
* 1. The following features have been modeled
*      a. Overcurrent protection
*      b. Can be configured as Low-side buck, High-side buck and Flyback topology
* 2. Temperature effects are not been modeled. 
* 
*
*****************************************************************************
.SUBCKT UCC28880_TRANS DRAIN FB GND_0 GND_1 HVIN NC VDD  
X_UCON_U121216         UCON_MN_AR_1 UCON_NM10 one_shot PARAMS:  T=70  
R_UCON_R8         FB UCON_FB_FILT  2  
X_UCON_U182         START PWM_OUT UCON_N17369921 AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_UCON_U185         UCON_D0 UCON_D1 UCON_D2 UCON_NM2 OR3_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_UCON_U34         UCON_ON_TIME_OUT UCON_VREF_IC_1V UCON_N15228 COMP_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
D_UCON_D13         0 UCON_THOFF D_D1 
V_UCON_V37         UCON_N17369878 0 3
X_UCON_U197         UCON_N17370578 UCON_N17370317 UCON_NM0 UCON_N17370519
+  2TO1MUX PARAMS: VTHRESH=0.5
V_UCON_V38         UCON_N17642559 0 2m
V_UCON_V34         UCON_N17370165 GND 0.9985
X_UCON_U209         COMP_COMPARATOR UCON_N08388 PWM_OUT AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_UCON_S12    UCON_PWM 0 UCON_THOFF 0 Cons_Ton_Mod_Imran_UCON_S12 
X_UCON_U212         UCON_PWM UCON_N17540594 UCON_NM10 UCON_ONE UCON_N15658
+  UCON_ONE DFFSBRB_RHPBASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_UCON_U121217_U110         UCON_UP_CNT UCON_U121217_N16775418 INV_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_UCON_U121217_U108         UCON_CNT_CLK UCON_U121217_N16775194 INV_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_UCON_U121217_U109         UCON_U121217_N16775056 UCON_UP_CNT INV_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_UCON_U121217_U107         CRRLMT UCON_U121217_N16775412 INV_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_UCON_U121217_S3    UCON_U121217_N16775194 0 UCON_U121217_N16775412
+  UCON_U121217_N16775056 Transparent_Latch_orig_UCON_U121217_S3 
X_UCON_U121217_S4    UCON_CNT_CLK 0 UCON_U121217_N16775056
+  UCON_U121217_N16775418 Transparent_Latch_orig_UCON_U121217_S4 
C_UCON_C17         0 UCON_ON_TIME_OUT  3.75p IC=0 
X_UCON_U121219         UCON_N17370165 UCON_FB_FILT UCON_N17548443
+  UCON_N17370156 COMPHYS2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5 T=10
X_UCON_U121218         UCON_MN_AR UCON_N17634562 one_shot PARAMS:  T=220  
V_UCON_V30         UCON_ONE 0 1
X_UCON_U203         UCON_BIG_CAP UCON_BIG_CAP_N INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
C_UCON_C19         0 UCON_MN_AR  1n  
X_UCON_U190         UCON_N17588290 UCON_VREF_IC_1V UCON_BIG_CAP UCON_NM4
+  2TO1MUX PARAMS: VTHRESH=0.5
R_UCON_R11         0 UCON_N17540594  1k TC=0,0 
I_UCON_I6         UCON_N17369461 UCON_ON_TIME_OUT DC 0.49342u  
X_UCON_U189         UCON_GT_DG_LT UCON_N17369963 UCON_N17570950 AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
D_UCON_D12         0 UCON_ON_TIME_OUT D_D1 
X_UCON_U183         START UCON_ONE UCON_N17370089 AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
E_UCON_E3         UCON_N17369912 0 UCON_FB_FILT GND 1
X_UCON_U191         UCON_D0 UCON_D1 UCON_D2 UCON_BIG_CAP NAND3_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_UCON_U195         UCON_N17370156 COMP_COMPARATOR BUF_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5
X_UCON_U192         UCON_CNT_CLK UCON_N17369963 BUF_DELAY_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5 DELAY=110n
X_UCON_U121221         COMP_COMPARATOR UCON_N46862 one_shot PARAMS:  T=70  
X_UCON_U208         UCON_N15228 UCON_N10444 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_UCON_U193         UCON_NM0 UCON_N17369109 BUF_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5
X_UCON_U214         UCON_MN_AR START UCON_MN_AR_1 AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_UCON_S14    UCON_DISCHARGE 0 UCON_ON_TIME_OUT 0 Cons_Ton_Mod_Imran_UCON_S14 
R_UCON_R10         0 UCON_N15658  1k TC=0,0 
X_UCON_U127         UCON_GT_DG_LT N17369992 GT_DGLTC UCON_ONE UCON_N17369921
+  UCON_ONE DFFSBRB_RHPBASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_UCON_U213         UCON_ONE UCON_N17540574 UCON_N15658 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_UCON_U36         UCON_N17370519 UCON_N17369912 UCON_NM0 COMP_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_UCON_ABM1         MIN_ONTIME 0 VALUE { V(UCON_N17634562)    }
X_UCON_U194         UCON_N17570950 UCON_N17496032 BUF_DELAY_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5 DELAY=50n
V_UCON_V36         UCON_N17369461 0 3
I_UCON_I5         UCON_N17369878 UCON_THOFF DC 0.49342u  
C_UCON_C18         0 UCON_THOFF  3.75p IC=0 
V_UCON_V29         UCON_N17588290 0 2.7
V_UCON_V28         UCON_VREF_IC_1V 0 1
X_UCON_U188         UCON_GT_DG_LT UCON_CNT_CLK BUF_DELAY_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5 DELAY=150n
V_UCON_V31         UCON_N17370317 0 0.5
D_UCON_U1236_D1T         UCON_U1236_N01663 UCON_U1236_ONE D_D1 
X_UCON_U1236_U104         UCON_U1236_N02421 UCON_U1236_N01867 BUF_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_UCON_U1236_S6    UCON_U1236_N01653 0 UCON_U1236_N02013 UCON_N17369120
+  Toffboost_orig_UCON_U1236_S6 
X_UCON_U1236_U102         UCON_U1236_N02147 UCON_U1236_N01767 BUF_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
D_UCON_U1236_D1T7         UCON_U1236_N02429 UCON_U1236_ONE D_D1 
X_UCON_U1236_U103         UCON_U1236_N02273 UCON_U1236_N01833 BUF_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_UCON_U1236_U92         UCON_U1236_D2Z UCON_D1 UCON_D0 UCON_U1236_N02147
+  AND3_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_UCON_U1236_S8    UCON_U1236_N01833 0 UCON_U1236_N02283 UCON_N17369120
+  Toffboost_orig_UCON_U1236_S8 
D_UCON_U1236_D1T6         UCON_U1236_N02283 UCON_U1236_ONE D_D1 
I_UCON_U1236_I3         UCON_U1236_ONE UCON_U1236_N01891 DC 1e-6  
I_UCON_U1236_I5         UCON_U1236_ONE UCON_U1236_N02155 DC 2.5e-6  
X_UCON_U1236_U107         UCON_D2 UCON_U1236_D2Z INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_UCON_U1236_U89         UCON_D2 UCON_U1236_D1Z UCON_D0 UCON_U1236_N01883
+  AND3_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_UCON_U1236_S9    UCON_U1236_N01867 0 UCON_U1236_N02429 UCON_N17369120
+  Toffboost_orig_UCON_U1236_S9 
X_UCON_U1236_U106         UCON_D1 UCON_U1236_D1Z INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_UCON_U1236_U94         UCON_D2 UCON_D1 UCON_U1236_D0Z UCON_U1236_N02421
+  AND3_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
I_UCON_U1236_I7         UCON_U1236_ONE UCON_U1236_N02429 DC 6e-6  
X_UCON_U1236_S4    UCON_U1236_N01611 0 UCON_U1236_N01663 UCON_N17369120
+  Toffboost_orig_UCON_U1236_S4 
X_UCON_U1236_S5    UCON_U1236_N01615 0 UCON_U1236_N01891 UCON_N17369120
+  Toffboost_orig_UCON_U1236_S5 
I_UCON_U1236_I4         UCON_U1236_ONE UCON_U1236_N02013 DC 1.5e-6  
X_UCON_U1236_S7    UCON_U1236_N01767 0 UCON_U1236_N02155 UCON_N17369120
+  Toffboost_orig_UCON_U1236_S7 
V_UCON_U1236_V4         UCON_U1236_ONE 0 5
D_UCON_U1236_D1T3         UCON_U1236_N01891 UCON_U1236_ONE D_D1 
I_UCON_U1236_I6         UCON_U1236_ONE UCON_U1236_N02283 DC 4.5e-6  
X_UCON_U1236_U105         UCON_D0 UCON_U1236_D0Z INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_UCON_U1236_U90         UCON_D2 UCON_U1236_D1Z UCON_U1236_D0Z
+  UCON_U1236_N01649 AND3_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_UCON_U1236_U99         UCON_U1236_N01649 UCON_U1236_N01611 BUF_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_UCON_U1236_U101         UCON_U1236_N02005 UCON_U1236_N01653 BUF_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
D_UCON_U1236_D1T4         UCON_U1236_N02013 UCON_U1236_ONE D_D1 
X_UCON_U1236_U91         UCON_U1236_D2Z UCON_U1236_D1Z UCON_D0
+  UCON_U1236_N02005 AND3_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
I_UCON_U1236_I2         UCON_U1236_ONE UCON_U1236_N01663 DC 5.0e-7  
X_UCON_U1236_U93         UCON_U1236_D2Z UCON_D1 UCON_U1236_D0Z
+  UCON_U1236_N02273 AND3_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
D_UCON_U1236_D1T5         UCON_U1236_N02155 UCON_U1236_ONE D_D1 
X_UCON_U1236_U100         UCON_U1236_N01883 UCON_U1236_N01615 BUF_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_UCON_S13    UCON_BIG_CAP_N 0 0 UCON_N17369120 Cons_Ton_Mod_Imran_UCON_S13 
X_UCON_U211         START UCON_N10444 UCON_N17540574 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
C_UCON_C15         0 UCON_N17369120  37.5p IC=0 
X_UCON_U121220         UCON_THOFF UCON_NM4 UCON_N17642559 UCON_N16462
+  COMPHYS2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5 T=10
X_UCON_U207         UCON_PWM UCON_PWMN INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
D_UCON_D10         UCON_THOFF UCON_N17369878 D_D1 
X_UCON_U121223         UCON_NM10 UCON_N46862 UCON_DISCHARGE OR2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
C_UCON_C16         GND UCON_FB_FILT  15p IC=0 
R_UCON_R12         UCON_MN_AR UCON_N16462  10 TC=0,0 
X_UCON_U_STM2_U128         UCON_U_STM2_N16777637 UCON_U_STM2_N16777652
+  UCON_U_STM2_N16777522 UCON_U_STM2_N16777526 UCON_U_STM2_FD1 OR4_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_UCON_U_STM2_U116         UCON_U_STM2_D2Z UCON_D1 UCON_UP_CNT
+  UCON_U_STM2_N16777720 AND3_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_UCON_U_STM2_U122         UCON_U_STM2_CNT_UPZ UCON_U_STM2_D0Z UCON_U_STM2_D0Z
+  UCON_U_STM2_N16777987 AND3_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
V_UCON_U_STM2_V10         UCON_U_STM2_ONE 0 1
X_UCON_U_STM2_U127         UCON_U_STM2_N16777700 UCON_U_STM2_N16777720
+  UCON_U_STM2_N16777734 UCON_U_STM2_FD0 OR3_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_UCON_U_STM2_U121         UCON_D1 UCON_D2 UCON_D2 UCON_U_STM2_N16777637
+  AND3_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_UCON_U_STM2_U123         UCON_D0 UCON_U_STM2_D1Z UCON_UP_CNT
+  UCON_U_STM2_N16777989 AND3_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_UCON_U_STM2_U117         UCON_U_STM2_CNT_UPZ UCON_D2 UCON_D2
+  UCON_U_STM2_N16777700 AND3_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_UCON_U_STM2_U126         UCON_U_STM2_N16777987 UCON_U_STM2_N16777989
+  UCON_U_STM2_N16777992 UCON_U_STM2_FD2 OR3_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_UCON_U_STM2_U129         UCON_D0 UCON_U_STM2_D0Z UCON_N17496032
+  UCON_U_STM2_FD0 UCON_N17370089 UCON_U_STM2_ONE DFFSBRB_RHPBASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_UCON_U_STM2_U120         UCON_U_STM2_D0Z UCON_D1 UCON_D1
+  UCON_U_STM2_N16777652 AND3_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_UCON_U_STM2_U130         UCON_D1 UCON_U_STM2_D1Z UCON_N17496032
+  UCON_U_STM2_FD1 UCON_N17370089 UCON_U_STM2_ONE DFFSBRB_RHPBASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_UCON_U_STM2_U119         UCON_U_STM2_CNT_UPZ UCON_U_STM2_CNT_UPZ UCON_D1
+  UCON_U_STM2_N16777522 AND3_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_UCON_U_STM2_U125         UCON_UP_CNT UCON_U_STM2_CNT_UPZ INV_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_UCON_U_STM2_U115         UCON_U_STM2_D2Z UCON_U_STM2_D1Z UCON_D0
+  UCON_U_STM2_N16777734 AND3_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_UCON_U_STM2_U124         UCON_D0 UCON_D1 UCON_D2 UCON_U_STM2_N16777992
+  AND3_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_UCON_U_STM2_U131         UCON_D2 UCON_U_STM2_D2Z UCON_N17496032
+  UCON_U_STM2_FD2 UCON_N17370089 UCON_U_STM2_ONE DFFSBRB_RHPBASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_UCON_U_STM2_U118         UCON_U_STM2_D2Z UCON_D0 UCON_U_STM2_CNT_UPZ
+  UCON_U_STM2_N16777526 AND3_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
R_UCON_U_STM2_R1         0 GND  1G TC=0,0 
V_UCON_V27         UCON_AVDD1 0 5
V_UCON_V35         UCON_N17548443 0 3m
X_UCON_U180         MIN_ONTIME UCON_PWM UCON_N08388 OR2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_UCON_U200         N17370116 UCON_FB_LOW UCON_N17369109 UCON_ONE UCON_NM2
+  UCON_ONE DFFSBRB_RHPBASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_UCON_S11    UCON_BIG_CAP 0 UCON_THOFF UCON_N17369120
+  Cons_Ton_Mod_Imran_UCON_S11 
V_UCON_V26         UCON_N17370578 0 0.7
D_UCON_D9         UCON_ON_TIME_OUT UCON_N17369461 D_D1 
R_R5         0 N16771702  1G TC=0,0 
D_D11         GND VDD Zener_Diode 
X_U_CNTL_U28         UVLO START INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U_CNTL_U31         UVLO 0 CRRLMT RSTN NOR3_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
R_R1         GND_0 GND  10u TC=0,0 
C_C1         0 GATE_DRV  1n  
E_ABM1         N16821372 0 VALUE { IF(V(N16821775)>0.5,1,0)    }
R_R3         NC 0  1G TC=0,0
R_R31         NC 0  1G TC=0,0
E_REG_E2         REG_VDD_INT 0 VDD GND 1
R_REG_R13         REG_VDD_DIV 0  10k  
C_REG_C15         GND VDD  100p IC=0 
X_REG_U25         REG_N16778921 REG_VDD_DIV UVLO COMP_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5
R_REG_R14         REG_N16777757 REG_VDD_DIV  23k  
G_REG_ABM2I4         HVIN VDD VALUE { {LIMIT((V(REG_N16783617) - V(VDD))*1m,
+  -2m,2m)}    }
X_REG_U26         REG_N16776028 REG_HVIN_INT REG_REGULATOR_ENZ COMP_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
R_REG_R15         REG_VDD_INT REG_N16777757  359k  
X_REG_U92         UVLO REG_N16779490 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_REG_S3    REG_REGULATOR_ENZ 0 VDD GND 5V_REGULATOR_REG_S3 
V_REG_V7         REG_N16778921 0 0.1
E_REG_E1         REG_HVIN_INT 0 HVIN 0 1
V_REG_V5         REG_N16776028 0 5.2
V_REG_V8         REG_N16783617 GND 5
X_REG_S4    REG_N16779490 0 REG_VDD_INT REG_N16777757 5V_REGULATOR_REG_S4 
R_R4         N16821372 GATE_DRV  10 TC=0,0 
X_U_SWD_U95         PWM_OUT START RSTN U_SWD_N16771165 AND3_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U_SWD_U180         U_SWD_N16772623 U_SWD_N16771165 N16821775 OR2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_SWD_U209         COMP_COMPARATOR MIN_ONTIME U_SWD_N16772623 AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_S8    GATE_DRV 0 SOURCE DRAIN UCC28880_TOP_MOD2_Imran_S8 
X_USCLS_U94         CRRLMT N16771702 USCLS_N16763138 USCLS_ONE USCLS_N16763330
+  USCLS_ONE DFFSBRB_RHPBASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
R_USCLS_R3         USCLS_N16784219 USCLS_N16784199  10 TC=0,0 
X_USCLS_U92         GT_DGLTC USCLS_N16763126 USCLS_N16763138 AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
R_USCLS_R2         0 0  0.1m  
V_USCLS_V36         USCLS_N16779213 0 10m
V_USCLS_V4         USCLS_ONE 0 1
X_USCLS_U95         SOURCE USCLS_N16763234 USCLS_N16779213 USCLS_N16783639
+  COMPHYS2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5 T=10
E_USCLS_ABM2         USCLS_N16784219 0 VALUE { IF(V(PWM_OUT)>0.5,1,0)     }
C_USCLS_C1         0 USCLS_N16784199  1n  
R_USCLS_R1         SOURCE GND  2  
V_USCLS_V5         USCLS_N16763234 GND 0.37
X_USCLS_U93         GATE_DRV GT_DGLTC BUF_DELAY_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5 DELAY=150n
E_USCLS_ABM1         USCLS_N16763330 0 VALUE { IF(V(USCLS_N16784199)>0.5,1,0)  
+    }
X_USCLS_U96         USCLS_N16783639 USCLS_N16763126 BUF_DELAY_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5 DELAY=20n
R_R2         GND_1 GND  10u TC=0,0 
D_D3         SOURCE DRAIN D_D1 
.ENDS UCC28880_TRANS
*$
.subckt Cons_Ton_Mod_Imran_UCON_S12 1 2 3 4  
S_UCON_S12         3 4 1 2 _UCON_S12
RS_UCON_S12         1 2 1G
.MODEL         _UCON_S12 VSWITCH Roff=1000e6 Ron=1 Voff=0.2 Von=0.8
.ends Cons_Ton_Mod_Imran_UCON_S12
*$
.subckt Transparent_Latch_orig_UCON_U121217_S3 1 2 3 4  
S_UCON_U121217_S3         3 4 1 2 _UCON_U121217_S3
RS_UCON_U121217_S3         1 2 1G
.MODEL         _UCON_U121217_S3 VSWITCH Roff=1e6 Ron=1 Voff=0.2 Von=0.8
.ends Transparent_Latch_orig_UCON_U121217_S3
*$
.subckt Transparent_Latch_orig_UCON_U121217_S4 1 2 3 4  
S_UCON_U121217_S4         3 4 1 2 _UCON_U121217_S4
RS_UCON_U121217_S4         1 2 1G
.MODEL         _UCON_U121217_S4 VSWITCH Roff=1e6 Ron=1 Voff=0.2 Von=0.8
.ends Transparent_Latch_orig_UCON_U121217_S4
*$
.subckt Cons_Ton_Mod_Imran_UCON_S14 1 2 3 4  
S_UCON_S14         3 4 1 2 _UCON_S14
RS_UCON_S14         1 2 1G
.MODEL         _UCON_S14 VSWITCH Roff=1000e6 Ron=1 Voff=0.2 Von=0.8
.ends Cons_Ton_Mod_Imran_UCON_S14
*$
.subckt Toffboost_orig_UCON_U1236_S6 1 2 3 4  
S_UCON_U1236_S6         3 4 1 2 _UCON_U1236_S6
RS_UCON_U1236_S6         1 2 1G
.MODEL         _UCON_U1236_S6 VSWITCH Roff=10e9 Ron=1m Voff=0.2 Von=0.8
.ends Toffboost_orig_UCON_U1236_S6
*$
.subckt Toffboost_orig_UCON_U1236_S8 1 2 3 4  
S_UCON_U1236_S8         3 4 1 2 _UCON_U1236_S8
RS_UCON_U1236_S8         1 2 1G
.MODEL         _UCON_U1236_S8 VSWITCH Roff=10e9 Ron=1m Voff=0.2 Von=0.8
.ends Toffboost_orig_UCON_U1236_S8
*$
.subckt Toffboost_orig_UCON_U1236_S9 1 2 3 4  
S_UCON_U1236_S9         3 4 1 2 _UCON_U1236_S9
RS_UCON_U1236_S9         1 2 1G
.MODEL         _UCON_U1236_S9 VSWITCH Roff=10e9 Ron=1m Voff=0.2 Von=0.8
.ends Toffboost_orig_UCON_U1236_S9
*$
.subckt Toffboost_orig_UCON_U1236_S4 1 2 3 4  
S_UCON_U1236_S4         3 4 1 2 _UCON_U1236_S4
RS_UCON_U1236_S4         1 2 1G
.MODEL         _UCON_U1236_S4 VSWITCH Roff=10e9 Ron=1m Voff=0.2 Von=0.8
.ends Toffboost_orig_UCON_U1236_S4
*$
.subckt Toffboost_orig_UCON_U1236_S5 1 2 3 4  
S_UCON_U1236_S5         3 4 1 2 _UCON_U1236_S5
RS_UCON_U1236_S5         1 2 1G
.MODEL         _UCON_U1236_S5 VSWITCH Roff=10e9 Ron=1m Voff=0.2 Von=0.8
.ends Toffboost_orig_UCON_U1236_S5
*$
.subckt Toffboost_orig_UCON_U1236_S7 1 2 3 4  
S_UCON_U1236_S7         3 4 1 2 _UCON_U1236_S7
RS_UCON_U1236_S7         1 2 1G
.MODEL         _UCON_U1236_S7 VSWITCH Roff=10e9 Ron=1m Voff=0.2 Von=0.8
.ends Toffboost_orig_UCON_U1236_S7
*$
.subckt Cons_Ton_Mod_Imran_UCON_S13 1 2 3 4  
S_UCON_S13         3 4 1 2 _UCON_S13
RS_UCON_S13         1 2 1G
.MODEL         _UCON_S13 VSWITCH Roff=1000e6 Ron=1m Voff=0.2 Von=0.8
.ends Cons_Ton_Mod_Imran_UCON_S13
*$
.subckt Cons_Ton_Mod_Imran_UCON_S11 1 2 3 4  
S_UCON_S11         3 4 1 2 _UCON_S11
RS_UCON_S11         1 2 1G
.MODEL         _UCON_S11 VSWITCH Roff=1000e6 Ron=1m Voff=0.2 Von=0.8
.ends Cons_Ton_Mod_Imran_UCON_S11
*$
.subckt 5V_REGULATOR_REG_S3 1 2 3 4  
S_REG_S3         3 4 1 2 _REG_S3
RS_REG_S3         1 2 1G
.MODEL         _REG_S3 VSWITCH Roff=1e9 Ron=1 Voff=0.2 Von=0.8
.ends 5V_REGULATOR_REG_S3
*$
.subckt 5V_REGULATOR_REG_S4 1 2 3 4  
S_REG_S4         3 4 1 2 _REG_S4
RS_REG_S4         1 2 1G
.MODEL         _REG_S4 VSWITCH Roff=1e9 Ron=1m Voff=0.2 Von=0.8
.ends 5V_REGULATOR_REG_S4
*$
.subckt UCC28880_TOP_MOD2_Imran_S8 1 2 3 4  
S_S8         3 4 1 2 _S8
RS_S8         1 2 1G
.MODEL         _S8 VSWITCH Roff=100e6 Ron=32 Voff=0.2 Von=0.8
.ends UCC28880_TOP_MOD2_Imran_S8
*$
.SUBCKT DFFSBRB_RHPBASIC_GEN Q QB CLK D RB SB PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
X1 CLK CLKdel INV_DELAY_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 15n
X2 CLK CLKdel CLKint AND2_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} 
GQ 0 Qint VALUE = {IF(V(RB) < {VTHRESH},-5,IF(V(SB)< {VTHRESH},5, IF(V(CLKint)> {VTHRESH}, 
+ IF(V(D)> {VTHRESH},5,-5),0)))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 5
D_D11 0 Qint D_D1 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_DELAY_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 20n
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr Qb 1 
Cdummy1 Q 0 1nF 
Cdummy2 QB 0 1nF 
.IC V(Qint) {VSS}
.ENDS DFFSBRB_RHPBASIC_GEN
*$
.SUBCKT 2to1MUX V1 V2  A  out    PARAMS:  VTHRESH=0.5 
E_MUX    OUT 0 VALUE = {IF (  V(A) > {VTHRESH} ,V(V1),V(V2) ) }
.ENDS 2to1MUX
*$
.MODEL Zener_Diode D( IS=1U N=5 BV=6.7 IBV=1M RS=0.5
+       VJ=14.5011 M=1.442 FC=500M TT=1.67N 
+      EG=1.11 XTI=3 KF=0 AF=1 )
*$
.MODEL D_D2 D( is=1e-015 tt=1e-011 n=0.1 Rs=0.05)
*$
.MODEL D_D1 D( IS=1e-15 tt=1e-011 Rs=0.01 N=0.1)
*$
.MODEL D_D11 D( IS=1e-15 tt=1e-011 Rs=0.01 N=0.1 CJO=1e-12)
*$
.SUBCKT AND2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND2_BASIC_GEN
*$
.SUBCKT AND3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND3_BASIC_GEN
*$
.SUBCKT AND4_BASIC_GEN A B C D Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH} &
+ V(D) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND4_BASIC_GEN
*$
.SUBCKT NAND2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NAND2_BASIC_GEN
*$
.SUBCKT NAND3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NAND3_BASIC_GEN
*$
.SUBCKT NAND4_BASIC_GEN A B C D Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH} &
+ V(D) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NAND4_BASIC_GEN
*$
.SUBCKT OR2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR2_BASIC_GEN
*$
.SUBCKT OR3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR3_BASIC_GEN
*$
.SUBCKT OR4_BASIC_GEN A B C D Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH} |
+ V(D) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR4_BASIC_GEN
*$
.SUBCKT NOR2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR2_BASIC_GEN
*$
.SUBCKT NOR3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR3_BASIC_GEN
*$
.SUBCKT NOR4_BASIC_GEN A B C D Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH} |
+ V(D) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR4_BASIC_GEN
*$
.SUBCKT NOR5_BASIC_GEN A B C D E Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH} |
+ V(D) > {VTHRESH} |
+ V(E) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR5_BASIC_GEN
*$
.SUBCKT NOR6_BASIC_GEN A B C D E F Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH} |
+ V(D) > {VTHRESH} |
+ V(E) > {VTHRESH} |
+ V(F) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR6_BASIC_GEN
*$
.SUBCKT INV_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS INV_BASIC_GEN
*$
.SUBCKT XOR2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE  YINT 0 VALUE {{IF(V(A) > {VTHRESH}  ^  
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS XOR2_BASIC_GEN
*$
.SUBCKT XNOR2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE  YINT 0 VALUE {{IF(V(A) > {VTHRESH}  ^  
+ V(B) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS XNOR2_BASIC_GEN
*$
.SUBCKT MUX2_BASIC_GEN A B S Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE  YINT 0 VALUE {{IF(V(S) > {VTHRESH},  
+ V(B),V(A))}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS MUX2_BASIC_GEN
*$
.SUBCKT INV_DELAY_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY = 10n 
E_ABMGATE1    YINT1 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT1 YINT2 1
CINT YINT2 0 {DELAY*1.3}
E_ABMGATE2    YINT3 0 VALUE {{IF(V(YINT2) > {VTHRESH} , 
+ {VSS},{VDD})}}
RINT2 YINT3 Y 1
CINT2 Y 0 1n
.ENDS INV_DELAY_BASIC_GEN
*$
.SUBCKT BUF_DELAY_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY = 10n 
E_ABMGATE1    YINT1 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT1 YINT2 1
CINT YINT2 0 {DELAY*1.3}
E_ABMGATE2    YINT3 0 VALUE {{IF(V(YINT2) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT2 YINT3 Y 1
CINT2 Y 0 1n
.ENDS BUF_DELAY_BASIC_GEN
*$
.SUBCKT BUF_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS BUF_BASIC_GEN
*$
.SUBCKT SRLATCHSHP_BASIC_GEN S R Q QB PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
GQ 0 Qint VALUE = {IF(V(S) > {VTHRESH},5,IF(V(R)>{VTHRESH},-5, 0))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr QB 1 
Cdummy1 Q 0 1n 
Cdummy2 QB 0 1n 
.IC V(Qint) {VSS}
.MODEL D_D1 D( IS=1e-15 TT=10p Rs=0.05 N=.1 )
.ENDS SRLATCHSHP_BASIC_GEN
*$
.SUBCKT SRLATCHRHP_BASIC_GEN S R Q QB PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
GQ 0 Qint VALUE = {IF(V(R) > {VTHRESH},-5,IF(V(S)>{VTHRESH},5, 0))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr QB 1 
Cdummy1 Q 0 1n 
Cdummy2 QB 0 1n
.IC V(Qint) {VSS}
.MODEL D_D1 D( IS=1e-15 TT=10p Rs=0.05 N=.1 )
.ENDS SRLATCHRHP_BASIC_GEN
*$
.SUBCKT SBRBLATCHRHP_BASIC_GEN SB RB Q QB PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
GQ 0 Qint VALUE = {IF(V(RB) < {VTHRESH},-5,IF(V(SB) < {VTHRESH},5, 0))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr QB 1 
.IC V(Qint) {VSS}
.MODEL D_D1 D( IS=1e-15 TT=10p Rs=0.05 N=.1 )
.ENDS SBRBLATCHRHP_BASIC_GEN
*$
.SUBCKT SBRBLATCHSHP_BASIC_GEN SB RB Q QB PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
GQ 0 Qint VALUE = {IF(V(SB) < {VTHRESH},5,IF(V(RB) < {VTHRESH},-5, 0))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr QB 1 
.IC V(Qint) {VSS}
.MODEL D_D1 D( IS=1e-15 TT=10p Rs=0.05 N=.1 )
.ENDS SBRBLATCHSHP_BASIC_GEN
*$
.SUBCKT DFFSBRB_SHPBASIC_GEN Q QB CLK D RB SB PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
X1 CLK CLKdel INV_DELAY_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 15n
X2 CLK CLKdel CLKint AND2_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
GQ 0 Qint VALUE = {IF(V(SB) < {VTHRESH},5,IF(V(RB)<{VTHRESH},-5, IF(V(CLKint)> {VTHRESH}, 
+ IF(V(D)> {VTHRESH},5,-5),0)))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_DELAY_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 20n
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr Qb 1 
Cdummy1 Q 0 1nF 
Cdummy2 QB 0 1nF 
.IC V(Qint) {VSS}
.MODEL D_D1 D( IS=1e-15 TT=10p Rs=0.05 N=.1 )
.ENDS DFFSBRB_SHPBASIC_GEN
*$
.SUBCKT DFFSR_SHPBASIC_GEN Q QB CLK D R S PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
X1 CLK CLKdel INV_DELAY_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 15n
X2 CLK CLKdel CLKint AND2_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} 
GQ 0 Qint VALUE = {IF(V(S) > {VTHRESH},5,IF(V(R) > {VTHRESH},-5, IF(V(CLKint)> {VTHRESH}, 
+ IF(V(D)> {VTHRESH},5,-5),0)))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_DELAY_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY = 20n
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr Qb 1 
Cdummy1 Q 0 1nF 
Cdummy2 QB 0 1nF 
.IC V(Qint) {VSS}
.MODEL D_D1 D( IS=1e-15 TT=10p Rs=0.05 N=.1 )
.ENDS DFFSR_SHPBASIC_GEN
*$
.SUBCKT DFFSR_RHPBASIC_GEN Q QB CLK D R S PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
X1 CLK CLKdel1 INV_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
R_CLK CLKdel1 CLKdel 21.64502165
C_CLK CLKdel 0 1n
X2 CLK CLKdel CLKint AND2_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}  
GQ 0 Qint VALUE = {IF(V(R) > {VTHRESH},-5,IF(V(S) > {VTHRESH},5, IF(V(CLKint)> {VTHRESH}, 
+ IF(V(D)> {VTHRESH},5,-5),0)))}
CQint Qint 0 1n
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_DELAY_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 1n
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr Qb 1 
Cdummy1 Q 0 1nF 
Cdummy2 QB 0 1nF 
.IC V(Qint) {VSS}
.MODEL D_D1 D( IS=1e-15 TT=10p Rs=0.05 N=.1 )
.ENDS DFFSR_RHPBASIC_GEN
*$
.SUBCKT ONE_SHOT IN OUT
+ PARAMs:  T=100
S_S1         MEAS 0 RESET2 0 S1
E_ABM1         CH 0 VALUE { if( V(IN)>0.5 | V(OUT)>0.5,1,0)    }
R_R2         RESET2 RESET  0.1  
E_ABM3         OUT 0 VALUE { if( V(MEAS)<0.5 & V(CH)>0.5,1,0)    }
R_R1         MEAS CH  {T} 
C_C2         0 RESET2  1.4427n  
C_C1         0 MEAS  1.4427n  
E_ABM2         RESET 0 VALUE { if(V(CH)<0.5,1,0)    }
.MODEL         S1 VSWITCH Roff=1e9 Ron=1.0 Voff=0.25V Von=0.75V
.ENDS ONE_SHOT
*$
.SUBCKT OP_AMP P M OUT 
+ PARAMs:  Hlimit=5 Rin=10Meg BW=18Meg DC_Gain=100 Rout=100 Llimit=0 SRP=1 SRM=1
R_Rin         P M  {Rin}
E_E1          5 0 M P {-Gain}
E_LIMIT2      6 0 VALUE {LIMIT(V(5), {-Abs(SRM)*Ca*1Meg+V(1)/Ra},
+                 {SRP*Ca*1Meg+V(1)/Ra})}
G_G2          1 0 6 0 -1
R_Ra          0 1  {Ra} 
C_Ca          0 1  {Ca}   
E_LIMIT1      2 0 VALUE {LIMIT(V(1),{Llimit},{Hlimit})}
V_VL          3 0 {Llimit+200m}
V_VH          4 0 {Hlimit-200m}
D_D1          3 1 Dideal 
D_D2          1 4 Dideal 
R_Rout        OUT 2  {Rout}
.model Dideal D Is=1e-10 Cjo=.01pF Rs=1m  N=1
.PARAM  Ra=1k   Ca={exp(DC_gain*log(10)/20)/(2*3.14159*BW*Ra)} 
+ Gain={exp(DC_gain*log(10)/20)/Ra} 
.ENDS OP_AMP
*$
.SUBCKT COMP_BASIC_GEN INP INM Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5	
E_ABM Yint 0 VALUE {IF (V(INP) > 
+ V(INM), {VDD},{VSS})}
R1 Yint Y 1
C1 Y 0 1n
.ENDS COMP_BASIC_GEN
*$
.SUBCKT COMPHYS_BASIC_GEN INP INM HYS OUT PARAMS: VDD=1 VSS=0 VTHRESH=0.5	
EIN INP1 INM1 INP INM 1 
EHYS INP1 INP2 VALUE { IF( V(1) > {VTHRESH},-V(HYS),0) }
EOUT OUT 0 VALUE { IF( V(INP2)>V(INM1), {VDD} ,{VSS}) }
R1 OUT 1 1
C1 1 0 5n
RINP1 INP1 0 1K
.ENDS COMPHYS_BASIC_GEN
*$
.SUBCKT COMPHYS2_BASIC_GEN INP INM HYS OUT PARAMS: VDD=1 VSS=0 VTHRESH=0.5	
+ T=10
EIN INP1 INM1 INP INM 1 
EHYS INM2 INM1 VALUE { IF( V(1) > {VTHRESH},-V(HYS)/2,V(HYS)/2) }
EOUT OUT 0 VALUE { IF( V(INP1)>V(INM2), {VDD} ,{VSS}) }
R1 OUT 1 1
C1 1 0 {T*1e-9}
RINP1 INP1 0 10K
RINM2 INM2 0 10K
.ENDS COMPHYS2_BASIC_GEN
*$
.SUBCKT CESR IN OUT
+ PARAMs:  C=100u ESR=0.01 X=1 IC=0
C	IN 1  {C*X} IC={IC}
RESR	1 OUT {ESR/X}
.ENDS CESR
*$
.SUBCKT LDCR IN OUT
+ PARAMs:  L=1u DCR=0.01 IC=0
L	IN 1  {L} IC={IC}
RDCR	1 OUT {DCR}
.ENDS LDCR
*$
