*$
* TPS54478
*****************************************************************************
* (C) Copyright 2014 Texas Instruments Incorporated. All rights reserved.                                            
*****************************************************************************
** This model is designed as an aid for customers of Texas Instruments.
** TI and its licensors and suppliers make no warranties, either expressed
** or implied, with respect to this model, including the warranties of 
** merchantability or fitness for a particular purpose.  The model is
** provided solely on an "as is" basis.  The entire risk as to its quality
** and performance is with the customer
*****************************************************************************
*
* This model is subject to change without notice. Texas Instruments
* Incorporated is not responsible for updating this model.
*
*****************************************************************************
*
** Released by: WEBENCH Design Center, Texas Instruments Inc.
* Part: TPS54478
* Date: 13AUG2014
* Model Type: TRANSIENT
* Simulator: PSPICE
* Simulator Version: 16.2.0.p001
* EVM Order Number: TPS54478EVM-037
* EVM Users Guide: SLVU470–June 11
* Datasheet: SLVSAS2 –JUNE 2011
*
* Model Version: Final 1.00
*
*****************************************************************************
*
* Updates:
*
* Final 1.00
* Release to Web.
*
*****************************************************************************
.SUBCKT TPS54478_TRANS PWRGD VIN_1 VIN_2 VIN_3 EN RT_CLK SS_TR GND_1 GND_2 AGND PowerPAD
+ COMP VSNS PH_1 PH_2 PH_3 BOOT PARAMS: STEADY_STATE=0 
R_1 VIN_1 VIN_2 1u 
R_2 VIN_1 VIN_3 1u
R_4 GND_1 GND_2 1u
R_5 AGND GND_1 1u
R_6 GND_1 PowerPAD 1u
R_7 PH_1 PH_2 1u
R_8 PH_2 PH_3 1u
X_u9_U631         u9_N16773041 u9_N16721260 u9_N16721200 COMP_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5
X_u9_U630         u9_N16721836 N00629 u9_N16721200 SET5 u9_N16721480 SET5
+  dffsbrb_rhpbasic_gen PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
R_u9_R272         u9_N16721310 u9_N16721160  10k  
X_u9_U632         SYSCLKBAR ENAB u9_N16721480 AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_u9_U633         N00364 u9_N16721310 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
V_u9_V67         u9_N16721260 0 3.1
E_u9_ABM157         u9_N16773041 0 VALUE { {IF(V(u9_N16721160) >0.75,  
+ V(N00604),0)}   }
C_u9_C154         0 u9_N16721160  10p  
X_u9_D59         u9_N16721160 u9_N16721310 d_d1 PARAMS: 
C_u9_C155         0 N00604  1p  
R_u9_R268         0 u9_N16721836  100MEG  
R_u9_R273         N00604 N00604  1k  
V_u5_V9         u5_N16790803 0 1.0
C_u5_C161         0 u5_N16790375  1n  
V_u5_V8         u5_N16790773 0 1.0
E_u5_ABM170         u5_N16790464 0 VALUE { {IF(V(u5_N16790486) > 0.75,1,0)}   
+  }
R_u5_R150         0 u5_N16790557  1k  
R_u5_R149         0 u5_N16790756  1k  
C_u5_C160         0 u5_N16790486  1n  
X_u5_S20    u5_N16790589 0 u5_N16790773 u5_N16790756 PGOOD_u5_S20 
X_u5_S21    u5_N16790852 0 u5_N16790803 u5_N16790557 PGOOD_u5_S21 
V_u5_V2         u5_N16790569 0 12mV
X_u5_U615         VSENSEINT u5_N16790575 u5_N16790569 u5_N16790589
+  COMPHYS_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
V_u5_V4         u5_N16790575 0 0.57
V_u5_V1         u5_N16790354 0 12mV
C_u5_C159         0 VSENSEINT  1n  
X_u5_U614         VSENSEINT u5_N16790361 u5_N16790354 u5_N16790852
+  COMPHYS_BASIC_GEN PARAMS: VDD=5 VSS=0 VTHRESH=2.5
R_u5_R282         u5_N16790667 VSENSEINT  1  
R_u5_R284         u5_N16790351 u5_N16790486  1  
E_u5_ABM164         u5_N16790667 0 VALUE { V(VSNS)    }
X_u5_S19    u5_N16790375 0 PWRGD 0 PGOOD_u5_S19 
X_u5_U616         ENAB u5_N16790756 u5_N16790557 u5_VSGOOD NAND3_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
V_u5_V3         u5_N16790361 0 0.642
X_u5_U617         u5_VSGOOD SDWN u5_N16790351 OR2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
R_u5_R285         u5_N16790464 u5_N16790375  1  
X_u10_U650         u10_N168700911 u10_N16872023 u10_N16873453 COMP_BASIC
C_u10_C77         u10_N16842471 0  18n  
X_u10_U648         u10_LDRV u10_N16842476 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
V_u10_V50         u10_N16872023 0 2.2
C_u10_C78         u10_N16842412 0  18n  
V_u10_V51         u10_N16969537 PH_1 0
C_u10_C140         0 N00312  1n  
X_u10_F3    VIN_1 u10_N16842037 2P5 ISW OUTPUT_DRIVER_u10_F3 
R_u10_R244         u10_N16873453 N00312  1  
R_u10_R243         0 ISW  1  
X_u10_U651         HDRVIN u10_N16842183 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_u10_D14         0 PH_1 d_d100 PARAMS: 
X_u10_S3    u10_N16842183 0 u10_HDRV PH_1 OUTPUT_DRIVER_u10_S3 
X_u10_S5    u10_N16882129 0 u10_LDRV 0 OUTPUT_DRIVER_u10_S5 
X_u10_S34    u10_LDRVIN 0 BOOT VIN_1 OUTPUT_DRIVER_u10_S34 
E_u10_ABM168         u10_N168700911 0 VALUE { ( V(BOOT)  
+ -V(PH_1) )   }
X_u10_U635         N00364 u10_PWMFFBAR INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_u10_F5    u10_N16842106 0 2P5 N00604 OUTPUT_DRIVER_u10_F5 
X_u10_U649         HDRVIN u10_N16842420 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_u10_U634         u10_N16842471 ENAB N00364 HDRVIN AND3_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
R_u10_R266         0 N00604  1  
R_u10_R144         u10_N16842420 u10_N16842412  1  
V_u10_V49         u10_PVCC 0 5
X_u10_U656         u10_LDRVIN u10_N16882129 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_u10_U647         u10_PWMFFBAR N00629 ENAB u10_N16865185 AND3_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_u10_S30    u10_HDRV PH_1 u10_N16842037 PH_1 OUTPUT_DRIVER_u10_S30 
X_u10_D13         u10_N16969537 u10_N16842037 d_d100 PARAMS: 
R_u10_R143         u10_N16842476 u10_N16842471  1  
X_u10_U633         u10_N16842412 u10_N16865185 u10_LDRVIN AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
C_u10_C145         PH_1 BOOT  1p  
X_u10_S4    u10_LDRVIN 0 u10_PVCC u10_LDRV OUTPUT_DRIVER_u10_S4 
X_u10_S2    HDRVIN 0 BOOT u10_HDRV OUTPUT_DRIVER_u10_S2 
X_u10_S31    u10_LDRV 0 PH_1 u10_N16842106 OUTPUT_DRIVER_u10_S31 
E_U12_ABM8         U12_N16856527 0 VALUE { {IF(V(COMP) > 1.35,1,0)}    }
X_U12_U611         U12_N16856579 U12_N16856663 U12_H_END AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U12_D10         U12_N16856587 U12_N16856609 d_d1 PARAMS: 
X_U12_U607         U12_N16856550 U12_N16856546 INV_DELAY_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5 DELAY=10u
R_U12_R2         U12_N16856550 HICCUP  1  
G_U12_G3         0 U12_N16856587 U12_N16856697 0 1
R_U12_R6         0 U12_N16856705  1e8  
X_U12_U610         U12_N16856579 U12_N16856663 INV_DELAY_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5 DELAY=10u
C_U12_C2         0 U12_N16856550  1n  
X_U12_U30         U12_N16856576 U12_H_END HICCUP U12_HICCUP_N
+  srlatchrhp_basic_gen PARAMS: VDD=1 VSS=0 VTHRESH=0.5
V_U12_V1         U12_N16856609 0 520
X_U12_S2    U12_N16856631 0 U12_N16856587 0 Hiccup_U12_S2 
V_U12_V2         U12_N16856591 0 512
C_U12_C4         0 U12_N16856579  1n  
X_U12_U608         U12_N16856550 U12_N16856546 U12_N16856624 AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U12_U612         H_CHECK U12_N16856687 U12_N16856648 COMP_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5
R_U12_R3         U12_N16856579 U12_N16856648  1  
E_U12_ABM9         U12_N16856235 0 VALUE { {IF(V(COMP) > 1.2,1,0)}    }
X_U12_U615         U12_N16856200 U12_N16856624 U12_N16856631 OR2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U12_U609         U12_N16856587 U12_N16856591 U12_N16856576 COMP_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U12_U26         U12_N16856235 U12_N16856200 U12_N16856238 MONONEG_PS PARAMS:
+  PW=5e-6
X_U12_U25         U12_N16856621 U12_N16856697 U12_N16856705 MONONEG_PS PARAMS:
+  PW=500e-9
C_U12_C1         0 U12_N16856587  500n IC=0 
X_U12_U614         U12_N16856527 SYSCLK U12_HICCUP_N U12_N16856621
+  AND3_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
R_U12_R7         0 U12_N16856238  1e8  
V_U12_V4         U12_N16856687 0 25
C_u1_C1         0 u1_N16720770  1n  
X_u1_U4         u1_N16720770 u1_N16771393 ENAB AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
G_u1_ABMII1         VIN_1 EN VALUE { {0.64u+2.76u*V(u1_N16720770)}    }
E_u1_ABM2         u1_N16720764 0 VALUE { {IF(V(u1_N16720764) <
+  0.5,IF(V(EN)<1.3,0,1),IF(V(EN)>1.21,1,0))}    }
R_u1_R256         EN VIN_1  100MEG  
X_u1_D8         EN VIN_1 d_d1 PARAMS: 
R_u1_R1         u1_N16720764 u1_N16720770  1  
X_u1_U3         HICCUP u1_N16771393 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
R_u2_R2         u2_N16721026 2P5  0.1m  
E_u2_ABM3         u2_N16721086 0 VALUE { {IF(V(SDWN) > 0.5,0,  
+ IF(V(VIN_1) < 0.6, V(VIN_1), 0.6))}   }
C_u2_C7         0 u2_VREG  1u  
E_u2_ABM2         u2_N16721026 0 VALUE { {IF(V(SDWN) > 0.5,0,  
+ IF(V(VIN_1) < 2.6, V(VIN_1), 2.5))}   }
R_u2_R6         u2_N16728622 u2_VREG  1  
E_u2_ABM7         u2_N16728622 0 VALUE { {IF(V(SDWN) > 0.5,0,  
+ IF(V(VIN_1) <2.6, V(VIN_1), 5))}   }
R_u2_R3         u2_N16721086 VREF  0.1m  
C_u2_C3         0 VREF  100u  
C_u2_C2         0 2P5  100u  
E_u3_ABM7         u3_N16765739 0 VALUE { if
+  (V(N16808810)<65m,0,-0.942000993*V(N16808810)*V(N16808810)+1.626102774*V(N16808810)
+   
+ -0.101744690286668)   }
E_u3_ABM6         u3_N16767288 0 VALUE { if(V(SS_TR)>0.86, 0.6,
+  V(u3_N16765739))    }
V_u3_V79         SS_TR N16808810 0
V_u3_V82         u3_1P6 0 1.6
G_u3_ABMI6         N16808810 0 VALUE { {IF(V(N16808813)> 0.5 & V(N16808810) >
+  2.5e-3, 95e-6,0)}    }
G_u3_ABMI5         N16808810 0 VALUE { {IF(V(SDWN)> 0.5 & V(N16808810) > 0.1 |
+  V(HICCUP) >0.5 & V(N16808810) > 2.5m, 1.16e-3,0)}    }
X_u3_D64         N16808810 u3_1P6 d_d1 PARAMS: 
E_u3_ABM8         N16808807 0 VALUE { IF({STEADY_STATE}<0.5, V(u3_N16767288),
+  0.6)    }
G_u3_ABMI2         u3_1P6 N16808810 VALUE { {IF(V(N16808813)<0.5,(IF( v(SDWN)
+  <0.5,(IF(V(N16808810)<0.15,45u,2.2u)),0)),0)}    }
R_u4_R286         u4_N16809528 u4_VGM  1  
C_u4_C9         0 N16808813  1n  
R_u4_R4         0 COMP  1.911MEG  
V_u4_V5         u4_N16809579 0 0.5
V_u4_V6         u4_N16809602 0 1.5
R_u4_R11         u4_N16809402 N16808813  1  
G_u4_ABM2I1         0 COMP VALUE { {LIMIT((V(N16808807) -
+  V(VSENSEINT))*V(u4_VGM), -20u,20u)}    }
C_u4_C162         0 u4_VGM  100u  
X_u4_D10         COMP u4_N16809602 d_d1 PARAMS: 
X_u4_D9         u4_N16809579 COMP d_d1 PARAMS: 
E_u4_ABM8         u4_N16809402 0 VALUE { {IF(V(COMP) > 1.5,1,0)}    }
E_u4_ABM171         u4_N16809528 0 VALUE { {IF(V(N16808810) > 860m, 225u, 77u)}
+     }
C_u4_C5         0 COMP  5.97p  
V_V46         SET5 GND_1 5
X_u11_U3         ENAB u11_N16721358 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_u11_U8         u11_N16766070 HICCUP u11_N16765785 OR2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
R_u11_R279         u11_N16769630 SDWN  1  
X_u11_U2         u11_N16721300 VIN_1 u11_N16766070 COMP_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5
V_u11_V64         u11_N16721300 0 2.6
X_u11_U9         u11_N16721358 u11_N16765785 u11_N16769630 OR2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
C_u11_C158         0 SDWN  1n  
E_E1         SYSCLK GND_1 MUXCLK GND_1 1
X_u6_U4         u6_N16895116 u6_N16895166 START COMP_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5
X_u6_U616         HICCUP u6_N16891881 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
V_u6_V48         u6_N16895075 0 3
V_u6_V22         u6_N16847866 0 2.5
X_u6_D14         u6_N16895116 u6_N16895075 d_d1 PARAMS: 
C_u6_C79         u6_RAMP 0  2p IC=0 
X_u6_D11         u6_RAMP u6_N16807414 d_d1 PARAMS: 
G_u6_ABMI3         u6_N16807414 u6_RAMP VALUE { 
+ {(95.08e-3)*(-I(V_u6_V44)**0.8813)}    }
X_u6_U2         u6_RAMP u6_N16847866 MUXCLK COMP_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5
X_u6_S34    u6_N16895143 0 u6_N16895116 0 INT_CLOCK_u6_S34 
X_u6_U613         ENAB u6_N16891258 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_u6_U612         u6_N16851713 u6_N16850664 u6_N16847844 OR2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5
V_u6_V24         u6_N16895166 0 2.5
C_u6_C83         u6_N16895116 0  2p IC=0 
X_u6_U614         HICCUP u6_N16891258 u6_N16851713 OR2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5
V_u6_V47         u6_N16891817 0 30
R_u6_R276         0 u6_N16807240  500MEG  
V_u6_V44         u6_N16807240 0 0.5
X_u6_D13         H_CHECK u6_N16891817 d_d1 PARAMS: 
X_u6_U617         ENAB u6_N16895143 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
G_u6_ABMI5         u6_N16891817 H_CHECK VALUE { 
+ {(227.3e-3)*(-I(V_u6_V44)**0.9504)*1e4/16384}    }
G_u6_ABMI4         u6_N16895075 u6_N16895116 VALUE { 
+ {(95.08e-3)*(-I(V_u6_V44)**0.8813)}    }
X_u6_U615         MUXCLK u6_N16850664 BUF_DELAY_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5 DELAY=10n
V_u6_V82         RT_CLK u6_N16807240 0Vdc
X_u6_S35    u6_N16891881 0 H_CHECK 0 INT_CLOCK_u6_S35 
X_u6_S33    u6_N16847844 0 u6_RAMP 0 INT_CLOCK_u6_S33 
C_u6_C82         H_CHECK 0  2n IC=0 
E_u6_ABM1         N16823211 0 VALUE { IF(V(ENAB)>0.2,-I(V_u6_V82), 0)    }
V_u6_V45         u6_N16807414 0 5
R_u7_R11         N00716 u7_N16819414  1  
C_u7_C9         N00716 0  1n  
X_u7_U568         SYSCLK SYSCLKBAR INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
E_u7_ABM1         u7_N16819414 0 VALUE { IF(V(START)>0.5,
+  -6.8MEG*V(N16823211)*V(N16823211)+4.814k*V(N16823211)-0.00463, 0)    }
V_u8_V80         u8_N16949816 0 0.9
X_u8_U630         u8_PWMFF1 u8_N16938657 SYSCLK SET5 u8_PWM SET5
+  dffsbrb_rhpbasic_gen PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
G_u8_ABMII3         2P5 u8_N16723386 VALUE { V(u8_VRAMP) * 1u    }
R_u8_R242         0 u8_VTG  1  
E_u8_ABM164         N00364 0 VALUE { IF(V(COMP)<0.55, V(u8_N16960016),
+  V(u8_N16910995))    }
E_u8_ABM148         u8_N16723810 0 VALUE { 
+ {IF(V(u8_N16723796)<0.5,V(u8_VRAMPIN)-0.9,0)}    }
G_u8_ABMII5         u8_VRAMPIN 0 VALUE { (V(N00716) *-1)    }
X_u8_D58         u8_N16723528 HDRVIN d_d1 PARAMS: 
R_u8_R248         0 u8_N16938657  100MEG  
X_u8_U636         u8_N16928824 u8_OVTP u8_N16927841 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
G_u8_ABMII4         u8_N16722186 0 VALUE { {(V(COMP) - 0.5)/-40.857k}    }
C_u8_C134         0 u8_VRAMPIN  6n  
R_u8_R239         u8_N16723810 u8_VRAMP  1  
X_u8_U617         u8_N16910991 u8_PWMFF1 u8_N16910995 OR2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
C_u8_C146         0 u8_N16723528  5p  
E_u8_ABM163         u8_N16722178 0 VALUE { {(V(u8_N16722186) - V(u8_TEST)) * 10
+   
+ }   }
X_u8_U633         u8_N16722344 VSENSEINT u8_OVTP COMP_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5
X_u8_U635         u8_VTG u8_ISWF u8_N16723260 COMP_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5
X_u8_U631         HICCUP u8_N16928824 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_u8_U12         u8_PWMFF1 u8_N16910991 one_shot PARAMS:  T=100  
X_u8_U587         SYSCLK u8_N16724866 INV_DELAY_BASIC_GEN PARAMS: DELAY=20n
R_u8_R278         0 u8_N16722186  1  
V_u8_V79         u8_N16722344 0 0.642
G_u8_ABM2I2         2P5 u8_VTG VALUE { {IF(V(u8_N16722178) > V(u8_N16723204),
+  57.2k*(((V(u8_N16723204)/10)-V(u8_TEST))*10), 57.2k*V(u8_N16722178))}    }
C_u8_C135         0 u8_VRAMP  1n  
X_u8_U13         u8_PWMFF1 u8_N16960012 one_shot PARAMS:  T=120
R_u8_R255         HDRVIN u8_N16723528  10k  
R_u8_R241         0 u8_N16723204  1  
X_u8_U639         u8_N16949816 u8_VRAMPIN u8_N16723796 COMP_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5
X_u8_U629         SYSCLK u8_N16724866 u8_N16722170 AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
I_u8_I1         u8_N16723204 0 DC -113.63u  
E_u8_ABM152         u8_ISWF 0 VALUE { {IF(V(u8_N16723528) > 0.75,   
+ V(ISW),0)}   }
C_u8_C136         0 u8_N16723222  1n  
X_u8_U618         u8_N16960012 u8_PWMFF1 u8_N16960016 OR2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_u8_U634         u8_N16723222 N00312 u8_N16927841 u8_PWM AND3_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_u8_H1    u8_N16723386 0 u8_TEST 0 SLOPE_COMP_PWM_u8_H1 
R_u8_R245         u8_N16723260 u8_N16723222  1  
X_u8_S26    u8_N16722170 0 u8_VRAMPIN 0 SLOPE_COMP_PWM_u8_S26 
.IC         V(HDRVIN )=0
.IC         V(u10_LDRVIN )=0
.ENDS TPS54478_TRANS
*$
.subckt INT_CLOCK_u6_S34 1 2 3 4
S_u6_S34         3 4 1 2 _u6_S34
RS_u6_S34 1 2 1G
.MODEL         _u6_S34 VSWITCH Roff=1e9 Ron=1.0m Voff=0.4V Von=0.5V
.ends INT_CLOCK_u6_S34
*$
.subckt PGOOD_u5_S20 1 2 3 4
S_u5_S20         3 4 1 2 _u5_S20
RS_u5_S20 1 2 1G
.MODEL         _u5_S20 VSWITCH Roff=1e6 Ron=1.0 Voff=0.4 Von=0.6
.ends PGOOD_u5_S20
*$
.subckt PGOOD_u5_S21 1 2 3 4
S_u5_S21         3 4 1 2 _u5_S21
RS_u5_S21 1 2 1G
.MODEL         _u5_S21 VSWITCH Roff=1 Ron=1e6 Voff=0.4 Von=0.6
.ends PGOOD_u5_S21
*$
.subckt PGOOD_u5_S19 1 2 3 4
S_u5_S19         3 4 1 2 _u5_S19
RS_u5_S19 1 2 1G
.MODEL         _u5_S19 VSWITCH Roff=100e6 Ron=56 Voff=0.4V Von=0.5V
.ends PGOOD_u5_S19
*$
.subckt OUTPUT_DRIVER_u10_F3 1 2 3 4
F_u10_F3         3 4 VF_u10_F3 1
VF_u10_F3         1 2 0V
.ends OUTPUT_DRIVER_u10_F3
*$
.subckt OUTPUT_DRIVER_u10_S3 1 2 3 4
S_u10_S3         3 4 1 2 _u10_S3
RS_u10_S3 1 2 1G
.MODEL         _u10_S3 VSWITCH Roff=1e6 Ron=1.0 Voff=0.1V Von=0.4V
.ends OUTPUT_DRIVER_u10_S3
*$
.subckt OUTPUT_DRIVER_u10_S5 1 2 3 4
S_u10_S5         3 4 1 2 _u10_S5
RS_u10_S5 1 2 1G
.MODEL         _u10_S5 VSWITCH Roff=1e6 Ron=1 Voff=0.1V Von=0.4V
.ends OUTPUT_DRIVER_u10_S5
*$
.subckt OUTPUT_DRIVER_u10_S34 1 2 3 4
S_u10_S34         3 4 1 2 _u10_S34
RS_u10_S34 1 2 1G
.MODEL         _u10_S34 VSWITCH Roff=1000e6 Ron=15 Voff=0.4V Von=0.8
.ends OUTPUT_DRIVER_u10_S34
*$
.subckt OUTPUT_DRIVER_u10_F5 1 2 3 4
F_u10_F5         3 4 VF_u10_F5 1
VF_u10_F5         1 2 0V
.ends OUTPUT_DRIVER_u10_F5
*$
.subckt OUTPUT_DRIVER_u10_S30 1 2 3 4
S_u10_S30         3 4 1 2 _u10_S30
RS_u10_S30 1 2 1G
.MODEL         _u10_S30 VSWITCH Roff=10e6 Ron=30m Voff=0.4V Von=2.0
.ends OUTPUT_DRIVER_u10_S30
*$
.subckt OUTPUT_DRIVER_u10_S4 1 2 3 4
S_u10_S4         3 4 1 2 _u10_S4
RS_u10_S4 1 2 1G
.MODEL         _u10_S4 VSWITCH Roff=1e6 Ron=1 Voff=0.4V Von=0.5V
.ends OUTPUT_DRIVER_u10_S4
*$
.subckt OUTPUT_DRIVER_u10_S2 1 2 3 4
S_u10_S2         3 4 1 2 _u10_S2
RS_u10_S2 1 2 1G
.MODEL         _u10_S2 VSWITCH Roff=1e6 Ron=1 Voff=0.4V Von=0.5V
.ends OUTPUT_DRIVER_u10_S2
*$
.subckt OUTPUT_DRIVER_u10_S31 1 2 3 4
S_u10_S31         3 4 1 2 _u10_S31
RS_u10_S31 1 2 1G
.MODEL         _u10_S31 VSWITCH Roff=10e6 Ron=30m Voff=0.4V Von=2.0
.ends OUTPUT_DRIVER_u10_S31
*$
.subckt Hiccup_U12_S2 1 2 3 4
S_U12_S2         3 4 1 2 _U12_S2
RS_U12_S2 1 2 1G
.MODEL         _U12_S2 VSWITCH Roff=1e6 Ron=1.0 Voff=0.25 Von=0.75
.ends Hiccup_U12_S2
*$
.subckt INT_CLOCK_u6_S35 1 2 3 4
S_u6_S35         3 4 1 2 _u6_S35
RS_u6_S35 1 2 1G
.MODEL         _u6_S35 VSWITCH Roff=1e12 Ron=1.0m Voff=0.4V Von=0.5V
.ends INT_CLOCK_u6_S35
*$
.subckt INT_CLOCK_u6_S33 1 2 3 4
S_u6_S33         3 4 1 2 _u6_S33
RS_u6_S33 1 2 1G
.MODEL         _u6_S33 VSWITCH Roff=1e9 Ron=1.0m Voff=0.4V Von=0.5V
.ends INT_CLOCK_u6_S33
*$
.subckt SLOPE_COMP_PWM_u8_H1 1 2 3 4
H_u8_H1         3 4 VH_u8_H1 1
VH_u8_H1         1 2 0V
.ends SLOPE_COMP_PWM_u8_H1
*$
.subckt SLOPE_COMP_PWM_u8_S26 1 2 3 4
S_u8_S26         3 4 1 2 _u8_S26
RS_u8_S26 1 2 1G
.MODEL         _u8_S26 VSWITCH Roff=1e9 Ron=10m Voff=0.4 Von=0.8
.ends SLOPE_COMP_PWM_u8_S26
*$
.subckt dffsbrb_rhpbasic_gen q qb clk d rb sb params: vdd=1 vss=0 vthresh=0.5
x1 clk clkdel inv_delay_basic_gen params: vdd={vdd} vss={vss} vthresh=
+ {vthresh} delay = 15n
x2 clk clkdel clkint and2_basic_gen params: vdd={vdd} vss={vss} vthresh=
+ {vthresh}
gq 0 qint value = {if(v(rb) < {vthresh},-1,if(v(sb)< {vthresh},1,
+  if(v(clkint)> {vthresh},
+ if(v(d)> {vthresh},1,-1),0)))}
cqint qint 0 1n
rqint qint 0 1000meg
d_d10 qint my5 d_d1
v1 my5 0 1
d_d11 0 qint d_d1
eq qqq 0 qint 0 1
x3 qqq qqqd1 buf_delay_basic_gen params: vdd={vdd} vss={vss} vthresh={vthresh}
+  delay = 20n
rqq qqqd1 q 1
eqb qbr 0 value = {if( v(q) > {vthresh}, {vss},{vdd})}
rqb qbr qb 1
cdummy1 q 0 1nf
cdummy2 qb 0 1nf
.ic v(qint) {vss}
.model d_d1 d
+ is=1e-015
+ tt=1e-011
+ rs=0.05
+ n=0.1
.ends dffsbrb_rhpbasic_gen
*$
.subckt d_d1 1 2
d1 1 2 dd1
.model dd1 d
+ is=1e-015
+ tt=1e-011
+ rs=0.05
+ n=0.0001
.ends d_d1
*$
.subckt srlatchrhp_basic_gen s r q qb params: vdd=1 vss=0 vthresh=0.5
gq 0 qint value = {if(v(r) > {vthresh},-1,if(v(s)>{vthresh},1, 0))}
cqint qint 0 1n
rqint qint 0 1000meg
d_d10 qint my5 d_d1
v1 my5 0 {vdd}
d_d11 myvss qint d_d1
v2 myvss 0 {vss}
eq qqq 0 qint 0 1
x3 qqq qqqd1 buf_basic_gen params: vdd={vdd} vss={vss} vthresh={vthresh}
rqq qqqd1 q 1
eqb qbr 0 value = {if( v(q) > {vthresh}, {vss},{vdd})}
rqb qbr qb 1
cdummy1 q 0 1n
cdummy2 qb 0 1n
.ic v(qint) {vss}
.model d_d1 d
+ is=1e-015
+ tt=1e-011
+ rs=0.05
+ n=0.1
.ends srlatchrhp_basic_gen
*$
.subckt one_shot in out
+ params:  t=100
s_s1         meas 0 reset2 0 s1
e_abm1         ch 0 value { if( v(in)>0.5 | v(out)>0.5,1,0)    }
r_r2 reset2 reset 0.1
e_abm3         out 0 value { if( v(meas)<0.5 & v(ch)>0.5,1,0)    }
r_r1 meas ch {t}
c_c2 0 reset2 1.4427n
c_c1 0 meas 1.4427n
e_abm2         reset 0 value { if(v(ch)<0.5,1,0)    }
.model s1 vswitch
+ roff=1e+009
+ ron=1
+ voff=1.25
+ von=3.75
.ends one_shot
*$
.SUBCKT AND2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND2_BASIC_GEN
*$
.SUBCKT AND3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND3_BASIC_GEN
*$
.SUBCKT AND4_BASIC_GEN A B C D Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH} &
+ V(D) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND4_BASIC_GEN
*$
.SUBCKT NAND2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &
+ V(B) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NAND2_BASIC_GEN
*$
.SUBCKT NAND3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NAND3_BASIC_GEN
*$
.SUBCKT NAND4_BASIC_GEN A B C D Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH} &
+ V(D) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NAND4_BASIC_GEN
*$
.SUBCKT OR2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR2_BASIC_GEN
*$
.SUBCKT OR3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR3_BASIC_GEN
*$
.SUBCKT OR4_BASIC_GEN A B C D Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH} |
+ V(D) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR4_BASIC_GEN
*$
.SUBCKT NOR2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |
+ V(B) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR2_BASIC_GEN
*$
.SUBCKT NOR3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR3_BASIC_GEN
*$
.SUBCKT NOR4_BASIC_GEN A B C D Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH} |
+ V(D) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR4_BASIC_GEN
*$
.SUBCKT NOR5_BASIC_GEN A B C D E Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH} |
+ V(D) > {VTHRESH} |
+ V(E) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR5_BASIC_GEN
*$
.SUBCKT NOR6_BASIC_GEN A B C D E F Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH} |
+ V(D) > {VTHRESH} |
+ V(E) > {VTHRESH} |
+ V(F) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR6_BASIC_GEN
*$
.SUBCKT INV_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH} ,
+ {VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS INV_BASIC_GEN
*$
.SUBCKT XOR2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE  YINT 0 VALUE {{IF(V(A) > {VTHRESH}  ^
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS XOR2_BASIC_GEN
*$
.SUBCKT XNOR2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE  YINT 0 VALUE {{IF(V(A) > {VTHRESH}  ^
+ V(B) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS XNOR2_BASIC_GEN
*$
.SUBCKT MUX2_BASIC_GEN A B S Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE  YINT 0 VALUE {{IF(V(S) > {VTHRESH},
+ V(B),V(A))}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS MUX2_BASIC_GEN
*$
.SUBCKT INV_DELAY_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY = 10n
E_ABMGATE1    YINT1 0 VALUE {{IF(V(A) > {VTHRESH} ,
+ {VDD},{VSS})}}
RINT YINT1 YINT2 1
CINT YINT2 0 {DELAY*1.3}
E_ABMGATE2    YINT3 0 VALUE {{IF(V(YINT2) > {VTHRESH} ,
+ {VSS},{VDD})}}
RINT2 YINT3 Y 1
CINT2 Y 0 1n
.ENDS INV_DELAY_BASIC_GEN
*$
.SUBCKT BUF_DELAY_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY = 10n
E_ABMGATE1    YINT1 0 VALUE {{IF(V(A) > {VTHRESH} ,
+ {VDD},{VSS})}}
RINT YINT1 YINT2 1
CINT YINT2 0 {DELAY*1.3}
E_ABMGATE2    YINT3 0 VALUE {{IF(V(YINT2) > {VTHRESH} ,
+ {VDD},{VSS})}}
RINT2 YINT3 Y 1
CINT2 Y 0 1n
.ENDS BUF_DELAY_BASIC_GEN
*$
.SUBCKT BUF_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH} ,
+ {VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS BUF_BASIC_GEN
*$
.SUBCKT SRLATCHSHP_BASIC_GEN S R Q QB PARAMS: VDD=1 VSS=0 VTHRESH=0.5
GQ 0 Qint VALUE = {IF(V(S) > {VTHRESH},1,IF(V(R)>{VTHRESH},-1, 0))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS}
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr QB 1
Cdummy1 Q 0 1n
Cdummy2 QB 0 1n
.IC V(Qint) {VSS}
.MODEL D_D1 D( IS=1e-15 TT=10p Rs=0.05 N=.1 )
.ENDS SRLATCHSHP_BASIC_GEN
*$
.SUBCKT SBRBLATCHRHP_BASIC_GEN SB RB Q QB PARAMS: VDD=1 VSS=0 VTHRESH=0.5
GQ 0 Qint VALUE = {IF(V(RB) < {VTHRESH},-1,IF(V(SB) < {VTHRESH},1, 0))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS}
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr QB 1
.IC V(Qint) {VSS}
.MODEL D_D1 D( IS=1e-15 TT=10p Rs=0.05 N=.1 )
.ENDS SBRBLATCHRHP_BASIC_GEN
*$
.SUBCKT SBRBLATCHSHP_BASIC_GEN SB RB Q QB PARAMS: VDD=1 VSS=0 VTHRESH=0.5
GQ 0 Qint VALUE = {IF(V(SB) < {VTHRESH},1,IF(V(RB) < {VTHRESH},-1, 0))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS}
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr QB 1
.IC V(Qint) {VSS}
.MODEL D_D1 D( IS=1e-15 TT=10p Rs=0.05 N=.1 )
.ENDS SBRBLATCHSHP_BASIC_GEN
*$
.SUBCKT DFFSR_SHPBASIC_GEN Q QB CLK D R S PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X1 CLK CLKdel INV_DELAY_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 15n
X2 CLK CLKdel CLKint AND2_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
GQ 0 Qint VALUE = {IF(V(S) > {VTHRESH},1,IF(V(R) > {VTHRESH},-1, IF(V(CLKint)> {VTHRESH},
+ IF(V(D)> {VTHRESH},1,-1),0)))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS}
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_DELAY_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY = 20n
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr Qb 1
Cdummy1 Q 0 1nF
Cdummy2 QB 0 1nF
.IC V(Qint) {VSS}
.MODEL D_D1 D( IS=1e-15 TT=10p Rs=0.05 N=.1 )
.ENDS DFFSR_SHPBASIC_GEN
*$
.SUBCKT DFFSR_RHPBASIC_GEN Q QB CLK D R S PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X1 CLK CLKdel INV_DELAY_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 15n
X2 CLK CLKdel CLKint AND2_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
GQ 0 Qint VALUE = {IF(V(R) > {VTHRESH},-1,IF(V(S) > {VTHRESH},1, IF(V(CLKint)> {VTHRESH},
+ IF(V(D)> {VTHRESH},1,-1),0)))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS}
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_DELAY_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 20n
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr Qb 1
Cdummy1 Q 0 1nF
Cdummy2 QB 0 1nF
.IC V(Qint) {VSS}
.ENDS DFFSR_RHPBASIC_GEN
*$
.SUBCKT OP_AMP P M OUT
+ PARAMs:  Hlimit=5 Rin=10Meg BW=18Meg DC_Gain=100 Rout=100 Llimit=0 SRP=1 SRM=1
R_Rin P M {Rin}
E_E1          5 0 M P {-Gain}
E_LIMIT2      6 0 VALUE {LIMIT(V(5), {-Abs(SRM)*Ca*1Meg+V(1)/Ra},
+                 {SRP*Ca*1Meg+V(1)/Ra})}
G_G2          1 0 6 0 -1
R_Ra 0 1 {Ra}
C_Ca 0 1 {Ca}
E_LIMIT1      2 0 VALUE {LIMIT(V(1),{Llimit},{Hlimit})}
V_VL          3 0 {Llimit+200m}
V_VH          4 0 {Hlimit-200m}
D_D1          3 1 Dideal
D_D2          1 4 Dideal
R_Rout OUT 2 {Rout}
.model Dideal D Is=1e-10 Cjo=.01pF Rs=1m  N=1
.PARAM  Ra=1k   Ca={exp(DC_gain*log(10)/20)/(2*3.14159*BW*Ra)}
+ Gain={exp(DC_gain*log(10)/20)/Ra}
.ENDS OP_AMP
*$
.SUBCKT COMP_BASIC_GEN INP INM Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5	
E_ABM Yint 0 VALUE {IF (V(INP) >
+ V(INM), {VDD},{VSS})}
R1 Yint Y 1
C1 Y 0 1n
.ENDS COMP_BASIC_GEN
*$
.SUBCKT COMPHYS_BASIC_GEN INP INM HYS OUT PARAMS: VDD=1 VSS=0 VTHRESH=0.5	
EIN INP1 INM1 INP INM 1
EHYS INP1 INP2 VALUE { IF( V(1) > {VTHRESH},-V(HYS),0) }
EOUT OUT 0 VALUE { IF( V(INP2)>V(INM1), {VDD} ,{VSS}) }
R1 OUT 1 1
C1 1 0 5n
RINP1 INP1 0 1K
.ENDS COMPHYS_BASIC_GEN
*$
.SUBCKT COMPHYS2_BASIC_GEN INP INM HYS OUT PARAMS: VDD=1 VSS=0 VTHRESH=0.5	
+ T=10
EIN INP1 INM1 INP INM 1
EHYS INM2 INM1 VALUE { IF( V(1) > {VTHRESH},-V(HYS)/2,V(HYS)/2) }
EOUT OUT 0 VALUE { IF( V(INP1)>V(INM2), {VDD} ,{VSS}) }
R1 OUT 1 1
C1 1 0 {T*1e-9}
RINP1 INP1 0 10K
RINM2 INM2 0 10K
.ENDS COMPHYS2_BASIC_GEN
*$
.SUBCKT CESR IN OUT
+ PARAMs:  C=100u ESR=0.01 X=2 IC=0
C	IN 1 {C*X} IC={IC}
RESR	1 OUT {ESR/X}
.ENDS CESR
*$
.SUBCKT LDCR IN OUT
+ PARAMs:  L=1u DCR=0.01 IC=0
L	IN 1  {L} IC={IC}
RDCR	1 OUT {DCR}
.ENDS LDCR
*$
.SUBCKT COMP_BASIC INP INM Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5	
E_ABM Yint 0 VALUE {IF (V(INP) >
+ V(INM), {VDD},{VSS})}
R1 Yint Y 1
C1 Y 0 1n
.ENDS COMP_BASIC
*$
.SUBCKT MONONEG_PS in Q Qn PARAMS: PW=1u
VS VSUP 0 DC 1
GIN VSUP YA VALUE={IF(V(IN)<0.5, V(VSUP)/1000K, 0)}
GDIS YA 0 VALUE={IF(V(IN)<0.5,0, V(YA)/1m)}
CIN YA 0 1n IC=0
RIN YA 0 1e11
EABM1 YTD 0 VALUE={IF(V(YA)> {PW*1000}, 0, 1)}
RYTD YTD 0 1e11
EXOR P 0 VALUE={IF(V(YTD) > 0.5 ^ V(IN) > .5, 1, 0)}
ROUTpp2 P 0 1e11
EAND1 Q1 0 VALUE={ IF(V(P)>0.5 & V(YTD)>0.5, 1, 0)}
Ro1 Q1 Q 1m
Co1 Q 0 1p IC=0
ROUT2 Q 0 1e11
EAND2 Qn1 0 VALUE={ IF(V(Q)>0.5, 0, 1)}
Ro2 Qn1 Qn 1m
Co2 Qn 0 1p
ROUT4 Qn 0 1e11
.ENDS MONONEG_PS
*$
.SUBCKT OR2_BASIC A B Y
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > 0.5  |
+ V(B) > 0.5,1,0)}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR2_BASIC
*$
.MODEL D_D1 D( IS=1e-15 TT=10p Rs=0.05 N=0.1  )
*$
.SUBCKT D_D 1 2
D1 1 2 D_DD
.MODEL D_DD D( IS=1e-15 TT=10p Rs=0.05 N=.1m  )
.ENDS D_D
*$
.SUBCKT D_D100 1 3
D1 1 2 D_DD
.MODEL D_DD D( IS=1e-15 N=1  )
V_D_D100 2 3 -650m
.ENDS D_D100
*$
