*$
* TPS1HB08A-Q1
*****************************************************************************
* (C) Copyright 2021 Texas Instruments Incorporated. All rights reserved.                                            
*****************************************************************************
** This model is designed as an aid for customers of Texas Instruments.
** TI and its licensors and suppliers make no warranties, either expressed
** or implied, with respect to this model, including the warranties of 
** merchantability or fitness for a particular purpose.  The model is
** provided solely on an "as is" basis.  The entire risk as to its quality
** and performance is with the customer
*****************************************************************************
*
* This model is subject to change without notice. Texas Instruments
* Incorporated is not responsible for updating this model.
*
*****************************************************************************
*
** Released by: Texas Instruments Inc.
* Part: TPS1HB08A-Q1
* Date: 26FEB2021
* Model Type: TRANSIENT
* Simulator: PSPICE
* Simulator Version: 17.2-2016 S074
* EVM Order Number: HSS-MOTHERBOARDEVM
* EVM Users Guide: SLVUBD4B – JANUARY 2018 – REVISED OCTOBER 2020
* Datasheet: SLVSE16C –MAY 2019–REVISED JANUARY 2020
*
* Model Version: Final 1.10
*
*****************************************************************************
*
* Updates:
*
* Final 1.10
*  Follwing are the changes made in the model 
*	1. RON vairation with temperature
*	2. Thermal shutdown and thermal swing
*	3. TJ dependent ISNS
*	4. ILIM sensing with respect to VBB
*   5. VBB clamp
*   6. SNS pin values and delay
*
* Final 1.00
* Release to Web.
*
*****************************************************************************
*
* Model Usage Notes:
*
* A. Features that have been modelled
*	1. SNS, LATCH, ILIMx, ENx, SELx and DIA_EN pin functionalities modelled.
*	2. Switching and Timing Characteristics
*	3. Current Limit Foldback and Standby Delay
*	4. Open Load and Short to Battery
*	5. RON and Voltage Sense
*	6. SNS MUX and Fault Detect
*	7. Thermal shutdown and thermal swing
*
* B. Model Limitations and Features that haven't been modelled
*	1. During Light Load there is noise/spike at Rising/Falling edge of Output 
*	2. Operating Current and Shutdown Current are not modelled
*
* C. Parameter TEMP_AMB is used to set the Ambient Temperature.
*
*****************************************************************************
.SUBCKT  TPS1HB08A-Q1_TRANS  DIA_EN EN GND ILIM LATCH NC_0 NC_1 NC_2 SEL1 SNS TCON TJ
+  VBB VOUT_0 VOUT_1 VOUT_2 VOUT_3 VOUT_4 VOUT_5 PARAMS: TEMP_AMB=25
E_E2         EN1_INT 0 EN GND 1
X_H1    N629064 N625182 CUR_LIM1 0 TPS1HB08A-Q1_H1 
R_R4         SEL1 GND  1MEG  
V_V104         VBB N298546 0Vdc
R_R8         LATCH GND  1MEG  
E_E5         SEL1_INT 0 SEL1 GND 1
V_V106         N629064 VBB_1 1
E_E1         PWR_PAD_INT 0 VBB GND 1
E_E9         LATCH_INT 0 LATCH GND 1
X_U3_U32         EN1_OK U3_N17006391 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U3_U46         U3_N17006391 RST_RETRY1 U3_VOLT_MATCHED1 U3_N17007333
+  OR3_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U3_U28         CRNT_LIMIT1 U3_N17007333 U3_N16973109 U3_CRNT_LIMIT_B1
+  SRLATCHRHP_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_U3_ABM25         U3_MATCH1 0 VALUE { V(PWR_PAD_INT)-1.8    }
X_U3_U45         OUT1_INT U3_MATCH1 U3_VOLT_MATCHED1 COMP_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5
R_U3_R14         FAULT_DETECT1 U3_N168357671  100  
C_U3_C12         FAULT_DETECT1 0  1n   
E_U3_GAIN2         U3_N168357671 0 VALUE {1 * V(U3_N16835773)}
X_U3_U48         U3_N16973109 TSD_1 OPEN_LOAD1 U3_N16835773 OR3_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U3_U62         U3_TSNSTON2 U3_DIAG_EN_OK_DLY U3_EN1_OK_DLY U3_N17279219
+  MUX2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_U3_ABM30         U3_N17279415 0 VALUE { if(V(VBB)<2.5,0,V(VBB))    }
G_U3_G2         0 SNS U3_N17279518 0 1
X_U3_U92         U3_ISNSFH_DETECT U3_N17279642 BUF_DELAY_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5 DELAY=40u
E_U3_ABM43         U3_N17279353 0 VALUE {
+  IF(V(U3_N17279219)>0.5,(0.85+0.0112*(V(TJ)-25))/1000,0)    }
X_U3_U58         SNS U3_N17279415 D_D1
E_U3_ABM31         U3_ISNSFH_DETECT 0 VALUE { IF((V(SEL1_OK)<0.5 & 
+  V(FAULT_DETECT1)>0.5),1,0)    }
X_U3_S7    U3_N17279348 0 U3_N17279353 U3_N17278815 MUX_U3_S7 
X_U3_S8    U3_N17279642 0 U3_ISNSFH U3_N17278815 MUX_U3_S8 
X_U3_U93         SEL1_OK FAULT_DETECT1 U3_ICH1_DETECT NOR2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
E_U3_ABM27         U3_N17278781 0 VALUE { IF((V(U3_EN1_OK_DLY)>0.5 &
+  V(U3_DIAG_EN_OK_DLY)>0.5),V(I_SENSE_1)/{KSNS},0)    }
X_U3_U94         U3_ICH1_DETECT U3_N17280164 BUF_DELAY_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5 DELAY=40u
X_U3_U53         DIAG_EN_OK U3_DIAG_EN_OK_DLY ASYMMETRIC_DELAY PARAMS:
+  RISING_EDGE_DELAY=20u VTHRESH=0.5 FALLING_EDGE_DELAY=5u VDD=1 VSS=0
X_U3_U61         U3_DIAG_EN_OK_DLY U3_TSNSTON2 ASYMMETRIC_DELAY PARAMS:
+  RISING_EDGE_DELAY=30u VTHRESH=0.5 FALLING_EDGE_DELAY=1n VDD=1 VSS=0
C_U3_C68         U3_N17279518 0  1u   
X_U3_U95         U3_TSNS_DELECT U3_N17279348 BUF_DELAY_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5 DELAY=40u
X_U3_S5    U3_N17280164 0 U3_N17278781 U3_N17278815 MUX_U3_S5 
V_U3_V28         U3_ISNSFH 0 4.5m
X_U3_U54         EN1_OK U3_EN1_OK_DLY ASYMMETRIC_DELAY PARAMS:
+  RISING_EDGE_DELAY=135u VTHRESH=0.5 FALLING_EDGE_DELAY=1u VDD=1 VSS=0
X_U3_U85         SEL1_OK U3_TSNS_DELECT BUF_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5
E_U3_ABM44         U3_N17279515 0 VALUE { IF(V(U3_DIAG_EN_OK_DLY)>0.5 &
+  V(UVLO_OK)>0.5, V(U3_N17278815), 0)    }
R_U3_R19         U3_N17279518 U3_N17279515  2  
E_E4         DIA_EN_INT 0 DIA_EN GND 1
X_U5_U57         U5_N16880824 U5_N242181 U5_N16896770 OR2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U5_U52         U5_N242181 U5_N242709 U5_OFF_ALL OR2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U5_U37         STANDBY U5_N16848053 U5_N16859416 N16837690
+  SRLATCHRHP_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U5_U39         U5_N229254 U5_OFF_ALL U5_N249389 N243278 SRLATCHRHP_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U5_U31         DIAG_EN_OK U5_N232548 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U5_U54         U5_N16859416 U5_RST_DLY U5_N16880824 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U5_U49         U5_N239391 U5_STDBY_DONE U5_N239695 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U5_U46         U5_N234689 U5_N223047 U5_N235225 AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U5_U56         U5_STDBY_DONE U5_RST_DLY U5_N16848053 OR2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
G_U5_ABM2I1         0 U5_N16842875 VALUE { IF(V(U5_N16896770)>0.5, -1,
+  IF(V(STANDBY)>0.5, 25n, 0))    }
X_U5_U36         UVLO_OK U5_N242181 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U5_U55         U5_N16847452 U5_N16848053 STANDBY N16848617
+  SRLATCHRHP_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U5_U30         EN1_OK U5_N231225 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U5_U41         UVLO_OK U5_N239391 U5_ALL_OK AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U5_U50         U5_ALL_OK U5_N239695 U5_N229337 OR2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U5_U43         EN1_OK EN1_OK U5_N239391 OR2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U5_U38         U5_DIAG U5_N227778 U5_N227618 OR2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U5_U15         U5_N227618 U5_N222837 ONE_SHOT PARAMS:  T=1.1k  
R_U5_R16         U5_N249389 U5_N234689  {1.1u/(0.693*1n)}  
X_U5_U216         STANDBY U5_N16875248 STDBY_DLY N16875274 SRLATCHRHP_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U5_U48         U5_STDBY_DONE U5_DIAG U5_N227778 AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
C_U5_C29         U5_N16842875 0  1n   
X_U5_U35         U5_N222411 DIAG_EN_OK U5_DIAG AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U5_U51         EN1_OK EN1_OK DIAG_EN_OK U5_N242709 NOR3_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U5_U32         U5_N222837 U5_OFF_ALL U5_DIAG_ST N222871 SRLATCHRHP_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U5_U47         U5_N235225 U5_N235331 U5_N16847452 OR2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U5_U217         U5_N16875271 U5_N16875248 ONE_SHOT PARAMS:  T=1.1k  
X_U5_U33         0 U5_N16842875 D_D
C_U5_C28         U5_N234689 0  1n   
X_U5_U45         U5_N223047 U5_N247244 U5_N235331 AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U5_U42         UVLO_OK U5_N231225 U5_N231225 U5_N222411 AND3_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U5_U220         U5_ALL_OK U5_N16875271 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
R_U5_R15         U5_DIAG_ST U5_N247244  {1.5u/(0.693*1n)}  
X_U5_U53         U5_DIAG_ST U5_N249389 U5_RST_DLY OR2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U5_U44         U5_N232548 U5_N222411 U5_N223047 AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U5_U18         U5_N229337 U5_N229254 ONE_SHOT PARAMS:  T=1.1k  
X_U5_U16         U5_N16842875 U5_STDBY_DONE ONE_SHOT PARAMS:  T=1.1k  
C_U5_C27         U5_N247244 0  1n   
R_R2         DIA_EN GND  1MEG  
R_R1         EN GND  1MEG  
X_U1_U1_U38         U1_U1_N16868459 U1_U1_N16847904 U1_U1_N16847911
+  U1_U1_CRNT_LIMIT_N1 SRLATCHSHP_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
R_U1_U1_R17         U1_U1_OPEN_OUT_1 U1_U1_N16848046  14.43  
C_U1_U1_C28         U1_U1_N16848046 0  1u IC=0  
X_U1_U1_U33         LATCH_OK U1_U1_N16847917 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
V_U1_U1_V6         U1_U1_N16848334 0 5
X_U1_U1_U39         U1_U1_N16847888 CRNT_LIMIT1 D_D1
X_U1_U1_U35         U1_U1_N16847917 U1_U1_N16848108 U1_U1_N16847904
+  AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
E_U1_U1_ABM1         U1_U1_N16848321 0 VALUE { V(I_SENSE_1)/{KSNS}    }
G_U1_U1_ABMII1         U1_U1_N16848334 U1_U1_VLIM1 VALUE { V(U1_U1_N16848321)  
+   }
R_U1_U1_R18         U1_U1_N16848165 U1_U1_CL1  {0.1u/(0.693*1u)}  
E_U1_U1_GAIN2         U1_U1_N16847888 0 VALUE {1 * V(U1_U1_N16847911)}
V_U1_U1_V11         U1_U1_N16848383 0 3
C_U1_U1_C29         U1_U1_CL1 0  1u IC=0  
R_U1_U1_R13         0 U1_U1_VLIM1  100  
X_U1_U1_U1         OUT1_INT U1_U1_N16848383 U1_U1_OPEN_OUT_1 COMP_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_U1_U1_GAIN1         U1_U1_N16847963 0 VALUE {1 * V(EN1_OK)}
R_U1_U1_R19         U1_U1_N16847888 CRNT_LIMIT1  {10u/(0.693*1u)}  
X_U1_U1_U36         U1_U1_N16847963 U1_U1_N16847958 D_D1
C_U1_U1_C30         CRNT_LIMIT1 0  1u IC=0  
C_U1_U1_C25         U1_U1_N16847847 0  5n IC=0  
X_U1_U1_U37         U1_U1_N16847958 U1_U1_N16847997 INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U1_U1_U5         U1_U1_VLIM1 U1_U1_N16847845 U1_U1_N16848510 COMP_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U1_U1_U10         U1_U1_N16847847 U1_U1_N16848222 U1_U1_N16848108
+  COMP_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U1_U1_U34         U1_U1_N16847997 DIAG_EN_OK U1_U1_N16848046 OPEN_LOAD1
+  AND3_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
V_U1_U1_V3         U1_U1_N16848222 0 1
E_U1_U1_GAIN3         U1_U1_N16848165 0 VALUE {1 * V(U1_U1_N16848510)}
X_U1_U1_S4    U1_U1_CRNT_LIMIT_N1 0 U1_U1_N16847847 0 CURLIM_OPENLD1_U1_U1_S4 
R_U1_U1_R8         U1_U1_N16847963 U1_U1_N16847958  700  
C_U1_U1_C7         U1_U1_N16847958 0  1u IC=0  
E_U1_U1_ABM27         U1_U1_N16847845 0 VALUE { IF( V(U1_CRNT_FB1)>0.5,  
+ +V(U1_U1_ILIM)/2, V(U1_U1_ILIM))   }
E_U1_U1_ABM30         U1_U1_VFLOAT 0 VALUE { {KCL}/100    }
E_U1_U1_ABM31         U1_U1_N16863859 0 VALUE { V(U1_U1_N16865124)*(1-
+ {Fixed_CL})+{Fixed_CL}*{Fix_CL_Value}    }
E_U1_U1_ABM29         U1_U1_ILIM 0 VALUE { V(U1_U1_N16863859)*100/{KSNS}    }
E_U1_U1_ABM28         U1_U1_N16865124 0 VALUE { IF(V(CUR_LIM1)<V(U1_U1_VFLOAT)
+  | V(CUR_LIM1)>{ICL_Float},{ICL_Float},V(CUR_LIM1))    }
X_U1_U1_U67         TSW_1 U1_U1_N16868645 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U1_U1_U68         U1_U1_N16868645 U1_U1_TSW_FALL_1 ONE_SHOT PARAMS: 
+  T=2001000  
X_U1_U1_U63         U1_U1_TSW_FALL_1 U1_U1_CL_FALL_1 U1_U1_N16868855
+  OR2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
G_U1_U1_ABM2I1         0 U1_U1_N16847847 VALUE {
+  IF(V(U1_U1_N16868855)>0.5,2.5u,if(V(U1_U1_TSD_FALL_1)>0.5, 2.5,0))    }
X_U1_U1_U61         TSD_1 U1_U1_N16868687 INV_DELAY_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5 DELAY=100n
X_U1_U1_U60         U1_U1_N16868687 TSD_1 U1_U1_TSD_FALL_1 NOR2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U1_U1_U66         U1_U1_CL1 U1_U1_N16868608 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U1_U1_U62         TSW_1 TSD_1 U1_U1_CL1 U1_U1_N16868459 OR3_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U1_U1_U65         U1_U1_N16868608 U1_U1_CL_FALL_1 ONE_SHOT PARAMS:  T=2001000
+   
C_U1_U2_C69         0 U1_U2_RAMP1  1n IC=0  
R_U1_U2_R82         U1_U2_N18760172 U1_U2_N18760143  1u  
G_U1_U2_G29         U1_U2_N18760220 U1_U2_GATE1 U1_U2_N18760098 0 1
X_U1_U2_U188         U1_U2_N18760603 U1_U2_N18760606 U1_U2_N18760926 0 RVAR
+  PARAMS:  RREF=1
X_U1_U2_U200         U1_U2_N18761520 EN1_OK U1_U2_N18761543 NOR2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U1_U2_F5    U1_U2_N18760406 U1_U2_N18760175 N298546 GND DRIVER1_U1_U2_F5 
X_U1_U2_U196         U1_U2_N18760057 U1_U2_RAMP1 D_D
E_U1_U2_E54         U1_U2_N18760926 0 TABLE { V(PWR_PAD_INT, 0) } 
+ ( (3, 7.57) (6,48) (8,49.3)(13.5,47.4)(18,48)(28,53.7)(36,51.8) )
X_U1_U2_U207         U1_U2_SW_ON1 U1_U2_N18761863 INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U1_U2_U201         U1_U2_VGS1 U1_U2_N18761609 U1_U2_N18761302 COMP_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_U1_U2_ABM62         U1_U2_N187601081 0 VALUE { IF(V(U1_U2_SW_OFF1)<0.5 &
+  V(U1_U2_SW_ON1)>0.5, LIMIT((V(U1_U2_RAMP1)-V(OUT1_INT))*0.25m,0,200u), 0)    }
X_U1_U2_U202         U1_U2_N18761302 U1_U2_GATE_DRV_N1 U1_U2_ABV_VT1
+  U1_U2_N18760096 SRLATCHRHP_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U1_U2_U208         U1_U2_N18760606 U1_U2_N18761815 INV_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
E_U1_U2_E61         U1_U2_N18760406 GND U1_U2_RAMP1 0 1
X_U1_U2_U211         VOUT_0 U1_U2_N18760179 D_D
G_U1_U2_ABM3I3         0 U1_U2_RAMP1 VALUE { IF(V(U1_U2_SW_ON1)<0.5 &
+  V(U1_U2_SW_OFF1)<0.5,   
+ +V(U1_U2_FALLING1),  
+ +IF(V(U1_U2_SW_ON1)>0.5 & V(U1_U2_ABV_VT1)>0.5, V(U1_U2_RISING1), -4u))  }
E_U1_U2_E59         OUT1_INT 0 VOUT_0 GND 1
X_U1_U2_U209         U1_ALL_OK1 U1_U2_N18760096 U1_U2_VO_GLTH1 AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
C_U1_U2_Cgs11         U1_U2_N18760075 U1_U2_OUT1  672p IC=0 
C_U1_U2_C70         0 U1_U2_B4_VT1  1p IC=0  
X_U1_U2_U190         EN1_OK UVLO_OK U1_U2_N18760452 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
M_U1_U2_M13         U1_U2_N18828620 U1_U2_N18760075 U1_U2_OUT1 U1_U2_OUT1
+  NMOS01_TPS2HB08           
X_U1_U2_H13    U1_U2_N18760051 U1_U2_N18760914 I_SENSE_1 0 DRIVER1_U1_U2_H13 
X_U1_U2_S13    U1_U2_N18760191 0 U1_U2_N18760179 U1_U2_N18760177
+  DRIVER1_U1_U2_S13 
R_U1_U2_R80         U1_U2_N18760849 U1_U2_B4_VT1  100  
X_U1_U2_U191         U1_U2_N18760493 U1_U2_N18760452 U1_U2_N18760140
+  AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
E_U1_U2_E56         U1_U2_FALLING1 0 TABLE { V(PWR_PAD_INT, 0) } 
+ ( (0, 0) (3,-144u) (6,-332u) (8, -345.6u)(13.5, -444u)(18, -566u)(28,
+  -738.6u)(36, -812u) )
X_U1_U2_U210         U1_ALL_OK1 U1_U2_N18761815 U1_U2_N18760891 OR2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
E_U1_U2_ABM63         U1_U2_N18760191 0 VALUE { IF(V(U1_U2_RAMPCLAMP1)<0.5 &
+  V(U1_U2_SW_ON1)>0.5, 1, 0)    }
L_U1_U2_L6         U1_U2_N18760177 U1_U2_N18760213  10nH  
X_U1_U2_U214         U1_U2_SW_OFF1 U1_U2_SW_OFF_N1 INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
R_U1_U2_R76         U1_U2_OUT1 U1_U2_GATE1  300K  
X_U1_U2_U212         U1_U2_SW_ON1 U1_U2_N18760559 ONE_SHOT PARAMS:  T=20k  
L_U1_U2_L4         U1_U2_N18760764 GND  0.01nH  
X_U1_U2_U192         U1_U2_LIMIT1 U1_U2_N18760493 INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U1_U2_S14    U1_U2_EN2_OK 0 VOUT_0 GND DRIVER1_U1_U2_S14 
X_U1_U2_U203         U1_ALL_OK1 U1_U2_GATE_DRV_N1 INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
E_U1_U2_E57         U1_U2_RISING1 0 TABLE { V(PWR_PAD_INT, 0) } 
+ ( (0, 0) (3,90u) (6,249u) (8, 275u)(13.5, 356u)(18, 433.6u)(28, 523.7u)(36,
+  586.7u) )
C_U1_U2_C72         U1_U2_N18760764 VOUT_0  1n   
L_U1_U2_L1         U1_U2_GATE1 U1_U2_N18760075  20nH  
E_U1_U2_E55         U1_U2_VGS1 0 VALUE { V(U1_U2_N18760075, U1_U2_OUT1) }
X_U1_U2_U213         U1_U2_N18760891 U1_U2_SW_OFF_N1 U1_U2_SW_ON1
+  AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
V_U1_U2_V103         U1_U2_N18760513 0 0.1
G_U1_U2_ABMII44         U1_U2_GATE1 U1_U2_OUT1 VALUE { IF(V(U1_U2_SW_OFF1)>0.5
+  & V(U1_U2_VGS1)>1m,50u,0)    }
V_U1_U2_V104         U1_U2_N18760220 U1_U2_OUT1 1
X_U1_U2_S12    U1_U2_LIMIT1 0 U1_U2_RAMP1 0 DRIVER1_U1_U2_S12 
V_U1_U2_V110         N298546 U1_U2_N187603021 45
X_U1_U2_U215         U1_U2_N18761321 U1_U2_N18761863 U1_U2_RAMPCLAMP1 N18761921
+  SRLATCHRHP_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
V_U1_U2_V111         0 U1_U2_N18760057 -5.7mVdc
V_U1_U2_V109         U1_U2_N18760666 GND 65
X_U1_U2_U186         U1_U2_N18760559 U1_U2_N18760920 U1_U2_N18761321
+  AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U1_U2_U204         U1_U2_N187603021 VOUT_0 D_D
V_U1_U2_V108         U1_U2_N187617650 U1_U2_N18760051 2.1
G_U1_U2_G30         U1_U2_OUT1 U1_U2_GATE1 U1_U2_N18760143 0 1
X_U1_U2_U193         U1_U2_N18760814 N298546 D_D1
X_U1_U2_F4    U1_U2_OUT1 VOUT_0 N298546 GND DRIVER1_U1_U2_F4 
X_U1_U2_U185         OUT1_INT U1_U2_N18760513 U1_U2_N18760920 COMP_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U1_U2_U218         STANDBY U1_U2_N18761319 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U1_U2_U197         U1_U2_N18761596 U1_U2_LIMIT1 U1_U2_SW_OFF1 OR2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U1_U2_U205         U1_U2_GATE1 U1_U2_N187617650 D_D
V_U1_U2_V105         VOUT_0 U1_U2_N18760814 0.6
E_U1_U2_ABM60         U1_U2_N18760172 0 VALUE { IF(V(U1_U2_SW_OFF1)<0.5 &
+  V(U1_U2_SW_ON1)<0.5 & V(U1_U2_VGS1)>1m,
+  LIMIT((V(U1_U2_RAMP1)-V(OUT1_INT))*1.3m,150u, -150u), 0)    }
R_U1_U2_R78         U1_U2_N187601081 U1_U2_N18760098  1u  
X_U1_U2_U206         N298546 U1_U2_N18760666 D_D
R_U1_U2_R74         U1_U2_N18760582 U1_ALL_OK1  100  
E_U1_U2_E58         U1_U2_N18760175 U1_U2_N18760213 VALUE {
+  IF(V(U1_U2_N18760175, VOUT_0)>0, -V(U1_U2_N18760175, VOUT_0), 0) }
C_U1_U2_C68         0 U1_U2_N18760098  1f IC=0  
X_U1_U2_U198         U1_U2_N18761543 U1_U2_N18760606 U1_U2_N18761596
+  AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
C_U1_U2_C65         0 U1_ALL_OK1  0.1n IC=0  
E_U1_U2_GAIN15         U1_U2_N18760849 0 VALUE {48 * V(U1_U2_VO_GLTH1)}
E_U1_U2_E60         U1_U2_N18760522 GND N298546 GND 1
V_U1_U2_V112         CRNT_LIMIT1 U1_U2_LIMIT1 0Vdc
X_U1_U2_U199         U1_U2_N18760606 U1_U2_N18761520 ONE_SHOT PARAMS:  T=120000
+   
X_U1_U2_U187         U1_U2_N18760606 U1_U2_N18760603 D_D1
G_U1_U2_G28         U1_U2_N18760220 U1_U2_GATE1 U1_U2_B4_VT1 0 1u
E_U1_U2_ABM61         U1_U2_N18761347 0 VALUE { V(PWR_PAD_INT)    }
X_U1_U2_U219         U1_U2_N18761319 U1_U2_N18760140 U1_U2_N18760582
+  AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
L_U1_U2_L7         U1_U2_N18760522 U1_U2_N18760051  1nH  
C_U1_U2_C71         0 U1_U2_N18760143  1f IC=0  
V_U1_U2_V107         U1_U2_N18761609 0 2.02
C_U1_U2_C66         U1_U2_N18760606 0  1u IC=1  
X_U1_U2_U195         U1_U2_RAMP1 U1_U2_N18761347 D_D1
E_U1_U2_E62         U1_U2_N18760603 0 U1_U2_GATE_DRV_N1 0 1
X_U1_U2_U7         U1_U2_N18760914 U1_U2_N18828620 VRON_1 0 RVAR PARAMS: 
+  RREF=1
E_U1_U4_ABM36         U1_U4_N657517 0 VALUE { IF(V(U1_U4_VC_CLF1)>V(U1_U4_VFB),
+  1, 0)    }
X_U1_U4_U22         U1_U4_VC_CLF1 U1_U4_N672183 D_D
X_U1_U4_U31         CRNT_LIMIT1 U1_U4_N656941 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U1_U4_S4    U1_U4_N656991 0 U1_U4_N658019 0 CURNT_FOLDBK1_U1_U4_S4 
X_U1_U4_U28         U1_U4_N657239 U1_U4_N657111 INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U1_U4_U55         U1_U4_N657501 STANDBY U1_U4_N657785 OR2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U1_U4_U27         U1_U4_N657269 U1_U4_N657111 U1_U4_CUR1 AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
V_U1_U4_V4         U1_U4_N672183 U1_U4_VFB 4
E_U1_U4_ABM38         U1_U4_N658001 0 VALUE { IF( V(FAULT_DETECT1)>0.5,  
+ +V(U1_ALL_OK1), 0)   }
R_U1_U4_R14         RST_RETRY1 U1_U4_N657121  150  
X_U1_U4_U25         U1_U4_N657517 U1_U4_N657785 U1_CRNT_FB1 N657579
+  SRLATCHSHP_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
C_U1_U4_C12         RST_RETRY1 0  1u IC=0  
R_U1_U4_R9         U1_U4_N657269 U1_U4_N657239  {1.1u/(0.693*1n)}  
G_U1_U4_ABMII2         U1_U4_N657523 U1_U4_VC_CLF1 VALUE { V(U1_U4_CUR1)    }
X_U1_U4_U46         U1_U4_N657121 RST_RETRY1 D_D1
V_U1_U4_V3         U1_U4_N657523 0 5Vdc
X_U1_U4_U56         U1_CRNT_FB1 RST_RETRY1 STANDBY U1_U4_N657413 OR3_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U1_U4_U18         U1_U4_N658001 U1_U4_N656859 ONE_SHOT PARAMS:  T=350000  
C_U1_U4_C1         U1_U4_N657239 0  1n IC=0 
X_U1_U4_U54         U1_U4_N656973 RST_RETRY1 U1_U4_N656991 OR2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
G_U1_U4_ABMII3         0 U1_U4_N658019 VALUE { IF(V(U1_U4_N656859) >0.5, 16.67u
+  ,0)    }
X_U1_U4_U34         U1_U4_N656859 U1_U4_N656901 INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U1_U4_U20         U1_U4_N656901 U1_U4_N656973 ONE_SHOT PARAMS:  T=1.1k  
C_U1_U4_C25         U1_U4_N658019 0  5n IC=0  
C_U1_U4_C2         U1_U4_VC_CLF1 0  1u IC=0  
X_U1_U4_U52         EN1_OK UVLO_OK U1_U4_N657501 NAND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U1_U4_U10         U1_U4_N658019 U1_U4_N658097 U1_U4_N656961 COMP_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U1_U4_U19         U1_U4_N656967 U1_U4_N657121 ONE_SHOT PARAMS:  T=1.1k  
X_U1_U4_U29         U1_U4_N656941 U1_U4_N656961 U1_U4_N656967 AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U1_U4_S6    U1_U4_N657413 0 U1_U4_VC_CLF1 0 CURNT_FOLDBK1_U1_U4_S6 
X_U1_U4_U30         U1_U4_N657239 U1_U4_N657269 D_D
V_U1_U4_V5         U1_U4_N658097 0 1
E_U1_U4_ABM37         U1_U4_N657269 0 VALUE { {IF(FOLDBACK>0.5, V(CRNT_LIMIT1),
+  0)}    }
E_U1_U4_ABM39         U1_U4_VFB 0 VALUE { 1.1*{No_of_Foldback}    }
R_R7         ILIM N625182  1m  
V_U2_V3         U2_N5294513 0 300m
V_U2_V6         U2_N229700 0 2
V_U2_V4         U2_N529529 0 2
X_U2_U9         SEL1_INT U2_N529345 U2_N5292953 U2_N529795 COMPHYS_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
R_U2_R21         U2_N529795 SEL1_OK  14.43  
X_U2_U1         PWR_PAD_INT U2_N229598 U2_N2295123 U2_N520995 COMPHYS_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
V_U2_V11         U2_N5292953 0 300m
V_U2_Vuv_hys         U2_N2295123 0 100m
V_U2_V12         U2_N529345 0 2
V_U2_V2         U2_N229598 0 2.6
R_U2_R20         U2_N522418 LATCH_OK  14.43  
R_U2_R18         U2_N520995 UVLO_OK  14.43  
X_U2_U6         LATCH_INT U2_N229416 U2_N2293383 U2_N522418 COMPHYS_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
R_U2_R19         U2_N522261 DIAG_EN_OK  14.43  
C_U2_C29         UVLO_OK 0  1u IC=0  
C_U2_C32         SEL1_OK 0  1u IC=0  
V_U2_V9         U2_N2293383 0 260m
C_U2_C31         LATCH_OK 0  1u IC=0  
C_U2_C30         DIAG_EN_OK 0  1u IC=0  
V_U2_V10         U2_N229416 0 2
X_U2_U4         DIA_EN_INT U2_N229700 U2_N2296343 U2_N522261 COMPHYS_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
C_U2_C33         EN1_OK 0  1u IC=0  
X_U2_U2         EN1_INT U2_N529529 U2_N5294513 U2_N529839 COMPHYS_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
V_U2_V5         U2_N2296343 0 250m
R_U2_R22         U2_N529839 EN1_OK  36  
R_U7_R23         U7_N16663074 U7_N16663088  4.28838842749882  
C_U7_C24         U7_N16663088 U7_N16663102  0.131223014206316 IC=0 
E_U7_ABM1         U7_N16665516 0 VALUE {
+  (4E-07*V(TJ)*V(TJ)*V(TJ)-3E-06*V(TJ)*V(TJ) + 0.031*V(TJ) + 6.8934)*1m    }
C_U7_C3         U7_N16652394 U7_N16652408  0.00156860060596144 IC=0 
R_U7_R25         U7_N16663102 U7_N16663116  1.01299701352948  
R_U7_R24         U7_N16663088 U7_N16663102  5.20179210731831  
C_U7_C23         U7_N16663074 U7_N16663088  0.159161099506511 IC=0 
R_U7_R1         TJ U7_N16652380  1.70350970263087  
R_U7_R2         U7_N16652380 U7_N16652394  0.0012982071687424  
C_U7_C10         U7_N16652492 U7_N16652506  0.18873302253055 IC=0 
V_U7_V2         U7_N16670009 0 25
R_U7_R7         U7_N16652450 U7_N16652464  1.40182236069602  
C_U7_C8         U7_N16652464 U7_N16652478  0.0402925270402378 IC=0 
R_U7_R10         U7_N16652492 U7_N16652506  8.04763581727398  
C_U7_C7         U7_N16652450 U7_N16652464  0.0215083312410057 IC=0 
R_U7_R31         U7_N16665516 VRON_1  1  
R_U7_R4         U7_N16652408 U7_N16652422  0.000971414721383412  
E_U7_ABM5         U7_N16669137 0 VALUE {
+  if((V(TJ)-V(TCON))>50-(25*V(TSW_1)),1,0)    }
R_U7_R35         U7_N16669137 TSW_1  1  
C_U7_C35         0 TSW_1  1.443n  
C_U7_C21         TCON U7_N16663060  9.76045777313686 IC=0 
C_U7_C22         U7_N16663060 U7_N16663074  2765.98277968317 IC=0 
R_U7_R5         U7_N16652422 U7_N16652436  0.354941579976625  
G_U7_ABM3I3         0 TCON VALUE { (V(PWR_PAD_INT)-V(VOUT_0))*V(I_SENSE_1)    }
G_U7_ABM3I1         0 TJ VALUE { (V(PWR_PAD_INT)-V(VOUT_0))*V(I_SENSE_1)    }
X_U7_U220         TJ U7_N16669905 U7_N16670009 TSD_1 COMPHYS_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5
R_U7_R3         U7_N16652394 U7_N16652408  0.0518570668648809  
R_U7_R21         TCON U7_N16663060  8.21838930588286  
R_U7_R9         U7_N16652478 U7_N16652492  4.93550404357638  
R_U7_R6         U7_N16652436 U7_N16652450  0.38802544550073  
C_U7_C25         U7_N16663102 U7_N16663116  0.673935074834915 IC=0 
C_U7_C31         0 VRON_1  1n  
R_U7_R22         U7_N16663060 U7_N16663074  0.000241909027017143  
C_U7_C4         U7_N16652408 U7_N16652422  0.507456171763547 IC=0 
V_U7_V1         U7_N16669905 0 150
C_U7_C1         TJ U7_N16652380  47.0725543615777 IC=0 
C_U7_C5         U7_N16652422 U7_N16652436  0.00244363042081159 IC=0 
C_U7_C2         U7_N16652380 U7_N16652394  0.00349151779553678 IC=0 
C_U7_C9         U7_N16652478 U7_N16652492  0.0895884862324653 IC=0 
R_U7_R8         U7_N16652464 U7_N16652478  2.72660709651619  
C_U7_C6         U7_N16652436 U7_N16652450  0.0180642544195378 IC=0 
V_U7_TAMB         U7_TEMP_AMB 0 {Temp_Amb}
R_U7_R11         U7_N16652506 U7_N16677557  5.41685533235348  
C_U7_C11         U7_N16652506 U7_N16677557  1.24002047850373 IC=0 
C_U7_C12         U7_N16677557 U7_TEMP_AMB  12.0401077435784 IC=0 
R_U7_R12         U7_N16677557 U7_TEMP_AMB  6.62654497362029  
C_U7_C27         U7_N16678509 U7_TEMP_AMB  3.20277628920644 IC=0 
C_U7_C26         U7_N16663116 U7_N16678509  0.538503437063996 IC=0 
R_U7_R26         U7_N16663116 U7_N16678509  6.26104040708917  
R_U7_R27         U7_N16678509 U7_TEMP_AMB  2.7951879338709  
R_R6         ILIM VBB_1  1T  
E_E10         VBB_1 GND VBB GND 1
.PARAM  ksns=5000 icl_float=42 foldback=1 no_of_foldback=7 kcl=160 ron=8m
+  fix_cl_value=94 fixed_cl=0
.ENDS   TPS1HB08A-Q1_TRANS
*$
.subckt TPS1HB08A-Q1_H1 1 2 3 4  
H_H1         3 4 VH_H1 {{KCL}*1000}
VH_H1         1 2 0V
.PARAM kcl=160
.ends TPS1HB08A-Q1_H1
*$
.subckt MUX_U3_S7 1 2 3 4  
S_U3_S7         3 4 1 2 _U3_S7
RS_U3_S7         1 2 1G
.MODEL         _U3_S7 VSWITCH Roff=1G Ron=1m Voff=0.4 Von=0.6
.ends MUX_U3_S7
*$
.subckt MUX_U3_S8 1 2 3 4  
S_U3_S8         3 4 1 2 _U3_S8
RS_U3_S8         1 2 1G
.MODEL         _U3_S8 VSWITCH Roff=1G Ron=1m Voff=0.4 Von=0.6
.ends MUX_U3_S8
*$
.subckt MUX_U3_S5 1 2 3 4  
S_U3_S5         3 4 1 2 _U3_S5
RS_U3_S5         1 2 1G
.MODEL         _U3_S5 VSWITCH Roff=1G Ron=1m Voff=0.4 Von=0.6
.ends MUX_U3_S5
*$
.subckt CURLIM_OPENLD1_U1_U1_S4 1 2 3 4  
S_U1_U1_S4         3 4 1 2 _U1_U1_S4
RS_U1_U1_S4         1 2 1G
.MODEL         _U1_U1_S4 VSWITCH Roff=1T Ron=1m Voff=0.1V Von=0.9V
.ends CURLIM_OPENLD1_U1_U1_S4
*$
.subckt DRIVER1_U1_U2_F5 1 2 3 4  
F_U1_U2_F5         3 4 VF_U1_U2_F5 1
VF_U1_U2_F5         1 2 0V
.ends DRIVER1_U1_U2_F5
*$
.subckt DRIVER1_U1_U2_H13 1 2 3 4  
H_U1_U2_H13         3 4 VH_U1_U2_H13 1
VH_U1_U2_H13         1 2 0V
.ends DRIVER1_U1_U2_H13
*$
.subckt DRIVER1_U1_U2_S13 1 2 3 4  
S_U1_U2_S13         3 4 1 2 _U1_U2_S13
RS_U1_U2_S13         1 2 1G
.MODEL         _U1_U2_S13 VSWITCH Roff=1e5 Ron=1u Voff=0.1 Von=0.9
.ends DRIVER1_U1_U2_S13
*$
.subckt DRIVER1_U1_U2_S14 1 2 3 4  
S_U1_U2_S14         3 4 1 2 _U1_U2_S14
RS_U1_U2_S14         1 2 1G
.MODEL         _U1_U2_S14 VSWITCH Roff=1e7 Ron=10K Voff=0.1 Von=0.9
.ends DRIVER1_U1_U2_S14
*$
.subckt DRIVER1_U1_U2_S12 1 2 3 4  
S_U1_U2_S12         3 4 1 2 _U1_U2_S12
RS_U1_U2_S12         1 2 1G
.MODEL         _U1_U2_S12 VSWITCH Roff=1e7 Ron=1m Voff=0.1 Von=0.9
.ends DRIVER1_U1_U2_S12
*$
.subckt DRIVER1_U1_U2_F4 1 2 3 4  
F_U1_U2_F4         3 4 VF_U1_U2_F4 1
VF_U1_U2_F4         1 2 0V
.ends DRIVER1_U1_U2_F4
*$
.subckt CURNT_FOLDBK1_U1_U4_S4 1 2 3 4  
S_U1_U4_S4         3 4 1 2 _U1_U4_S4
RS_U1_U4_S4         1 2 1G
.MODEL         _U1_U4_S4 VSWITCH Roff=1e7 Ron=1m Voff=0.1V Von=0.9V
.ends CURNT_FOLDBK1_U1_U4_S4
*$
.subckt CURNT_FOLDBK1_U1_U4_S6 1 2 3 4  
S_U1_U4_S6         3 4 1 2 _U1_U4_S6
RS_U1_U4_S6         1 2 1G
.MODEL         _U1_U4_S6 VSWITCH Roff=1E7 Ron=1m Voff=0.1V Von=0.9V
.ends CURNT_FOLDBK1_U1_U4_S6
*$
.subckt d_d 1 2
d1 1 2 dd
.model dd d
+ is=1e-015
+ n=0.01
+ tt=1e-011
.ends d_d
*$
.subckt one_shot in out
+ params:  t=100
s_s1         meas 0 reset2 0 s1
e_abm1         ch 0 value { if( v(in)>0.5 | v(out)>0.5,1,0)    }
r_r2         reset2 reset  0.1  
e_abm3         out 0 value { if( v(meas)<0.5 & v(ch)>0.5,1,0)    }
r_r1         meas ch  {t} 
c_c2         0 reset2  1.4427n  
c_c1         0 meas  1.4427n  
e_abm2         reset 0 value { if(v(ch)<0.5,1,0)    }
.model s1 vswitch
+ roff=1e+009
+ ron=1
+ voff=0.25
+ von=0.75
.ends one_shot
*$
.subckt d_d1 1 2
d1 1 2 dd1
.model dd1 d
+ is=1e-015
+ tt=1e-011
+ rs=0.05
+ n=0.1
.ends d_d1
*$
.subckt srlatchrhp_basic_gen s r q qb params: vdd=1 vss=0 vthresh=0.5 
gq 0 qint value = {if(v(r) > {vthresh},-5,if(v(s)>{vthresh},5, 0))}
cqint qint 0 1n
rqint qint 0 1000meg
d_d10 qint my5 d_d1
v1 my5 0 {vdd}
d_d11 myvss qint d_d1
v2 myvss 0 {vss} 
eq qqq 0 qint 0 1
x3 qqq qqqd1 buf_basic_gen params: vdd={vdd} vss={vss} vthresh={vthresh}
rqq qqqd1 q 1
eqb qb 0 value = {1-v(q)} 
cdummy1 q 0 1n 
cdummy2 qb 0 1n
.ic v(qint) {vss}
.model d_d1 d
+ is=1e-015
+ tt=1e-011
+ rs=0.05
+ n=0.1
.ends srlatchrhp_basic_gen
*$
.model NMOS01_TPS2HB08 nmos
+ vto=2.02
+ kp=156250
+ lambda=0.001
*$
.subckt srlatchshp_basic_gen s r q qb params: vdd=1 vss=0 vthresh=0.5 
gq 0 qint value = {if(v(s) > {vthresh},5,if(v(r)>{vthresh},-5, 0))}
cqint qint 0 1n
rqint qint 0 1000meg
d_d10 qint my5 d_d1
v1 my5 0 {vdd}
d_d11 myvss qint d_d1
v2 myvss 0 {vss} 
eq qqq 0 qint 0 1
x3 qqq qqqd1 buf_basic_gen params: vdd={vdd} vss={vss} vthresh={vthresh}
rqq qqqd1 q 1
eqb qb 0 value = {1-v(q)} 
cdummy1 q 0 1n 
cdummy2 qb 0 1n 
.ic v(qint) {vss}
.model d_d1 d
+ is=1e-015
+ tt=1e-011
+ rs=0.05
+ n=0.1
.ends srlatchshp_basic_gen
*$
.SUBCKT NOR3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR3_BASIC_GEN
*$
.SUBCKT NAND2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NAND2_BASIC_GEN
*$
.SUBCKT NAND3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NAND3_BASIC_GEN
*$
.SUBCKT NOR2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR2_BASIC_GEN
*$
.SUBCKT AND3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND3_BASIC_GEN
*$
.SUBCKT COMPHYS_BASIC_GEN INP INM HYS OUT PARAMS: VDD=1 VSS=0 VTHRESH=0.5	
EIN INP1 INM1 INP INM 1 
EHYS INP1 INP2 VALUE { IF( V(1) > {VTHRESH},-V(HYS),0) }
EOUT OUT 0 VALUE { IF( V(INP2)>V(INM1), {VDD} ,{VSS}) }
R1 OUT 1 1
C1 1 0 5n
RINP1 INP1 0 1K
.ENDS COMPHYS_BASIC_GEN
*$
.SUBCKT INV_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS INV_BASIC_GEN
*$
.SUBCKT OR2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR2_BASIC_GEN
*$
.SUBCKT OR3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR3_BASIC_GEN
*$
.SUBCKT COMP_BASIC_GEN INP INM Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5	
E_ABM Yint 0 VALUE {IF (V(INP) > 
+ V(INM), {VDD},{VSS})}
R1 Yint Y 1
C1 Y 0 1n
.ENDS COMP_BASIC_GEN
*$
.SUBCKT AND2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND2_BASIC_GEN
*$
.SUBCKT RVAR 101 102 201 202 PARAMS: RREF=1
rin 201 202 1G
r 301 0 {rref}
fcopy 0 301 vsense 1
eout 101 106 poly(2) 201 202 301 0 0 0 0 0 1
vsense 106 102 0
.ENDS RVAR
*$
.SUBCKT BUF_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS BUF_BASIC_GEN
*$
.SUBCKT INV_DELAY_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY = 10n 
E_ABMGATE1    YINT1 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT1 YINT2 1
CINT YINT2 0 {DELAY*1.3}
E_ABMGATE2    YINT3 0 VALUE {{IF(V(YINT2) > {VTHRESH} , 
+ {VSS},{VDD})}}
RINT2 YINT3 Y 1
CINT2 Y 0 1n
.ENDS INV_DELAY_BASIC_GEN
*$
.SUBCKT BUF_DELAY_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY = 10n 
E_ABMGATE1    YINT1 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT1 YINT2 1
CINT YINT2 0 {DELAY*1.443}
E_ABMGATE2    YINT3 0 VALUE {{IF(V(YINT2) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT2 YINT3 Y 1
CINT2 Y 0 1n
.ENDS BUF_DELAY_BASIC_GEN
*$
.subckt asymmetric_delay inp  out params: rising_edge_delay=1 vthresh=0.5
+  falling_edge_delay=1 vdd=1 vss=0
e_abm3         inp1 0 value { if(v(inp) > {vthresh}, {vdd} , {vss})    }
e_abm1         yin4 0 value { if(v(yin3) > {vthresh}, {vdd} , {vss})    }
e_abm2         yin2 0 value { if(v(yin1) > {vthresh}, {vdd} , {vss})    }
r_rint         inp1 yin1  1  
c_cint         yin1 0  {1.443*rising_edge_delay} 
d_d10         yin1 inp1 d_d1
r_r1         yin4 out  1  
r_rout         yin2 yin3  1  
c_cout         yin3 0 {1.443*falling_edge_delay} 
c_c1         0 out  1n   
d_d11        yin2 yin3 d_d1
.model d_d1 d
+ is=1e-015
+ tt=1e-011
+ rs=0.005
+ n=0.1
.ends asymmetric_delay
*$
.SUBCKT MUX2_BASIC_GEN A B S Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE  YINT 0 VALUE {{IF(V(S) > {VTHRESH},  
+ V(B),V(A))}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS MUX2_BASIC_GEN
*$
.model SMCJ33A D(IS=.1u RS=0.2 CJO=80000p M=1.3 VJ=0.4 ISR=.008u N=1.05 
+IKF=1m BV=34.3 NBV=20 IBV=10u TT=4n EG=.84 TRS1=.1m) 
*$