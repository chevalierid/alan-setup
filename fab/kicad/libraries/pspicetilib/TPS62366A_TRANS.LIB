*$
* TPS62366A
*****************************************************************************
* (C) Copyright 2013 Texas Instruments Incorporated. All rights reserved.                                            
*****************************************************************************
** This model is designed as an aid for customers of Texas Instruments.
** TI and its licensors and suppliers make no warranties, either expressed
** or implied, with respect to this model, including the warranties of 
** merchantability or fitness for a particular purpose.  The model is
** provided solely on an "as is" basis.  The entire risk as to its quality
** and performance is with the customer
*****************************************************************************
*
* This model is subject to change without notice. Texas Instruments
* Incorporated is not responsible for updating this model.
*
*****************************************************************************
*
** Released by: WEBENCH Design Center, Texas Instruments Inc.
* Part: TPS62366A
* Date: 05APR2013
* Model Type: TRANSIENT
* Simulator: PSPICE
* Simulator Version: 16.2.0.p001
* EVM Order Number: TPS62366AEVM-757
* EVM Users Guide: SLVU690–April 2012
* Datasheet: SLUSAX3 – JULY2012
*
* Model Version: Final 1.00
*
*****************************************************************************
*
* Updates:
*
* Final 1.00
* Release to Web.
*
*****************************************************************************
.SUBCKT TPS62366A_TRANS AGND AVIN EN OV0 OV1 PGND_1 PGND_2 PGND_3 SENSE+ SENSE-
+  SW_1 SW_2 VDD VIN_1 VIN_2 VSEL PARAMS: MODE=1 RAMP_RATE=32
R_R7         IAVG N90281  10k  
X_U1_U6         U1_INNER_REF U1_N204177 D_D1
E_U1_ABM8         U1_N275652 0 VALUE { IF(V(SDWN_N) < 0.5,0,12.5m)    }
C_U1_C3         U1_N202645 U1_INNER_REF  5p  
C_U1_C2         U1_FB SENSE+  4p  
C_U1_C11         0 U1_N273455  1u  
R_U1_R4         U1_FB SENSE+  1m  
X_U1_U1         U1_N202731 U1_N203597 D_D1
E_U1_ABM4         U1_N204041 0 VALUE { LIMIT(((V(U1_IN_REF100)
+  -V(U1_FB))*5.3u),  
+ 500n,-500n)   }
X_U1_U10         U1_N275443 U1_N275652 U1_SOFTSTART U1_N273509 MUX2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_U1_ABM2         U1_N275443 0 VALUE { IF(V(SDWN_N) < 0.5,0,({RAMP_RATE}*1m))  
+   }
E_U1_ABM7         U1_VSET_INT 0 VALUE { LIMIT(V(U1_N273455),V(VSET),0)    }
X_U1_S1    U1_FBREF_SHORT 0 U1_INNER_FB U1_N202655 ErrorAmp_U1_S1 
V_U1_V1         U1_N203597 0 10m
G_U1_ABMII2         U1_N203597 U1_N202731 VALUE { (V(U1_VEQN)*1n) + 1.5u    }
R_U1_R1         U1_N202521 U1_N202509  1.6MEG  
E_U1_ABM5         U1_N202735 0 VALUE { (1.2389e-5*pwr(V(U1_N204063),3))+  
+ (-0.00099405*pwr(V(U1_N204063),2))+  
+ (1.3946*V(U1_N204063))+  
+ -10.643 }
R_U1_R13         U1_VCLAMP U1_N204041  1  
C_U1_C4         0 U1_IN_REF100  1n  
X_U1_U4         U1_N202827 U1_N203729 N204293 U1_SOFTSTART SRLATCHRHP_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
R_U1_R7         0 U1_N202645  6.67k  
E_U1_GAIN2         U1_N204063 0 VALUE {1e3/16 * V(IAVG)}
R_U1_R15         U1_N202735 U1_N204189  1  
R_U1_R5         0 U1_FB  210k  
C_U1_C7         0 U1_VCLAMP  1n  
X_U1_U2         U1_INNER_REF U1_INNER_FB PWMIN COMP_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5
X_U1_U8         PAUSE P100 U1_FBREF_SHORT OR2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
R_U1_R12         U1_N202609 U1_N202619  1  
G_U1_ABMII1         0 U1_INNER_REF VALUE { V(U1_VCLAMP_OUT)    }
R_U1_R3         0 U1_N202509  666k  
C_U1_C1         SENSE+ U1_N202521  10p  
X_U1_S3    SDWN_N 0 U1_INNER_FB U1_INNER_REF ErrorAmp_U1_S3 
X_U1_S2    HS_ON 0 U1_N202731 U1_N202645 ErrorAmp_U1_S2 
X_U1_U3         U1_FB U1_N202703 U1_N202827 COMP_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5
X_U1_U7         U1_VCLAMP U1_N202619 U1_SOFTSTART U1_N204283 MUX2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_U1_ABM6         U1_N204129 0 VALUE { {V(U1_N204189)*((1-(V(VIN_1)-3.6)/6))  
+ }   }
E_U1_ABM9         U1_N202609 0 VALUE { IF(V(U1_VCLAMP) > 125n, 125n,  
+ IF (V(U1_VCLAMP) <-125n,  
+ -125n,V(U1_VCLAMP)))  }
E_U1_GAIN1         U1_INNER_FB 0 VALUE {1 * V(U1_N202521)}
R_U1_R9         U1_IN_REF100 U1_VSET_INT  1  
V_U1_V5         U1_N273479 U1_N273455 25.6m
V_U1_V3         U1_N204177 0 2.0
C_U1_C10         0 U1_VEQN  1n  
C_U1_C9         0 U1_N204189  1n  
R_U1_R6         U1_INNER_REF U1_N202655  1MEG  
R_U1_R10         0 U1_N202731  100MEG  
EABM_V          GABM_REF 0 VALUE = {IF( V(SDWN_N) < 0.5, V(VSET), V(U1_FB))}
G_U1_ABMII3         GABM_REF U1_N273455 VALUE { V(U1_N273509)    }
R_U1_R11         U1_INNER_REF 0  2.4G  
R_U1_R2         U1_N202509 SW_1  333k  
R_U1_R17         0 VSET  1k  
C_U1_C8         0 U1_VCLAMP_OUT  1n  
C_U1_C6         0 U1_N202619  1n  
V_U1_V4         U1_N202703 0 0.5
X_U1_U9         U1_N273479 VSET D_D1
R_U1_R16         U1_N204129 U1_VEQN  1  
X_U1_U5         SDWN_N U1_N203729 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
R_U1_R14         U1_N204283 U1_VCLAMP_OUT  1  
X_U32         N184664 N181478 INV_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U27         MIN_TON_ABS MIN_TON_ABS_N INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U14         HS_ON HS_ON_N INV_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
C_C3         0 IAVG  1n  
X_U16         N48885 N11237 SDWN_N LS_SET AND3_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U11         CLIMIT_HS N133298 SDWN N03055 OR3_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
R_R12         SENSE- SENSE+  2.2MEG  
X_U4         MIN_TOFF MIN_TOFF_N INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U26         N73924 P100 BUF_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
R_R6         0 AGND  1k  
R_R2         0 N39158  10k  
X_U24         PWMIN N51036 PWM AND2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U25         CLIMIT_LS SDWN N50514 OR2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U31         OV0 OV1 VSEL VSET MUX2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U30         NEG_CL_LIMIT_LS NEG_CL_LIMIT_LS_INV INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U21         N181478 SDWN N15895 LS_RST OR3_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U20         LS_ON LS_ON_N INV_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U22         N16514 PWM N15895 AND2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U19         N73924 N73876 D_D1
C_U3_C2         0 U3_N10820  480f  
V_U3_V5         U3_N11301 0 1.2
V_U3_V4         U3_N13984 0 667m
X_U3_S1    U3_N12733 0 U3_N10820 0 Mintoff_U3_S1 
I_U3_I1         U3_N11301 U3_N10820 DC 8u  
X_U3_U9         U3_N13984 U3_N10820 MIN_TOFF COMP_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5
X_U3_U11         DRVL_PRE U3_N12733 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U3_U10         U3_N10820 U3_N11301 D_D1
R_R10         0 VSEL  1k  
R_R1         N03055 HS_RST  800  
X_U12         N03055 HS_RST D_D1
X_U17         N199056 N11237 INV_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U7         LS_ON_PRE SDWN_N PWM HS_SET AND3_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U6         SDWN_N SDWN INV_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U13         HS_ON_N N10162 N48885 AND2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
E_GAIN1         N73876 0 VALUE {1 * V(HS_ON)}
X_U18         LS_SET LS_RST N70988 LS_ON_PRE SRLATCHRHP_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5
C_C2         0 N73924  100p  
R_R3         N73876 N73924  144k  
R_R9         VIN_1 AVIN  1m  
X_U9         PWM N10162 INV_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U23         CLIMIT_HS N50514 N66056 N51036 SRLATCHRHP_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5
R_U7_R2         0 ISENSE_LS  1k  
X_U7_U7         0 U7_N20595 DRVH_PRE U7_PMOS_CTRL MUX2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5
E_U7_ABM2         U7_N20687 0 VALUE { 1m*((-302.17/(V(VIN_1) + 0.88))+912.92)  
+   }
R_U7_R5         U7_N23507 U7_N23865  1  
X_U7_H1    VIN_1 U7_N00276 ISENSE_HS 0 Driver_U7_H1 
X_U7_H2    U7_N00730 0 0 ISENSE_LS Driver_U7_H2 
V_U7_V2         SW_1 U7_N12326 545m
C_U7_C3         0 U7_N23865  1n  
X_U7_U8         0 U7_N23865 DRVL_PRE U7_NMOS_CTRL MUX2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5
X_U7_S2    DRVL_PRE 0 SW_1 U7_N00730 Driver_U7_S2 
R_U7_R7         0 U7_NMOS_CTRL  1k  
C_U7_C2         0 U7_N20595  1n  
X_U7_U3         LS_ON U7_N00587 DRVL_PRE AND2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U7_U5         U7_N00730 U7_N11135 D_D1special
X_U7_S1    DRVH_PRE 0 U7_N00276 SW_1 Driver_U7_S1 
X_U7_U1         HS_ON U7_N00082 BUF_DELAY_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5 DELAY=2n
X_U7_U2         HS_ON U7_N00082 DRVH_PRE AND2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
V_U7_V1         U7_N11135 SW_1 545m
X_U7_U6         U7_N12326 U7_N00276 D_D1special
R_U7_R4         U7_N20687 U7_N20595  1  
R_U7_R1         0 ISENSE_HS  1k  
X_U7_U4         LS_ON U7_N00587 BUF_DELAY_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5 DELAY=2n
E_U7_ABM3         U7_N23507 0 VALUE { 1m*((-219.375/(V(VIN_1) + 0.5))+858.75)  
+   }
R_U7_R6         0 U7_PMOS_CTRL  1k  
X_U34         N184664 MODE N199056 NOR2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5
X_U15         HS_ON_N N70988 LS_ON AND2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
R_R11         0 SENSE-  1k  
X_U28         N10162 MIN_TON_N MIN_TON_ABS_N N133298 AND3_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
C_C1         0 HS_RST  10p  
R_R4         0 EN  7.2MEG  
X_U3         MIN_TON MIN_TON_N INV_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
C_U5_C2         0 U5_N06443  1n  
X_U5_U5         VIN_1 U5_N03743 U5_OUT COMP_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5
C_U5_C1         0 U5_N03815  1n  
C_U5_C4         0 U5_N32978  1n  
E_U5_ABM3         U5_N34592 0 VALUE { (V(U5_N32978) + 0.97 )    }
C_U5_C3         0 U5_N03743  1n  
E_U5_ABM5         U5_ISENSE_LS_N 0 VALUE { (-V(ISENSE_LS))    }
E_U5_ABM2         U5_N32972 0 VALUE { (V(U5_VDD_UVLO) * -50m)    }
E_U5_ABM4         U5_N29585 0 VALUE { IF(V(U5_EN_OUT) >0.5, (V(U5_N06443)
+  +2.41),  
+ (V(U5_N06443) +1.3) )   }
V_U5_V3         U5_N12138 0  
+PULSE 0 1 1u 10n 10n 1000 2000
R_U5_R3         U5_N29585 U5_N03743  1  
C_U5_C5         0 U5_N34490  1n  
R_U5_R4         U5_N32972 U5_N32978  1  
X_U5_U11         U5_N67226 U5_N16412284 D_D1
V_U5_V5         U5_N164227920 0 0
R_U5_R6         U5_N67226 U5_N16412284  100  
R_U5_R2         U5_N06376 U5_N06443  1  
X_U5_U2         DRVL_PRE U5_N03489 CLIMIT_LS AND2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U5_U1         U5_N11335 ISENSE_LS U5_N03489 COMP_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5
R_U5_R5         U5_N34592 U5_N34490  1  
R_U5_R1         EN_LOGIC U5_N03815  56k  
C_U5_C6         0 U5_N16412284  1n  
X_U5_U4         U5_N03655 DRVH_PRE CLIMIT_HS AND2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U5_U7         EN_LOGIC U5_N03815 U5_EN_OUT AND2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
V_U5_V2         U5_N03621 0 4.7
V_U5_V1         U5_N11335 0 4
E_U5_ABM1         U5_N06376 0 VALUE { (V(U5_OUT) * -110m)    }
X_U5_U91         U5_ISENSE_LS_N U5_N66887 U5_N164227920 U5_N67226
+  COMPHYS_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
V_U5_V4         U5_N66887 0 2.5
X_U5_U3         ISENSE_HS U5_N03621 U5_N03655 COMP_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5
E_U5_ABM6         NEG_CL_LIMIT_LS 0 VALUE { (IF(V(U5_N16412284)>0.2,1,0))    }
X_U5_U10         U5_N35697 U5_VDD_UVLO SDWN_N AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U5_U9         U5_OUT U5_EN_OUT U5_N12138 U5_N35697 AND3_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U5_U8         U5_N03815 EN_LOGIC D_D1
X_U5_U6         VDD U5_N34490 U5_VDD_UVLO COMP_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5
R_R8         VIN_1 VIN_2  1m  
E_U6_ABM1         U6_N13835 0 VALUE { IF(V(MODE_LOGIC) > 0.5, 208.5m,-1.5m)   
+  }
X_U6_U14         U6_N15145 DRVH_PRE CAPRIO U6_N20123 SRLATCHRHP_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U6_U16         MODE_LOGIC U6_N16390 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
C_U6_C3         0 U6_N13806  1n  
R_U6_R3         U6_N17195 U6_N16592  360  
X_U6_U15         U6_N16390 U6_N16592 PAUSE AND2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U6_U18         DRVH_PRE DRVL_PRE U6_N17195 NOR2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
C_U6_C4         0 U6_N16592  100p  
X_U6_U17         U6_N16592 U6_N17195 D_D1
R_U6_R4         0 U6_N20123  10k  
R_U6_R1         U6_N13835 U6_N13806  1  
X_U6_U13         DRVL_PRE U6_N14289 U6_N15145 AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U6_U12         SW_1 U6_N13806 U6_N14289 COMP_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5
X_U8         HS_SET HS_RST HS_ON N39158 SRLATCHRHP_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5
X_U29         CAPRIO CAPRIO_INV INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
V_V1         N16514 0 1Vdc
E_ABM2         N90281 0 VALUE { {{IF(V(DRVH_PRE) >
+  0.5,V(ISENSE_HS),V(ISENSE_LS))  
+ }  
+ }  }
X_U10         CAPRIO_INV NEG_CL_LIMIT_LS_INV MODE N184664 MUX2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABM3         MODE 0 VALUE { {MODE}    }
X_U2_U13         U2_N22783 U2_N22811 MIN_TON_ABS COMP_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5
C_U2_C3         0 U2_N14352  5p  
C_U2_C2         0 U2_N10820  6f  
V_U2_V5         U2_N22775 0 1.2
C_U2_C4         0 U2_N22811  480p  
X_U2_S2    U2_N22867 0 U2_N22811 0 Minton_U2_S2 
R_U2_R4         U2_N14527 0  250k  
X_U2_U10         U2_N22811 U2_N22775 D_D1
X_U2_U12         DRVH_PRE U2_N22867 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U2_U11         DRVH_PRE U2_N12733 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U2_U9         U2_N14352 U2_N10820 MIN_TON COMP_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5
V_U2_V4         U2_N22783 0 667m
R_U2_R3         SW_1 U2_N14527  750k  
R_U2_R2         U2_N14527 U2_N14352  1.3MEG  
R_U2_R1         U2_N10820 VIN_1  210k  
I_U2_I1         U2_N22775 U2_N22811 DC 2.911m  
X_U2_S1    U2_N12733 0 U2_N10820 0 Minton_U2_S1 
E_U4_ABM2         U4_N15867 0 VALUE { IF(V(MODE) > 0.8,1,0)    }
R_U4_R2         U4_N15867 MODE_LOGIC  1  
C_U4_C2         0 MODE_LOGIC  1n  
R_U4_R1         U4_N15535 EN_LOGIC  1  
E_U4_ABM1         U4_N15535 0 VALUE { IF(V(EN) > 0.8,1,0)    }
C_U4_C1         0 EN_LOGIC  1n  
.ENDS TPS62366A_TRANS
*$
.subckt ErrorAmp_U1_S1 1 2 3 4  
S_U1_S1         3 4 1 2 _U1_S1
RS_U1_S1         1 2 1G
.MODEL         _U1_S1 VSWITCH Roff=1000e6 Ron=1m Voff=0.4V Von=0.8V
.ends ErrorAmp_U1_S1
*$
.subckt ErrorAmp_U1_S3 1 2 3 4  
S_U1_S3         3 4 1 2 _U1_S3
RS_U1_S3         1 2 1G
.MODEL         _U1_S3 VSWITCH Roff=1 Ron=10G Voff=0.2V Von=0.9V
.ends ErrorAmp_U1_S3
*$
.subckt ErrorAmp_U1_S2 1 2 3 4  
S_U1_S2         3 4 1 2 _U1_S2
RS_U1_S2         1 2 1G
.MODEL         _U1_S2 VSWITCH Roff=100e6 Ron=1m Voff=0.4V Von=0.8V
.ends ErrorAmp_U1_S2
*$
.subckt Mintoff_U3_S1 1 2 3 4  
S_U3_S1         3 4 1 2 _U3_S1
RS_U3_S1         1 2 1G
.MODEL         _U3_S1 VSWITCH Roff=10e6 Ron=1.0 Voff=0.2 Von=0.8
.ends Mintoff_U3_S1
*$
.subckt Driver_U7_H1 1 2 3 4  
H_U7_H1         3 4 VH_U7_H1 1
VH_U7_H1         1 2 0V
.ends Driver_U7_H1
*$
.subckt Driver_U7_H2 1 2 3 4  
H_U7_H2         3 4 VH_U7_H2 1
VH_U7_H2         1 2 0V
.ends Driver_U7_H2
*$
.subckt Driver_U7_S2 1 2 3 4  
S_U7_S2         3 4 1 2 _U7_S2
RS_U7_S2         1 2 1G
.MODEL         _U7_S2 VSWITCH Roff=10e6 Ron=32m Voff=0 Von=1
.ends Driver_U7_S2
*$
.subckt Driver_U7_S1 1 2 3 4  
S_U7_S1         3 4 1 2 _U7_S1
RS_U7_S1         1 2 1G
.MODEL         _U7_S1 VSWITCH Roff=10e6 Ron=44m Voff=0 Von=0.7
.ends Driver_U7_S1
*$
.subckt Minton_U2_S2 1 2 3 4  
S_U2_S2         3 4 1 2 _U2_S2
RS_U2_S2         1 2 1G
.MODEL         _U2_S2 VSWITCH Roff=10e6 Ron=1.0 Voff=0.2 Von=0.8
.ends Minton_U2_S2
*$
.subckt Minton_U2_S1 1 2 3 4  
S_U2_S1         3 4 1 2 _U2_S1
RS_U2_S1         1 2 1G
.MODEL         _U2_S1 VSWITCH Roff=100e6 Ron=1 Voff=0.2 Von=0.8
.ends Minton_U2_S1
*$
*$
.SUBCKT COMP_BASIC_GEN INP INM Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5	

E_ABM Yint 0 VALUE {IF (V(INP) > 
+ V(INM), {VDD},{VSS})}

R1 Yint Y 1

C1 Y 0 1n

.ENDS COMP_BASIC_GEN

*$
.SUBCKT COMPHYS_BASIC_GEN INP INM HYS OUT PARAMS: VDD=1 VSS=0 VTHRESH=0.5	

EIN INP1 INM1 INP INM 1 

EHYS INP1 INP2 VALUE { IF( V(1) > {VTHRESH},-V(HYS),0) }

EOUT OUT 0 VALUE { IF( V(INP2)>V(INM1), {VDD} ,{VSS}) }

R1 OUT 1 1

C1 1 0 5n

RINP1 INP1 0 1K

.ENDS COMPHYS_BASIC_GEN
*$
*$
.SUBCKT COMPHYS2_BASIC_GEN INP INM HYS OUT PARAMS: VDD=1 VSS=0 VTHRESH=0.5	

+ T=10

EIN INP1 INM1 INP INM 1 

EHYS INM2 INM1 VALUE { IF( V(1) > {VTHRESH},-V(HYS)/2,V(HYS)/2) }

EOUT OUT 0 VALUE { IF( V(INP1)>V(INM2), {VDD} ,{VSS}) }

R1 OUT 1 1

C1 1 0 {T*1e-9}

RINP1 INP1 0 10K

RINM2 INM2 0 10K

.ENDS COMPHYS2_BASIC_GEN
*$
.SUBCKT D_D1 1 2
D1 1 2 DD1
.MODEL DD1 D( IS=1e-15 TT=10p Rs=0.05 N=.1 )
.ENDS D_D1
*$
.subckt d_d 1 2
d1 1 2 dd
.model dd d
+ is=1e-015
+ n=0.01
+ tt=1e-011
.ends d_d
*$
.MODEL D_D11 D( IS=1e-15 TT=10p Rs=0.05 N=.1 )
*$
.SUBCKT D_D1special 1 2
D1 1 2 DD1spec
.MODEL DD1spec D( IS=1e-15 TT=10p Rs=0.23 N=.1  )
.ENDS D_D1special
*$
.SUBCKT MUX2_BASIC_GEN A B S Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE  YINT 0 VALUE {{IF(V(S) > {VTHRESH},  
+ V(B),V(A))}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS MUX2_BASIC_GEN
*$
.SUBCKT SRLATCHRHP_BASIC_GEN S R Q QB PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
GQ 0 Qint VALUE = {IF(V(R) > {VTHRESH},-5,IF(V(S)>{VTHRESH},5, 0))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D11
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D11
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr QB 1 
Cdummy1 Q 0 1n 
Cdummy2 QB 0 1n
.IC V(Qint) {VSS}
.ENDS SRLATCHRHP_BASIC_GEN
*$
.SUBCKT BUF_BASIC_GEN A  X PARAMS: VTHRESH=0.5 VDD=1 VSS=0
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH} , + {VDD},{VSS})}}
RINT YINT X 1
CINT X 0 1p
*EVCVS_BUF X 0 VALUE = {0.5 + ( 0.5 * TANH ( (V(A)-{VTHRESH})*1E9))}
.ENDS BUF_BASIC_GEN
*$
.SUBCKT INV_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS INV_BASIC_GEN
*$
.SUBCKT AND2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND2_BASIC_GEN
*$
.SUBCKT AND3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND3_BASIC_GEN
*$
.SUBCKT OR2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR2_BASIC_GEN
*$
.SUBCKT OR3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR3_BASIC_GEN
*$
.SUBCKT NOR2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR2_BASIC_GEN
*$
.SUBCKT BUF_DELAY_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY = 10n 
E_ABMGATE1    YINT1 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT1 YINT2 1
CINT YINT2 0 {DELAY*1.3}
E_ABMGATE2    YINT3 0 VALUE {{IF(V(YINT2) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT2 YINT3 Y 1
CINT2 Y 0 1n
.ENDS BUF_DELAY_BASIC_GEN
*$
.SUBCKT LDCR IN OUT
+ PARAMs:  L=1u DCR=0.01 IC=0
L	IN 1  {L} IC={IC}
RDCR	1 OUT {DCR}
.ENDS LDCR
*$
.SUBCKT CESR IN OUT
+ PARAMs:  C=100u ESR=0.01 X=2 IC=0
C	IN 1  {C*X} IC={IC}
RESR	1 OUT {ESR/X}
.ENDS CESR
*$