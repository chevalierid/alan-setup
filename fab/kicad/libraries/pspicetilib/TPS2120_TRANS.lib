*$
* TPS2120
*****************************************************************************
* (C) Copyright 2018 Texas Instruments Incorporated. All rights reserved.
*****************************************************************************
** This model is designed as an aid for customers of Texas Instruments.
** TI and its licensors and suppliers make no warranties, either expressed
** or implied, with respect to this model, including the warranties of
** merchantability or fitness for a particular purpose. The model is
** provided solely on an "as is" basis. The entire risk as to its quality
** and performance is with the customer.
*****************************************************************************
*
** Released by: WEBENCH Design Center, Texas Instruments Inc.
* Part: TPS2120
* Date: 30JUL2018
* Model Type: Transient
* Simulator: PSPICE
* Simulator Version: 16.2.0.s003
* EVM Order Number:
* EVM Users Guide:
* Datasheet:
*
* Model Version: Final 1.00
*
*****************************************************************************
*
* Updates:
*
* Final 1.00
* Release to Web
*
*****************************************************************************
* Model Usage Notes:
*
* A. Features that have been modelled
*	1. Device functional mode
*	2. Input setting time and Output soft-start control
*	3. Current Limit 
*	4. Over and under voltage
*	5. Fast Reverse current blocking
*	6. Output voltage dip and fast switch over control
*	
*
* B. Model Limitations and Features that haven't been modelled
*	1. Thermal operation and quiscent current are not modelled
*
*****************************************************************************
*$
.SUBCKT TPS2120_TRANS GND ILIM IN1 IN1_1 IN1_2 IN2 IN2_1 IN2_2 OV1 OV2 PR1 SEL SS ST VOUT_0 VOUT_1 VOUT_2 VOUT_3 VOUT_4 VOUT_5  
R_ROUT02         VOUT_0 VOUT_2  1m TC=0,0
R_ROUT03         VOUT_0 VOUT_3  1m TC=0,0
R_ROUT04         VOUT_0 VOUT_4  1m TC=0,0
R_ROUT05         VOUT_0 VOUT_5  1m TC=0,0
R_RIN11         IN1 IN1_1  1m TC=0,0
R_RIN12         IN1 IN1_2  1m TC=0,0
R_RIN21         IN2 IN2_1  1m TC=0,0
R_RIN22         IN2 IN2_2  1m TC=0,0
X_U_GENVIN_U32         ENIN1 TSET U_GENVIN_N123650 AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U_GENVIN_U53         ENIN1 U_GENVIN_SET1B U_GENVIN_OK1 U_GENVIN_N138656
+  AND3_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_GENVIN_U29         U_GENVIN_N70721 VOUT U_GENVIN_OK2 COMP_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5
V_U_GENVIN_V18         U_GENVIN_N128000 0 1
X_U_GENVIN_U41         U_GENVIN_N126343 N126639 U_GENVIN_C1 U_GENVIN_N121735
+  U_GENVIN_ENIN1B 0 DFFSR_RHPBASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_GENVIN_U27         VOUT U_GENVIN_N70847 REVERSE1 COMP_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5
X_U_GENVIN_U48         ENIN2 U_GENVIN_ENIN2B INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U_GENVIN_U62         U_GENVIN_N165367 U_GENVIN_T2 ENGATE2 OR2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_GENVIN_U44         U_GENVIN_N123650 U_GENVIN_C1 BUF_DELAY_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5 DELAY=1u
X_U_GENVIN_U37         U_GENVIN_N132222 U_GENVIN_N132230 U_GENVIN_SET2
+  AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
V_U_GENVIN_V16         U_GENVIN_N70917 IN2 3mV
X_U_GENVIN_U51         U_GENVIN_SET1 U_GENVIN_SET1B INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
V_U_GENVIN_V19         U_GENVIN_N132390 0 1
X_U_GENVIN_U42         U_GENVIN_C1 U_GENVIN_C1B INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U_GENVIN_U55         ENIN2 U_GENVIN_SET1B U_GENVIN_OK2 U_GENVIN_N165367
+  AND3_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
V_U_GENVIN_V13         DRAIN2 U_GENVIN_N70721 0
V_U_GENVIN_V17         U_GENVIN_N121735 0 1
X_U_GENVIN_U28         VOUT U_GENVIN_N70917 REVERSE2 COMP_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5
X_U_GENVIN_U38         U_GENVIN_N168674 ENGATE1 N169026 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U_GENVIN_U49         U_GENVIN_N132422 U_GENVIN_C2 BUF_DELAY_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5 DELAY=1u
X_U_GENVIN_U56         U_GENVIN_CHG2 N182050 U_GENVIN_PRECHG2 U_GENVIN_N182122
+  V97_IN 0 DFFSR_RHPBASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
E_U_GENVIN_ABM7         DRAIN1 0 VALUE { IF(V(U_GENVIN_SET1) > 0.5,0,  
+ IF(V(U_GENVIN_CHG1) > 0.5,V(DVDT),  
+ V(IN1)))  }
X_U_GENVIN_U54         U_GENVIN_CHG1 N181447 U_GENVIN_PRECHG1 U_GENVIN_N178034
+  V97_IN 0 DFFSR_RHPBASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_GENVIN_U52         U_GENVIN_SET2 U_GENVIN_SET2B INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
V_U_GENVIN_V14         DRAIN1 U_GENVIN_N70771 0
X_U_GENVIN_U57         U_GENVIN_OK1 U_GENVIN_OK1B INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
V_U_GENVIN_V22         U_GENVIN_N182122 0 1
X_U_GENVIN_U33         ENIN1 CHG_F2 U_GENVIN_PRECHG1 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
V_U_GENVIN_V21         U_GENVIN_N178034 0 1
X_U_GENVIN_U35         ENIN2 CHG_F2 U_GENVIN_PRECHG2 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U_GENVIN_U64         ENGATE2 U_GENVIN_N170526 BUF_DELAY_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5 DELAY=5u
X_U_GENVIN_U50         N132572 U_GENVIN_N132230 U_GENVIN_C2B U_GENVIN_N132532
+  U_GENVIN_ENIN2B 0 DFFSR_RHPBASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_GENVIN_U34         U_GENVIN_N126343 U_GENVIN_N128044 U_GENVIN_SET1
+  AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
E_U_GENVIN_ABM8         DRAIN2 0 VALUE { IF(V(U_GENVIN_SET2) > 0.5,0,  
+ IF(V(U_GENVIN_CHG2) > 0.5,V(DVDT),  
+ V(IN2)))  }
X_U_GENVIN_U43         ENIN1 U_GENVIN_ENIN1B INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U_GENVIN_U26         U_GENVIN_N70771 VOUT U_GENVIN_OK1 COMP_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5
X_U_GENVIN_U46         U_GENVIN_N132222 N132474 U_GENVIN_C2 U_GENVIN_N132390
+  U_GENVIN_ENIN2B 0 DFFSR_RHPBASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_GENVIN_U39         U_GENVIN_N170526 ENGATE2 N170534 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
V_U_GENVIN_V20         U_GENVIN_N132532 0 1
X_U_GENVIN_U59         ENIN2 SEL_CTRL U_GENVIN_OK2B IN1OK U_GENVIN_T1
+  AND4_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_GENVIN_U36         ENIN2 TSET U_GENVIN_N132422 AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
V_U_GENVIN_V15         U_GENVIN_N70847 IN1 3mV
X_U_GENVIN_U60         U_GENVIN_N138656 U_GENVIN_T1 ENGATE1 OR2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_GENVIN_U45         N128040 U_GENVIN_N128044 U_GENVIN_C1B U_GENVIN_N128000
+  U_GENVIN_ENIN1B 0 DFFSR_RHPBASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_GENVIN_U47         U_GENVIN_C2 U_GENVIN_C2B INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U_GENVIN_U58         U_GENVIN_OK2 U_GENVIN_OK2B INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U_GENVIN_U61         ENIN1 SEL_CTRL U_GENVIN_OK1B IN2OK U_GENVIN_T2
+  AND4_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_GENVIN_U65         ENGATE1 U_GENVIN_N168674 BUF_DELAY_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5 DELAY=5u
X_U2         N104302 N104791 BUF_DELAY_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5 DELAY=2u
R_R1         VOUT_0 VOUT_1  1m TC=0,0 
X_U1         ENGATE1 N104302 INV_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
R_R3         VOUT VOUT_0  1m TC=0,0 
X_U_LOGIC_U39         U_LOGIC_N16893869 U_LOGIC_N16893808 ENIN2 OR2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_LOGIC_U32         U_LOGIC_IN2OKB IN2OK INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
E_U_LOGIC_ABM8         U_LOGIC_SEL_TH 0 VALUE { IF ( V(U_LOGIC_SELCMP) < 0.5,
+  1.1, 1.08)    }
X_U_LOGIC_U21         U_LOGIC_SELCMPB U_LOGIC_PR1CMPB U_LOGIC_VCOMP
+  U_LOGIC_N16865754 AND3_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_LOGIC_U3         U_LOGIC_IN1IN U_LOGIC_UVLO_TH1 U_LOGIC_UV1B COMP_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U_LOGIC_U24         U_LOGIC_N16865754 U_LOGIC_N16866337 U_LOGIC_N16866337
+  U_LOGIC_PRIO OR3_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_LOGIC_U28         U_LOGIC_UV2 U_LOGIC_UV2B INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U_LOGIC_U31         U_LOGIC_IN1OKB IN1OK INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U_LOGIC_U18         U_LOGIC_IN1IN U_LOGIC_IN2IN U_LOGIC_VCOMP COMP_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U_LOGIC_U10         U_LOGIC_PR1IN U_LOGIC_PR1_TH U_LOGIC_PR1CMP
+  COMP_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_U_LOGIC_E3         U_LOGIC_IN1IN 0 IN1 GND 1
X_U_LOGIC_U30         U_LOGIC_UV2B U_LOGIC_OVP2 U_LOGIC_IN2OKB OR2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_LOGIC_U8         U_LOGIC_OVP2 U_LOGIC_OVPB2 INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U_LOGIC_U17         U_LOGIC_SELIN U_LOGIC_PR1IN U_LOGIC_XCOMP COMP_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_U_LOGIC_E7         U_LOGIC_PR1IN 0 PR1 GND 1
X_U_LOGIC_U35         IN1OK U_LOGIC_IN2OKB U_LOGIC_N16891491 AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_LOGIC_U4         U_LOGIC_IN2IN U_LOGIC_UVLO_TH2 U_LOGIC_UV2 COMP_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_U_LOGIC_ABM2         U_LOGIC_UVLO_TH1 0 VALUE { IF ( V(U_LOGIC_UV1B) < 0.5,
+  2.5, 2.4)    }
E_U_LOGIC_E5         U_LOGIC_IN2IN 0 IN2 GND 1
X_U_LOGIC_U26         U_LOGIC_XCOMP U_LOGIC_XCOMPB INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U_LOGIC_U7         U_LOGIC_N16808510 U_LOGIC_OVP_TH1 U_LOGIC_OVP1
+  COMP_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_U_LOGIC_ABM7         U_LOGIC_PR1_TH 0 VALUE { IF ( V(U_LOGIC_PR1CMP) < 0.5,
+  1.1, 1.08)    }
X_U_LOGIC_U25         U_LOGIC_VCOMP U_LOGIC_VCOMPB INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U_LOGIC_U23         U_LOGIC_SELCMPB U_LOGIC_PR1CMP U_LOGIC_N16866337
+  AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
E_U_LOGIC_ABM5         U_LOGIC_UVLO_TH2 0 VALUE { IF ( V(U_LOGIC_UV2) < 0.5,
+  2.5, 2.4)    }
X_U_LOGIC_U40         U_LOGIC_IN2OKB U_LOGIC_N16890589 STB OR2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_LOGIC_U27         U_LOGIC_UV1B U_LOGIC_UV1 INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
E_U_LOGIC_E4         U_LOGIC_N16808510 0 OV1 GND 1
X_U_LOGIC_U11         U_LOGIC_N16850468 U_LOGIC_OVP_TH2 U_LOGIC_OVP2
+  COMP_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U_LOGIC_U29         U_LOGIC_UV1 U_LOGIC_OVP1 U_LOGIC_IN1OKB OR2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_LOGIC_U34         IN1OK IN2OK U_LOGIC_PRIO U_LOGIC_N16890589 AND3_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_LOGIC_U19         U_LOGIC_PR1CMP U_LOGIC_PR1CMPB INV_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
E_U_LOGIC_ABM3         U_LOGIC_OVP_TH1 0 VALUE { IF ( V(U_LOGIC_OVP1) < 0.5,
+  1.1, 1.08)    }
E_U_LOGIC_E6         U_LOGIC_N16850468 0 OV2 GND 1
X_U_LOGIC_U16         U_LOGIC_SELIN U_LOGIC_SEL_TH U_LOGIC_SELCMP
+  COMP_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U_LOGIC_U33         U_LOGIC_PRIO U_LOGIC_PRIOB INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U_LOGIC_U37         IN1OK IN2OK U_LOGIC_PRIOB U_LOGIC_N16893869
+  AND3_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
E_U_LOGIC_ABM6         U_LOGIC_OVP_TH2 0 VALUE { IF ( V(U_LOGIC_OVP2) < 0.5,
+  1.1, 1.08)    }
E_U_LOGIC_E8         U_LOGIC_SELIN 0 SEL GND 1
X_U_LOGIC_U5         U_LOGIC_OVP1 U_LOGIC_OVPB1 INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U_LOGIC_U20         U_LOGIC_SELCMP U_LOGIC_SELCMPB INV_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U_LOGIC_U38         U_LOGIC_IN1OKB IN2OK U_LOGIC_N16893808 AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_LOGIC_U36         U_LOGIC_N16890589 U_LOGIC_N16891491 ENIN1 OR2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U3         N104791 N104302 N104685 AND2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U_MOS_U36         U_MOS_ENGATE2_DEL U_MOS_N205382 BUF_DELAY_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5 DELAY=100u
C_U_MOS_Cgd3         U_MOS_N186122 U_MOS_GATE2  40p  TC=0,0 
X_U_MOS_U29         U_MOS_N186566 U_MOS_N186554 INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
R_U_MOS_RIN2         U_MOS_N186032 DRAIN2  1m TC=0,0 
C_U_MOS_C2         U_MOS_N186414 0  1n  TC=0,0 
C_U_MOS_C4         0 U_MOS_ENGATE1_DEL  10n  TC=0,0 
G_U_MOS_ABM2I11         U_MOS_GATE2 U_MOS_N186154 VALUE {
+  LIMIT((V(ISENSE)-V(U_MOS_ISC))*10m, 0,100u)    }
X_U_MOS_U35         U_MOS_ENGATE1_DEL U_MOS_N200759 U_MOS_N186566
+  AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
C_U_MOS_Cgs3         U_MOS_GATE2 U_MOS_N185342  100p  TC=0,0 
D_U_MOS_D3         U_MOS_GATE1 U_MOS_N186818 D_D1 
V_U_MOS_V7         U_MOS_N186818 VOUT_0 5
X_U_MOS_U37         U_MOS_ENGATE2_DEL U_MOS_N205382 U_MOS_N186730
+  AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
R_U_MOS_R4         ENGATE1 U_MOS_ENGATE1_DEL  288 TC=0,0 
X_U_MOS_U26         REVERSE2 U_MOS_N187350 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U_MOS_U21         U_MOS_N186028 U_MOS_N186122 D_MODE
G_U_MOS_ABM2I2         U_MOS_GATE1 U_MOS_N185342 VALUE {
+  IF(V(U_MOS_N186554)-V(0)>0.5, 100u,0)    }
C_U_MOS_Cgd2         U_MOS_N186622 U_MOS_GATE1  40p  TC=0,0 
X_U_MOS_U32         ILIM_VALUE ISENSE U_MOS_N186630 U_MOS_N185990
+  COMPHYS_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
R_U_MOS_RIN1         U_MOS_N186560 DRAIN1  1m TC=0,0 
X_U_MOS_U4         U_MOS_N187004 U_MOS_N186428 ONE_SHOT PARAMS:  T=1000  
G_U_MOS_ABM2I8         U_MOS_GATE2 U_MOS_N186154 VALUE {
+  IF(V(U_MOS_CTRL)>0.5,LIMIT((V(ISENSE)-V(ILIM_VALUE))*1m, 0,100u),0)    }
E_U_MOS_E2         U_MOS_N186154 0 VALUE { IF(V(REVERSE2) <
+  0.5,V(U_MOS_N185342, 0),0) }
D_U_MOS_D5         U_MOS_N185342 U_MOS_GATE1 D_D1 
M_U_MOS_M2         U_MOS_N186622 U_MOS_GATE1 U_MOS_N185342 U_MOS_N185342 NMOS01
+            
G_U_MOS_ABM2I4         U_MOS_GATE1 U_MOS_N185242 VALUE {
+  IF(V(U_MOS_CTRL)>0.5,LIMIT((V(ISENSE)-V(ILIM_VALUE))*10m, 0,100u),0)    }
M_U_MOS_M3         U_MOS_N186122 U_MOS_GATE2 U_MOS_N185342 U_MOS_N185342 NMOS02
+            
G_U_MOS_ABM2I3         U_MOS_GATE2 U_MOS_N185342 VALUE {
+  IF(V(U_MOS_N186724)-V(0)>0.5, 100u,0)    }
X_U_MOS_U33         U_MOS_N185990 U_MOS_CTRL INV_DELAY_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5 DELAY=300u
D_U_MOS_D10         U_MOS_GATE2 U_MOS_N186166 D_D1 
D_U_MOS_D12         U_MOS_N186154 U_MOS_GATE2 D_D1 
E_U_MOS_ABM3         U_MOS_N187004 0 VALUE { IF( V(ISENSE)>(V(ILIM_VALUE)*1.5 +
+  0.375), 1,0)    }
D_U_MOS_D6         U_MOS_N185342 U_MOS_GATE2 D_D1 
X_U_MOS_S3    U_MOS_IF_LOW_BLOCK_FET_FROM_OUTTOIN2 0 U_MOS_N186032
+  U_MOS_N186122 MOS_U_MOS_S3 
X_U_MOS_U17         U_MOS_N187016 U_MOS_N186622 D_MODE
E_U_MOS_E1         U_MOS_N185242 0 VALUE { IF(V(REVERSE1) <
+  0.5,V(U_MOS_N185342, 0),0) }
X_U_MOS_S4    U_MOS_IF_LOW_BLOCK_FET_FROM_OUTTOIN1 0 U_MOS_N186560
+  U_MOS_N187016 MOS_U_MOS_S4 
E_U_MOS_ABM6         U_MOS_IFAST-TRIP_TIME 0 VALUE { IF(V(U_MOS_N186414) > 0.5,
+  1, 0)    }
X_U_MOS_U24         U_MOS_N187252 U_MOS_ENGATE1_DEL
+  U_MOS_IF_LOW_BLOCK_FET_FROM_OUTTOIN1 AND2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
G_U_MOS_ABM2I1         U_MOS_N186818 U_MOS_GATE1 VALUE {
+  IF(V(U_MOS_N186566)-V(0)>0.5, 12u,0)    }
X_U_MOS_U30         U_MOS_N186730 U_MOS_N186724 INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
V_U_MOS_V8         U_MOS_N186166 VOUT_0 5
D_U_MOS_D2         U_MOS_N185242 U_MOS_GATE1 D_D1 
X_U_MOS_H3    U_MOS_N185342 VOUT_0 ISENSE 0 MOS_U_MOS_H3 
R_U_MOS_R3         U_MOS_N186428 U_MOS_N186414  288 TC=0,0 
R_U_MOS_R5         ENGATE2 U_MOS_ENGATE2_DEL  288 TC=0,0 
E_U_MOS_E3         U_MOS_ISC 0 ILIM_VALUE 0 1.5
X_U_MOS_U34         U_MOS_ENGATE1_DEL U_MOS_N200759 BUF_DELAY_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5 DELAY=100u
D_U_MOS_D13         U_MOS_N185342 U_MOS_N186122 D_D1 
X_U_MOS_S5    U_MOS_IF_LOW_BLOCK_FET_FROM_OUTTOIN2 0 U_MOS_N186032
+  U_MOS_N186028 MOS_U_MOS_S5 
C_U_MOS_C5         0 U_MOS_ENGATE2_DEL  10n  TC=0,0 
D_U_MOS_D4         U_MOS_N185342 U_MOS_N186622 D_D1 
D_U_MOS_D7         U_MOS_N186414 U_MOS_N186428 D_D1 
X_U_MOS_U25         REVERSE1 U_MOS_N187252 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
G_U_MOS_ABM2I10         U_MOS_GATE1 U_MOS_N185242 VALUE {
+  LIMIT((V(ISENSE)-V(U_MOS_ISC))*10m, 0,100u)    }
V_U_MOS_V9         U_MOS_N186630 0 5mVdc
X_U_MOS_U27         U_MOS_N187350 U_MOS_ENGATE2_DEL
+  U_MOS_IF_LOW_BLOCK_FET_FROM_OUTTOIN2 AND2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U_MOS_S2    U_MOS_IF_LOW_BLOCK_FET_FROM_OUTTOIN1 0 U_MOS_N186560
+  U_MOS_N186622 MOS_U_MOS_S2 
C_U_MOS_Cgs2         U_MOS_GATE1 U_MOS_N185342  100p  TC=0,0 
G_U_MOS_ABM2I7         U_MOS_N186166 U_MOS_GATE2 VALUE {
+  IF(V(U_MOS_N186730)-V(0)>0.5, 12u,0)    }
X_S2    N104685 0 ST GND TPS2120_S2 
V_U_ILIM_V1         U_ILIM_N16778654 GND 50
E_U_ILIM_ABM2         U_ILIM_ISENSE 0 VALUE {
+  IF(V(U_ILIM_ISENSE)>0.01,V(U_ILIM_ISENSE),0.01)    }
E_U_ILIM_ABM1         ILIM_VALUE 0 VALUE { 
+ {IF(V(U_ILIM_N16778688)>50e-6,13500*(100u*V(U_ILIM_ISENSE))/V(U_ILIM_N16778688),0)}
+     }
D_U_ILIM_D1         ILIM U_ILIM_N16778654 D_D1 
I_U_ILIM_I1         U_ILIM_N16778654 ILIM DC 1u  
R_U_ILIM_R1         ILIM ILIM  288 TC=0,0 
G_U_ILIM_G1         U_ILIM_N16778654 ILIM U_ILIM_ISENSE 0 100u
E_U_ILIM_E3         U_ILIM_N16778688 0 ILIM GND 1
R_U_ILIM_Rilim_int         GND ILIM  1e12 TC=0,0 
X_U_dvdt_U83         U_dvdt_ENIN2_DEL TSET U_dvdt_N17369020 AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_dvdt_U19         U_dvdt_CHG_F2_OK U_dvdt_CHG_F2_OKB U_dvdt_V_INMUX
+  U_dvdt_CHG_F1_OK U_dvdt_RS 0 DFFSR_RHPBASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U_dvdt_U75         U_dvdt_DISCHG U_dvdt_DISCHGB INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U_dvdt_U62         U_dvdt_N17409001 U_dvdt_N17368979 U_dvdt_N17429654
+  OR2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_dvdt_U84         U_dvdt_N17253024 U_dvdt_DISCHGB U_dvdt_CHG AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
E_U_dvdt_E1         DVDT 0 SS 0 1
X_U_dvdt_U86         U_dvdt_CHG_F1_OK SET BUF_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5
X_U_dvdt_U94         ENIN1 U_dvdt_ENIN1_DEL BUF_DELAY_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5 DELAY=2u
X_U_dvdt_U21         U_dvdt_RS_CH1 U_dvdt_N17178620 U_dvdt_N17178707
+  U_dvdt_N17178620 U_dvdt_RS 0 DFFSR_RHPBASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U_dvdt_U60         U_dvdt_RS_CH2 U_dvdt_RS_CH1 U_dvdt_RS OR2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_dvdt_U100         ENIN1 TSET U_dvdt_N17402928 AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U_dvdt_U91         U_dvdt_IN2OKB U_dvdt_IN2OK_DEL INV_DELAY_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5 DELAY=1u
X_U_dvdt_U23         U_dvdt_N17368979 N17369030 U_dvdt_N17369020 U_dvdt_BBB
+  CHG_DONE 0 DFFSR_RHPBASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_dvdt_U70         U_dvdt_RS U_dvdt_RS_DEL INV_DELAY_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5 DELAY=2u
X_U_dvdt_U104         U_dvdt_N17497442 U_dvdt_N17282004 U_dvdt_N17178630
+  N17497972 SRLATCHRHP_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U_dvdt_U101         ENIN2 TSET U_dvdt_N17409022 AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
E_U_dvdt_ABM3         U_dvdt_INMUX 0 VALUE { IF(V(ENIN1) >
+  0.5,V(IN1),IF(V(ENIN2) > 0.5,V(IN2),0))    }
G_U_dvdt_ABM2I1         U_dvdt_N17156242 SS VALUE { IF(V(U_dvdt_CHG) >
+  0.5,10u*V(U_dvdt_INMUX),0)    }
X_U_dvdt_U78         U_dvdt_CHG_F1_OKB U_dvdt_ENIN TSET AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U_dvdt_U77         TSET CHG_F2 U_dvdt_N17253024 OR2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
R_U_dvdt_R1         SS U_dvdt_N17534398  100 TC=0,0 
V_U_dvdt_V7         U_dvdt_N17169801 0 1Vdc
C_U_dvdt_C3         GND SS  0.1n  TC=0,0 
X_U_dvdt_U80         U_dvdt_CHG_F2_OKB U_dvdt_ENIN TON AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U_dvdt_U89         IN2OK U_dvdt_IN2OKB INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U_dvdt_U24         U_dvdt_AAA U_dvdt_N17282004 U_dvdt_IN1OK_DEL IN2OK
+  U_dvdt_IN1OKB 0 DFFSR_RHPBASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_dvdt_U93         ENIN2 U_dvdt_ENIN2_DEL BUF_DELAY_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5 DELAY=2u
X_U_dvdt_U27         U_dvdt_N17409001 N17409029 U_dvdt_ENIN2_DEL
+  U_dvdt_N17409022 CHG_DONE 0 DFFSR_RHPBASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U_dvdt_U88         IN1OK U_dvdt_IN1OKB INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U_dvdt_U87         TON_TSET U_dvdt_TON_SETB INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U_dvdt_U81         U_dvdt_YYY TON_TSET CHG_F2 AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
V_U_dvdt_V8         U_dvdt_N17511684 0 1Vdc
X_U_dvdt_U65         U_dvdt_N17159052 U_dvdt_N17160383 INV_DELAY_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY=2u
X_U_dvdt_U20         U_dvdt_RS_CH2 U_dvdt_N17178547 U_dvdt_N17178630
+  U_dvdt_N17178547 U_dvdt_RS 0 DFFSR_RHPBASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
E_U_dvdt_ABM8         V97_IN 0 VALUE { IF(V(U_dvdt_ENIN)<0.5,0,IF(V(DVDT)
+  >0.99*V(U_dvdt_INMUX),1,0))    }
X_U_dvdt_U72         U_dvdt_N17160383 U_dvdt_N17159052 U_dvdt_DISCHG
+  AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
D_U_dvdt_D3         U_dvdt_INMUX U_dvdt_N17156242 D_D2 
X_U_dvdt_U85         U_dvdt_CHG_F2_OK CHG_DONE BUF_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5
X_U_dvdt_U66         U_dvdt_AAA U_dvdt_CHG_F2_OK U_dvdt_N17497442
+  AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_dvdt_U61         U_dvdt_N17352129 U_dvdt_N17402925 U_dvdt_N17429065
+  OR2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_dvdt_U92         U_dvdt_ENIN1_DEL TSET U_dvdt_N17355124 AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_dvdt_U76         ENIN1 ENIN2 U_dvdt_ENIN OR2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U_dvdt_U22         U_dvdt_N17352129 N17356612 U_dvdt_N17355124 U_dvdt_AAA
+  CHG_DONE 0 DFFSR_RHPBASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
E_U_dvdt_ABM7         U_dvdt_V_INMUX 0 VALUE { IF(V(U_dvdt_ENIN)<0.5,0,IF(V(SS)
+  >=V(U_dvdt_INMUX),1,0))    }
X_U_dvdt_U103         U_dvdt_N17493161 U_dvdt_N17286535 U_dvdt_N17178707
+  N17493828 SRLATCHRHP_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U_dvdt_U25         U_dvdt_BBB U_dvdt_N17286535 U_dvdt_IN2OK_DEL IN1OK
+  U_dvdt_IN2OKB 0 DFFSR_RHPBASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_dvdt_U74         U_dvdt_V_INMUX U_dvdt_DISCHGB U_dvdt_N17159052 N17163392
+  SRLATCHSHP_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U_dvdt_U90         U_dvdt_IN1OKB U_dvdt_IN1OK_DEL INV_DELAY_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5 DELAY=1u
X_U_dvdt_U28         SEL_CTRL N17513792 U_dvdt_YYY U_dvdt_N17511684
+  U_dvdt_N17510452 0 DFFSR_RHPBASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_dvdt_U106         IN1OK IN2OK U_dvdt_N17510452 NOR2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U_dvdt_U26         U_dvdt_N17402925 N17402938 U_dvdt_ENIN1_DEL
+  U_dvdt_N17402928 CHG_DONE 0 DFFSR_RHPBASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U_dvdt_S2    U_dvdt_DISCHG 0 SS GND dV_by_dT_U_dvdt_S2 
X_U_dvdt_U18         U_dvdt_CHG_F1_OK U_dvdt_CHG_F1_OKB U_dvdt_V_INMUX
+  U_dvdt_N17169801 U_dvdt_RS 0 DFFSR_RHPBASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
D_U_dvdt_D4         U_dvdt_N17534398 U_dvdt_N17156242 D_D2 
X_U_dvdt_U79         U_dvdt_CHG_F1_OK U_dvdt_CHG_F2_OKB U_dvdt_ENIN TON_TSET
+  AND3_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_dvdt_U63         U_dvdt_N17429065 U_dvdt_N17429654 U_dvdt_YYY OR2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_dvdt_U73         U_dvdt_BBB U_dvdt_CHG_F2_OK U_dvdt_N17493161
+  AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
.ENDS TPS2120_TRANS
*$
.subckt MOS_U_MOS_S3 1 2 3 4  
S_U_MOS_S3         3 4 1 2 _U_MOS_S3
RS_U_MOS_S3         1 2 1G
.MODEL         _U_MOS_S3 VSWITCH Roff=1000E6 Ron=62m Voff=0.2 Von=0.8
.ends MOS_U_MOS_S3
*$
.subckt MOS_U_MOS_S4 1 2 3 4  
S_U_MOS_S4         3 4 1 2 _U_MOS_S4
RS_U_MOS_S4         1 2 1G
.MODEL         _U_MOS_S4 VSWITCH Roff=1000E6 Ron=1m Voff=0.2 Von=0.8
.ends MOS_U_MOS_S4
*$
.subckt MOS_U_MOS_H3 1 2 3 4  
H_U_MOS_H3         3 4 VH_U_MOS_H3 1
VH_U_MOS_H3         1 2 0V
.ends MOS_U_MOS_H3
*$
.subckt MOS_U_MOS_S5 1 2 3 4  
S_U_MOS_S5         3 4 1 2 _U_MOS_S5
RS_U_MOS_S5         1 2 1G
.MODEL         _U_MOS_S5 VSWITCH Roff=1000E6 Ron=1m Voff=0.2 Von=0.8
.ends MOS_U_MOS_S5
*$
.subckt MOS_U_MOS_S2 1 2 3 4  
S_U_MOS_S2         3 4 1 2 _U_MOS_S2
RS_U_MOS_S2         1 2 1G
.MODEL         _U_MOS_S2 VSWITCH Roff=1000E6 Ron=62m Voff=0.2 Von=0.8
.ends MOS_U_MOS_S2
*$
.subckt TPS2120_S2 1 2 3 4  
S_S2         3 4 1 2 _S2
RS_S2         1 2 1G
.MODEL         _S2 VSWITCH Roff=1e6 Ron=50m Voff=0.2 Von=0.8
.ends TPS2120_S2
*$
.subckt dV_by_dT_U_dvdt_S2 1 2 3 4  
S_U_dvdt_S2         3 4 1 2 _U_dvdt_S2
RS_U_dvdt_S2         1 2 1G
.MODEL         _U_dvdt_S2 VSWITCH Roff=1e9 Ron=1m Voff=0.2 Von=0.8
.ends dV_by_dT_U_dvdt_S2
*$
*$
 .subckt dffsr_rhpbasic_gen q qb clk d r s params: vdd=1 vss=0 vthresh=0.5 
x1 clk clkdel inv_delay_basic_gen params: vdd={vdd} vss={vss} vthresh=
+ {vthresh} delay = 150n
x2 clk clkdel clkint and2_basic_gen params: vdd={vdd} vss={vss} vthresh=
+ {vthresh}  
gq 0 qint value = {if(v(r) > {vthresh},-5,if(v(s) > {vthresh},5, if(v(clkint)>
+  {vthresh}, 
+ if(v(d)> {vthresh},5,-5),0)))}
cqint qint 0 1n
rqint qint 0 1000meg
d_d10 qint my5 d_d1
v1 my5 0 {vdd}
d_d11 myvss qint d_d1
v2 myvss 0 {vss} 
eq qqq 0 qint 0 1
x3 qqq qqqd1 buf_delay_basic_gen params: vdd={vdd} vss={vss} vthresh={vthresh}
+  delay = 20n
rqq qqqd1 q 1
eqb qbr 0 value = {if( v(q) > {vthresh}, {vss},{vdd})}
rqb qbr qb 1 
cdummy1 q 0 1nf 
cdummy2 qb 0 1nf 
.ic v(qint) {vss}
.model d_d1 d
+ is=1e-015
+ tt=1e-011
+ rs=0.05
+ n=0.1
.ends dffsr_rhpbasic_gen
*$
.model NMOS02 nmos
+ vto=1
+ kp=100
+ lambda=0.0001
*$
.subckt d_mode 1 2
d1 1 2 dd1
.model dd1 d
+ is=1e-005
+ rs=0.001
+ n=0.15
.ends d_mode
*$
.model D_D1 d
+ is=1e-015
+ rs=0.05
+ n=0.1
+ tt=1e-011
*$
.model NMOS01 nmos
+ vto=1.7
+ kp=100
+ lambda=0.0001
*$
.subckt one_shot in out
+ params:  t=100
s_s1         meas 0 reset2 0 s1
e_abm1         ch 0 value { if( v(in)>0.5 | v(out)>0.5,1,0)    }
r_r2         reset2 reset  0.1  
e_abm3         out 0 value { if( v(meas)<0.5 & v(ch)>0.5,1,0)    }
r_r1         meas ch  {t} 
c_c2         0 reset2  1.4427n  
c_c1         0 meas  1.4427n  
e_abm2         reset 0 value { if(v(ch)<0.5,1,0)    }
.model s1 vswitch
+ roff=1e+009
+ ron=1
+ voff=0.25
+ von=0.75
.ends one_shot
*$
.subckt srlatchrhp_basic_gen s r q qb params: vdd=1 vss=0 vthresh=0.5 
gq 0 qint value = {if(v(r) > {vthresh},-5,if(v(s)>{vthresh},5, 0))}
cqint qint 0 1n
rqint qint 0 1000meg
d_d10 qint my5 d_d1
v1 my5 0 {vdd}
d_d11 myvss qint d_d1
v2 myvss 0 {vss} 
eq qqq 0 qint 0 1
x3 qqq qqqd1 buf_basic_gen params: vdd={vdd} vss={vss} vthresh={vthresh}
rqq qqqd1 q 1
eqb qbr 0 value = {if( v(q) > {vthresh}, {vss},{vdd})}
rqb qbr qb 1 
cdummy1 q 0 1n 
cdummy2 qb 0 1n
.ic v(qint) {vss}
.model d_d1 d
+ is=1e-015
+ n=0.1
+ tt=1e-011
.ends srlatchrhp_basic_gen
*$
.model D_D2 d
+ is=1e-015
+ rs=0.0001
+ n=0.0001
+ tt=1e-011
*$
.SUBCKT AND2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND2_BASIC_GEN
*$
.SUBCKT AND3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND3_BASIC_GEN
*$
.SUBCKT INV_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS INV_BASIC_GEN
*$
.SUBCKT OR2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR2_BASIC_GEN
*$
.SUBCKT INV_DELAY_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY = 10n 
E_ABMGATE1    YINT1 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT1 YINT2 1
CINT YINT2 0 {DELAY*1.3}
E_ABMGATE2    YINT3 0 VALUE {{IF(V(YINT2) > {VTHRESH} , 
+ {VSS},{VDD})}}
RINT2 YINT3 Y 1
CINT2 Y 0 1n
.ENDS INV_DELAY_BASIC_GEN
*$
.SUBCKT BUF_DELAY_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY = 10n 
E_ABMGATE1    YINT1 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT1 YINT2 1
CINT YINT2 0 {DELAY*1.3}
E_ABMGATE2    YINT3 0 VALUE {{IF(V(YINT2) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT2 YINT3 Y 1
CINT2 Y 0 1n
.ENDS BUF_DELAY_BASIC_GEN
*$
.SUBCKT BUF_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS BUF_BASIC_GEN
*$
.SUBCKT COMP_BASIC_GEN INP INM Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5	
E_ABM Yint 0 VALUE {IF (V(INP) > 
+ V(INM), {VDD},{VSS})}
R1 Yint Y 1
C1 Y 0 1n
.ENDS COMP_BASIC_GEN
*$
.SUBCKT NAND2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NAND2_BASIC_GEN
*$
.SUBCKT OR3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5  
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |   
+ V(B) > {VTHRESH} | + V(C) > {VTHRESH},{VDD},{VSS})}} 
RINT YINT Y 1 
CINT Y 0 1n 
.ENDS OR3_BASIC_GEN 
*$
.SUBCKT NOR2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5  
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |   
+ V(B) > {VTHRESH},{VSS},{VDD})}} 
RINT YINT Y 1 
CINT Y 0 1n 
.ENDS NOR2_BASIC_GEN 
*$
.SUBCKT AND4_BASIC_GEN A B C D Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5  
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &   
+ V(B) > {VTHRESH} & 
+ V(C) > {VTHRESH} & 
+ V(D) > {VTHRESH},{VDD},{VSS})}} 
RINT YINT Y 1 
CINT Y 0 1n 
.ENDS AND4_BASIC_GEN 
*$
.SUBCKT COMPHYS_BASIC_GEN INP INM HYS OUT PARAMS: VDD=1 VSS=0 VTHRESH=0.5	 
EIN INP1 INM1 INP INM 1  
EHYS INP1 INP2 VALUE { IF( V(1) > {VTHRESH},-V(HYS),0) } 
EOUT OUT 0 VALUE { IF( V(INP2)>V(INM1), {VDD} ,{VSS}) } 
R1 OUT 1 1 
C1 1 0 5n 
RINP1 INP1 0 1K 
.ENDS COMPHYS_BASIC_GEN 
*$
.SUBCKT SRLATCHSHP_BASIC_GEN S R Q QB PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
GQ 0 Qint VALUE = {IF(V(S) > {VTHRESH},5,IF(V(R)>{VTHRESH},-5, 0))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr QB 1 
Cdummy1 Q 0 1n 
Cdummy2 QB 0 1n 
.IC V(Qint) {VSS}
.ENDS SRLATCHSHP_BASIC_GEN
*$
