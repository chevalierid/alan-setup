* PSpice Model Editor - Version 16.2.0

*$
**
* TPS55010
*****************************************************************************
* (C) Copyright 2011 Texas Instruments Incorporated. All rights reserved.
*****************************************************************************
** This model is designed as an aid for customers of Texas Instruments.
** TI and its licensors and suppliers make no warranties, either expressed
** or implied, with respect to this model, including the warranties of 
** merchantability or fitness for a particular purpose.  The model is
** provided solely on an "as is" basis.  The entire risk as to its quality
** and performance is with the customer
*****************************************************************************
*
* Released by: Analog eLab Design Center, Texas Instruments Inc.
* Part: TPS55010
* Date: 5/27/2011
* Model Type: Transient
* Simulator: PSPICE
* Simulator Version: 16.2
* EVM Order Number: TPS55010EVM-009
* EVM Users Guide: SLVU459 May 2011
* Datasheet: SLVSAV0
*
* Model Version: Final 1.00
*
*****************************************************************************
*
* Updates:
*
* Final 1.00
* Release to Web.
*
******************************************************************************
.SUBCKT TPS55010_TRANS PWRPD EN RT PH_0 PH_1 PH_2 
+ COMP FAULT VIN_0 VIN_1 VIN_2 VSENSE BOOT 
+ SS_TR GND_0 GND_1 GND_2
R_R5         PH_0 PH_1  1m  
R_R7         0 GND_1  1m  
R_U4_R286         U4_N7125805 U4_N7125739  1  
C_U4_C162         0 U4_N7125739  1n  
E_U4_ABM8         U4_N16498061 0 VALUE 
+ { {IF(V(COMP) > 1.79,1,0)}    }
X_U4_U614         U4_N16498061 U4_N16498049 
+ U4_N16503466 AND2_BASIC_GEN PARAMS:
+ VDD=1 VSS=0 VTHRESH=500E-3
X_U4_U603         SDWN U4_N16498049 INV_BASIC_GEN 
+ PARAMS: VDD=1 VSS=0
+ VTHRESH=500E-3
E_U4_ABM171         U4_N7125805 0 VALUE 
+ { {IF(V(SS_TR) < 0.7, 79u, 79u + (166u
+  *((V(SS_TR) -700m)/299m)))}    }
V_U4_V5         U4_N7125903 0 0.55
R_U4_R11         U4_N16503466 OCB  1  
X_U4_U597         U4_N7125903 COMP d_d PARAMS:
E_U4_ABM177         U4_N7125947 0 VALUE 
+ { IF(V(U4_N7125739) < 79u, 79u,
+ IF(V(U4_N7125739) > 245u, 245u,V(U4_N7125739)))}
V_U4_V6         U4_N7125893 0 1.8
C_U4_C166         0 U4_VGM  1n  
G_U4_ABM2I1         0 COMP VALUE
+  { {LIMIT((V(VREF_GM) -
+  V(VSENSEINT))*V(U4_VGM), -16u,16u)}    }
R_U4_R4         0 COMP  2.3MEG  
D_U4_D10         COMP U4_N7125893 d_d1  
R_U4_R290         U4_N7125947 U4_VGM  1  
C_U4_C9         0 OCB  1n  
C_U4_C5         0 COMP  12.9p  
E_U10_ABM6         U10_N165605021 0 VALUE 
+ { (V(U10_N16553691) + 0.895)    }
R_U10_R4         U10_N16552410 U10_N16552432  1  
R_U10_R6         U10_N16553669 U10_N16553691  1  
R_U10_R286         U10_N16766103 U10_N16570857  72  
E_U10_E2         U10_N16767638 0 VSENSEINT 0 1
C_U10_C7         0 U10_N16553759  1n  
C_U10_C4         0 U10_N16552432  1n  
C_U10_C162         0 U10_N16570857  2n  
X_U10_U6         U10_VSNS_FLT U10_N16552374 U10_UVP
+  COMP_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5
E_U10_ABM4         U10_N165603801 0 VALUE 
+ { (-V(U10_N16552432) + 0.77)    }
R_U10_R287         U10_N16767638 U10_VSNS_FLT  72  
X_U10_U611         SDWN U10_N16766103 
+ INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+ VTHRESH=500E-3
R_U10_R5         U10_N165603801 U10_N16552374  1  
X_U10_U7         U10_N16553759 U10_VSNS_FLT U10_OVP 
+ COMP_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5
X_U10_U613         U10_N7104112 U10_N16565522 
+ BUF_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5
C_U10_C163         0 U10_VSNS_FLT  2n  
X_U10_U612         U10_UVP U10_OVP U10_N16570857 
+ U10_N7104112 NAND3_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
C_U10_C5         0 U10_N16552374  1n  
C_U10_C6         0 U10_N16553691  1n  
E_U10_ABM5         U10_N16553669 0 VALUE
+  { (V(U10_OVP) * +16.58m)    }
R_U10_R7         U10_N165605021 U10_N16553759  1  
X_U10_S19    U10_N16565522 0 FAULT 0 PGOOD_U10_S19 
E_U10_ABM3         U10_N16552410 0 
+ VALUE { (V(U10_UVP) * +16.58m)    }
V_V47         SET0 0 0Vdc
R_R3         0 GND_0  1m  
C_U6_C177         0 U6_INDELAYED2  10p  
X_U6_U826         PWM_CLK U6_N16509390
+  INV_DELAY_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5 DELAY=15n
X_U6_U825         U6_N16509288 U6_INDELAYED2 
+ PWM_CLK PWM_FINAL OR3_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
R_U6_R276         U6_N16509288 U6_INDELAYED2  18k  
X_U6_U827         U6_N16509390 PWM_CLK U6_N16509288 
+ AND2_BASIC_GEN PARAMS:
+ VDD=1 VSS=0 VTHRESH=500E-3
X_U6_U623         U6_N16509288 U6_INDELAYED2 
+ d_d PARAMS:
V_V46         SET1 0 1
C_U3_C15         0 U3_N7398492  1n  
C_U3_C8         0 SS_TR  0.1p  
E_U3_ABM180         U3_N7398466 0 
+ VALUE { IF(V(OCB) > 0.5,1,0)    }
E_U3_ABM178         U3_N7398284 0 
+ VALUE { IF(V(U3_N7404432) < 0.829,
+  V(U3_N7404432),0.829)    }
V_U3_V70         U3_N7397984 0 5
D_U3_D62         SS_TR U3_N7397984 d_d1  
G_U3_ABMII1         U3_N7397984 SS_TR 
+ VALUE { {IF(V(U3_N7406804) > 0.5,2.4u,0)}
+     }
R_U3_R13         U3_N7404426 U3_N7404432  1  
X_U3_U1         SDWN U3_N7406804 
+ INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+ VTHRESH=500E-3
D_U3_D63         0 SS_TR d_d1  
G_U3_ABMI5         SS_TR 0 
+ VALUE { {IF(V(SS_DISCH) > 0.5, 1.25e-3,0)}    }
X_U3_S68    U3_N7398492 0 SS_TR 0 SoftStart_U3_S68 
R_U3_R14         U3_N7398284 VREF_GM  1  
R_U3_R15         U3_N7398466 U3_N7398492  1  
E_U3_ABM174         U3_N7404426 0 
+ VALUE { IF(V(SS_TR) < 700m, V(SS_TR) - 35m,  
+ IF(V(SS_TR) > 1500m, 0.829,  
+ -0.1263*V(SS_TR)*V(SS_TR)+0.5958*V(SS_TR)+0.3098))  }
C_U3_C12         0 U3_N7404432  1n  
C_U3_C14         0 VREF_GM  1n  
E_U12_ABM152         U12_ISWF 0 
+ VALUE { {IF(V(U12_N16489275) > 0.5,  
+ V(ISW),-2.8)}   }
V_U12_V79         U12_N16779416 0 0.895
X_U12_S26    U12_N16543632 0 U12_VRAMP 0 
+ GmIphase_U12_S26 
X_U12_U134         U12_N16543755 SDWN U12_N16543632 
+ OR2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
C_U12_C146         0 U12_N16489275  5p  
X_U12_U618         U12_N16522994 BOOT_UVLO 
+ U12_OVTP U12_CBC_ILIMIT U12_PWM
+  AND4_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U12_U599         SYSCLK U12_N16489527 
+ INV_DELAY_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5 DELAY=15n
X_U12_U598         SYSCLK U12_N16489527 
+ U12_N16543755 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
V_U12_V80         U12_N16768682 0 2.75
X_U12_U604         U12_N16768682 ISW U12_CBC_ILIMIT 
+ COMP_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5
E_U12_ABM151         U12_N16489395 0 
+ VALUE { {IF(V(PWM_FINAL) > 0.5, 1,0)}    }
X_U12_U605         U12_N16779416 U12_N16779562 
+ U12_OVTP COMP_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5
R_U12_R255         U12_N16489395 U12_N16489275  14.4k  
X_U12_U600         U12_ICTRL U12_ISWF U12_N16522994 
+ COMP_BASIC_GEN PARAMS:
+ VDD=1 VSS=0 VTHRESH=0.5
E_U12_ABM166         U12_ICTRL 0 VALUE {
+  ((((V(COMP)-0.5)/36k-V(U12_VRAMP))*10)-8u)*27.2k    }
E_U12_E1         U12_N16783440 0 VSENSEINT 0 1
C_U12_C134         0 U12_VRAMP  1n  
R_U12_R285         U12_N16783440 U12_N16779562  72  
G_U12_ABMI4         U12_VRAMP 0 VALUE { {V(I_RT)*-1980u} }
C_U12_C161         0 U12_N16779562  2n  
X_U12_U603         PWM_CLK N16528816 SYSCLK SET1 U12_PWM
+  SET1
+  DFFSBRB_RHPBASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
D_U12_D58         U12_N16489275 U12_N16489395 d_d1 
R_R2         VIN_2 VIN_0  1m  
X_U1_U2         EN U1_N16623720 U1_N16623772 U1_N16624019 
+ COMPHYS_BASIC_GEN
+ PARAMS: VDD=1 VSS=0 VTHRESH=0.5
C_U1_C1         0 ENAB  1n  
D_U1_D8         EN U1_N7339811 d_d1 
R_U1_R1         U1_N16624019 ENAB  1  
G_U1_ABMII1         VIN EN VALUE
+  { {1.2u+ 3.4u*V(ENAB)}    }
V_U1_V2         U1_N16623720 0 1.24Vdc
D_U1_D9         EN VIN d_d1
E_U1_ABM173         U1_N7339811 0 
+ VALUE { {IF(V(VIN) > 2.6,5,0)}    }
V_U1_V1         U1_N16623772 0 0.07Vdc
R_U1_R2         EN U1_N7339811  100MEG  
V_V48         VIN_0 VIN 0Vdc
C_U11_C164         0 U11_N6045102  10n  
E_U11_ABM173         SS_DISCH 0 
+ VALUE { {IF(V(SS_TR)  < 46m,0,  
+ IF(V(U11_N6045136) > 0.5,1,0))}   }
X_U11_U601         U11_N16496294 
+ U11_N6045102 SDWN OR2_BASIC_GEN PARAMS: VDD=1
+ VSS=0 VTHRESH=500E-3
D_U11_D8         U11_UVLO U11_N6045102 
+ d_d1  
X_U11_U603         SDWN U11_N6045130
+  INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
V_U11_V64         U11_N6045018 0 2.6
R_U11_R287         0 U11_N6045136  1k  
X_U11_U602         U11_N6045018 VIN U11_UVLO
+  COMP_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5
C_U11_C163         U11_N6045130 
+ U11_N6045136  140.5p  
R_U11_R288         U11_UVLO
+  U11_N6045102  14.4k  
X_U11_U604         ENAB U11_N16496294 
+ INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
R_R1         VIN_1 VIN_0  1m  
R_U9_R277         U9_N16489962 RT  1  
X_U9_U134         SDWN U9_N16517387 U9_N16517226
+  OR2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
V_U9_V46         U9_N16505459 0 0.5
X_U9_H1    U9_N16489962 U9_N16523619 
+ I_RT 0 Oscillator_U9_H1 
X_U9_S26    U9_N16517226 0 U9_RAMP 0 
+ Oscillator_U9_S26 
C_U9_C79         U9_RAMP 0  12.5p  
E_U9_ABM164         U9_N16630433 0
+  VALUE { V(VSENSE)    }
R_U9_R282         U9_N16630433 VSENSEINT  1  
R_U9_R276         0 U9_N16489962  500MEG  
V_U9_V44         U9_N16523619 0 0.5
G_U9_ABMI3         U9_N16490102 U9_RAMP
+  VALUE { {-( I(V_U9_V44)*1.212) }    }
V_U9_V45         U9_N16490102 0 1
X_U9_U131         U9_RAMP U9_N16505459 
+ SYSCLK COMP_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5
D_U9_D11         U9_RAMP U9_N16490102 d_d1 
X_U9_U132         U9_N16518846 U9_N16517387
+  INV_DELAY_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5 DELAY=5n
C_U9_C160         0 VSENSEINT  1n  
X_U9_U133         SYSCLK U9_N16518846
+  INV_DELAY_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5 DELAY=5n
R_U9_R278         I_RT 0  1  
X_U8_U615         U8_LDRVIN U8_N7380039
+  BUF_DELAY_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5 DELAY=10n
X_U8_U619         U8_SDWN_N PWM_FINAL
+  U8_N16737402 U8_HDRVIN AND3_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
D_U8_D14         0 PH_0 d_d1 
X_U8_H2    U8_N16727581 0 OCLOW 0 
+ Driver_U8_H2 
X_U8_S5    U8_N7380591 0 U8_LDRV 0 
+ Driver_U8_S5 
E_U8_ABM170         U8_N16737406 0 
+ VALUE { {IF(V(U8_LDRV) > 1.1,0,1)}    }
E_U8_ABM167         U8_N7274256 0
+  VALUE { {IF((V(BOOT) - V(PH_0)) < 2.5,0,1)}  
+   }
X_U8_U622         U8_SDWN_N U8_N16746050
+  OCLOWLIMIT U8_N16742206 U8_LDRVIN
+  AND4_BASIC_GEN PARAMS: VDD=1 VSS=0 
+ VTHRESH=500E-3
D_U8_D13         PH_0 U8_N7273984 d_d1 
X_U8_U612         U8_N7274198 U8_N7343256 
+ BUF_DELAY_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5 DELAY=10n
X_U8_S34    U8_LDRVIN 0 BOOT VIN
+  Driver_U8_S34 
X_U8_U617         U8_N7380055 U8_N7380073 
+ BUF_DELAY_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5 DELAY=10n
X_U8_U616         U8_LDRVIN U8_N7380055 
+ INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U8_S31    U8_LDRV 0 PH_0 U8_N16727581
+  Driver_U8_S31 
X_U8_U618         U8_N7380073 U8_N7380055 
+ U8_N7380591 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
D_U8_D15         BOOT_UVLO U8_N7274256 
+ d_d1
R_U8_R245         0 BOOT  10MEG  
R_U8_R143         U8_N16737406 
+ U8_N16737402  1  
V_U8_V49         U8_N16723705 0 5
X_U8_H1    VIN U8_N7273984 ISW 0 
+ Driver_U8_H1 
X_U8_S3    U8_N7274032 0 HDRV PH_0
+  Driver_U8_S3 
X_U8_U613         SDWN U8_SDWN_N 
+ INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
R_U8_R244         U8_N7274256 BOOT_UVLO  86.4  
R_U8_R144         U8_N16742436 U8_N16742206  1  
X_U8_U621         PWM_FINAL U8_N16746050 
+ INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U8_U609         U8_N7343256 U8_N7274198 
+ U8_N7274032 AND2_BASIC_GEN PARAMS:
+ VDD=1 VSS=0 VTHRESH=500E-3
X_U8_S30    HDRV PH_0 U8_N7273984 PH_0 
+ Driver_U8_S30 
X_U8_S4    U8_N7380573 0 U8_N16723705 
+ U8_LDRV Driver_U8_S4 
C_U8_C78         U8_N16742206 0  18n  
X_U8_S2    U8_N7274022 0 BOOT 
+ HDRV Driver_U8_S2 
C_U8_C77         U8_N16737402 0  18n  
E_U8_ABM79         U8_N16742436 0 
+ VALUE { {IF((V(HDRV) - V(PH_0)) > 1.1  
+ ,0,1)}   }
X_U8_U610         U8_HDRVIN U8_N7274198 
+ INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U8_U608         U8_HDRVIN U8_N7342498 
+ U8_N7274022 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
C_U8_C140         0 BOOT_UVLO  1n  
X_U8_U614         U8_LDRVIN U8_N7380039
+ U8_N7380573 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U8_U611         U8_HDRVIN U8_N7342498 
+ BUF_DELAY_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5 DELAY=10n
R_R6         0 PWRPD  1000K  
R_R4         PH_0 PH_2  1m  
R_R8         0 GND_2  1m  
X_U7_U616         U7_N16721150 U7_N16721260
+  U7_N16721200 COMP_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5
X_U7_U609         ENAB U7_N16726116 U7_N16725776
+  AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
V_U7_V67         U7_N16721260 0 3.5
E_U7_ABM158         U7_N16721310 0 
+ VALUE { {IF(V(PWM_FINAL) < 0.5, 1,0)}    }
D_U7_D59         U7_N16721160 U7_N16721310
+  d_d1 
C_U7_C154         0 U7_N16721160  10p  
R_U7_R272         U7_N16721310 U7_N16721160
+   14.4k  
E_U7_ABM157         U7_N16721150 0 
+ VALUE { {IF(V(U7_N16721160) > 0.5,   
+ V(OCLOW),0)}   }
R_U7_R268         0 U7_N16721836  
+ 100MEG  
X_U7_U615         U7_N16721836 OCLOWLIMIT
+  U7_N16721200 SET1 U7_N16725776 SET1
+  DFFSBRB_RHPBASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U7_U614         SYSCLK U7_N16726116 
+ INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
.IC         V(SS_TR )=0
.ENDS TPS55010_TRANS
*$
.subckt PGOOD_U10_S19 1 2 3 4  
S_U10_S19         3 4 1 2 _U10_S19
RS_U10_S19         1 2 1G
.MODEL         _U10_S19 VSWITCH
+  Roff=100e6 Ron=100 Voff=0.4 Von=0.8
.ends PGOOD_U10_S19
*$
.subckt SoftStart_U3_S68 1 2 3 4  
S_U3_S68         3 4 1 2 _U3_S68
RS_U3_S68         1 2 1G
.MODEL         _U3_S68 VSWITCH 
+ Roff=100e6 Ron=1231 Voff=0.2 Von=0.8
.ends SoftStart_U3_S68
*$
.subckt GmIphase_U12_S26 1 2 3 4  
S_U12_S26         3 4 1 2 _U12_S26
RS_U12_S26         1 2 1G
.MODEL         _U12_S26 VSWITCH 
+ Roff=100e6 Ron=10m Voff=0.2 Von=0.8
.ends GmIphase_U12_S26
*$
.subckt Oscillator_U9_H1 1 2 3 4  
H_U9_H1         3 4 VH_U9_H1 -1
VH_U9_H1         1 2 0V
.ends Oscillator_U9_H1
*$
.subckt Oscillator_U9_S26 1 2 3 4  
S_U9_S26         3 4 1 2 _U9_S26
RS_U9_S26         1 2 1G
.MODEL         _U9_S26 VSWITCH 
+ Roff=100e6 Ron=1.0 Voff=0.2 Von=0.8
.ends Oscillator_U9_S26
*$
.subckt Driver_U8_H2 1 2 3 4  
H_U8_H2         3 4 VH_U8_H2 1
VH_U8_H2         1 2 0V
.ends Driver_U8_H2
*$
.subckt Driver_U8_S5 1 2 3 4  
S_U8_S5         3 4 1 2 _U8_S5
RS_U8_S5         1 2 1G
.MODEL         _U8_S5 VSWITCH
+  Roff=1e6 Ron=1.0 Voff=0.2 Von=0.8
.ends Driver_U8_S5
*$
.subckt Driver_U8_S34 1 2 3 4  
S_U8_S34         3 4 1 2 _U8_S34
RS_U8_S34         1 2 1G
.MODEL         _U8_S34 VSWITCH 
+ Roff=1000e6 Ron=16 Voff=0.2 Von=0.8
.ends Driver_U8_S34
*$
.subckt Driver_U8_S31 1 2 3 4  
S_U8_S31         3 4 1 2 _U8_S31
RS_U8_S31         1 2 1G
.MODEL         _U8_S31 VSWITCH
+  Roff=10e6 Ron=45m Voff=1.0 Von=1.2
.ends Driver_U8_S31
*$
.subckt Driver_U8_H1 1 2 3 4  
H_U8_H1         3 4 VH_U8_H1 1
VH_U8_H1         1 2 0V
.ends Driver_U8_H1
*$
.subckt Driver_U8_S3 1 2 3 4  
S_U8_S3         3 4 1 2 _U8_S3
RS_U8_S3         1 2 1G
.MODEL         _U8_S3 VSWITCH 
+ Roff=1e6 Ron=1.0 Voff=0.2 Von=0.8
.ends Driver_U8_S3
*$
.subckt Driver_U8_S30 1 2 3 4  
S_U8_S30         3 4 1 2 _U8_S30
RS_U8_S30         1 2 1G
.MODEL         _U8_S30 VSWITCH 
+ Roff=10e6 Ron=45m Voff=1.0 Von=1.2
.ends Driver_U8_S30
*$
.subckt Driver_U8_S4 1 2 3 4  
S_U8_S4         3 4 1 2 _U8_S4
RS_U8_S4         1 2 1G
.MODEL         _U8_S4 VSWITCH 
+ Roff=1e6 Ron=2 Voff=0.2 Von=0.8
.ends Driver_U8_S4
*$
.subckt Driver_U8_S2 1 2 3 4  
S_U8_S2         3 4 1 2 _U8_S2
RS_U8_S2         1 2 1G
.MODEL         _U8_S2 VSWITCH 
+ Roff=1e6 Ron=2 Voff=0.2 Von=0.8
.ends Driver_U8_S2
*$
.SUBCKT COMP_BASIC_GEN INP INM Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5	
E_ABM Yint 0 VALUE {IF (V(INP) > 
+ V(INM), {VDD},{VSS})}
R1 Yint Y 1
C1 Y 0 1n
.ENDS COMP_BASIC_GEN
*$
.SUBCKT COMPHYS_BASIC_GEN INP INM HYS OUT PARAMS: VDD=1 VSS=0 VTHRESH=0.5	
EIN INP1 INM1 INP INM 1 
EHYS INP1 INP2 VALUE { IF( V(1) > {VTHRESH},-V(HYS),0) }
EOUT OUT 0 VALUE { IF( V(INP2)>V(INM1), {VDD} ,{VSS}) }
R1 OUT 1 1
C1 1 0 5n
RINP1 INP1 0 1K
.ENDS COMPHYS_BASIC_GEN
*$
.SUBCKT COMPHYS2_BASIC_GEN INP INM HYS OUT PARAMS: VDD=1 VSS=0 VTHRESH=0.5	
+ T=10
EIN INP1 INM1 INP INM 1 
EHYS INM2 INM1 VALUE { IF( V(1) > {VTHRESH},-V(HYS)/2,V(HYS)/2) }
EOUT OUT 0 VALUE { IF( V(INP1)>V(INM2), {VDD} ,{VSS}) }
R1 OUT 1 1
C1 1 0 {T*1e-9}
RINP1 INP1 0 10K
RINM2 INM2 0 10K
.ENDS COMPHYS2_BASIC_GEN
* PSpice Model Editor - Version 16.0.0
*$
.SUBCKT AND2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND2_BASIC_GEN
*$
.SUBCKT AND3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND3_BASIC_GEN
*$
.SUBCKT AND4_BASIC_GEN A B C D Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH} &
+ V(D) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND4_BASIC_GEN
*$
.SUBCKT NAND2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NAND2_BASIC_GEN
*$
.SUBCKT NAND3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NAND3_BASIC_GEN
*$
.SUBCKT NAND4_BASIC_GEN A B C D Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH} &
+ V(D) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NAND4_BASIC_GEN
*$
.SUBCKT OR2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR2_BASIC_GEN
*$
.SUBCKT OR3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR3_BASIC_GEN
*$
.SUBCKT OR4_BASIC_GEN A B C D Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH} |
+ V(D) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR4_BASIC_GEN
*$
.SUBCKT NOR2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR2_BASIC_GEN
*$
.SUBCKT NOR3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR3_BASIC_GEN
*$
.SUBCKT NOR4_BASIC_GEN A B C D Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH} |
+ V(D) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR4_BASIC_GEN
*$
.SUBCKT NOR5_BASIC_GEN A B C D E Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH} |
+ V(D) > {VTHRESH} |
+ V(E) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR5_BASIC_GEN
*$
.SUBCKT NOR6_BASIC_GEN A B C D E F Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH} |
+ V(D) > {VTHRESH} |
+ V(E) > {VTHRESH} |
+ V(F) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR6_BASIC_GEN
*$
.SUBCKT INV_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS INV_BASIC_GEN
*$
.SUBCKT XOR2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE  YINT 0 VALUE {{IF(V(A) > {VTHRESH}  ^  
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS XOR2_BASIC_GEN
*$
.SUBCKT XNOR2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE  YINT 0 VALUE {{IF(V(A) > {VTHRESH}  ^  
+ V(B) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS XNOR2_BASIC_GEN
*$
.SUBCKT MUX2_BASIC_GEN A B S Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE  YINT 0 VALUE {{IF(V(S) > {VTHRESH},  
+ V(B),V(A))}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS MUX2_BASIC_GEN
*$
.SUBCKT INV_DELAY_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY = 10n 
E_ABMGATE1    YINT1 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT1 YINT2 1
CINT YINT2 0 {DELAY*1.3}
E_ABMGATE2    YINT3 0 VALUE {{IF(V(YINT2) > {VTHRESH} , 
+ {VSS},{VDD})}}
RINT2 YINT3 Y 1
CINT2 Y 0 1n
.ENDS INV_DELAY_BASIC_GEN
*$
.SUBCKT BUF_DELAY_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY = 10n 
E_ABMGATE1    YINT1 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT1 YINT2 1
CINT YINT2 0 {DELAY*1.3}
E_ABMGATE2    YINT3 0 VALUE {{IF(V(YINT2) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT2 YINT3 Y 1
CINT2 Y 0 1n
.ENDS BUF_DELAY_BASIC_GEN
*$
.SUBCKT BUF_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS BUF_BASIC_GEN
*$
**Set has higher priority in this latch
.SUBCKT SRLATCHSHP_BASIC_GEN S R Q QB PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
GQ 0 Qint VALUE = {IF(V(S) > {VTHRESH},5,IF(V(R)>{VTHRESH},-5, 0))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr QB 1 
Cdummy1 Q 0 1n 
Cdummy2 QB 0 1n 
.IC V(Qint) {VSS}
.ENDS SRLATCHSHP_BASIC_GEN
*$
**Reset has higher priority in this latch
.SUBCKT SRLATCHRHP_BASIC_GEN S R Q QB PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
GQ 0 Qint VALUE = {IF(V(R) > {VTHRESH},-5,IF(V(S)>{VTHRESH},5, 0))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr QB 1 
Cdummy1 Q 0 1n 
Cdummy2 QB 0 1n
.IC V(Qint) {VSS}
.ENDS SRLATCHRHP_BASIC_GEN
*$
**Reset has higher priority in this latch and active low set and reset - basically NAND based SR latch
.SUBCKT SBRBLATCHRHP_BASIC_GEN SB RB Q QB PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
GQ 0 Qint VALUE = {IF(V(RB) < {VTHRESH},-5,IF(V(SB) < {VTHRESH},5, 0))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr QB 1 
.IC V(Qint) {VSS}
.ENDS SBRBLATCHRHP_BASIC_GEN
*$
**Reset has higher priority in this latch and active low set and reset - basically NAND based SR latch
.SUBCKT SBRBLATCHSHP_BASIC_GEN SB RB Q QB PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
GQ 0 Qint VALUE = {IF(V(SB) < {VTHRESH},5,IF(V(RB) < {VTHRESH},-5, 0))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr QB 1 
.IC V(Qint) {VSS}
.ENDS SBRBLATCHSHP_BASIC_GEN
*$
.SUBCKT DFFSBRB_SHPBASIC_GEN Q QB CLK D RB SB PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
***Set has higher priority in this
** Changed the delay from 7n/10n to 15n/20n to help larger time step simulations
**Faster flip-flops require a a smaller time step to simulate
X1 CLK CLKdel INV_DELAY_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 15n
X2 CLK CLKdel CLKint AND2_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
GQ 0 Qint VALUE = {IF(V(SB) < {VTHRESH},5,IF(V(RB)<{VTHRESH},-5, IF(V(CLKint)> {VTHRESH}, 
+ IF(V(D)> {VTHRESH},5,-5),0)))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_DELAY_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 20n
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr Qb 1 
Cdummy1 Q 0 1nF 
Cdummy2 QB 0 1nF 
.IC V(Qint) {VSS}
.ENDS DFFSBRB_SHPBASIC_GEN
*$
.SUBCKT DFFSR_SHPBASIC_GEN Q QB CLK D R S PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
***Set has higher priority in this
** Changed the delay from 7n/10n to 15n/20n to help larger time step simulations
**Faster flip-flops require a a smaller time step to simulate
X1 CLK CLKdel INV_DELAY_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 15n
X2 CLK CLKdel CLKint AND2_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} 
GQ 0 Qint VALUE = {IF(V(S) > {VTHRESH},5,IF(V(R) > {VTHRESH},-5, IF(V(CLKint)> {VTHRESH}, 
+ IF(V(D)> {VTHRESH},5,-5),0)))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_DELAY_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY = 20n
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr Qb 1 
Cdummy1 Q 0 1nF 
Cdummy2 QB 0 1nF 
.IC V(Qint) {VSS}
.ENDS DFFSR_SHPBASIC_GEN
*$
.SUBCKT DFFSBRB_RHPBASIC_GEN Q QB CLK D RB SB PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
***Set has higher priority in this
** Changed the delay from 7n/10n to 15n/20n to help larger time step simulations
**Faster flip-flops require a a smaller time step to simulate
X1 CLK CLKdel INV_DELAY_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 15n
X2 CLK CLKdel CLKint AND2_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} 
GQ 0 Qint VALUE = {IF(V(RB) < {VTHRESH},-5,IF(V(SB)< {VTHRESH},5, IF(V(CLKint)> {VTHRESH}, 
+ IF(V(D)> {VTHRESH},5,-5),0)))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 5
D_D11 0 Qint D_D1 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_DELAY_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 20n
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr Qb 1 
Cdummy1 Q 0 1nF 
Cdummy2 QB 0 1nF 
.IC V(Qint) {VSS}
.ENDS DFFSBRB_RHPBASIC_GEN
*$
.SUBCKT DFFSR_RHPBASIC_GEN Q QB CLK D R S PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
***Set has higher priority in this
** Changed the delay from 7n/10n to 15n/20n to help larger time step simulations
**Faster flip-flops require a a smaller time step to simulate
X1 CLK CLKdel INV_DELAY_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 15n
X2 CLK CLKdel CLKint AND2_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}  
GQ 0 Qint VALUE = {IF(V(R) > {VTHRESH},-5,IF(V(S) > {VTHRESH},5, IF(V(CLKint)> {VTHRESH}, 
+ IF(V(D)> {VTHRESH},5,-5),0)))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_DELAY_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 20n
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr Qb 1 
Cdummy1 Q 0 1nF 
Cdummy2 QB 0 1nF 
.IC V(Qint) {VSS}
.ENDS DFFSR_RHPBASIC_GEN
*$
.subckt d_d 1 2
d1 1 2 dd
.model dd d
+ is=1e-015
+ n=0.01
+ tt=1e-011
.ends d_d
*$
.MODEL D_D1 D( IS=1e-15 TT=10p Rs=0.05 N=.1  )
*$
*$
.SUBCKT B120 1 2
D1 1 2 D_B120
.MODEL D_B120 D  ( IS=39.6u RS=50.2m BV=20.0 IBV=500u
+ CJO=265p  M=0.333 N=1.70 TT=7.20n )
.ENDS B120
*$
.subckt BZT52C5V6 1 2
R_R1          2 4 1m
D_D10         4 3 d_d1  
V_V6          3 1 5.6
.ENDS BZT52C5V6
*$
.SUBCKT 750311880 P1A P1B S1A S1B PARAMS: NP1=1 NS1=2 RP1=25E-3 
+ RS1=95E-3 LLEAK=0.125E-6 LM=2.7E-6 RCORE=5E3 CINTW=22p
*CINTW is the inter-winding capacitance
R_R3         P1B 2  {RCORE}  
L_L1         P1A 1  {LLEAK}  
R_R1         1 2  {RP1}  
L_L2         P1B 2  {LM} IC=0 
E_E1         3 S1B 2 P1B {NS1/NP1}
R_R2         3 4  {RS1}  
F_F1         2 P1B VF_F1 {NS1/NP1}
VF_F1         4 S1A 0V
C_C1		 P1B S1B {CINTW}
.ends 750311880
*$
.SUBCKT CESR IN OUT
+ PARAMs:  C=100u ESR=0.01 X=2 IC=0
C	IN 1  {C*X} IC={IC}
RESR	1 OUT {ESR/X}
.ENDS CESR
*$
