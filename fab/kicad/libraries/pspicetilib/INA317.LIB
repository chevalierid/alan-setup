*$
* INA317
*************************************************************************************************
* (C) Copyright 2022 Texas Instruments Incorporated. All rights reserved.                                            
*************************************************************************************************
** This model is designed as an aid for customers of Texas Instruments.
** TI and its licensor's and suppliers make no warranties, either expressed
** or implied, with respect to this model, including the warranties of 
** merchantability or fitness for a particular purpose.  The model is
** provided solely on an "as is" basis.  The entire risk as to its quality
** and performance is with the customer
*************************************************************************************************
*
* This model is subject to change without notice. Texas Instruments
* Incorporated is not responsible for updating this model.
*
*************************************************************************************************
*
** Released by: Online Design Tools, Texas Instruments Inc.
* Part: INA317
* Date: 12DEC2022
* Model Type: Generic (suitable for all analysis types)
* EVM Order Number: N/A 
* EVM Users Guide:  N/A 
* Datasheet: SBOS896 -NOVEMBER 2017
* Created with Green-Williams-Lis Op Amp Macro-model Architecture
*
* Model Version: Final 1.3
*
*****************************************************************************
*
* Final 1.3
* 1. Updated PSpice symbol.
* 2. Updated Unique SUBCKT name.
* 3. Updated C6 Capacitor from 1F to 100N to fix Non-Convergence issue.
*
* Final 1.2
* Updated with unique subckt name,Current Noise, Voltage Noise and edits in claw block
*
*
* Final 1.1 
* Release to Web.
*
****************************************************************************
* Model Usage Notes:
* 1. The following parameters are modeled: 
* 		OPEN-LOOP GAIN AND PHASE VS. FREQUENCY  WITH RL, CL EFFECTS (Aol)
* 		UNITY GAIN BANDWIDTH (GBW)
* 		INPUT COMMON-MODE REJECTION RATIO VS. FREQUENCY (CMRR)
* 		POWER SUPPLY REJECTION RATIO VS. FREQUENCY (PSRR)
* 		DIFFERENTIAL INPUT IMPEDANCE (Zid)
* 		COMMON-MODE INPUT IMPEDANCE (Zic)
* 		OPEN-LOOP OUTPUT IMPEDANCE VS. FREQUENCY (Zo)
* 		OUTPUT CURRENT THROUGH THE SUPPLY (Iout)
* 		INPUT VOLTAGE NOISE DENSITY VS. FREQUENCY (en)
* 		INPUT CURRENT NOISE DENSITY VS. FREQUENCY (in)
* 		OUTPUT VOLTAGE SWING vs. OUTPUT CURRENT (Vo)
* 		SHORT-CIRCUIT OUTPUT CURRENT (Isc)
* 		QUIESCENT CURRENT (Iq)
* 		SETTLING TIME VS. CAPACITIVE LOAD (ts)
* 		SLEW RATE (SR)
* 		SMALL SIGNAL OVERSHOOT VS. CAPACITIVE LOAD
* 		LARGE SIGNAL RESPONSE
* 		OVERLOAD RECOVERY TIME (tor)
* 		INPUT BIAS CURRENT (Ib)
* 		INPUT OFFSET CURRENT (Ios)
* 		INPUT OFFSET VOLTAGE (Vos)
* 		INPUT OFFSET VOLTAGE VS. TEMPERATURE (VOS DRIFT)
* 		INPUT COMMON-MODE VOLTAGE RANGE (Vcm)
* 		INPUT OFFSET VOLTAGE VS. INPUT COMMON-MODE VOLTAGE (Vos vs. Vcm)
* 		INPUT/OUTPUT ESD CELLS (ESDin, ESDout)
****************************************************************************
.SUBCKT INA317 IN+ IN- VCC VEE OUT REF RG+ RG-
****************************************************************************
* Models
.MODEL R_NOISELESS RES (TCE=0 T_ABS=-273.15)
* Components
C_CMN MID IN- 3P 
C_CMP IN+ MID 3P 
C_DIFF IN- IN+ 3P 
C1 RG- OUT_18 3.5P 
C2 RG+ OUT_11 3.5P 
C3 OUT IN-_19 1P 
C4 REF IN+_20 1F 
C5 16 0 1F 
C6 13 0 100N 
C7 15 0 1F 
E1 MID 0 13 0 1
G16 17 0 VCC 0 -1
G17 14 0 VEE 0 -1
I_B1 IN- MID 20P
I_B2 IN+ MID 70P
I_OS1 RG- MID -70P
I_OS2 RG+ MID -70P
I_Q VCC VEE 50U
R1 RG- OUT_18 R_NOISELESS 50K 
R2 RG+ OUT_11 R_NOISELESS 50K 
R3 OUT_18 IN-_19 R_NOISELESS 150K 
R4 IN-_19 OUT R_NOISELESS 150K 
R5 OUT_11 IN+_20 R_NOISELESS 150K 
R6 IN+_20 REF R_NOISELESS 150.0095K 
R7 17 16 R_NOISELESS 1M 
R8 13 0 R_NOISELESS 1T 
R9 15 14 R_NOISELESS 1M 
R59 16 13 R_NOISELESS 1MEG 
R60 13 15 R_NOISELESS 1MEG 
R88 17 0 R_NOISELESS 1 
R89 14 0 R_NOISELESS 1 
XA1 IN+_12 RG- VCC VEE OUT_18 MID IN_AMP_INA317
XA2 IN+_10 RG+ VCC VEE OUT_11 MID IN_AMP_INA317
XA3 IN+_20 IN-_19 VCC VEE OUT MID OUT_AMP_INA317
XV_OS1 IN+_12 IN- VOS_DRIFT1_INA317
XV_OS2 IN+_10 IN+ VOS_DRIFT2_INA317
.ENDS INA317
****************************************************************************
.SUBCKT AOL_ZO_INA317 ZO_CLEFT CL_CLAMP ZO_CRIGHT MID ZO_OUT AOL_INN AOL_INP CLAMP CLAW_CLAMP VSENSE
****************************************************************************
* Models
.MODEL R_NOISELESS RES (TCE=0 T_ABS=-273.15)
* Components
C1_1 ZO_CLEFT ZO_CRIGHT 89.93U 
C1_3 72 73 80.5P 
C1_A0 CLAMP MID 1.09U 
C2_2 75 MID 800.62P 
C2_4 70 MID 16.75P 
C2_A2 OUT2_65 MID 212.46F 
C4_5 67 68 1.45P 
G_AOL_ZO ZO_CLEFT MID CL_CLAMP ZO_OUT -373.52
GVCCS1_1 76 MID ZO_CRIGHT MID -112.04
GVCCS1_3 71 MID 72 MID -1.31
GVCCS2_2 73 MID 74 MID -1
GVCCS2_4 67 MID 69 MID -1
GVCCS3_A2 OUT2_65 MID VSENSE MID -1U
GVCCS4_CC CLAW_CLAMP MID OUT2_65 MID -1M
GVCCS4_CL CL_CLAMP MID CLAW_CLAMP MID -1M
GVCCS4_VS VSENSE MID CLAMP MID -1M
R1_1 ZO_CRIGHT ZO_CLEFT R_NOISELESS 10K 
R1_3 72 73 R_NOISELESS 10K 
R1_5 67 MID R_NOISELESS 1 
R2_1 ZO_CRIGHT MID R_NOISELESS 90.06 
R2_3 72 MID R_NOISELESS 32.79K 
R3_A0 MID 4_A0_66 R_NOISELESS 1MEG 
R3_A2 MID OUT2_65 R_NOISELESS 1MEG 
R4_2 74 76 R_NOISELESS 3.2MEG 
R4_4 69 71 R_NOISELESS 9.04K 
R4_A0 MID CLAMP R_NOISELESS 1MEG 
R4_CC MID CLAW_CLAMP R_NOISELESS 1K 
R4_CL MID CL_CLAMP R_NOISELESS 1K 
R4_VS MID VSENSE R_NOISELESS 1K 
R5_2 74 75 R_NOISELESS 10K 
R5_4 69 70 R_NOISELESS 10K 
R7_2 76 MID R_NOISELESS 1 
R7_4 71 MID R_NOISELESS 1 
R9_5 77 MID R_NOISELESS 1 
R10_5 68 67 R_NOISELESS 10K 
R11_5 68 MID R_NOISELESS 126.68M 
RDC_1 ZO_CLEFT MID R_NOISELESS 1 
RDC_3 73 MID R_NOISELESS 1 
RDUMMY MID ZO_OUT R_NOISELESS 38.34K 
RX ZO_OUT 77 R_NOISELESS 383.39K 
XVCCS_LIM_1_INA333_A0 AOL_INP AOL_INN MID 4_A0_66 VCCS_LIM_1_INA317
XVCCS_LIM_2_INA333_A0 4_A0_66 MID MID CLAMP VCCS_LIM_2_INA317
XVCVS_LIM_1 68 MID MID 77 VCCS_LIM_ZO_INA317
.ENDS AOL_ZO_INA317
*
.SUBCKT CLAMP_AMP_HI_INA317 VC+ VC- VIN COM VO+ VO-
* Parameters
.PARAM G=10
* Components
GVO- COM VO- VALUE = {IF(V(VIN,COM)<V(VC-,COM),((V(VC-,COM)-V(VIN,COM))*G),0)}
GVO+ COM VO+ VALUE = {IF(V(VIN,COM)>V(VC+,COM),((V(VIN,COM)-V(VC+,COM))*G),0)}
.ENDS CLAMP_AMP_HI_INA317
*
.SUBCKT CLAMP_AMP_LO_INA317 VC+ VC- VIN COM VO+ VO-
* Parameters
.PARAM G=1
* Components
GVO- COM VO- VALUE = {IF(V(VIN,COM)<V(VC-,COM),((V(VC-,COM)-V(VIN,COM))*G),0)}
GVO+ COM VO+ VALUE = {IF(V(VIN,COM)>V(VC+,COM),((V(VIN,COM)-V(VC+,COM))*G),0)}
.ENDS CLAMP_AMP_LO_INA317
*
.SUBCKT ESD_INA317 VEE VCC ESD_INA333N ESD_INA333P
* Models
.MODEL S_VSWITCH_1 VSWITCH (RON=50 ROFF=1T VON=700M VOFF=600M)
.MODEL S_VSWITCH_2 VSWITCH (RON=50 ROFF=1T VON=500M VOFF=450M)
* Components
S2 ESD_INA333N VCC ESD_INA333N VCC S_VSWITCH_2
S3 ESD_INA333P VCC ESD_INA333P VCC S_VSWITCH_2
S4 VEE ESD_INA333N VEE ESD_INA333N S_VSWITCH_2
S5 VEE ESD_INA333P VEE ESD_INA333P S_VSWITCH_2
S6 ESD_INA333N ESD_INA333P ESD_INA333N ESD_INA333P S_VSWITCH_1
S7 ESD_INA333P ESD_INA333N ESD_INA333P ESD_INA333N S_VSWITCH_1
.ENDS ESD_INA317
*
.SUBCKT FEMT_INA317 1 2
* Parameters
.PARAM NVRF=100
.PARAM RNVF={1.184*PWR(NVRF,2)}
* Components
E1 3 0 5 0 10
G1 1 2 3 0 1E-6
R1 5 0 {RNVF} 
R2 5 0 {RNVF} 
.ENDS FEMT_INA317
****************************************************************************
.SUBCKT IN_AMP_INA317 IN+ IN- VCC VEE OUT MID
****************************************************************************
* Models
.MODEL R_NOISELESS RES (TCE=0 T_ABS=-273.15)
.MODEL S_VSWITCH_1 VSWITCH (RON=1M ROFF=1G VON=900M VOFF=800M)
* Components
C1 MID 35 2P 
C2 34 MID 2P 
C4 AOL_INP_42 MID 1F 
C7 VOUT_S_23 MID 1N 
C10 MID CLAWN_21 1F 
C11 CLAWP_22 MID 1F 
C12 SW_OL_29 MID 100P 
C13 VIMON_24 MID 1N 
C17 55 MID 1F 
C18 MID 56 1F 
C19 52 MID 1F 
C27 48 MID 1P 
C28 47 MID 1P 
E5 44 MID OUT MID 1
G_PSR 63 64 OUT_46 OUT_45 -1M
G16 IN_32 0 VCC 0 -1
G17 IN_33 0 VEE 0 -1
H1 43 MID V4 1K
R_PSR 64 63 R_NOISELESS 1K 
R1 64 49 R_NOISELESS 1M 
R2 AOL_INN_41 34 R_NOISELESS 1M 
R3 ESD_INA333P_31 35 9.15475K 
R4 ESD_INA333N_30 34 R_NOISELESS 9.15475K 
R6 62 MID R_NOISELESS 1T 
R7 MID 61 R_NOISELESS 1T 
R8 MID 60 R_NOISELESS 1 
R9 AOL_INP_42 60 R_NOISELESS 1M 
R10 MID 43 R_NOISELESS 1T 
R11 MID 44 R_NOISELESS 1T 
R18 44 VOUT_S_23 R_NOISELESS 100 
R23 36 MID R_NOISELESS 1T 
R24 MID 58 R_NOISELESS 1 
R25 57 MID R_NOISELESS 1 
R26 37 MID R_NOISELESS 1T 
R27 57 CLAWP_22 R_NOISELESS 1M 
R28 58 CLAWN_21 R_NOISELESS 1M 
R31 59 MID R_NOISELESS 1 
R32 59 SW_OL_29 R_NOISELESS 100 
R33 43 VIMON_24 R_NOISELESS 100 
R34 IN+ ESD_INA333P_31 R_NOISELESS 10M 
R35 IN- ESD_INA333N_30 R_NOISELESS 10M 
R36 MID 54 R_NOISELESS 1 
R37 51 MID R_NOISELESS 1T 
R38 53 MID R_NOISELESS 1 
R39 50 MID R_NOISELESS 1T 
R40 53 55 R_NOISELESS 1M 
R41 54 56 R_NOISELESS 1M 
R42 VSENSE_27 52 R_NOISELESS 1M 
R52 MID ESD_INA333P_31 R_NOISELESS 1T 
R53 ESD_INA333N_30 MID R_NOISELESS 1T 
R76 CLAWN_21 48 R_NOISELESS 100 
R77 CLAWP_22 47 R_NOISELESS 100 
R88 IN_32 0 R_NOISELESS 1 
R89 IN_33 0 R_NOISELESS 1 
S1 ZO_CLEFT_38 ZO_CRIGHT_39 SW_OL_29 MID S_VSWITCH_1
V_GRN 51 MID -69
V_GRP 50 MID 48
V4 ZO_OUT_40 OUT 0
VCLAWN 36 IN_33 30M
VCLAWP 37 IN_32 -30M
VCM_MAX 62 IN_32 100M
VCM_MIN 61 IN_33 -100M
XCLAW_AMP 37 36 VOUT_S_23 MID 57 58 CLAMP_AMP_LO_INA317
XCLAW_SRC CLAWP_22 CLAWN_21 CLAW_CLAMP_26 MID VCCS_LIM_3_INA317
XE_N 35 49 VNSE_INA317
XGR_AMP 50 51 52 MID 53 54 CLAMP_AMP_HI_INA317
XGR_SRC 55 56 CLAMP_28 MID VCCS_LIM_GR_INA317
XI_NN 34 MID FEMT_INA317
XI_NP MID 49 FEMT_INA317
XIQNEG MID VIMON_24 VEE MID VCCS_LIM_IQ_INA317
XIQPOS VIMON_24 MID MID VCC VCCS_LIM_IQ_INA317
XOL_SENSE_INA333 MID 59 48 47 OL_SENSE_INA317
XU1 ZO_CLEFT_38 CL_CLAMP_25 ZO_CRIGHT_39 MID ZO_OUT_40 AOL_INN_41 AOL_INP_42 CLAMP_28 CLAW_CLAMP_26 VSENSE_27
+ AOL_ZO_INA317
XU2 OUT_46 IN_32 MID PSRR_CMRR_1_INA317
XU3 OUT_45 IN_33 MID PSRR_CMRR_0_INA317
XU5 VEE VCC ESD_INA333N_30 ESD_INA333P_31 ESD_INA317
XVCM_CLAMP 63 MID 60 MID 62 61 VCCS_EXT_LIM_INA317
.ENDS IN_AMP_INA317
*
.SUBCKT OL_SENSE_INA317 COM SW+ OLN OLP
* Components
GSW+ COM SW+ VALUE = {IF((V(OLN,COM)>10E-3|V(OLP,COM)>10E-3),1,0)}
.ENDS OL_SENSE_INA317
****************************************************************************
.SUBCKT OUT_AMP_INA317 IN+ IN- VCC VEE OUT MID
****************************************************************************
* Models
.MODEL R_NOISELESS RES (TCE=0 T_ABS=-273.15)
.MODEL S_VSWITCH_1 VSWITCH (RON=50 ROFF=1T VON=500M VOFF=450M)
.MODEL S_VSWITCH_2 VSWITCH (RON=1M ROFF=1G VON=900M VOFF=800M)
.MODEL S_VSWITCH_3 VSWITCH (RON=10M ROFF=1G VON=10M VOFF=0)
* Components
C_CMN ESD_INA333N_197 MID 4P 
C_CMP MID ESD_INA333P_198 4P 
C_DIFF ESD_INA333P_198 ESD_INA333N_197 2P 
C4 AOL_INP_205 MID 1F 
C5 MID 237 1F 
C6 238 MID 1F 
C7 VOUT_S_191 MID 1N 
C8 MID 234 1F 
C9 233 MID 1F 
C10 MID 242 1F 
C11 241 MID 1F 
C12 SW_OL_196 MID 100P 
C13 VIMON_192 MID 1N 
C17 231 MID 1F 
C18 MID 232 1F 
C19 228 MID 1F 
C24 VCLP MID 100P 
C27 214 MID 1P 
C28 212 MID 1P 
E4 206 MID CL_CLAMP_189 MID 1
E5 208 MID OUT MID 1
G_PSR 247 248 OUT_210 OUT_209 -1M
G2 VCC_CLP MID 237 MID -1M
G3 VEE_CLP MID 238 MID -1M
G16 IN_188 0 VCC 0 -1
G17 IN_187 0 VEE 0 -1
GVCCS7 218 MID 219 MID -1
GVCCS8 216 MID 217 MID -1
H1 207 MID V4 1K
H2 215 MID V11 -1
H3 213 MID V12 1
I_B 211 MID 70P
I_OS ESD_INA333N_197 MID -70P
R_PSR 248 247 R_NOISELESS 1K 
R1 248 249 R_NOISELESS 1M 
R2 AOL_INN_204 ESD_INA333N_197 R_NOISELESS 1M 
R6 246 MID R_NOISELESS 1T 
R7 MID 245 R_NOISELESS 1T 
R8 MID 244 R_NOISELESS 1 
R9 AOL_INP_205 244 R_NOISELESS 1M 
R10 MID 207 R_NOISELESS 1T 
R11 MID 208 R_NOISELESS 1T 
R12 235 IN_188 R_NOISELESS 1K 
R13 IN_187 236 R_NOISELESS 1K 
R14 MID VEE_CLP R_NOISELESS 1K 
R15 VCC_CLP MID R_NOISELESS 1K 
R16 235 237 R_NOISELESS 1M 
R17 238 236 R_NOISELESS 1M 
R18 208 VOUT_S_191 R_NOISELESS 100 
R19 MID 221 R_NOISELESS 1T 
R20 MID 223 R_NOISELESS 1 
R21 222 MID R_NOISELESS 1 
R22 220 MID R_NOISELESS 1T 
R23 VEE_CLP MID R_NOISELESS 1T 
R24 MID 240 R_NOISELESS 1 
R25 239 MID R_NOISELESS 1 
R26 VCC_CLP MID R_NOISELESS 1T 
R27 239 241 R_NOISELESS 1M 
R28 240 242 R_NOISELESS 1M 
R29 222 233 R_NOISELESS 1M 
R30 223 234 R_NOISELESS 1M 
R31 243 MID R_NOISELESS 1 
R32 243 SW_OL_196 R_NOISELESS 100 
R33 207 VIMON_192 R_NOISELESS 100 
R34 IN+ ESD_INA333P_198 R_NOISELESS 10M 
R35 IN- ESD_INA333N_197 R_NOISELESS 10M 
R36 MID 230 R_NOISELESS 1 
R37 227 MID R_NOISELESS 1T 
R38 229 MID R_NOISELESS 1 
R39 226 MID R_NOISELESS 1T 
R40 229 231 R_NOISELESS 1M 
R41 230 232 R_NOISELESS 1M 
R42 VSENSE_194 228 R_NOISELESS 1M 
R47 206 VCLP R_NOISELESS 100 
R52 MID ESD_INA333P_198 R_NOISELESS 1T 
R53 ESD_INA333N_197 MID R_NOISELESS 1T 
R74 218 MID R_NOISELESS 1 
R75 MID 216 R_NOISELESS 1 
R76 215 214 R_NOISELESS 100 
R77 213 212 R_NOISELESS 100 
R88 IN_188 0 R_NOISELESS 1 
R89 IN_187 0 R_NOISELESS 1 
S1 ZO_CLEFT_201 ZO_CRIGHT_202 SW_OL_196 MID S_VSWITCH_2
S6 OUT VCC OUT VCC S_VSWITCH_1
S7 VEE OUT VEE OUT S_VSWITCH_1
SOR_SWN 225 CLAMP_195 225 CLAMP_195 S_VSWITCH_3
SOR_SWP CLAMP_195 224 CLAMP_195 224 S_VSWITCH_3
V_GRN 227 MID -69
V_GRP 226 MID 48
V_ISCN 221 MID -11
V_ISCP 220 MID 5
V_ORN 219 VCLP -7.99
V_ORP 217 VCLP 7.99
V4 ZO_OUT_203 OUT 0
V11 225 218 0
V12 224 216 0
VCM_MAX 246 IN_188 100M
VCM_MIN 245 IN_187 -100M
XCL_AMP 220 221 VIMON_192 MID 222 223 CLAMP_AMP_LO_INA317
XCL_SRC 233 234 CL_CLAMP_189 MID VCCS_LIM_4_INA317
XCLAW_AMP VCC_CLP VEE_CLP VOUT_S_191 MID 239 240 CLAMP_AMP_LO_INA317
XCLAW_SRC 241 242 CLAW_CLAMP_193 MID VCCS_LIM_3_INA317
XCLAWN MID VIMON_192 IN_187 236 VCCS_LIM_CLAWN_INA317
XCLAWP VIMON_192 MID 235 IN_188 VCCS_LIM_CLAWP_INA317
XE_N ESD_INA333P_198 211 VNSE_INA317
XGR_AMP 226 227 228 MID 229 230 CLAMP_AMP_HI_INA317
XGR_SRC 231 232 CLAMP_195 MID VCCS_LIM_GR_INA317
XI_NN ESD_INA333N_197 MID FEMT_INA317
XI_NP MID 211 FEMT_INA317
XIQNEG MID VIMON_192 VEE MID VCCS_LIM_IQ_INA317
XIQPOS VIMON_192 MID MID VCC VCCS_LIM_IQ_INA317
XOL_SENSE_INA333 MID 243 214 212 OL_SENSE_INA317
XU1 ZO_CLEFT_201 CL_CLAMP_189 ZO_CRIGHT_202 MID ZO_OUT_203 AOL_INN_204 AOL_INP_205 CLAMP_195 CLAW_CLAMP_193 VSENSE_194
+ AOL_ZO_INA317
XU2 OUT_210 IN_188 MID PSRR_CMRR_1_INA317
XU3 OUT_209 IN_187 MID PSRR_CMRR_0_INA317
XU5 VEE VCC ESD_INA333N_197 ESD_INA333P_198 ESD_INA317
XV_OS 249 211 VOS_DRIFT_INA317
XVCM_CLAMP 247 MID 244 MID 246 245 VCCS_EXT_LIM_INA317
.ENDS OUT_AMP_INA317
*
.SUBCKT PSRR_CMRR_0_INA317 OUT IN MID
* Models
.MODEL R_NOISELESS RES (TCE=0 T_ABS=-273.15)
* Components
C1A 79 80 3.98N 
C2A 78 81 15.92F 
G_1 80 MID IN MID -175M
G_2 OUT MID 78 MID -7
GVCCS7 81 MID 79 MID -1
R2A MID 79 R_NOISELESS 571.43 
R2B MID 78 R_NOISELESS 16.67MEG 
R48 80 79 R_NOISELESS 100MEG 
R49 MID 81 R_NOISELESS 1 
R73 81 78 R_NOISELESS 100MEG 
R74 MID OUT R_NOISELESS 1 
RSRC MID 80 R_NOISELESS 1 
.ENDS PSRR_CMRR_0_INA317
*
.SUBCKT PSRR_CMRR_1_INA317 OUT IN MID
* Models
.MODEL R_NOISELESS RES (TCE=0 T_ABS=-273.15)
* Components
C1A 83 84 53.05P 
C2A 82 85 1.99P 
G_1 84 MID IN MID -3.33M
G_2 OUT MID 82 MID -125
GVCCS7 85 MID 83 MID -1
R2A MID 83 R_NOISELESS 30.01K 
R2B MID 82 R_NOISELESS 806.45K 
R48 84 83 R_NOISELESS 100MEG 
R49 MID 85 R_NOISELESS 1 
R73 85 82 R_NOISELESS 100MEG 
R74 MID OUT R_NOISELESS 1 
RSRC MID 84 R_NOISELESS 1 
.ENDS PSRR_CMRR_1_INA317
*
.SUBCKT VCCS_EXT_LIM_INA317 VIN+ VIN- IOUT- IOUT+ VP+ VP-
* Parameters
.PARAM GAIN=1
* Components
G1 IOUT+ IOUT- VALUE={LIMIT(GAIN*V(VIN+,VIN-),V(VP-,VIN-),V(VP+,VIN-))}
.ENDS VCCS_EXT_LIM_INA317
*
.SUBCKT VCCS_LIM_1_INA317 VC+ VC- IOUT+ IOUT-
* Parameters
.PARAM GAIN=1E-4
.PARAM INEG=-.5
.PARAM IPOS=.5
* Components
G1 IOUT+ IOUT- VALUE={LIMIT(GAIN*V(VC+,VC-),INEG,IPOS)}
.ENDS VCCS_LIM_1_INA317
*
.SUBCKT VCCS_LIM_2_INA317 VC+ VC- IOUT+ IOUT-
* Parameters
.PARAM GAIN=0.034771
.PARAM INEG=-0.21033
.PARAM IPOS=0.21029
* Components
G1 IOUT+ IOUT- VALUE={LIMIT(GAIN*V(VC+,VC-),INEG,IPOS)}
.ENDS VCCS_LIM_2_INA317
*
.SUBCKT VCCS_LIM_3_INA317 VC+ VC- IOUT+ IOUT-
* Parameters
.PARAM GAIN=1
.PARAM INEG=-0.1449
.PARAM IPOS=0.1008
* Components
G1 IOUT+ IOUT- VALUE={LIMIT(GAIN*V(VC+,VC-),INEG,IPOS)}
.ENDS VCCS_LIM_3_INA317
*
.SUBCKT VCCS_LIM_4_INA317 VC+ VC- IOUT+ IOUT-
* Parameters
.PARAM GAIN=1
.PARAM INEG=-0.2898
.PARAM IPOS=0.2016
* Components
G1 IOUT+ IOUT- VALUE={LIMIT(GAIN*V(VC+,VC-),INEG,IPOS)}
.ENDS VCCS_LIM_4_INA317
*
.SUBCKT VCCS_LIM_CLAWN_INA317 VC+ VC- IOUT+ IOUT-
* Components
G1 IOUT+ IOUT- TABLE {(V(VC+,VC-))} =(0, 3E-05)(3.3333, 0.00013691)(6.6667, 0.0002707)(8.8889, 0.00034123)(9,
+ 0.00034476)(9.2222, 0.00035181)(9.4444, 0.00035887)(9.6667, 0.00036592)(9.8889, 0.00037297)(10, 0.0003765)
.ENDS VCCS_LIM_CLAWN_INA317
*
.SUBCKT VCCS_LIM_CLAWP_INA317 VC+ VC- IOUT+ IOUT-
* Components
G1 IOUT+ IOUT- TABLE {(V(VC+,VC-))} =(0, 3E-05)(1.5325, 0.00017373)(3.065, 0.00048081)(4.0867, 0.00078722)(4.1378,
+ 0.00080691)(4.2399, 0.00085026)(4.3421, 0.00091894)(4.4443, 0.00099847)(4.5464, 0.0011134)(4.5975, 0.0011953)
.ENDS VCCS_LIM_CLAWP_INA317
*
.SUBCKT VCCS_LIM_GR_INA317 VC+ VC- IOUT+ IOUT-
* Parameters
.PARAM GAIN=1
.PARAM INEG=-0.42059
.PARAM IPOS=0.42059
* Components
G1 IOUT+ IOUT- VALUE={LIMIT(GAIN*V(VC+,VC-),INEG,IPOS)}
.ENDS VCCS_LIM_GR_INA317
*
.SUBCKT VCCS_LIM_IQ_INA317 VC+ VC- IOUT+ IOUT-
* Parameters
.PARAM GAIN=1E-3
* Components
G1 IOUT- IOUT+ VALUE={IF((V(VC+,VC-)<=0),0,GAIN*V(VC+,VC-))}
.ENDS VCCS_LIM_IQ_INA317
*
.SUBCKT VCCS_LIM_ZO_INA317 VC+ VC- IOUT+ IOUT-
* Parameters
.PARAM GAIN=78939.8006
.PARAM INEG=-8434.58
.PARAM IPOS=3833.9
* Components
G1 IOUT+ IOUT- VALUE={LIMIT(GAIN*V(VC+,VC-),INEG,IPOS)}
.ENDS VCCS_LIM_ZO_INA317
*
.SUBCKT VNSE_INA317 1 2
* Parameters
.PARAM NVR=55
.PARAM RNV={1.184*PWR(NVR,2)}
* Components
E3 1 2 5 0 10
R4 5 0 {RNV} 
R5 5 0 {RNV} 
.ENDS VNSE_INA317
*
.SUBCKT VOS_DRIFT_INA317 VOS+ VOS-
* Parameters
.PARAM DC=19.5E-6
.PARAM DRIFT=0.05E-06
.PARAM POL=1
* Components
E1 VOS+ VOS- VALUE={DC+POL*DRIFT*(TEMP-27)}
.ENDS VOS_DRIFT_INA317
*
.SUBCKT VOS_DRIFT1_INA317 VOS+ VOS-
* Parameters
.PARAM DC=-5.5E-6
.PARAM DRIFT=-0.25E-06
.PARAM POL=1
* Components
E1 VOS+ VOS- VALUE={DC+POL*DRIFT*(TEMP-27)}
.ENDS VOS_DRIFT1_INA317
*
.SUBCKT VOS_DRIFT2_INA317 VOS+ VOS-
* Parameters
.PARAM DC=4.5E-6
.PARAM DRIFT=0.25E-06
.PARAM POL=1
* Components
E1 VOS+ VOS- VALUE={DC+POL*DRIFT*(TEMP-27)}
.ENDS VOS_DRIFT2_INA317
*
