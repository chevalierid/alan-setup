*$
* TPS84259
*****************************************************************************
* (C) Copyright 2012 Texas Instruments Incorporated. All rights reserved.
*****************************************************************************
** This model is designed as an aid for customers of Texas Instruments.
** TI and its licensors and suppliers make no warranties, either expressed
** or implied, with respect to this model, including the warranties of
** merchantability or fitness for a particular purpose. The model is
** provided solely on an "as is" basis. The entire risk as to its quality
** and performance is with the customer
*****************************************************************************
*
* Released by: WEBENCH Design Center, Texas Instruments Inc.
* Part: TPS84259
* Date: 28SEP2012
* Model Type: Transient
* Simulator: PSpice
* Simulator Version: 16.2
* EVM Order Number: TPS84259-001
* EVM Users Guide: SLVU748 â€“ August 2012 
* Datasheet: SLVSBA0 - August 2012
* Model Version: Final 1.00
*
*****************************************************************************
*
* Updates:
*
* Final 1.00
* Release to Web
*
*
******************************************************************************

.SUBCKT TPS84259_TRANS INH_UVLO SS STSEL A_VOUT  VIN
+ GND VOUT PH VOUT_PT  VADJ  CLK RT
L_L1         N16777909 GND  4.7u  
C_C2         PH N16777624  0.1u  
C_C3         VOUT COMP  22p  
X_S2    N16777691 0 N16777572 STSEL TPS84259_EVM_Pinout_S2 
C_U2_U7_C177         0 U2_U7_INDELAYED2  10p  
E_U2_U7_ABM13         U2_U7_N16489586 0 VALUE { IF((V(COMP)-V(VOUT)) <0.55
+  ,1,0)    }
X_U2_U7_U822         U2_PWM_CLK U2_U7_N16497188 INV_DELAY_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5 DELAY=15n
X_U2_U7_U825         U2_U7_N16509288 U2_U7_INDELAYED2 U2_PWM_CLK U2_U7_OR2OUT2
+  OR3_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U2_U7_U823         U2_U7_N16497188 U2_PWM_CLK U2_U7_N16489522 AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U2_U7_U824         U2_U7_N16489522 U2_U7_INDELAYED1 U2_PWM_CLK U2_U7_OR2OUT1
+  OR3_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
R_U2_U7_R272         U2_U7_N16489522 U2_U7_INDELAYED1  17.28k  
C_U2_U7_C171         0 U2_U7_N16490100  1n  
X_U2_U7_U620         U2_U7_N16489522 U2_U7_INDELAYED1 d_d PARAMS:
X_U2_U7_U826         U2_PWM_CLK U2_U7_N16509390 INV_DELAY_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5 DELAY=15n
X_U2_U7_U827         U2_U7_N16509390 U2_PWM_CLK U2_U7_N16509288 AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U2_U7_U623         U2_U7_N16509288 U2_U7_INDELAYED2 d_d PARAMS:
R_U2_U7_R276         U2_U7_N16509288 U2_U7_INDELAYED2  18k  
C_U2_U7_C172         0 U2_U7_INDELAYED1  10p  
X_U2_U7_U6         U2_U7_OR2OUT1 U2_U7_OR2OUT2 U2_U7_N16490100 U2_PWM_FINAL
+  MUX2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
R_U2_U7_R273         U2_U7_N16489586 U2_U7_N16490100  1  
E_U2_U5_ABM177         U2_U5_N16513064 0 VALUE { IF(V(U2_U5_N16512904) < 70u,
+  70u, IF(V(U2_U5_N16512904) > 310u, 310u,V(U2_U5_N16512904)))    }
C_U2_U5_C166         0 U2_U5_VGM  1n  
C_U2_U5_C162         0 U2_U5_N16512904  1n  
V_U2_U5_V6         U2_U5_N16777241 VOUT 2.2
C_U2_U5_C5         VOUT COMP  30p  
D_U2_U5_D10         COMP U2_U5_N16777241 D_D1 
R_U2_U5_R4         VOUT COMP  30MEG  
G_U2_U5_ABM2I1         VOUT COMP VALUE { {LIMIT((V(U2_VREF_GM) -
+  V(VADJ))*V(U2_U5_VGM), -27u,27u)}    }
R_U2_U5_R11         U2_U5_N16513160 U2_OCB  1  
C_U2_U5_C9         0 U2_OCB  1n  
E_U2_U5_ABM178         U2_U5_N16771151 0 VALUE { IF(V(U2_SDWN) > 0.5, 1,0)    }
X_U2_U5_U603         U2_SDWN U2_U5_N16513124 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
E_U2_U5_ABM171         U2_U5_N16512948 0 VALUE { {IF((V(SS)-V(VOUT)) < 0.7,
+  70u, 70u + (240u *((V(SS)-V(VOUT) -700m)/299m)))}    }
X_U2_U5_U614         U2_U5_N16513186 U2_U5_N16513124 U2_U5_N16513160
+  AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U2_U5_S1    U2_U5_N16771151 0 COMP VOUT ErrorAmp_new_U2_U5_S1 
E_U2_U5_ABM8         U2_U5_N16513186 0 VALUE { {IF((V(COMP) -V(VOUT))> 2,1,0)} 
+    }
D_U2_U5_D11         VOUT COMP D_D1 
R_U2_U5_R286         U2_U5_N16512948 U2_U5_N16512904  1  
R_U2_U5_R290         U2_U5_N16513064 U2_U5_VGM  1  
X_U2_U3_S26    U2_U3_N16517226 0 U2_U3_RAMP 0 Oscillator_U2_U3_S26 
D_U2_U3_D11         U2_U3_RAMP U2_U3_N16490102 D_D1 
X_U2_U3_H1    U2_U3_N16555952 U2_U3_N16555946 U2_U3_N16555960 0
+  Oscillator_U2_U3_H1 
V_U2_U3_V44         U2_U3_N16555946 VOUT 0.5
X_U2_U3_U133         U2_MUXCLK U2_U3_N16518846 INV_DELAY_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5 DELAY=5n
X_U2_U3_U134         U2_SDWN U2_U3_N16517387 U2_U3_N16517226 OR2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
R_U2_U3_R278         U2_U3_N16555960 0  1  
X_U2_U3_U131         U2_U3_RAMP U2_U3_N16505459 U2_MUXCLK COMP_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
R_U2_U3_R276         VOUT U2_U3_N16555952  500MEG  
C_U2_U3_C79         U2_U3_RAMP 0  2p  
R_U2_U3_R279         U2_I_RT U2_U3_N16555960  1k  
R_U2_U3_R277         U2_U3_N16555952 N16777975  1  
C_U2_U3_C80         U2_I_RT 0  1u  
V_U2_U3_V45         U2_U3_N16490102 0 5
X_U2_U3_U132         U2_U3_N16518846 U2_U3_N16517387 INV_DELAY_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY=5n
G_U2_U3_ABMI3         U2_U3_N16490102 U2_U3_RAMP VALUE { {( V(U2_I_RT)*1.2) }  
+   }
V_U2_U3_V46         U2_U3_N16505459 0 2.5
E_U2_U4_ABM178         U2_U4_N7398284 0 VALUE { IF(V(U2_U4_N7404432) < 0.8,
+  V(U2_U4_N7404432)+V(VOUT),0.8+V(VOUT))    }
G_U2_U4_ABMII1         U2_U4_N7397984 SS VALUE { {IF(V(U2_U4_N7406804) >
+  0.5,2u,0)}    }
X_U2_U4_U1         U2_SDWN U2_U4_N7406804 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
V_U2_U4_V70         U2_U4_N7397984 VOUT 5
E_U2_U4_ABM180         U2_U4_N7398466 0 VALUE { IF(V(U2_OCB) > 0.5,1,0)    }
E_U2_U4_ABM174         U2_U4_N7404426 0 VALUE { IF((V(SS)-V(VOUT)) < 500m,
+  (V(SS)-V(VOUT)) - 34.4m,  
+ IF((V(SS) -V(VOUT))> 1500m, 0.8,  
+ (V(SS)-V(VOUT)) - ((0.6633*(V(SS)-V(VOUT))*(V(SS)-V(VOUT)))
+  -(0.6493*(V(SS)-V(VOUT))) + 0.1802)))  }
G_U2_U4_ABMI5         SS VOUT VALUE { {IF(V(U2_SS_DISCH) > 2.5, 1.25e-3,0)}   
+  }
R_U2_U4_R14         U2_U4_N7398284 U2_VREF_GM  1  
R_U2_U4_R15         U2_U4_N7398466 U2_U4_N7398492  1  
C_U2_U4_C8         VOUT SS  0.1p  
C_U2_U4_C14         0 U2_VREF_GM  1n  
C_U2_U4_C15         0 U2_U4_N7398492  100n  
C_U2_U4_C12         0 U2_U4_N7404432  1n  
X_U2_U4_S68    U2_U4_N7398492 0 SS VOUT SoftStart_U2_U4_S68 
R_U2_U4_R13         U2_U4_N7404426 U2_U4_N7404432  1  
X_U2_U11_U603         U2_SDWN U2_U11_N6045130 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
C_U2_U11_C163         U2_U11_N6045130 U2_U11_N6045136  140.5p  
V_U2_U11_V64         U2_U11_N6045018 0 2.5
E_U2_U11_ABM173         U2_SS_DISCH 0 VALUE { {IF((V(SS)-V(VOUT))  < 54m,0,  
+ IF(V(U2_U11_N6045136) > 0.5,1,0))}   }
X_U2_U11_U604         U2_ENAB U2_U11_N16496294 INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
R_U2_U11_R287         0 U2_U11_N6045136  1k  
X_U2_U11_U602         U2_U11_N6045018 VIN U2_U11_UVLO COMP_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5
X_U2_U11_U601         U2_U11_N16496294 U2_U11_UVLO U2_SDWN OR2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
V_U2_V46         U2_SET1 0 1
X_U2_U10_U589         U2_U10_FSBY4EN N16591367 U2_SYSCLK U2_U10_FSBY4EN_PRE
+  U2_U10_SDWN_N U2_SET1 DFFSBRB_RHPBASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
C_U2_U10_C5         0 U2_U10_N16552010  1n  
X_U2_U10_U581         U2_U10_FSBY4 N16545281 U2_U10_FSBY2 U2_U10_N16545175
+  U2_U10_SDWN_N U2_SET1 DFFSBRB_RHPBASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U2_U10_U585         U2_U10_FSBY8 U2_U10_N16545291 INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U2_U10_U637         U2_U10_N16595858 U2_U10_FSBY2 U2_U10_FSBY2_PULSE
+  AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U2_U10_U584         U2_U10_FSBY4 U2_U10_N16545175 INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
E_U2_U10_ABM162         U2_U10_N6043819 0 VALUE { IF(V(U2_U10_FSEN_PRE) > 0.5,
+  V(U2_U10_MUXCLK_PULSE),  
+ IF(V(U2_U10_FSBY2EN_PRE) > 0.5, V(U2_U10_FSBY2_PULSE),  
+ IF(V(U2_U10_FSBY4EN_PRE) > 0.5, V(U2_U10_FSBY4_PULSE),  
+ IF(V(U2_U10_FSBY8EN_PRE) > 0.5, V(U2_U10_FSBY8_PULSE),0)))) }
R_U2_U10_R275         U2_U10_N6043819 U2_SYSCLK  1  
X_U2_U10_U579         U2_U10_OUT3 U2_U10_FSEN_PRE INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U2_U10_U5         U2_U10_N16547211 U2_VSENSEINT U2_U10_FSBY8EN_PRE
+  COMP_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_U2_U10_ABM2         U2_U10_N166292391 0 VALUE { ((V(U2_U10_FSBY8EN_PRE)*50m)
+  + 0.2)    }
X_U2_U10_U583         U2_U10_FSBY2 U2_U10_N16545251 INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
R_U2_U10_R276         U2_U10_N16500611 U2_IF2IA  1  
C_U2_U10_C3         0 U2_U10_N16547211  1n  
X_U2_U10_U634         U2_U10_FSBY2 U2_U10_N16599106 BUF_DELAY_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5 DELAY=100n
X_U2_U10_U587         U2_U10_FSBY8EN N16589227 U2_SYSCLK U2_U10_FSBY8EN_PRE
+  U2_U10_SDWN_N U2_SET1 DFFSBRB_RHPBASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
C_U2_U10_C158         0 U2_IF2IA  1n  
X_U2_U10_U576         U2_U10_OUT2 U2_U10_N6044153 INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
R_U2_U10_R7         U2_U10_N166295831 U2_U10_N16554043  1  
X_U2_U10_U7         U2_U10_N16554043 U2_VSENSEINT U2_U10_OUT3 COMP_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U2_U10_U640         U2_U10_N16596805 U2_U10_FSBY4 U2_U10_FSBY4_PULSE
+  AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U2_U10_U592         U2_U10_FSEN N16612587 U2_SYSCLK U2_U10_FSEN_PRE
+  U2_U10_SDWN_N U2_SET1 DFFSBRB_RHPBASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U2_U10_U641         U2_U10_N16598053 U2_U10_FSBY8 U2_U10_FSBY8_PULSE
+  AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U2_U10_U578         U2_U10_N6044153 U2_U10_OUT3 U2_U10_FSBY2EN_PRE
+  AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
E_U2_U10_ABM163         U2_U10_N16500611 0 VALUE { IF(V(U2_U10_FSEN) > 0.5,
+  660*V(U2_I_RT),  
+ IF(V(U2_U10_FSBY2EN) > 0.5, 330*V(U2_I_RT),  
+ IF(V(U2_U10_FSBY4EN) > 0.5, 165*V(U2_I_RT),  
+ IF(V(U2_U10_FSBY8EN) > 0.5, 82.5*V(U2_I_RT),0)))) }
C_U2_U10_C159         0 U2_VSENSEINT  1n  
X_U2_U10_U635         U2_U10_N16599106 U2_U10_FSBY2 U2_U10_MUXCLK_PULSE
+  XOR2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U2_U10_U591         U2_U10_FSBY2EN N16594024 U2_SYSCLK U2_U10_FSBY2EN_PRE
+  U2_U10_SDWN_N U2_SET1 DFFSBRB_RHPBASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U2_U10_U575         U2_U10_FSBY8EN_PRE U2_U10_N6044009 INV_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
R_U2_U10_R5         U2_U10_N166296471 U2_U10_N16552010  1  
E_U2_U10_ABM6         U2_U10_N166295831 0 VALUE { ((V(U2_U10_OUT3)*50m) + 0.6) 
+    }
C_U2_U10_C157         0 U2_SYSCLK  1n  
X_U2_U10_U577         U2_U10_N6044009 U2_U10_OUT2 U2_U10_FSBY4EN_PRE
+  AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U2_U10_U588         U2_SDWN U2_U10_SDWN_N INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U2_U10_U582         U2_U10_FSBY8 N16545321 U2_U10_FSBY4 U2_U10_N16545291
+  U2_U10_SDWN_N U2_SET1 DFFSBRB_RHPBASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U2_U10_U636         U2_U10_FSBY2 U2_U10_N16595858 INV_DELAY_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5 DELAY=100n
E_U2_U10_ABM4         U2_U10_N166296471 0 VALUE { ((V(U2_U10_OUT2)*50m) + 0.4) 
+    }
X_U2_U10_U639         U2_U10_FSBY8 U2_U10_N16598053 INV_DELAY_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5 DELAY=100n
X_U2_U10_U638         U2_U10_FSBY4 U2_U10_N16596805 INV_DELAY_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5 DELAY=100n
E_U2_U10_ABM164         U2_U10_N6043843 0 VALUE { V(VADJ)-V(VOUT)    }
X_U2_U10_U6         U2_U10_N16552010 U2_VSENSEINT U2_U10_OUT2 COMP_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U2_U10_U580         U2_U10_FSBY2 N16545241 U2_MUXCLK U2_U10_N16545251
+  U2_U10_SDWN_N U2_SET1 DFFSBRB_RHPBASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
C_U2_U10_C7         0 U2_U10_N16554043  1n  
R_U2_U10_R282         U2_U10_N6043843 U2_VSENSEINT  1  
R_U2_U10_R3         U2_U10_N166292391 U2_U10_N16547211  1  
V_U2_V47         U2_SET0 0 0Vdc
E_U2_U1_ABM173         U2_U1_N16553532 0 VALUE { {IF((V(VIN)-V(VOUT)) >
+  2.5,5,0)}    }
D_U2_U1_D8         INH_UVLO U2_U1_N16553532 D_D1 
C_U2_U1_C1         0 U2_ENAB  1n  
R_U2_U1_R256         INH_UVLO U2_U1_N16553532  100MEG  
E_U2_U1_ABM2         U2_U1_N7335584 0 VALUE { V(VIN)    }
D_U2_U1_D9         INH_UVLO U2_U1_N7335584 D_D1 
E_U2_U1_ABM1         U2_U1_N7335540 0 VALUE { {IF((V(INH_UVLO)-V(VOUT) )<
+  1.25,0,1)}    }
G_U2_U1_ABMII1         U2_U1_N7335584 INH_UVLO VALUE { {1u+ 2.9u*(V(U2_ENAB))} 
+    }
R_U2_U1_R1         U2_U1_N7335540 U2_ENAB  1  
X_U2_U8_U613         U2_SDWN U2_U8_N7365280 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U2_U8_S30    U2_HDRV PH U2_U8_N7273984 PH Driver_U2_U8_S30 
X_U2_U8_U610         U2_U8_HDRVIN U2_U8_N7274198 INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
E_U2_U8_ABM167         U2_U8_N7274256 0 VALUE { {IF((V(N16777624) - (V(PH))) <
+  2.1,0,1)}    }
R_U2_U8_R245         0 N16777624  10MEG  
X_U2_U8_U602         U2_U8_OUT U2_U8_BOOT_ON INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U2_U8_U607         U2_U8_LDRV U2_ENAB U2_U8_BOOT_ON U2_U8_SDWN_N
+  U2_U8_BOOT_SW_ON AND4_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U2_U8_H1    VIN U2_U8_N7273984 U2_ISW 0 Driver_U2_U8_H1 
C_U2_U8_C140         0 U2_BOOT_UVLO  1n  
E_U2_U8_ABM2         U2_U8_N73706061 0 VALUE { ((V(U2_U8_OUT) *-500m)+ V(VIN)) 
+    }
X_U2_U8_U608         U2_U8_HDRVIN U2_U8_N7342498 U2_U8_N7274022 AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U2_U8_U604         U2_U8_N7365280 U2_PWM_FINAL U2_U8_HDRVIN AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U2_U8_U612         U2_U8_N7274198 U2_U8_N7343256 BUF_DELAY_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5 DELAY=10n
X_U2_U8_S2    U2_U8_N7274022 0 N16777624 U2_HDRV Driver_U2_U8_S2 
X_U2_U8_S3    U2_U8_N7274032 0 U2_HDRV PH Driver_U2_U8_S3 
X_U2_U8_U605         U2_U8_HDRVIN U2_U8_LDRV INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
R_U2_U8_R244         U2_U8_N7274256 U2_BOOT_UVLO  1  
X_U2_U8_U611         U2_U8_HDRVIN U2_U8_N7342498 BUF_DELAY_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5 DELAY=10n
R_U2_U8_R3         U2_U8_N73706061 U2_U8_N7345383  1  
E_U2_U8_ABM169         U2_U8_N7347010 0 VALUE { V(N16777624) - (V(PH))    }
D_U2_U8_D13         PH U2_U8_N7273984 D_D1 
X_U2_U8_U5         U2_U8_N7347010 U2_U8_N7345383 U2_U8_OUT COMP_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U2_U8_S34    U2_U8_BOOT_SW_ON 0 N16777624 VIN Driver_U2_U8_S34 
X_U2_U8_U609         U2_U8_N7343256 U2_U8_N7274198 U2_U8_N7274032
+  AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
C_U2_U8_C3         0 U2_U8_N7345383  1n  
X_U2_U8_U606         U2_SDWN U2_U8_SDWN_N INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
E_U2_U6_ABM152         U2_U6_ISWF 0 VALUE { {IF(V(U2_U6_N16489275) > 0.5,  
+ V(U2_ISW),-2.7)}   }
E_U2_U6_ABM148         U2_U6_N16489469 0 VALUE { {(V(U2_U6_VRAMPIN))*1u}    }
E_U2_U6_ABM163         U2_U6_N16502082 0 VALUE { LIMIT(((V(U2_U6_N16488977) -
+  V(U2_U6_VRAMP)) * 10)  
+ -12.1u,-48.7u,110u)   }
R_U2_U6_R255         U2_U6_N16489395 U2_U6_N16489275  14.4k  
G_U2_U6_ABMI4         U2_U6_VRAMPIN 0 VALUE { {V(U2_IF2IA) * -1}    }
X_U2_U6_S26    U2_U6_N16543632 0 U2_U6_VRAMPIN 0 GmIphase_U2_U6_S26 
C_U2_U6_C135         0 U2_U6_VRAMP  1n  
C_U2_U6_C146         0 U2_U6_N16489275  5p  
C_U2_U6_C134         0 U2_U6_VRAMPIN  1n  
D_U2_U6_D58         U2_U6_N16489275 U2_U6_N16489395 D_D1 
X_U2_U6_U600         U2_U6_ICTRL U2_U6_ISWF U2_U6_N16522994 COMP_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_U2_U6_ABM164         U2_U6_N16488977 0 VALUE { {(((V(COMP)-V(VOUT)) /90k)  -
+  8u)*1.5}    }
R_U2_U6_R256         U2_U6_N16531938 U2_U6_ICTRL  1  
X_U2_U6_U601         U2_U6_N16489001 U2_VSENSEINT U2_U6_OVTP COMP_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U2_U6_U599         U2_SYSCLK U2_U6_N16489527 INV_DELAY_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5 DELAY=15n
C_U2_U6_C147         0 U2_U6_ICTRL  1n  
X_U2_U6_U603         U2_PWM_CLK N16528816 U2_SYSCLK U2_SET1 U2_U6_PWM U2_SET1
+  DFFSBRB_RHPBASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U2_U6_U598         U2_SYSCLK U2_U6_N16489527 U2_U6_N16543755 AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
E_U2_U6_ABM165         U2_U6_N16531938 0 VALUE { (V(U2_U6_N16502082) * 58.6k)  
+   }
E_U2_U6_ABM151         U2_U6_N16489395 0 VALUE { {IF(V(U2_PWM_FINAL) > 0.5,
+  1,0)}    }
X_U2_U6_U602         U2_U6_N16522994 U2_BOOT_UVLO U2_U6_OVTP U2_U6_PWM
+  AND3_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U2_U6_U134         U2_U6_N16543755 U2_SDWN U2_U6_N16543632 OR2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
V_U2_U6_V79         U2_U6_N16489001 0 0.856
R_U2_U6_R239         U2_U6_N16489469 U2_U6_VRAMP  1  
R_R3         RT N16777975  143k  
E_ABM1         N16777691 0 VALUE { IF(FAST_STARTUP > 0.5, 0,1)    }
R_R2         RC COMP  31.6k  
C_C5         STSEL N16777572  4n  
R_R1         VOUT VADJ  10k  
C_C6         VOUT RC  4700p  
D_D2         VOUT PH D_D1 
R_R24         VOUT VOUT_PT  1m  
R_R26         VOUT A_VOUT  1m  
R_R9         N16777909 PH  25m  
C_C7         N16777572 SS  22n  
R_R25         CLK 0  1m  
.IC         V(SS )=0
.ENDS TPS84259_TRANS
*$
.subckt TPS84259_EVM_Pinout_S2 1 2 3 4  
S_S2         3 4 1 2 _S2
RS_S2         1 2 1G
.MODEL         _S2 VSWITCH Roff=1e6 Ron=1m Voff=0.2 Von=0.8
.ends TPS84259_EVM_Pinout_S2
*$
.subckt ErrorAmp_new_U2_U5_S1 1 2 3 4  
S_U2_U5_S1         3 4 1 2 _U2_U5_S1
RS_U2_U5_S1         1 2 1G
.MODEL         _U2_U5_S1 VSWITCH Roff=1e6 Ron=1m Voff=0.2 Von=0.8
.ends ErrorAmp_new_U2_U5_S1
*$
.subckt Oscillator_U2_U3_S26 1 2 3 4  
S_U2_U3_S26         3 4 1 2 _U2_U3_S26
RS_U2_U3_S26         1 2 1G
.MODEL         _U2_U3_S26 VSWITCH Roff=100e6 Ron=1.0 Voff=0.2 Von=0.8
.ends Oscillator_U2_U3_S26
*$
.subckt Oscillator_U2_U3_H1 1 2 3 4  
H_U2_U3_H1         3 4 VH_U2_U3_H1 -1
VH_U2_U3_H1         1 2 0V
.ends Oscillator_U2_U3_H1
*$
.subckt SoftStart_U2_U4_S68 1 2 3 4  
S_U2_U4_S68         3 4 1 2 _U2_U4_S68
RS_U2_U4_S68         1 2 1G
.MODEL         _U2_U4_S68 VSWITCH Roff=100e6 Ron=1047 Voff=0.2 Von=0.8
.ends SoftStart_U2_U4_S68
*$
.subckt Driver_U2_U8_S30 1 2 3 4  
S_U2_U8_S30         3 4 1 2 _U2_U8_S30
RS_U2_U8_S30         1 2 1G
.MODEL         _U2_U8_S30 VSWITCH Roff=10e6 Ron=200m Voff=1.0 Von=1.2
.ends Driver_U2_U8_S30
*$
.subckt Driver_U2_U8_H1 1 2 3 4  
H_U2_U8_H1         3 4 VH_U2_U8_H1 1
VH_U2_U8_H1         1 2 0V
.ends Driver_U2_U8_H1
*$
.subckt Driver_U2_U8_S2 1 2 3 4  
S_U2_U8_S2         3 4 1 2 _U2_U8_S2
RS_U2_U8_S2         1 2 1G
.MODEL         _U2_U8_S2 VSWITCH Roff=1e6 Ron=2 Voff=0.2 Von=0.8
.ends Driver_U2_U8_S2
*$
.subckt Driver_U2_U8_S3 1 2 3 4  
S_U2_U8_S3         3 4 1 2 _U2_U8_S3
RS_U2_U8_S3         1 2 1G
.MODEL         _U2_U8_S3 VSWITCH Roff=1e6 Ron=1.0 Voff=0.2 Von=0.8
.ends Driver_U2_U8_S3
*$
.subckt Driver_U2_U8_S34 1 2 3 4  
S_U2_U8_S34         3 4 1 2 _U2_U8_S34
RS_U2_U8_S34         1 2 1G
.MODEL         _U2_U8_S34 VSWITCH Roff=1000e6 Ron=15 Voff=0.2 Von=0.8
.ends Driver_U2_U8_S34
*$
.subckt GmIphase_U2_U6_S26 1 2 3 4  
S_U2_U6_S26         3 4 1 2 _U2_U6_S26
RS_U2_U6_S26         1 2 1G
.MODEL         _U2_U6_S26 VSWITCH Roff=100e6 Ron=10m Voff=0.2 Von=0.8
.ends GmIphase_U2_U6_S26
*$
.SUBCKT myD_D1 1 2
D1 1 2 DD1
.MODEL DD1 D( IS=1e-15 TT=10p Rs=0.05 N=.1  )
.ENDS myD_D1
*$
.subckt d_d 1 2
d1 1 2 dd
.model dd d
+ is=1e-015
+ n=0.01
+ tt=1e-011
.ends d_d
*$
.MODEL D_D1 D( IS=1e-15 TT=10p Rs=0.05 N=.1  )
*$
.SUBCKT COMP_BASIC_GEN INP INM Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5	
E_ABM Yint 0 VALUE {IF (V(INP) > 
+ V(INM), {VDD},{VSS})}
R1 Yint Y 1
C1 Y 0 1n
.ENDS COMP_BASIC_GEN
*$
.SUBCKT COMPHYS_BASIC_GEN INP INM HYS OUT PARAMS: VDD=1 VSS=0 VTHRESH=0.5	
EIN INP1 INM1 INP INM 1 
EHYS INP1 INP2 VALUE { IF( V(1) > {VTHRESH},-V(HYS),0) }
EOUT OUT 0 VALUE { IF( V(INP2)>V(INM1), {VDD} ,{VSS}) }
R1 OUT 1 1
C1 1 0 5n
RINP1 INP1 0 1K
.ENDS COMPHYS_BASIC_GEN
*$
.SUBCKT AND2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND2_BASIC_GEN
*$
.SUBCKT AND3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND3_BASIC_GEN
*$
.SUBCKT AND4_BASIC_GEN A B C D Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH} &
+ V(D) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND4_BASIC_GEN
*$
.SUBCKT NAND2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NAND2_BASIC_GEN
*$
.SUBCKT NAND3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NAND3_BASIC_GEN
*$
.SUBCKT NAND4_BASIC_GEN A B C D Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH} &
+ V(D) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NAND4_BASIC_GEN
*$
.SUBCKT OR2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR2_BASIC_GEN
*$
.SUBCKT OR3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR3_BASIC_GEN
*$
.SUBCKT OR4_BASIC_GEN A B C D Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH} |
+ V(D) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR4_BASIC_GEN
*$
.SUBCKT NOR2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR2_BASIC_GEN
*$
.SUBCKT NOR3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR3_BASIC_GEN
*$
.SUBCKT NOR4_BASIC_GEN A B C D Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH} |
+ V(D) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR4_BASIC_GEN
*$
.SUBCKT NOR5_BASIC_GEN A B C D E Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH} |
+ V(D) > {VTHRESH} |
+ V(E) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR5_BASIC_GEN
*$
.SUBCKT NOR6_BASIC_GEN A B C D E F Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH} |
+ V(D) > {VTHRESH} |
+ V(E) > {VTHRESH} |
+ V(F) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR6_BASIC_GEN
*$
.SUBCKT INV_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS INV_BASIC_GEN
*$
.SUBCKT XOR2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE  YINT 0 VALUE {{IF(V(A) > {VTHRESH}  ^  
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS XOR2_BASIC_GEN
*$
.SUBCKT XNOR2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE  YINT 0 VALUE {{IF(V(A) > {VTHRESH}  ^  
+ V(B) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS XNOR2_BASIC_GEN
*$
.SUBCKT MUX2_BASIC_GEN A B S Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE  YINT 0 VALUE {{IF(V(S) > {VTHRESH},  
+ V(B),V(A))}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS MUX2_BASIC_GEN
*$
.SUBCKT INV_DELAY_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY = 10n 
E_ABMGATE1    YINT1 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT1 YINT2 1
CINT YINT2 0 {DELAY*1.3}
E_ABMGATE2    YINT3 0 VALUE {{IF(V(YINT2) > {VTHRESH} , 
+ {VSS},{VDD})}}
RINT2 YINT3 Y 1
CINT2 Y 0 1n
.ENDS INV_DELAY_BASIC_GEN
*$
.SUBCKT BUF_DELAY_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY = 10n 
E_ABMGATE1    YINT1 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT1 YINT2 1
CINT YINT2 0 {DELAY*1.3}
E_ABMGATE2    YINT3 0 VALUE {{IF(V(YINT2) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT2 YINT3 Y 1
CINT2 Y 0 1n
.ENDS BUF_DELAY_BASIC_GEN
*$
.SUBCKT BUF_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS BUF_BASIC_GEN
*$
**Set has higher priority in this latch
.SUBCKT SRLATCHSHP_BASIC_GEN S R Q QB PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
GQ 0 Qint VALUE = {IF(V(S) > {VTHRESH},5,IF(V(R)>{VTHRESH},-5, 0))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr QB 1 
Cdummy1 Q 0 1n 
Cdummy2 QB 0 1n 
.IC V(Qint) {VSS}
.ENDS SRLATCHSHP_BASIC_GEN
*$
**Reset has higher priority in this latch
.SUBCKT SRLATCHRHP_BASIC_GEN S R Q QB PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
GQ 0 Qint VALUE = {IF(V(R) > {VTHRESH},-5,IF(V(S)>{VTHRESH},5, 0))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr QB 1 
Cdummy1 Q 0 1n 
Cdummy2 QB 0 1n
.IC V(Qint) {VSS}
.ENDS SRLATCHRHP_BASIC_GEN
*$
**Reset has higher priority in this latch and active low set and reset - basically NAND based SR latch
.SUBCKT SBRBLATCHRHP_BASIC_GEN SB RB Q QB PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
GQ 0 Qint VALUE = {IF(V(RB) < {VTHRESH},-5,IF(V(SB) < {VTHRESH},5, 0))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr QB 1 
.IC V(Qint) {VSS}
.ENDS SBRBLATCHRHP_BASIC_GEN
*$
**Reset has higher priority in this latch and active low set and reset - basically NAND based SR latch
.SUBCKT SBRBLATCHSHP_BASIC_GEN SB RB Q QB PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
GQ 0 Qint VALUE = {IF(V(SB) < {VTHRESH},5,IF(V(RB) < {VTHRESH},-5, 0))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr QB 1 
.IC V(Qint) {VSS}
.ENDS SBRBLATCHSHP_BASIC_GEN
*$
.SUBCKT DFFSBRB_SHPBASIC_GEN Q QB CLK D RB SB PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
***Set has higher priority in this
** Changed the delay from 7n/10n to 15n/20n to help larger time step simulations
**Faster flip-flops require a a smaller time step to simulate
X1 CLK CLKdel INV_DELAY_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 15n
X2 CLK CLKdel CLKint AND2_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
GQ 0 Qint VALUE = {IF(V(SB) < {VTHRESH},5,IF(V(RB)<{VTHRESH},-5, IF(V(CLKint)> {VTHRESH}, 
+ IF(V(D)> {VTHRESH},5,-5),0)))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_DELAY_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 20n
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr Qb 1 
Cdummy1 Q 0 1nF 
Cdummy2 QB 0 1nF 
.IC V(Qint) {VSS}
.ENDS DFFSBRB_SHPBASIC_GEN
*$
.SUBCKT DFFSR_SHPBASIC_GEN Q QB CLK D R S PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
***Set has higher priority in this
** Changed the delay from 7n/10n to 15n/20n to help larger time step simulations
**Faster flip-flops require a a smaller time step to simulate
X1 CLK CLKdel INV_DELAY_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 15n
X2 CLK CLKdel CLKint AND2_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} 
GQ 0 Qint VALUE = {IF(V(S) > {VTHRESH},5,IF(V(R) > {VTHRESH},-5, IF(V(CLKint)> {VTHRESH}, 
+ IF(V(D)> {VTHRESH},5,-5),0)))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_DELAY_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY = 20n
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr Qb 1 
Cdummy1 Q 0 1nF 
Cdummy2 QB 0 1nF 
.IC V(Qint) {VSS}
.ENDS DFFSR_SHPBASIC_GEN
*$
.SUBCKT DFFSBRB_RHPBASIC_GEN Q QB CLK D RB SB PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
***Set has higher priority in this
** Changed the delay from 7n/10n to 15n/20n to help larger time step simulations
**Faster flip-flops require a a smaller time step to simulate
X1 CLK CLKdel INV_DELAY_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 15n
X2 CLK CLKdel CLKint AND2_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} 
GQ 0 Qint VALUE = {IF(V(RB) < {VTHRESH},-5,IF(V(SB)< {VTHRESH},5, IF(V(CLKint)> {VTHRESH}, 
+ IF(V(D)> {VTHRESH},5,-5),0)))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 5
D_D11 0 Qint D_D1 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_DELAY_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 20n
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr Qb 1 
Cdummy1 Q 0 1nF 
Cdummy2 QB 0 1nF 
.IC V(Qint) {VSS}
.ENDS DFFSBRB_RHPBASIC_GEN
*$
.SUBCKT DFFSR_RHPBASIC_GEN Q QB CLK D R S PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
***Set has higher priority in this
** Changed the delay from 7n/10n to 15n/20n to help larger time step simulations
**Faster flip-flops require a a smaller time step to simulate
X1 CLK CLKdel INV_DELAY_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 15n
X2 CLK CLKdel CLKint AND2_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}  
GQ 0 Qint VALUE = {IF(V(R) > {VTHRESH},-5,IF(V(S) > {VTHRESH},5, IF(V(CLKint)> {VTHRESH}, 
+ IF(V(D)> {VTHRESH},5,-5),0)))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_DELAY_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 20n
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr Qb 1 
Cdummy1 Q 0 1nF 
Cdummy2 QB 0 1nF 
.IC V(Qint) {VSS}
.ENDS DFFSR_RHPBASIC_GEN
*$
.subckt DDZ9689 1 2
R_R1          2 4 1m
D_D10         4 3 d_d1  
V_V6          3 1 5.6
.ENDS DDZ9689
*$
.SUBCKT CESR IN OUT
+ PARAMs:  C=100u ESR=0.01 X=2 IC=0
C	IN 1  {C*X} IC={IC}
RESR	1 OUT {ESR/X}
.ENDS CESR
*$