*$
* TPS54620
***************************************************************************
* (C) Copyright 2009 Texas Instruments Incorporated. All rights reserved.  
***************************************************************************
** This model is designed as an aid for customers of Texas Instruments.    
** TI and its licensors and suppliers make no warranties, either expressed 
** or implied, with respect to this model, including the warranties of     
** merchantability or fitness for a particular purpose. The model is       
** provided solely on an "as is" basis. The entire risk as to its quality  
** and performance is with the customer.                                    
***************************************************************************
* 
* Released by: Analog eLab Design Center, Texas Instruments Inc.
* Part: TPS54620
* Date: 10/02/2009
* Model Type: TRANSIENT
* Simulator: PSpice
* Datasheet: SLVS949, May 2009
* EVM : TPS54620EVM-374
* EVM Users Guide: SLVU281, May 2009
* Simulator Version: 16.0.0.p001
*
* Model Version: Final 1.00
*
***************************************************************************
*
* Updates:
*
* Final 1.00
* Release to Web.
*
***************************************************************************
.SUBCKT TPS54620_TRANS RT_CLK GND PVIN VIN VSNS COMP SS_TR
+ EN PH BOOT PWRGD
X_PWM_LOGIC_U617         PWM_LOGIC_TIMERCTRL1 PWM_LOGIC_N16653074 d_d PARAMS:
X_PWM_LOGIC_U620         N4392038 PWM_LOGIC_INDELAYED1 d_d PARAMS:
X_PWM_LOGIC_U613         SYSCLK PWM_LOGIC_N16653714 INV_DELAY_BASIC PARAMS:
+  DELAY=20n
X_PWM_LOGIC_U625         N4392038 PWM_LOGIC_OR2OUT1 PWM_LOGIC_TIMERCTRL1
+  PWM_LOGIC_OUT1 MUX2_BASIC
E_PWM_LOGIC_ABM193         PWM_LOGIC_N16724414 0 VALUE { 
+ {IF(V(PWM_LOGIC_LDRV_PREBIASBAR) > 2.5,0,  
+ IF(V(N4420798) > 2.5 ,   
+ V(OCLOW),15))}  }
R_PWM_LOGIC_R280         PWM_LOGIC_N16653426 PWM_LOGIC_N16653744  1  
C_PWM_LOGIC_C171         0 PWM_LOGIC_N16652872  1n  
C_PWM_LOGIC_C168         0 PWM_LOGIC_TIMERCTRL1  3p  
V_PWM_LOGIC_V1         PWM_LOGIC_N16687329 0 10
R_PWM_LOGIC_R291         0 PWM_LOGIC_N16654444  1k  
C_PWM_LOGIC_C174         0 PWM_LOGIC_N16653744  1n  
R_PWM_LOGIC_R148         0 PWM_LOGIC_N16692092  1MEG  
R_PWM_LOGIC_R273         N4392038 PWM_LOGIC_INDELAYED1  19.48k  
X_PWM_LOGIC_U621         PWM_LOGIC_N16652872 PWM_LOGIC_N16653432
+  PWM_LOGIC_N16653474 AND2_BASIC
X_PWM_LOGIC_U791         PWM_LOGIC_POCPSET PWM_LOGIC_POCPRESET
+  PWM_LOGIC_N16667119 PWM_LOGIC_N16692092 SRNANDLATCHRHP_BASIC
R_PWM_LOGIC_R274         PWM_LOGIC_N16653554 PWM_LOGIC_N16652872  1  
X_PWM_LOGIC_U567         ENAB PWM_LOGIC_N16732055 INV_DELAY_BASIC PARAMS:
+  DELAY=50n
E_PWM_LOGIC_ABM15         PWM_LOGIC_N16653074 0 VALUE { IF(V(PWM_LOGIC_TIMER1)
+  > 0.5,0,5)    }
X_PWM_LOGIC_U568         PWM_LOGIC_N16732055 ENAB PWM_LOGIC_N16697816
+  AND2_BASIC
X_PWM_LOGIC_U616         SYSCLK PWM_LOGIC_N16653714 PWM_LOGIC_N16653432
+  AND2_BASIC
E_PWM_LOGIC_ABM13         PWM_LOGIC_N16653554 0 VALUE { IF(V(COMP) <0.3 ,5,0)  
+   }
X_PWM_LOGIC_U615         PWM_LOGIC_PWMFFX PWM_LOGIC_N16653438 PWM_LOGIC_PH1
+  AND2_BASIC
C_PWM_LOGIC_C172         0 PWM_LOGIC_INDELAYED1  10p  
X_PWM_LOGIC_U793         PWM_LOGIC_PH1 PWM_LOGIC_N16667109 PWM_LOGIC_POCPRESET
+  NOR2_BASIC
X_PWM_LOGIC_U785         PWM_LOGIC_PH1 PWM_LOGIC_N16667109 INV_DELAY_BASIC
+  PARAMS: DELAY=10n
C_PWM_LOGIC_C169         0 PWM_LOGIC_TIMER1  1n  
X_PWM_LOGIC_U792         HDRV_PRE PWM_LOGIC_N16697816 N4433613
+  PWM_LOGIC_LDRV_PREBIASBAR SRNANDLATCHRHP_BASIC
R_PWM_LOGIC_R283         PWM_LOGIC_N16653074 PWM_LOGIC_TIMERCTRL1  1k  
C_PWM_LOGIC_C175         0 PWM_LOGIC_PWMFFX  1n  
C_PWM_LOGIC_C54         0 PWM_LOGIC_N16666737  1n  
X_PWM_LOGIC_U789         PWM_LOGIC_PH1 PWM_LOGIC_N16666669 BUF_DELAY_BASIC
+  PARAMS: DELAY=10n
X_PWM_LOGIC_U612         PWM_LOGIC_N16653744 PWM_LOGIC_N16653474
+  PWM_LOGIC_N16653438 PWM_LOGIC_N16654444 SRNANDLATCHRHP_BASIC
X_PWM_LOGIC_U623         0 PWM_LOGIC_TIMER1 d_d PARAMS:
X_PWM_LOGIC_U629         PWM_LOGIC_N16666669 PWM_LOGIC_N16667119 N4392730
+  AND2_BASIC
E_PWM_LOGIC_ABM181         PWM_LOGIC_N16653426 0 VALUE { 
+ {IF(V(PWM_LOGIC_INDELAYED1) > 4.9,5,0)}    }
X_PWM_LOGIC_U786         PWM_LOGIC_N16687329 PWM_LOGIC_N16666737
+  PWM_LOGIC_POCPSET COMP_BASIC
G_PWM_LOGIC_ABMI8         0 PWM_LOGIC_TIMER1 VALUE { IF(V(N4392038) > 2.5 |
+  V(PWM_LOGIC_OR2OUT1) > 2.5,3.7m,-1)    }
R_PWM_LOGIC_R292         PWM_LOGIC_N16653460 PWM_LOGIC_PWMFFX  1  
E_PWM_LOGIC_ABM12         PWM_LOGIC_N16653460 0 VALUE { IF(V(PWM_LOGIC_OUT1) >
+  2.5 ,5,0)    }
R_PWM_LOGIC_R125         PWM_LOGIC_N16666737 PWM_LOGIC_N16724414  1  
X_PWM_LOGIC_U624         N4392038 PWM_LOGIC_INDELAYED1 PWM_LOGIC_OR2OUT1
+  OR2_BASIC
V_V46         SET5 GND 5
E_PGOOD_ABM164         PGOOD_N4945496 0 VALUE { V(VSNS)    }
V_PGOOD_V8         PGOOD_N4941062 0 5.0
X_PGOOD_S19    PGOOD_N4940598 0 PWRGD 0 PGOOD_PGOOD_S19 
V_PGOOD_V9         PGOOD_N4941170 0 5.0
R_PGOOD_R285         PGOOD_N4940616 PGOOD_N4940598  1  
X_PGOOD_U553         ENAB PGOOD_N4941028 PGOOD_N4941108 PGOOD_VSGOOD
+  NAND3_BASIC
E_PGOOD_ABM170         PGOOD_N4940616 0 VALUE { {IF(V(PGOOD_N4940756) >
+  3.3,5,0)}    }
C_PGOOD_C160         0 PGOOD_N4940756  1n  
R_PGOOD_R284         PGOOD_VSGOOD PGOOD_N4940756  1  
X_PGOOD_U26         PGOOD_N4941062 PGOOD_N4941028 VSENSEINT 0 swhyste PARAMS:
+  PARAMS:  RON=1 ROFF=1MEG VT=0.74 VH=0.012
C_PGOOD_C161         0 PGOOD_N4940598  1n  
R_PGOOD_R282         PGOOD_N4945496 VSENSEINT  1  
X_PGOOD_U27         PGOOD_N4941170 PGOOD_N4941108 VSENSEINT 0 swhyste PARAMS:
+  PARAMS:  RON=1MEG ROFF=1 VT=0.86 VH=0.012
R_PGOOD_R149         0 PGOOD_N4941028  1k  
C_PGOOD_C159         0 VSENSEINT  1n  
R_PGOOD_R150         0 PGOOD_N4941108  1k  
R_UVLO_R147         0 UVLO_N14688894  0.5  
V_UVLO_V66         UVLO_N14691221 0 5
R_UVLO_R2         0 UVLO_N4395478  10k  
X_UVLO_U566         UVLO_N4389549 UVLO_N14688894 UVLO_N4391922 AND2_BASIC
R_UVLO_R256         EN VIN  100MEG  
C_UVLO_C158         0 ENAB  1n  
X_UVLO_U571         ENAB UVLO_N43951080 INV_BASIC
R_UVLO_R1         UVLO_N14693937 UVLO_N4389549  1  
V_UVLO_V65         UVLO_N4398852 0 20m
D_UVLO_D8         EN VIN D_D1 
V_UVLO_V67         UVLO_N14693983 0 5
R_UVLO_R279         UVLO_N4391922 ENAB  1  
G_UVLO_ABMII1         VIN EN VALUE { {1.15u+0.68u*V(UVLO_N4389549)}    }
X_UVLO_U570         UVLO_N4398852 SS UVLO_N4395907 COMP_BASIC
C_UVLO_C1         0 UVLO_N4389549  1n  
X_UVLO_U25         UVLO_N14693983 UVLO_N14693937 EN 0 swhyste PARAMS: 
+  RON=10m ROFF=1k VT=1.19 VH=0.02
X_UVLO_U24         UVLO_N14691221 UVLO_N14688894 VIN 0 swhyste PARAMS: 
+  RON=10m ROFF=1k VT=3.925 VH=0.075
R_UVLO_R148         0 UVLO_N14693937  0.5  
X_UVLO_U569         UVLO_N43951080 UVLO_N4395907 DISCH_SS UVLO_N4395478
+  SRNANDLATCHRHP_BASIC
E_REGULATOR_ABM2         REGULATOR_N4389953 0 VALUE { {IF(V(ENAB) < 2.5,0,  
+ IF(V(VIN) < 2.5, V(VIN), 2.5))}   }
R_REGULATOR_R6         REGULATOR_N4389913 REGULATOR_VREG  1  
R_REGULATOR_R2         REGULATOR_N4389953 2P5  0.1m  
C_REGULATOR_C7         0 REGULATOR_VREG  1u  
E_REGULATOR_ABM7         REGULATOR_N4389913 0 VALUE { {IF(V(ENAB) < 2.5,0,  
+ IF(V(VIN) <2, V(VIN), 5))}   }
C_REGULATOR_C2         0 2P5  100u  
E_REGULATOR_ABM3         REGULATOR_N4389993 0 VALUE { {IF(V(ENAB) < 2.5,0,  
+ IF(V(VIN) < 0.8, V(VIN), 0.8))}   }
R_REGULATOR_R3         REGULATOR_N4389993 N4391347  0.1m  
C_REGULATOR_C3         0 N4391347  100u  
X_F2IBLOCK_U130         F2IBLOCK_N4382819 F2IBLOCK_N4382819 F2IBLOCK_N4382829
+  NMOSIDEAL_PS PARAMS: K=1m VTH=0.8
V_F2IBLOCK_V63         F2IBLOCK_N4382829 0 1
G_F2IBLOCK_G8         F2IBLOCK_AVDD F2IBLOCK_PBX1 F2IBLOCK_AVDD F2IBLOCK_PBX1
+  2u
X_F2IBLOCK_U213         SYSCLK F2IBLOCK_SYSCLKBAR INV_BASIC
X_F2IBLOCK_U193         F2IBLOCK_SYSCLKBAR F2IBLOCK_START F2IBLOCK_N4382607
+  NAND2_BASIC
X_F2IBLOCK_S63    F2IBLOCK_N4383387 0 F2IBLOCK_N4382559 F2IBLOCK_N4383279
+  F2IBLOCK_F2IBLOCK_S63 
I_F2IBLOCK_I9         F2IBLOCK_AVDD F2IBLOCK_N4382819 DC 7.92u  
R_F2IBLOCK_R267         0 N4417016  1  
C_F2IBLOCK_C13         F2IBLOCK_PBX2 F2IBLOCK_AVDD  250f  
G_F2IBLOCK_G6         F2IBLOCK_AVDD F2IBLOCK_N4382893 F2IBLOCK_AVDD
+  F2IBLOCK_PBX3 620m
X_F2IBLOCK_F15    F2IBLOCK_N4382569 0 F2IBLOCK_AVDD N4417016
+  F2IBLOCK_F2IBLOCK_F15 
X_F2IBLOCK_U191         F2IBLOCK_START SYSCLK F2IBLOCK_N4382547 NAND2_BASIC
D_F2IBLOCK_D55         F2IBLOCK_N4382569 F2IBLOCK_AVDD D_D1 
X_F2IBLOCK_U228         F2IBLOCK_START F2IBLOCK_STARTN SYSCLK SET5 ENAB SET5
+  DFF_BASIC
C_F2IBLOCK_C32         F2IBLOCK_PBX1 F2IBLOCK_AVDD  8p  
D_F2IBLOCK_D61         N4417016 F2IBLOCK_AVDD D_D1 
C_F2IBLOCK_C39         0 F2IBLOCK_N4382559  10p  
V_F2IBLOCK_V61         F2IBLOCK_AVDD 0 5
X_F2IBLOCK_U192         F2IBLOCK_PBX1 F2IBLOCK_N4382819 F2IBLOCK_N4382559
+  NMOSIDEAL_PS PARAMS: K=1m VTH=0.8
X_F2IBLOCK_S66    F2IBLOCK_N4382547 0 F2IBLOCK_PBX1 F2IBLOCK_PBX2
+  F2IBLOCK_F2IBLOCK_S66 
X_F2IBLOCK_F8    F2IBLOCK_N4382869 0 F2IBLOCK_AVDD F2IBLOCK_N4382569
+  F2IBLOCK_F2IBLOCK_F8 
X_F2IBLOCK_S52    F2IBLOCK_N4382607 0 F2IBLOCK_PBX2 F2IBLOCK_PBX3
+  F2IBLOCK_F2IBLOCK_S52 
X_F2IBLOCK_S64    F2IBLOCK_N4382607 0 F2IBLOCK_N4383279 0 F2IBLOCK_F2IBLOCK_S64
+  
X_F2IBLOCK_F10    F2IBLOCK_N4382815 F2IBLOCK_N4382869 F2IBLOCK_AVDD N4390714
+  F2IBLOCK_F2IBLOCK_F10 
C_F2IBLOCK_C28         F2IBLOCK_PBX3 F2IBLOCK_AVDD  18p  
X_F2IBLOCK_S65    F2IBLOCK_STARTN 0 F2IBLOCK_AVDD F2IBLOCK_PBX1
+  F2IBLOCK_F2IBLOCK_S65 
G_F2IBLOCK_G7         F2IBLOCK_AVDD F2IBLOCK_PBX1 F2IBLOCK_AVDD F2IBLOCK_PBX3
+  18u
X_F2IBLOCK_U174         F2IBLOCK_START F2IBLOCK_N4382547 F2IBLOCK_N4383387
+  AND2_BASIC
D_F2IBLOCK_D28         F2IBLOCK_N4382819 F2IBLOCK_AVDD D_D1 
D_F2IBLOCK_D53         F2IBLOCK_PBX1 F2IBLOCK_AVDD D_D1 
I_F2IBLOCK_I18         F2IBLOCK_N4382559 0 DC 7.92u  
D_F2IBLOCK_D54         0 F2IBLOCK_N4382559 D_D1 
X_F2IBLOCK_S67    F2IBLOCK_STARTN 0 F2IBLOCK_AVDD F2IBLOCK_PBX3
+  F2IBLOCK_F2IBLOCK_S67 
I_F2IBLOCK_I16         F2IBLOCK_AVDD F2IBLOCK_PBX1 DC 7.92u  
C_F2IBLOCK_C40         0 F2IBLOCK_N4383279  2p  
X_F2IBLOCK_F11    F2IBLOCK_N4382893 F2IBLOCK_N4382815 F2IBLOCK_AVDD N4390612
+  F2IBLOCK_F2IBLOCK_F11 
C_SOFTSTART_C6         0 SOFTSTART_1P6  100u  
G_SOFTSTART_ABMI6         SS 0 VALUE { {IF(V(N4413485)> 2.5 & V(SS) > 20e-3,
+  100e-6,0)}    }
V_SOFTSTART_V81         SS_TR SS 0Vdc
G_SOFTSTART_ABMI1         SOFTSTART_1P6 SS VALUE { {IF(V(ENAB) > 2.5,2.3u,0)}  
+   }
D_SOFTSTART_D62         SS SOFTSTART_1P6 D_D1 
E_SOFTSTART_ABM4         N4391266 0 VALUE { {IF(V(N4391347) > V(SS),  
+ V(SS),V(N4391347))}   }
E_SOFTSTART_ABM5         SOFTSTART_N16594401 0 VALUE { {IF(V(ENAB) < 2.5,0,  
+ IF(V(VIN) < 1.6, V(VIN), 1.6))}   }
R_SOFTSTART_R5         SOFTSTART_N16594401 SOFTSTART_1P6  0.1m  
G_SOFTSTART_ABMI5         SS 0 VALUE { {IF(V(DISCH_SS) > 2.5 & V(SS) > 15e-3,
+  1.25e-3,0)}    }
C_OVERCURRENT_C152         0 OVERCURRENT_SYSCLKB  1n  
C_OVERCURRENT_C151         OVERCURRENT_SYSCLKB OVERCURRENT_N4390117  140.5p  
R_OVERCURRENT_R269         0 OVERCURRENT_N4390117  1k  
D_OVERCURRENT_D59         OVERCURRENT_N4390121 OVERCURRENT_N4390271 D_D1 
V_OVERCURRENT_V68         OVERCURRENT_N4390605 0 -2.3
X_OVERCURRENT_U578         OVERCURRENT_N4390605 OVERCURRENT_N4390065
+  OVERCURRENT_N4390343 COMP_BASIC
X_OVERCURRENT_U592         OVERCURRENT_FFRESET ENAB OVERCURRENT_N4390703
+  AND2_BASIC
E_OVERCURRENT_ABM157         OVERCURRENT_N4390065 0 VALUE { 
+ {IF(V(OVERCURRENT_N4390121) > 3.1,   
+ V(OCLOW),0)}   }
R_OVERCURRENT_R272         OVERCURRENT_N4390271 OVERCURRENT_N4390121  10k  
R_OVERCURRENT_R270         OVERCURRENT_N4390223 OVERCURRENT_SYSCLKB  1  
E_OVERCURRENT_ABM155         OVERCURRENT_N4390223 0 VALUE { {IF(V(SYSCLK) >
+  2.5,5,0)}    }
R_OVERCURRENT_R271         OVERCURRENT_N4390181 OVERCURRENT_FFRESET  1  
C_OVERCURRENT_C153         0 OVERCURRENT_FFRESET  1n  
X_OVERCURRENT_U593         OVERCURRENT_N4401130 N4393192 OVERCURRENT_N4390343
+  SET5 OVERCURRENT_N4390703 SET5 DFF_BASIC
C_OVERCURRENT_C154         0 OVERCURRENT_N4390121  10p  
R_OVERCURRENT_R268         0 OVERCURRENT_N4401130  100MEG  
E_OVERCURRENT_ABM158         OVERCURRENT_N4390271 0 VALUE { {IF(V(N4392730) <
+  2.5, 5,0)}    }
E_OVERCURRENT_ABM156         OVERCURRENT_N4390181 0 VALUE { 
+ {IF(V(OVERCURRENT_N4390117) > 2.5,0,5)}    }
V_TRANS_AMP_V6         TRANS_AMP_N4391109 0 1.5
D_TRANS_AMP_D10         COMP TRANS_AMP_N4391109 D_D2 
R_TRANS_AMP_R7         0 TRANS_AMP_N4390671  1  
G_TRANS_AMP_ABM2I1         0 COMP VALUE { {LIMIT((V(TRANS_AMP_N4390671) -
+  V(0))*1300u, -110u,110u)}    }
C_TRANS_AMP_C10         0 TRANS_AMP_N4390671  79.6n  
R_TRANS_AMP_R4         0 COMP  2.384MEG  
R_TRANS_AMP_R11         TRANS_AMP_N4390655 N4413485  1  
E_TRANS_AMP_ABM8         TRANS_AMP_N4390655 0 VALUE { {IF(V(COMP) > 1.5,5,0)}  
+   }
G_TRANS_AMP_ABM2I3         0 TRANS_AMP_N4390671 VALUE { {V(N4391266) -
+  V(VSENSEINT)}    }
D_TRANS_AMP_D9         TRANS_AMP_N4399327 COMP D_D2 
V_TRANS_AMP_V5         TRANS_AMP_N4399327 0 0.25
C_TRANS_AMP_C5         0 COMP  20.64p  
C_TRANS_AMP_C9         0 N4413485  1n  
I_INT_CLOCK_I19         INT_CLOCK_N16716526 N4390714 DC 1  
I_INT_CLOCK_I20         INT_CLOCK_N16717112 N4390612 DC 1  
X_INT_CLOCK_U294         INT_CLOCK_N16717216 ENAB INT_CLOCK_RTCLK AND2_BASIC
R_INT_CLOCK_R201         INT_CLOCK_N16717332 INT_CLOCK_UPS  1  
X_INT_CLOCK_U570         ENAB INT_CLOCK_N16718010 INT_CLOCK_CLKFLTHI AND2_BASIC
X_INT_CLOCK_U91         INT_CLOCK_RT INT_CLOCK_N16717376 INT_CLOCK_N16717216
+  COMP_BASIC
C_INT_CLOCK_C156         0 INT_CLOCK_N16718212  1n  
X_INT_CLOCK_U580         INT_CLOCK_CLKFLT INT_CLOCK_CLKFLTBAR INV_BASIC
V_INT_CLOCK_V62         INT_CLOCK_N16718162 0 2.0
X_INT_CLOCK_U572         INT_CLOCK_RTCLK INT_CLOCK_N16718390 INV_BASIC
E_INT_CLOCK_ABM161         INT_CLOCK_N167165381 0 VALUE { 
+ {IF(V(INT_CLOCK_N16718602) > 3.1,5,0)}    }
C_INT_CLOCK_C38         0 N4390612  7.5u  
D_INT_CLOCK_D64         N4390612 INT_CLOCK_N16716982 D_D1 
X_INT_CLOCK_U562         INT_CLOCK_ENABBAR INT_CLOCK_RTCLK INT_CLOCK_N16717990
+  OR2_BASIC
X_INT_CLOCK_U585         ENAB INT_CLOCK_ENABBAR INV_BASIC
X_INT_CLOCK_U610         0 INT_CLOCK_N16716812 d_d PARAMS:
E_INT_CLOCK_ABM147         INT_CLOCK_N16717332 0 VALUE { 
+ {IF(V(INT_CLOCK_N16716812) > 2.5, -1,1)}    }
X_INT_CLOCK_S32    INT_CLOCK_CLKFLT 0 INT_CLOCK_N16716522 INT_CLOCK_RT
+  INT_CLOCK_INT_CLOCK_S32 
C_INT_CLOCK_C120         0 INT_CLOCK_N16717094  1n  
C_INT_CLOCK_C37         0 N4390714  7.5u  
X_INT_CLOCK_U568         INT_CLOCK_ENABBAR INT_CLOCK_N16718390
+  INT_CLOCK_N16717980 OR2_BASIC
X_INT_CLOCK_U611         INT_CLOCK_N16716812 SET5 d_d PARAMS:
V_INT_CLOCK_V82         RT_CLK INT_CLOCK_RT 0Vdc
R_INT_CLOCK_R204         INT_CLOCK_N167165381 INT_CLOCK_N16718212  1  
X_INT_CLOCK_U579         INT_CLOCK_N16717728 INT_CLOCK_MCLK INT_CLOCK_N16718212
+  SYSCLK MUX2_BASIC
X_INT_CLOCK_U588         INT_CLOCK_RTCLK INT_CLOCK_N16717728 INV_BASIC
D_INT_CLOCK_D65         N4390714 INT_CLOCK_N167165980 D_D1 
V_INT_CLOCK_V60         INT_CLOCK_N16718366 0 2.0
V_INT_CLOCK_V74         INT_CLOCK_N16717112 0 5
G_INT_CLOCK_ABMI3         INT_CLOCK_N16717404 INT_CLOCK_RAMP VALUE { {(-(
+  I(V_INT_CLOCK_V44)*0.96) )* V(INT_CLOCK_UPS)}    }
V_INT_CLOCK_V75         INT_CLOCK_N16716982 0 3
C_INT_CLOCK_C79         INT_CLOCK_RAMP 0  2p  
X_INT_CLOCK_U114         INT_CLOCK_N16717312 INT_CLOCK_CLKFLTBAR
+  INT_CLOCK_N16717172 OR2_BASIC
R_INT_CLOCK_R296         INT_CLOCK_N167168701 INT_CLOCK_N16716812  1k  
X_INT_CLOCK_S25    INT_CLOCK_N16717172 0 INT_CLOCK_RAMP 0
+  INT_CLOCK_INT_CLOCK_S25 
D_INT_CLOCK_D11         INT_CLOCK_RAMP INT_CLOCK_N16717404 D_D1 
C_INT_CLOCK_C133         0 INT_CLOCK_UPS  1n  
X_INT_CLOCK_U234         N4390612 INT_CLOCK_N16718162 INT_CLOCK_N16718010
+  COMP_BASIC
R_INT_CLOCK_R276         0 INT_CLOCK_N16716522  500MEG  
R_INT_CLOCK_R183         INT_CLOCK_N16716992 INT_CLOCK_N16717094  1  
E_INT_CLOCK_ABM150         INT_CLOCK_N167168701 0 VALUE { ( (V(INT_CLOCK_RAMP)
+  -V(INT_CLOCK_N16717094))*  
+ 10000)   }
V_INT_CLOCK_V45         INT_CLOCK_N16717404 0 5
X_INT_CLOCK_U122         ENAB INT_CLOCK_N16717312 INV_BASIC
X_INT_CLOCK_S62    INT_CLOCK_N16717980 0 N4390612 0 INT_CLOCK_INT_CLOCK_S62 
V_INT_CLOCK_V73         INT_CLOCK_N16716526 0 5
X_INT_CLOCK_U120         INT_CLOCK_N16717116 ENAB INT_CLOCK_MCLK AND2_BASIC
E_INT_CLOCK_ABM180         INT_CLOCK_N16716992 0 VALUE { {IF
+  (V(INT_CLOCK_N16716812) > 2.4,0,2.5)}    }
R_INT_CLOCK_R203         INT_CLOCK_N16717024 INT_CLOCK_N16718602  1  
X_INT_CLOCK_U564         ENAB INT_CLOCK_N16718016 INT_CLOCK_CLKFLTLO AND2_BASIC
V_INT_CLOCK_V21         INT_CLOCK_N16717376 0 2.0
X_INT_CLOCK_U575         INT_CLOCK_CLKFLTLO INT_CLOCK_CLKFLTHI INT_CLOCK_CLKFLT
+  OR2_BASIC
X_INT_CLOCK_U48         INT_CLOCK_N16716812 INT_CLOCK_N16717116 INV_BASIC
E_INT_CLOCK_ABM165         INT_CLOCK_N16717024 0 VALUE { 
+ {IF(V(INT_CLOCK_CLKFLT) > 2.5,5,0)}    }
C_INT_CLOCK_C150         0 INT_CLOCK_N16718602  0.5u  
X_INT_CLOCK_S61    INT_CLOCK_N16717990 0 N4390714 0 INT_CLOCK_INT_CLOCK_S61 
X_INT_CLOCK_U233         N4390714 INT_CLOCK_N16718366 INT_CLOCK_N16718016
+  COMP_BASIC
V_INT_CLOCK_V44         INT_CLOCK_N16716522 0 0.5
V_INT_CLOCK_V76         INT_CLOCK_N167165980 0 3
R_OUTPUT_DRIVER_R247         OUTPUT_DRIVER_N16742075 OUTPUT_DRIVER_N16742059  1
+   
E_OUTPUT_DRIVER_ABM170         OUTPUT_DRIVER_N16753427 0 VALUE { (V(BOOT) -
+  V(PH))    }
C_OUTPUT_DRIVER_C146         0 OUTPUT_DRIVER_N4429050  10p  
X_OUTPUT_DRIVER_S31    N4420798 0 PH OUTPUT_DRIVER_N4391901
+  OUTPUT_DRIVER_OUTPUT_DRIVER_S31 
E_OUTPUT_DRIVER_ABM169         OUTPUT_DRIVER_N43934450 0 VALUE { 
+ {V(OUTPUT_DRIVER_HDRV) - V(PH)}    }
X_OUTPUT_DRIVER_F5    OUTPUT_DRIVER_N4391901 0 OUTPUT_DRIVER_OCLOW_INT 2P5
+  OUTPUT_DRIVER_OUTPUT_DRIVER_F5 
C_OUTPUT_DRIVER_C147         0 OUTPUT_DRIVER_N16742059  1n  
X_OUTPUT_DRIVER_U62         OUTPUT_DRIVER_LDRV_PRE OUTPUT_DRIVER_N4392239
+  INV_BASIC
E_OUTPUT_DRIVER_ABM151         OUTPUT_DRIVER_N4429086 0 VALUE { {IF(V(N4420798)
+  > 2.5, 5,0)}    }
R_OUTPUT_DRIVER_R248         OUTPUT_DRIVER_N16753427 OUTPUT_DRIVER_N16753395  1
+   
X_OUTPUT_DRIVER_U58         HDRV_PRE OUTPUT_DRIVER_N4392105 INV_BASIC
X_OUTPUT_DRIVER_U56         OUTPUT_DRIVER_HDRVIN OUTPUT_DRIVER_N4392465
+  INV_BASIC
C_OUTPUT_DRIVER_C140         0 N4392375  1n  
X_OUTPUT_DRIVER_U67         OUTPUT_DRIVER_HDRVIN OUTPUT_DRIVER_N16164570
+  INV_BASIC
R_OUTPUT_DRIVER_R149         0 OUTPUT_DRIVER_N16741051  1k  
E_OUTPUT_DRIVER_ABM152         OCLOW 0 VALUE { {IF(V(OUTPUT_DRIVER_N4429050) >
+  3.1,   
+ V(OUTPUT_DRIVER_OCLOW_INT),15)}   }
C_OUTPUT_DRIVER_C78         OUTPUT_DRIVER_N4392313 0  18n  
X_OUTPUT_DRIVER_S34    OUTPUT_DRIVER_BOOT_SDWN 0 BOOT VIN
+  OUTPUT_DRIVER_OUTPUT_DRIVER_S34 
V_OUTPUT_DRIVER_V30         OUTPUT_DRIVER_N4392325 0 1
X_OUTPUT_DRIVER_U51         OUTPUT_DRIVER_N4392313 OUTPUT_DRIVER_PWMFFBAR
+  OUTPUT_DRIVER_N4392301 AND2_BASIC
C_OUTPUT_DRIVER_C148         0 OUTPUT_DRIVER_N16753395  1n  
V_OUTPUT_DRIVER_V16         OUTPUT_DRIVER_N16740981 0 5
X_OUTPUT_DRIVER_U69         OUTPUT_DRIVER_LDRVIN N4393192
+  OUTPUT_DRIVER_N4412063 AND2_BASIC
D_OUTPUT_DRIVER_D58         OUTPUT_DRIVER_N4429050 OUTPUT_DRIVER_N4429086 D_D1 
C_OUTPUT_DRIVER_C143         0 PH  10p  
X_OUTPUT_DRIVER_S4    OUTPUT_DRIVER_LDRV_PRE 0 OUTPUT_DRIVER_PVCC N4420798
+  OUTPUT_DRIVER_OUTPUT_DRIVER_S4 
V_OUTPUT_DRIVER_V31         OUTPUT_DRIVER_N4392395 0 1
R_OUTPUT_DRIVER_R244         OUTPUT_DRIVER_N16753291 N4392375  1  
X_OUTPUT_DRIVER_U64         OUTPUT_DRIVER_N4392255 OUTPUT_DRIVER_N4392285
+  INV_BASIC
V_OUTPUT_DRIVER_V49         OUTPUT_DRIVER_PVCC 0 5
R_OUTPUT_DRIVER_R255         OUTPUT_DRIVER_N4429086 OUTPUT_DRIVER_N4429050  10k
+   
X_OUTPUT_DRIVER_S3    OUTPUT_DRIVER_N4392011 0 OUTPUT_DRIVER_HDRV PH
+  OUTPUT_DRIVER_OUTPUT_DRIVER_S3 
X_OUTPUT_DRIVER_U63         OUTPUT_DRIVER_N4392177 OUTPUT_DRIVER_N4392205
+  INV_BASIC
X_OUTPUT_DRIVER_U57         OUTPUT_DRIVER_HDRVIN OUTPUT_DRIVER_N4392055
+  HDRV_PRE AND2_BASIC
D_OUTPUT_DRIVER_D13         PH OUTPUT_DRIVER_N4391561 D_D1 
R_OUTPUT_DRIVER_R145         OUTPUT_DRIVER_N43934450 OUTPUT_DRIVER_N4391557  1 
+  
X_OUTPUT_DRIVER_U27         OUTPUT_DRIVER_N16753221 OUTPUT_DRIVER_N16753291
+  OUTPUT_DRIVER_N16753395 0 swhyste PARAMS:  RON=1 ROFF=1MEG VT=3.9
+  VH=1.8
X_OUTPUT_DRIVER_U68         OUTPUT_DRIVER_N4412063 N4433613
+  OUTPUT_DRIVER_N4392255 AND2_BASIC
X_OUTPUT_DRIVER_S30    OUTPUT_DRIVER_HDRV PH OUTPUT_DRIVER_N4391561 PH
+  OUTPUT_DRIVER_OUTPUT_DRIVER_S30 
X_OUTPUT_DRIVER_F3    PVIN OUTPUT_DRIVER_N4391561 2P5 N4392141
+  OUTPUT_DRIVER_OUTPUT_DRIVER_F3 
X_OUTPUT_DRIVER_S2    HDRV_PRE 0 BOOT OUTPUT_DRIVER_HDRV
+  OUTPUT_DRIVER_OUTPUT_DRIVER_S2 
C_OUTPUT_DRIVER_C142         PH OUTPUT_DRIVER_N4391561  10p  
X_OUTPUT_DRIVER_U60         OUTPUT_DRIVER_N4392105 OUTPUT_DRIVER_N4392465
+  OUTPUT_DRIVER_N4392011 AND2_BASIC
X_OUTPUT_DRIVER_U59         OUTPUT_DRIVER_N4392011 OUTPUT_DRIVER_N4392055
+  INV_BASIC
C_OUTPUT_DRIVER_C80         OUTPUT_DRIVER_N4391557 0  1n  
X_OUTPUT_DRIVER_U70         OUTPUT_DRIVER_N16164570 OUTPUT_DRIVER_N16741051
+  ENAB OUTPUT_DRIVER_BOOT_SDWN AND3_BASIC
X_OUTPUT_DRIVER_U50         N4392730 OUTPUT_DRIVER_PWMFFBAR INV_BASIC
E_OUTPUT_DRIVER_ABM84         OUTPUT_DRIVER_N4392329 0 VALUE { {IF (
+  V(OUTPUT_DRIVER_N4391557) > V(OUTPUT_DRIVER_N4392395)  
+ ,0,5)}   }
X_OUTPUT_DRIVER_U26         OUTPUT_DRIVER_N16740981 OUTPUT_DRIVER_N16741051
+  OUTPUT_DRIVER_N16742059 0 swhyste PARAMS:  RON=1MEG ROFF=1 VT=6
+  VH=100m
X_OUTPUT_DRIVER_U61         OUTPUT_DRIVER_N4392255 OUTPUT_DRIVER_N4392205
+  OUTPUT_DRIVER_LDRV_PRE AND2_BASIC
X_OUTPUT_DRIVER_U66         OUTPUT_DRIVER_N4392301 ENAB OUTPUT_DRIVER_LDRVIN
+  AND2_BASIC
X_OUTPUT_DRIVER_U52         OUTPUT_DRIVER_N4392411 ENAB N4392730
+  OUTPUT_DRIVER_HDRVIN AND3_BASIC
R_OUTPUT_DRIVER_R266         0 OUTPUT_DRIVER_OCLOW_INT  1  
R_OUTPUT_DRIVER_R144         OUTPUT_DRIVER_N4392329 OUTPUT_DRIVER_N4392313  1  
E_OUTPUT_DRIVER_ABM79         OUTPUT_DRIVER_N4392421 0 VALUE { {IF (
+  V(N4420798) > V(OUTPUT_DRIVER_N4392325)  
+ ,0,5)}   }
R_OUTPUT_DRIVER_R150         0 OUTPUT_DRIVER_N16753291  1k  
R_OUTPUT_DRIVER_R243         0 N4392141  1  
C_OUTPUT_DRIVER_C77         OUTPUT_DRIVER_N4392411 0  18n  
D_OUTPUT_DRIVER_D12         0 PH D_D1 
X_OUTPUT_DRIVER_S5    OUTPUT_DRIVER_N4392177 0 N4420798 0
+  OUTPUT_DRIVER_OUTPUT_DRIVER_S5 
E_OUTPUT_DRIVER_ABM168         OUTPUT_DRIVER_N16742075 0 VALUE { (V(BOOT) -
+  V(PH))    }
V_OUTPUT_DRIVER_V17         OUTPUT_DRIVER_N16753221 0 5
X_OUTPUT_DRIVER_U65         OUTPUT_DRIVER_N4392239 OUTPUT_DRIVER_N4392285
+  OUTPUT_DRIVER_N4392177 AND2_BASIC
R_OUTPUT_DRIVER_R143         OUTPUT_DRIVER_N4392421 OUTPUT_DRIVER_N4392411  1  
G_SLOPE_COMP_PWM_ABMI5         SLOPE_COMP_PWM_VRAMPIN 0 VALUE { {V(N4417016) *
+  -1}    }
X_SLOPE_COMP_PWM_U629         SLOPE_COMP_PWM_N4391545 N4392375
+  SLOPE_COMP_PWM_OVTP SLOPE_COMP_PWM_PULSESKIP SLOPE_COMP_PWM_PWM AND4_BASIC
R_SLOPE_COMP_PWM_R278         0 SLOPE_COMP_PWM_N4391275  1  
I_SLOPE_COMP_PWM_I1         SLOPE_COMP_PWM_N4391527 0 DC -227.27u  
X_SLOPE_COMP_PWM_S27    SLOPE_COMP_PWM_N4391259 0 SLOPE_COMP_PWM_VRAMPIN 0
+  SLOPE_COMP_PWM_SLOPE_COMP_PWM_S27 
R_SLOPE_COMP_PWM_R248         0 SLOPE_COMP_PWM_N4391879  100MEG  
D_SLOPE_COMP_PWM_D58         SLOPE_COMP_PWM_N4391741 SLOPE_COMP_PWM_N4391783
+  D_D1 
V_SLOPE_COMP_PWM_V83         SLOPE_COMP_PWM_N4391441 0 0.25
V_SLOPE_COMP_PWM_V79         SLOPE_COMP_PWM_N4391409 0 0.872
C_SLOPE_COMP_PWM_C146         0 SLOPE_COMP_PWM_N4391741  10p  
E_SLOPE_COMP_PWM_ABM151         SLOPE_COMP_PWM_N4391783 0 VALUE { 
+ {IF(V(HDRV_PRE) > 2.5, 5,0)}    }
E_SLOPE_COMP_PWM_ABM149         SLOPE_COMP_PWM_N4391567 0 VALUE { {IF(V(ISWF) >
+  V(SLOPE_COMP_PWM_N4391727),  
+ 0,5)}   }
E_SLOPE_COMP_PWM_ABM163         SLOPE_COMP_PWM_N4391267 0 VALUE { 
+ {(V(SLOPE_COMP_PWM_N4391275) - V(SLOPE_COMP_PWM_N4391157)) * 20.66}    }
C_SLOPE_COMP_PWM_C136         0 SLOPE_COMP_PWM_N4391545  1n  
X_SLOPE_COMP_PWM_U586         SYSCLK SLOPE_COMP_PWM_N4392375
+  SLOPE_COMP_PWM_N4391259 AND2_BASIC
G_SLOPE_COMP_PWM_ABMII4         SLOPE_COMP_PWM_N4391275 0 VALUE { {(V(COMP)
+  -0.25 ) /-62.5k}    }
E_SLOPE_COMP_PWM_GAIN1         SLOPE_COMP_PWM_VRAMP1 0 VALUE {0.1111 *
+  V(SLOPE_COMP_PWM_VRAMPIN)}
E_SLOPE_COMP_PWM_ABM152         ISWF 0 VALUE { {IF(V(SLOPE_COMP_PWM_N4391741) >
+  3.1,   
+ V(N4392141),0)}   }
C_SLOPE_COMP_PWM_C137         0 SLOPE_COMP_PWM_VRAMPIN  6.4n  
X_SLOPE_COMP_PWM_U594         SLOPE_COMP_PWM_N4391409 VSENSEINT
+  SLOPE_COMP_PWM_OVTP COMP_BASIC
R_SLOPE_COMP_PWM_R245         SLOPE_COMP_PWM_N4391567 SLOPE_COMP_PWM_N4391545 
+  1  
R_SLOPE_COMP_PWM_R240         SLOPE_COMP_PWM_N4414317 SLOPE_COMP_PWM_VRAMP  1  
X_SLOPE_COMP_PWM_U296         N4392038 SLOPE_COMP_PWM_N4391879 SYSCLK SET5
+  SLOPE_COMP_PWM_PWM SET5 DFF_BASIC
G_SLOPE_COMP_PWM_ABM2I2         2P5 SLOPE_COMP_PWM_N4391727 VALUE { 
+ {IF(V(SLOPE_COMP_PWM_N4391267) > V(SLOPE_COMP_PWM_N4391527),
+  48.4k*V(SLOPE_COMP_PWM_N4391527), 48.4k*V(SLOPE_COMP_PWM_N4391267))}    }
R_SLOPE_COMP_PWM_R242         0 SLOPE_COMP_PWM_N4391727  1  
C_SLOPE_COMP_PWM_C138         0 SLOPE_COMP_PWM_VRAMP  1n  
X_SLOPE_COMP_PWM_U597         COMP SLOPE_COMP_PWM_N4391441
+  SLOPE_COMP_PWM_PULSESKIP COMP_BASIC
R_SLOPE_COMP_PWM_R255         SLOPE_COMP_PWM_N4391783 SLOPE_COMP_PWM_N4391741 
+  10k  
E_SLOPE_COMP_PWM_ABM150         SLOPE_COMP_PWM_N4414317 0 VALUE { 
+ {IF(V(SLOPE_COMP_PWM_VRAMP1) < 0.2 ,0,V(SLOPE_COMP_PWM_VRAMP1)-0.2)}    }
X_SLOPE_COMP_PWM_H1    SLOPE_COMP_PWM_SLOPECUR 0 SLOPE_COMP_PWM_N4391157 0
+  SLOPE_COMP_PWM_SLOPE_COMP_PWM_H1 
R_SLOPE_COMP_PWM_R241         0 SLOPE_COMP_PWM_N4391527  1  
G_SLOPE_COMP_PWM_ABMII5         2P5 SLOPE_COMP_PWM_SLOPECUR VALUE {
+  V(SLOPE_COMP_PWM_VRAMP) * 1u    }
X_SLOPE_COMP_PWM_U587         SYSCLK SLOPE_COMP_PWM_N4392375 INV_DELAY_BASIC
+  PARAMS: DELAY=15n
.IC         V(N4417016 )=0
.IC         V(INT_CLOCK_RAMP )=0
.IC         V(INT_CLOCK_N16717094 )=2.5
.IC         V(OUTPUT_DRIVER_HDRVIN )=0
.IC         V(OUTPUT_DRIVER_N4392255 )=0
.ENDS TPS54620_TRANS
*$
.subckt SWHYSTE NodeMinus NodePlus Plus Minus PARAMS: RON=1 
+ ROFF=1MEG VT=5 VH=2
S5 NodePlus NodeMinus 8 0 smoothSW
EBcrtl 8 0 Value = { IF ( V(plus)-V(minus) > V(ref), 1, 0 ) }
EBref ref1 0 Value = { IF ( V(8) > 0.5, {VT-VH}, {VT+VH} ) }
Rdel ref1 ref 100
Cdel ref 0 100p  IC={VT+VH}
Rconv1 8 0 10Meg
Rconv2 plus 0 10Meg
Rconv3 minus 0 10Meg
.model smoothSW VSWITCH (RON={RON} ROFF={ROFF} VON=1 VOFF=0)
.ends SWHYSTE
*$
.subckt PGOOD_PGOOD_S19 1 2 3 4  
S_PGOOD_S19         3 4 1 2 _PGOOD_S19
RS_PGOOD_S19         1 2 1G
.MODEL         _PGOOD_S19 VSWITCH Roff=183e6 Ron=150 Voff=2.4V Von=2.5V
.ends PGOOD_PGOOD_S19
*$
.subckt F2IBLOCK_F2IBLOCK_S63 1 2 3 4  
S_F2IBLOCK_S63         3 4 1 2 _F2IBLOCK_S63
RS_F2IBLOCK_S63         1 2 1G
.MODEL         _F2IBLOCK_S63 VSWITCH Roff=10e6 Ron=500 Voff=2.4V Von=2.5V
.ends F2IBLOCK_F2IBLOCK_S63
*$
.subckt F2IBLOCK_F2IBLOCK_F15 1 2 3 4  
F_F2IBLOCK_F15         3 4 VF_F2IBLOCK_F15 1
VF_F2IBLOCK_F15         1 2 0V
.ends F2IBLOCK_F2IBLOCK_F15
*$
.subckt F2IBLOCK_F2IBLOCK_S66 1 2 3 4  
S_F2IBLOCK_S66         3 4 1 2 _F2IBLOCK_S66
RS_F2IBLOCK_S66         1 2 1G
.MODEL         _F2IBLOCK_S66 VSWITCH Roff=10e6 Ron=500 Voff=2.4V Von=2.5V
.ends F2IBLOCK_F2IBLOCK_S66
*$
.subckt F2IBLOCK_F2IBLOCK_F8 1 2 3 4  
F_F2IBLOCK_F8         3 4 VF_F2IBLOCK_F8 1
VF_F2IBLOCK_F8         1 2 0V
.ends F2IBLOCK_F2IBLOCK_F8
*$
.subckt F2IBLOCK_F2IBLOCK_S52 1 2 3 4  
S_F2IBLOCK_S52         3 4 1 2 _F2IBLOCK_S52
RS_F2IBLOCK_S52         1 2 1G
.MODEL         _F2IBLOCK_S52 VSWITCH Roff=10e6 Ron=500 Voff=2.4V Von=2.5V
.ends F2IBLOCK_F2IBLOCK_S52
*$
.subckt F2IBLOCK_F2IBLOCK_S64 1 2 3 4  
S_F2IBLOCK_S64         3 4 1 2 _F2IBLOCK_S64
RS_F2IBLOCK_S64         1 2 1G
.MODEL         _F2IBLOCK_S64 VSWITCH Roff=10e6 Ron=500 Voff=2.4V Von=2.5V
.ends F2IBLOCK_F2IBLOCK_S64
*$
.subckt F2IBLOCK_F2IBLOCK_F10 1 2 3 4  
F_F2IBLOCK_F10         3 4 VF_F2IBLOCK_F10 1
VF_F2IBLOCK_F10         1 2 0V
.ends F2IBLOCK_F2IBLOCK_F10
*$
.subckt F2IBLOCK_F2IBLOCK_S65 1 2 3 4  
S_F2IBLOCK_S65         3 4 1 2 _F2IBLOCK_S65
RS_F2IBLOCK_S65         1 2 1G
.MODEL         _F2IBLOCK_S65 VSWITCH Roff=10e6 Ron=500 Voff=2.4V Von=2.5V
.ends F2IBLOCK_F2IBLOCK_S65
*$
.subckt F2IBLOCK_F2IBLOCK_S67 1 2 3 4  
S_F2IBLOCK_S67         3 4 1 2 _F2IBLOCK_S67
RS_F2IBLOCK_S67         1 2 1G
.MODEL         _F2IBLOCK_S67 VSWITCH Roff=10e6 Ron=500 Voff=2.4V Von=2.5V
.ends F2IBLOCK_F2IBLOCK_S67
*$
.subckt F2IBLOCK_F2IBLOCK_F11 1 2 3 4  
F_F2IBLOCK_F11         3 4 VF_F2IBLOCK_F11 1
VF_F2IBLOCK_F11         1 2 0V
.ends F2IBLOCK_F2IBLOCK_F11
*$
.subckt INT_CLOCK_INT_CLOCK_S32 1 2 3 4  
S_INT_CLOCK_S32         3 4 1 2 _INT_CLOCK_S32
RS_INT_CLOCK_S32         1 2 1G
.MODEL         _INT_CLOCK_S32 VSWITCH Roff=100e6 Ron=1 Voff=0.4V Von=4.8V
.ends INT_CLOCK_INT_CLOCK_S32
*$
.subckt INT_CLOCK_INT_CLOCK_S25 1 2 3 4  
S_INT_CLOCK_S25         3 4 1 2 _INT_CLOCK_S25
RS_INT_CLOCK_S25         1 2 1G
.MODEL         _INT_CLOCK_S25 VSWITCH Roff=50e6 Ron=100 Voff=2.4V Von=2.5V
.ends INT_CLOCK_INT_CLOCK_S25
*$
.subckt INT_CLOCK_INT_CLOCK_S62 1 2 3 4  
S_INT_CLOCK_S62         3 4 1 2 _INT_CLOCK_S62
RS_INT_CLOCK_S62         1 2 1G
.MODEL         _INT_CLOCK_S62 VSWITCH Roff=10e6 Ron=10m Voff=2.4V Von=2.5V
.ends INT_CLOCK_INT_CLOCK_S62
*$
.subckt INT_CLOCK_INT_CLOCK_S61 1 2 3 4  
S_INT_CLOCK_S61         3 4 1 2 _INT_CLOCK_S61
RS_INT_CLOCK_S61         1 2 1G
.MODEL         _INT_CLOCK_S61 VSWITCH Roff=10e6 Ron=10m Voff=2.4V Von=2.5V
.ends INT_CLOCK_INT_CLOCK_S61
*$
.subckt OUTPUT_DRIVER_OUTPUT_DRIVER_S31 1 2 3 4  
S_OUTPUT_DRIVER_S31         3 4 1 2 _OUTPUT_DRIVER_S31
RS_OUTPUT_DRIVER_S31         1 2 1G
.MODEL         _OUTPUT_DRIVER_S31 VSWITCH Roff=10e6 Ron=19m Voff=0.4V Von=2.8
.ends OUTPUT_DRIVER_OUTPUT_DRIVER_S31
*$
.subckt OUTPUT_DRIVER_OUTPUT_DRIVER_F5 1 2 3 4  
F_OUTPUT_DRIVER_F5         3 4 VF_OUTPUT_DRIVER_F5 1
VF_OUTPUT_DRIVER_F5         1 2 0V
.ends OUTPUT_DRIVER_OUTPUT_DRIVER_F5
*$
.subckt OUTPUT_DRIVER_OUTPUT_DRIVER_S34 1 2 3 4  
S_OUTPUT_DRIVER_S34         3 4 1 2 _OUTPUT_DRIVER_S34
RS_OUTPUT_DRIVER_S34         1 2 1G
.MODEL         _OUTPUT_DRIVER_S34 VSWITCH Roff=1000e6 Ron=15 Voff=0.4V Von=2.8
.ends OUTPUT_DRIVER_OUTPUT_DRIVER_S34
*$
.subckt OUTPUT_DRIVER_OUTPUT_DRIVER_S4 1 2 3 4  
S_OUTPUT_DRIVER_S4         3 4 1 2 _OUTPUT_DRIVER_S4
RS_OUTPUT_DRIVER_S4         1 2 1G
.MODEL         _OUTPUT_DRIVER_S4 VSWITCH Roff=1e6 Ron=2 Voff=2.4V Von=2.5V
.ends OUTPUT_DRIVER_OUTPUT_DRIVER_S4
*$
.subckt OUTPUT_DRIVER_OUTPUT_DRIVER_S3 1 2 3 4  
S_OUTPUT_DRIVER_S3         3 4 1 2 _OUTPUT_DRIVER_S3
RS_OUTPUT_DRIVER_S3         1 2 1G
.MODEL         _OUTPUT_DRIVER_S3 VSWITCH Roff=1e6 Ron=1.0 Voff=1.0V Von=4.0V
.ends OUTPUT_DRIVER_OUTPUT_DRIVER_S3
*$
.subckt OUTPUT_DRIVER_OUTPUT_DRIVER_S30 1 2 3 4  
S_OUTPUT_DRIVER_S30         3 4 1 2 _OUTPUT_DRIVER_S30
RS_OUTPUT_DRIVER_S30         1 2 1G
.MODEL         _OUTPUT_DRIVER_S30 VSWITCH Roff=10e6 Ron=32m Voff=0.4V Von=2.8
.ends OUTPUT_DRIVER_OUTPUT_DRIVER_S30
*$
.subckt OUTPUT_DRIVER_OUTPUT_DRIVER_F3 1 2 3 4  
F_OUTPUT_DRIVER_F3         3 4 VF_OUTPUT_DRIVER_F3 1
VF_OUTPUT_DRIVER_F3         1 2 0V
.ends OUTPUT_DRIVER_OUTPUT_DRIVER_F3
*$
.subckt OUTPUT_DRIVER_OUTPUT_DRIVER_S2 1 2 3 4  
S_OUTPUT_DRIVER_S2         3 4 1 2 _OUTPUT_DRIVER_S2
RS_OUTPUT_DRIVER_S2         1 2 1G
.MODEL         _OUTPUT_DRIVER_S2 VSWITCH Roff=1e6 Ron=2 Voff=2.4V Von=2.5V
.ends OUTPUT_DRIVER_OUTPUT_DRIVER_S2
*$
.subckt OUTPUT_DRIVER_OUTPUT_DRIVER_S5 1 2 3 4  
S_OUTPUT_DRIVER_S5         3 4 1 2 _OUTPUT_DRIVER_S5
RS_OUTPUT_DRIVER_S5         1 2 1G
.MODEL         _OUTPUT_DRIVER_S5 VSWITCH Roff=1e6 Ron=0.75 Voff=1.0V Von=4.0V
.ends OUTPUT_DRIVER_OUTPUT_DRIVER_S5
*$
.subckt SLOPE_COMP_PWM_SLOPE_COMP_PWM_S27 1 2 3 4  
S_SLOPE_COMP_PWM_S27         3 4 1 2 _SLOPE_COMP_PWM_S27
RS_SLOPE_COMP_PWM_S27         1 2 1G
.MODEL         _SLOPE_COMP_PWM_S27 VSWITCH Roff=100e6 Ron=10m Voff=0.4 Von=4
.ends SLOPE_COMP_PWM_SLOPE_COMP_PWM_S27
*$
.subckt SLOPE_COMP_PWM_SLOPE_COMP_PWM_H1 1 2 3 4  
H_SLOPE_COMP_PWM_H1         3 4 VH_SLOPE_COMP_PWM_H1 3.75
VH_SLOPE_COMP_PWM_H1         1 2 0V
.ends SLOPE_COMP_PWM_SLOPE_COMP_PWM_H1
*$

** Wrapper definitions for AA legacy support **

.subckt d_d 1 2
d1 1 2 d_dd

.model d_dd d
+ is=1e-015
+ tt=1e-011
+ rs=0.05
+ n=0.1

.ends d_d
*$

.model D_D1 d
+ is=1e-015
+ tt=1e-011
+ rs=0.05
+ n=0.1


.model D_D2 d
+ is=1e-015
+ tt=1e-011
+ rs=0.01
+ n=0.01

*$
.SUBCKT AND2_BASIC A B Y 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > 2.5  &  
+ V(B) > 2.5,5,0)}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND2_BASIC
*$
.SUBCKT NOR2_BASIC A B Y 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > 2.5  |  
+ V(B) > 2.5,0,5)}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR2_BASIC
*$
.SUBCKT OR2_BASIC A B Y 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > 2.5  |  
+ V(B) > 2.5,5,0)}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR2_BASIC
*$
.SUBCKT MUX2_BASIC A B S Y
E_ABMGATE  YINT 0 VALUE {{IF(V(S) > 2.5,  
+ V(B),V(A))}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS MUX2_BASIC
*$
.SUBCKT INV_DELAY_BASIC A  Y PARAMS: DELAY = 10n 
E_ABMGATE1    YINT1 0 VALUE {{IF(V(A) > 2.5 , 
+ 5,0)}}
RINT YINT1 YINT2 1
CINT YINT2 0 {DELAY*1.3}
E_ABMGATE2    YINT3 0 VALUE {{IF(V(YINT2) > 2.5 , 
+ 0,5)}}
RINT2 YINT3 Y 1
CINT2 Y 0 1n
.ENDS INV_DELAY_BASIC
*$
**Reset has higher priority in this latch
.SUBCKT SRNANDLATCHRHP_BASIC S R Q QB
GQ 0 Qint VALUE = {IF(V(R) > 2.5,-5,IF(V(S)>2.5,5, 0))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 5
D_D11 0 Qint D_D1 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_BASIC
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > 2.5, 0,5)}
RQb Qbr QB 1 
Cdummy1 Q 0 1n IC={5}
Cdummy2 QB 0 1n IC={0}
.ENDS SRNANDLATCHRHP_BASIC
*$
.SUBCKT NAND3_BASIC A B C Y 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > 2.5  &  
+ V(B) > 2.5 &
+ V(C) > 2.5,0,5)}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NAND3_BASIC
*$
.SUBCKT NAND2_BASIC A B Y 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > 2.5  &  
+ V(B) > 2.5,0,5)}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NAND2_BASIC
*$
.SUBCKT AND4_BASIC A B C D Y 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > 2.5  &  
+ V(B) > 2.5 &
+ V(C) > 2.5 &
+ V(D) > 2.5,5,0)}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND4_BASIC
*$
.SUBCKT AND3_BASIC A B C Y 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > 2.5  &  
+ V(B) > 2.5 &
+ V(C) > 2.5,5,0)}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND3_BASIC
*$
.SUBCKT DFF_BASIC Q QB CLK D R S
***Set has higher priority in this
** Changed the delay from 7n/10n to 15n/20n to help larger time step simulations
**Faster flip-flops require a a smaller time step to simulate
X1 CLK CLKdel INV_DELAY_BASIC PARAMS: DELAY = 15n
X2 CLK CLKdel CLKint AND2_BASIC 
GQ 0 Qint VALUE = {IF(V(S) < 2.5,5,IF(V(R)<2.5,-5, IF(V(CLKint)>2.5, 
+ IF(V(D)>2.5,5,-5),0)))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 5
D_D11 0 Qint D_D1 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_DELAY_BASIC PARAMS: DELAY = 20n
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > 2.5, 0,5)}
RQb Qbr Qb 1 
Cdummy1 Q 0 1nF 
Cdummy2 QB 0 1nF 
.IC V(Qint) = 0
.ENDS DFF_BASIC
*$
.SUBCKT BUF_DELAY_BASIC A  Y PARAMS: DELAY = 10n 
E_ABMGATE1    YINT1 0 VALUE {{IF(V(A) > 2.5 , 
+ 5,0)}}
RINT YINT1 YINT2 1
CINT YINT2 0 {DELAY*1.3}
E_ABMGATE2    YINT3 0 VALUE {{IF(V(YINT2) > 2.5 , 
+ 5,0)}}
RINT2 YINT3 Y 1
CINT2 Y 0 1n
.ENDS BUF_DELAY_BASIC
*$
.SUBCKT BUF_BASIC A  Y 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > 2.5 , 
+ 5,0)}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS BUF_BASIC
*$
.SUBCKT COMP_BASIC INP INM Y
E_ABM Yint 0 VALUE {IF (V(INP) > 
+ V(INM), 5,0)}
R1 Yint Y 1
C1 Y 0 1n
.ENDS COMP_BASIC
*$
.SUBCKT INV_BASIC A  Y 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > 2.5 , 
+ 0,5)}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS INV_BASIC
*$
**** NMOS IDEAL *****************************************************************************************
.SUBCKT NMOSIDEAL_PS D G S PARAMS: k=1 vth=0
RDDUM D 0 1e11
RSDUM S 0 1e11
RGDUM G 0 1e11
EON Yp 0 VALUE={IF(V(G,S) > {vth}, 1, 0)}
GOUT D S VALUE={IF(V(D,S) >= (V(G,S)-{vth}), V(Yp)*({k}/2)*(V(G,S)-{vth})**2, V(Yp)*({k})*(V(G,S)-{vth}-V(D,S)/2)*V(D,S))}
.ENDS NMOSIDEAL_PS
*$

