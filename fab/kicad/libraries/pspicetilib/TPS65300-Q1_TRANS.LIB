*$
* TPS65300-Q1
*****************************************************************************
* (C) Copyright 2014,2015 Texas Instruments Incorporated. All rights reserved.                                            
*****************************************************************************
** This model is designed as an aid for customers of Texas Instruments.
** TI and its licensors and suppliers make no warranties, either expressed
** or implied, with respect to this model, including the warranties of 
** merchantability or fitness for a particular purpose.  The model is
** provided solely on an "as is" basis.  The entire risk as to its quality
** and performance is with the customer
*****************************************************************************
*
* This model is subject to change without notice. Texas Instruments
* Incorporated is not responsible for updating this model.
*
*****************************************************************************
*
** Released by: WEBENCH Design Center, Texas Instruments Inc.
* Part: TPS65300-Q1
* Date: 19MAY2015
* Model Type: TRANSIENT
* Simulator: PSPICE
* Simulator Version: 16.2.0.p001
* EVM Order Number: TPS65300EVM
* EVM Users Guide: SLVU685–February 2012
* Datasheet: SLVSBB6E –MARCH 2012–REVISED MARCH 2014
*
* Model Version: Final 1.20
*
*****************************************************************************
*
* Updates:
*
* Final 1.10  
* Internal freqency is set to 2.2MHz and model updated to give 
* proper results when RT pin is left open.
*
* Final 1.20
* Modified the Syncronous operation to asyncronous operation
*
* Final 1.00
* Release to Web.
*
*****************************************************************************
.SUBCKT TPS65300-Q1_TRANS 1P2VDRIVE 1P2VSENSE 3P3VDRIVE 3P3VSENSE 5V BOOT BOOT_LDO
+  COMP DELAY EN GND IGN_EN IGN_ST N_RST NC_1 NC_2 PGND PH RT_CLK SS VIN VIN_D VREG
+  VSENSE PAD PARAMS: SS_LIN=0 DISABLE_BUCK=0 MODE=0 
X_U9         N14686479 1P2VSENSE 0 N14691965 COMPHYS_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5
R_R6         VREG N14657815  8k  
V_V6         0_8 0 .8
R_R5         VREG VSENSE  160.7k  
X_U623         N14720202 N_RST OUTPUTSHORTDETECT AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U1_U624         U1_N14675204 U1_N14772075 OP_ON AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
V_U1_V3         U1_N14676598 0 4.77
R_U1_R7         U1_N14675126 U1_ALL_ON  14.5k  
V_U1_V16         U1_N147736033 0 0.13
X_U1_U14         EN U1_N14676420 U1_N147737993 U1_EN_OK COMPHYS_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
V_U1_V19         U1_N14675870 0 1.3
D_U1_D23         U1_N14675518 U1_N14675204 D_D1 
R_U1_R4         U1_N14675518 U1_N14675204  3.540k  
X_U1_U6         VIN U1_3P3V U1_N14675620 U1_N14675170 COMPHYS_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5
R_U1_R6         U1_IGN_EN_OK U1_N14676936  3.54k  
C_U1_C8         0 U1_ALL_ON  1n  
X_U1_S3    U1_N14675504 0 IGN_ST 0 HK_U1_S3 
X_U1_U7         IGN_EN U1_N14677192 U1_N147736033 U1_IGN_EN_OK
+  COMPHYS_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
V_U1_V15         U1_N14675620 0 .2
V_U1_V13         U1_N147737993 0 0.17
R_U1_R9         EN 0  62k  
R_U1_R8         0 IGN_EN  888k  
X_U1_U18         U1_N14677720 U1_N14677120 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
V_U1_V2         U1_N14677192 0 3.16
E_U1_ABM3         REF 0 VALUE { IF( MODE > 0.5, 2,MIN ( V(SS) , V(U1_2_0) ))   
+  }
X_U1_U13         DELAY U1_N14675616 U1_N14675870 U1_N14675606 COMPHYS_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U1_U8         VREG U1_N14676598 U1_N147738833 N14657477 COMPHYS_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U1_U15         U1_IGN_EN_OK U1_EN_OK U1_IGN_EN_ENABLE OR2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
E_U1_GAIN1         U1_6V 0 VALUE {6 * V(U1_N14675170)}
D_U1_D28         U1_N14675126 U1_ALL_ON D_D1 
X_U1_U19         U1_ALL_ON U1_N14675606 U1_N14677092 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
V_U1_V7         U1_N147738833 0 .2
X_U1_U22         U1_IGN_EN_ENABLE U1_N14675170 U1_N14675518 AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U1_U17         U1_N14675204 U1_N14675158 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
V_U1_V10         U1_N14676042 0 1.12
V_U1_V12         U1_N14676420 0 1.7
X_U1_S5    U1_N14676082 0 DELAY 0 HK_U1_S5 
V_U1_V8         U1_N14675810 0 3.07
R_U1_R10         U1_N14677092 U1_N14677720  1  
C_U1_C7         0 U1_N14676936  3.3n  
C_U1_C9         0 U1_N14677720  1n  
V_U1_V11         U1_N147734530 0 .2
V_U1_V6         U1_2_0 0 2
X_U1_U24         ILIM_FOLDBACK U1_N14675158 U1_N14675242 OR2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
D_U1_D25         SS U1_6V D_D1 
V_U1_V100         U1_N14772075 0 {1-Disable_Buck}
X_U1_S2    U1_N14677120 0 N_RST 0 HK_U1_S2 
X_U1_U16         U1_N14676936 U1_N14675504 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=.5
D_U1_D26         U1_IGN_EN_OK U1_N14676936 D_D1 
E_U1_GAIN2         U1_3P5V 0 VALUE {3.5 * V(U1_N14675170)}
G_U1_G1         U1_6V SS U1_N14675204 0 50u
X_U1_U12         1P2VSENSE U1_N14676042 U1_N147734530 U1_N14676368
+  COMPHYS_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
V_U1_V5         U1_3P3V 0 3.3
X_U1_U23         U1_N14675522 N14657477 U1_N14676368 U1_IGN_EN_ENABLE
+  U1_N14675126 AND4_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
V_U1_V14         U1_N14675616 0 2
X_U1_U9         3P3VSENSE U1_N14675810 U1_N147737493 U1_N14675522
+  COMPHYS_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U1_S4    U1_N14675242 0 SS 0 HK_U1_S4 
X_U1_U20         U1_ALL_ON U1_N14676082 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
D_U1_D27         DELAY U1_3P5V D_D1 
V_U1_V9         U1_N147737493 0 .2
G_U1_G2         U1_3P5V DELAY U1_ALL_ON 0 2u
C_U1_C5         0 U1_N14675204  3.30n  
D_D29         N14872957 0_8 D_D1 
X_U12         N14716398 N14691965 N14720202 OR2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_S4    N14658517 0 VREG 0 TPS65300_S4 
G_G3         0_8 N14872957 V_LIN_REG 0 50u
V_V8         N14686479 0 0.6
D_D30         N14899864 0_8 D_D1 
C_C1         0 N14872957  {1n+SS_LIN*2750n+((1-MODE)*149n)} 
C_C4         0 LIN_REG_EN  1n  
C_Cint         N14657815 VSENSE  140p  
E_GAIN2         5V 0 VALUE {1.51515 * V(3P3VSENSE)}
G_G4         0_8 N14899864 V_LIN_REG 0 50u
X_U3_S28    U3_PULLDOWN_MAXDUTY 0 U3_MAXDUTY_CAP 0 OSC_U3_S28 
C_U3_C35         0 U3_MAXDUTY_CAP  0.1n  
D_U3_D13         U3_RAMP_INT3 U3_N16791516 D_D1 
X_U3_U645         RT_CLK U3_N16791570 INV_DELAY_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5 DELAY=50n
X_U3_U78         U3_RAMP_INT3 U3_N16791671 U3_N16791876 COMP_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5
V_U3_V8         U3_N16805578 0 10E-3
C_U3_C34         0 U3_RAMP_INT3  0.1n  
D_U3_U12_D14         0 U3_RAMP_INT1 D_D1 
X_U3_U12_U641         U3_U12_N16797799 N14860804 U3_U12_N16798077
+  AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U3_U12_U644         U3_U12_N16798115 U3_U12_N16797830 d_d PARAMS:
X_U3_U12_U81         U3_U12_N13258 U3_U12_CLK_1 U3_U12_N16797805 OR2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
V_U3_U12_V52         U3_U12_N16798389 0 .15
R_U3_U12_R27         0 N14860804  1E9  
D_U3_U12_D13         U3_RAMP_INT1 U3_U12_N16797738 D_D1 
X_U3_U12_S28    U3_U12_N16798112 0 U3_U12_N16798256 0 OSC_INT_U3_U12_S28 
X_U3_U12_U79         U3_U12_N16798077 U3_U12_N16798105 U3_U12_N00351
+  OR2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
E_U3_U12_ABM9         U3_CLK1 0 VALUE { IF( V(U3_SHUTDOWN)>0.5,
+  V(U3_U12_CLK_1),-V(U3_U12_CLK_1))    }
X_U3_U12_U646         U3_SHUTDOWN U3_U12_N13258 INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U3_U12_U78         U3_RAMP_INT1 U3_U12_N16797900 U3_U12_N16798105
+  COMP_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U3_U12_H4    U3_U12_N16798178 N14860804 U3_U12_NOT 0 OSC_INT_U3_U12_H4 
E_U3_U12_ABM7         U3_RAMP1 0 VALUE { V(U3_RAMP_INT1) * V(VIN)/10 + 1.0    }
X_U3_U12_U642         U3_U12_N16798115 U3_U12_N16798112 BUF_DELAY_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY=10n
X_U3_U12_U77         U3_U12_N00351 U3_U12_CLK_1 N16797848 U3_U12_N16797830
+  SRLATCHRHP_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U3_U12_F4    U3_U12_N16798175 U3_U12_N16798178 U3_U12_N16797738
+  U3_U12_N16798256 OSC_INT_U3_U12_F4 
V_U3_U12_V54         U3_U12_N16797738 0 2
X_U3_U12_S27    U3_U12_N16797805 0 U3_RAMP_INT1 0 OSC_INT_U3_U12_S27 
X_U3_U12_U80         U3_U12_N16798256 U3_U12_N16798389 U3_U12_CLK_1
+  COMP_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U3_U12_F3    U3_U12_N16797802 U3_U12_N16798175 U3_U12_N16797738 U3_RAMP_INT1
+  OSC_INT_U3_U12_F3 
E_U3_U12_ABM10         U3_MAX_DUTY_1 0 VALUE { IF( V(U3_SHUTDOWN)>0.5,
+  V(U3_U12_N00351),0)    }
X_U3_U12_U645         N14860804 U3_U12_N16797799 INV_DELAY_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5 DELAY=50n
C_U3_U12_C34         0 U3_RAMP_INT1  0.1n  
R_U3_U12_R278         U3_U12_N16797830 U3_U12_N16798115  28k  
C_U3_U12_C157         0 U3_U12_N16798115  1p  
V_U3_U12_V55         U3_U12_N16797900 0 .85
C_U3_U12_C35         0 U3_U12_N16798256  0.1n  
V_U3_U12_V53         U3_U12_N16797802 0 1
R_U3_U12_R28         0 N14860804  1E9  
R_U3_U12_R29         0 N14860804  44.73k  
X_U3_U36         U3_RAMP_INT3 U3_RAMP_INT1 U3_RT_FLOATING N14658593
+  MUX2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U3_U79         U3_N16791848 U3_N16791876 U3_MAX_DUTY_3 OR2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
R_U3_R28         0 RT_CLK  1E9  
X_U3_U77         U3_MAX_DUTY_3 U3_CLK3 N16791619 U3_N16791601
+  SRLATCHRHP_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U3_U644         U3_N16791886 U3_N16791601 d_d PARAMS:
X_U3_U641         U3_N16791570 RT_CLK U3_N16791848 AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
R_U3_R27         0 RT_CLK  1E9  
E_U3_ABM7         U3_RAMP3 0 VALUE { V(U3_RAMP_INT3) * V(VIN)/10 + 1.0    }
X_U3_U646         OP_ON U3_RT_FLOATING U3_SHUTDOWN AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U3_U643         OP_ON U3_N16791942 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U3_F3    U3_N16791573 U3_N16791955 U3_N16791516 U3_RAMP_INT3 OSC_U3_F3 
X_U3_U82         U3_MAX_DUTY_3 U3_MAX_DUTY_1 N14658553 OR2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
V_U3_V54         U3_N16791516 0 2
V_U3_V55         U3_N16791671 0 .85
C_U3_C157         0 U3_N16791886  1p  
V_U3_V53         U3_N16791573 0 1
X_U3_U6         U3_N16805578 U3_I_RT U3_RT_FLOATING COMP_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5
X_U3_U81         U3_N16791942 U3_CLK3 U3_PULLDOWN_RAMP3 OR2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U3_S27    U3_PULLDOWN_RAMP3 0 U3_RAMP_INT3 0 OSC_U3_S27 
X_U3_U80         U3_MAXDUTY_CAP U3_N16792174 U3_CLK3 COMP_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5
V_U3_V52         U3_N16792174 0 .15
R_U3_R278         U3_N16791601 U3_N16791886  28k  
X_U3_H4    U3_N16791958 RT_CLK U3_I_RT 0 OSC_U3_H4 
X_U3_U642         U3_N16791886 U3_PULLDOWN_MAXDUTY BUF_DELAY_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5 DELAY=10n
X_U3_F4    U3_N16791955 U3_N16791958 U3_N16791516 U3_MAXDUTY_CAP OSC_U3_F4 
D_U3_D14         0 U3_RAMP_INT3 D_D1 
X_U3_U40         U3_RAMP3 U3_RAMP1 U3_RT_FLOATING N14658529 MUX2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U3_U39         U3_CLK3 U3_CLK1 U3_RT_FLOATING N14726893 MUX2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABM3         N14873043 0 VALUE { MIN ( V(N14872957) , V(0_8) )    }
R_R8         GND 0  1m  
V_V9         N14690612 0 1.65
C_C2         0 N14899864  {1n+SS_LIN*4055n+((1-MODE)*149n)}
X_U10         N14690612 3P3VSENSE 0 N14716398 COMPHYS_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5
C_C5         BOOT_LDO N14860804  1u  
E_ABM6         N14900046 0 VALUE { MIN ( V(N14899864) , V(0_8) )    }
X_U13         LIN_REG_EN N14769080 N14769757 OR2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U8         VSENSE N14658433 0 N14658517 COMPHYS_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5
V_V5         N14658433 0 2.14
C_U2_C143         0 U2_N16847619  48p  
X_U2_U10         U2_N16847619 U2_N16847621 U2_PD OR2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
R_U2_R268         U2_N16848027 U2_DUTY85_DETECT  4.35k  
R_U2_R270         U2_COUNT16 U2_N16847655  1k TC=0,0 
X_U2_U610         U2_N16847801 U2_N16847621 d_d PARAMS:
C_U2_C6         0 U2_N16848393  1n  
X_U2_U620         U2_N16847750 U2_CYCLE16 U2_N006751 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
C_U2_C145         0 U2_N16847655  1n  
X_U2_U4         REF VSENSE U2_EAOUT op_amp PARAMS:  HLIMIT=5 RIN=233MEG BW=7MEG
+  DC_GAIN=95 ROUT=100 LLIMIT=0 SRP=10   SRM=10 
V_U2_V26         U2_N16848327 0 .5
V_U2_V25         U2_N16848149 0 1.85
X_U2_U607         U2_N16855782 U2_A U2_N16855816 AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
C_U2_C141         0 U2_VCOUNTER  47p  
V_U2_V24         U2_N16848120 0 10
C_U2_C146         0 U2_DUTY85_DETECT  .01n  
C_U2_C140         0 U2_N16855812  1n  
D_U2_D24         U2_N16848393 N14658553 D_D1 
X_U2_U624         N14661755 ILIM_FOLDBACK U2_N14722000 U2_N16892062
+  OR3_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U2_S6    U2_DUTY85_DETECT 0 U2_N16847619 0 PWM_U2_S6 
D_U2_D10         U2_VCOUNTER U2_N16848120 D_D1 
C_U2_C4         U2_EAOUT COMP  1p  
X_U2_U29         N14658593 U2_N16847793 0 U2_N16847750 COMPHYS_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U2_U615         OP_ON U2_N16844825 U2_N16855776 PWMH AND3_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
V_U2_V17         U2_N16847793 0 .5
G_U2_G5         VIN U2_N16847619 U2_N16847829 0 50u
D_U2_D29         U2_N16847619 VIN D_D1 
E_U2_ABM7         U2_N14721880 0 VALUE { LIMIT(V(COMP), 0 ,
+  ((V(VIN)*0.97*1.08/10) + 1.0))    }
R_U2_R267         U2_N16855816 U2_N16855812  36.07503608  
X_U2_S8    U2_PD 0 U2_VCOUNTER 0 PWM_U2_S8 
*G_COMP 0 COMP VALUE {IF(TIME>1u & TIME <10u & MODE > 0.5,1m,0)}
G_U2_G3         U2_EAOUT COMP TABLE { V(U2_EAOUT, COMP) } 
+ ( (-10,-1.5m)(-1m,-1.0m)(0,0)(1m,1.0m)(10,1.5m) )
X_U2_U613         U2_N16855812 LIN_REG_EN U2_N16855863 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U2_U612         U2_DUTY85 U2_N16848232 INV_DELAY_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.3 DELAY=30n
X_U2_U611         U2_N16848232 U2_DUTY85 U2_N16848027 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=300E-3
X_U2_U31         U2_N16847621 U2_N16848327 0 U2_CYCLE16 COMPHYS_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U2_U604         U2_N16855816 U2_N16855812 d_d PARAMS:
X_U2_U26         N14726893 U2_N16892062 U2_A N16855930 SRLATCHRHP_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U2_U608         U2_A U2_N16855782 INV_DELAY_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5 DELAY=15n
C_U2_C144         0 U2_N16847621  .15n  
X_U2_U3         U2_A U2_N16855863 U2_N16855776 OR2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
G_U2_G6         VIN U2_VCOUNTER U2_DUTY85_DETECT 0 100u
R_U2_R271         U2_N16847801 U2_N16847621  4.35k  
X_U2_U621         U2_N16847752 U2_N16847655 U2_N16847801 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U2_U30         PWMH U2_N16848393 U2_DUTY85 AND2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
D_U2_U619         U2_COUNT16 U2_N16847655 D_D1
R_U2_R5         N14658553 U2_N16848393  30  
X_U2_U21         U2_N006751 U2_N16844825 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
D_U2_D7         0 U2_VCOUNTER D_D1 
V_U2_V18         U2_N16847829 0 1
E_U2_E7         U2_COUNT16 0 VALUE { {IF (V(U2_VCOUNTER) > V(U2_N16848149), 1,
+  0)} }
X_U2_U622         U2_N16847655 U2_N16847752 INV_DELAY_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5 DELAY=15n
X_U2_U605         U2_N16848027 U2_DUTY85_DETECT d_d PARAMS:
X_U2_U5         N14658529 U2_N14721880 U2_N14722000 COMP_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5
D_U2_D30         U2_VCOUNTER VIN D_D1 
R_u5_R1         0 u5_N01131  200k TC=0,0 
E_u5_U1_E1         u5_U1_N14494116 0 u5_U1_N14493966 0 1
R_u5_U1_R_CPEN         u5_U1_N14493714 V_LIN_REG  3.54k  
C_u5_U1_CP6         0 u5_U1_N14493918  4p  
R_u5_U1_R12         0 u5_U1_N14493732  100G  
R_u5_U1_R3         0 V_LIN_REG  100G  
C_u5_U1_C_CPEN         u5_U1_N14493714 0  1.64n  
R_u5_U1_RP6         u5_U1_N14493966 u5_U1_N14493732  1000  
R_u5_U1_R10         0 VIN  7MEG  
R_u5_U1_RP5         u5_U1_N14493918 u5_U1_N14493966  50k  
D_u5_U1_U17         u5_U1_N14493966 u5_U1_N14493714 D_D1
E_u5_U1_ABM6         u5_N00909 0 VALUE {
+  MIN(V(u5_U1_N14493714),MAX(0,V(u5_U1_N14494064)))    }
C_u5_U1_C1         VIN u5_U1_N14494064  1n  
R_u5_U1_R_PSSR1         u5_U1_N14494064 VIN  1MEG  
R_u5_U1_R_PSSR2         u5_U1_N14494064 u5_U1_N14494116  500  
R_u5_U1_R13         0 u5_U1_N14493898  100G  
R_u5_U1_R9         0 u5_U1_N14494116  100G  
R_u5_U1_R5         0 u5_U1_N14493966  100G  
R_u5_U1_RP7         u5_U1_N14493898 u5_U1_N14493918  100k  
G_u5_U1_ABM2I2         u5_U1_N14493966 0 VALUE { (V(u5_N01131)-V(N14873043))*2u
+     }
C_u5_U1_CP7         0 u5_U1_N14493732  19.92p  
C_u5_U1_CP8         0 u5_U1_N14493898  19.92p  
C_u5_U1_C2         u5_U1_N14494116 u5_U1_N14494064  30n  
E_u5_E1         u5_N00943 0 u5_N00909 0 1
G_u5_CURLIM         u5_N00905 1P2VDRIVE TABLE {V(u5_N00905,1P2VDRIVE)} =
+  (-5,-1m)(0,0)(0.01m,25m)(10,25m)
X_u5_F2    u5_N00949 u5_N00905 VIN 0 REG1_2_internal_u5_F2 
R_u5_R2         u5_N01131 1P2VSENSE  100k TC=0,0 
R_u5_ROUT         u5_N00949 u5_N00943  2  
C_Ccomp         COMP VSENSE  20p  
R_R101         N14657477 LIN_REG_EN  1 TC=0,0 
E_U4_ABM1         U4_LEB 0 VALUE { IF (V(U4_LEB_BEFORE) > 0.5,
+  V(U4_HS_CURRENT), 0 )    }
C_U4_C147         0 U4_N14257170  1n  
R_U4_R11         U4_HS_CURRENT U4_LEB_BEFORE  125  
R_U4_R272         U4_N14257178 U4_N14257170  217.4k  
X_U4_U12         OUTPUTSHORTDETECT U4_N14695313 U4_N14257118 OR2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U4_S9    U4_HDRV PH U4_N14256960 PH DRIVER_U4_S9 
X_U4_U608         U4_N14257178 U4_N14257170 d_d PARAMS:
V_U4_V29         U4_N14258028 0 3
V_U4_V27         U4_N14256844 0 2
D_U4_D22         PH U4_N14256960 D_D1 
X_U4_U41         U4_HS_CURRENT U4_N14258028 U4_N14695313 COMP_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5
X_U4_U624         U4_N14257118 U4_N14257126 INV_DELAY_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5 DELAY=15n
D_U4_D33         U4_N14257464 BOOT D_D1 
D_U4_D32         U4_LEB_BEFORE U4_HS_CURRENT D_D1 
V_U4_V28         BOOT_LDO 0 8.15
E_U4_ABM5         N14661755 0 VALUE { (V(U4_N14713300) * 100)/1000    }
X_U4_U623         U4_N14257126 U4_N14257118 U4_N14257178 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U4_U38         PWMH U4_PWMH3 INV_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U4_U32         U4_N14257118 U4_N14257170 ILIM_FOLDBACK OR2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U4_U40         U4_LEB U4_N14256844 U4_N14713300 COMP_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5
E_U4_ABM4         U4_N14257464 0 VALUE { MIN ( V(VIN) , V(BOOT_LDO) )    }
X_U4_S1    PWMH 0 BOOT U4_HDRV DRIVER_U4_S1 
C_U4_C12         0 U4_LEB_BEFORE  1n  
X_U4_S14    U4_PWMH3 0 U4_HDRV PH DRIVER_U4_S14 
X_U4_H1    VIN_D U4_N14256960 U4_HS_CURRENT 0 DRIVER_U4_H1 
R_R4         0 VSENSE  97.4k  
E_ABM5         V_LIN_REG 0 VALUE { V(N14769757) * V(VREG)    }
G_u6_CURLIM         u6_N05235 3P3VDRIVE TABLE {V(u6_N05235,3P3VDRIVE)} =
+  (-5,-1m)(0,0)(0.01m,25m)(10,25m)
E_u6_U2_E1         u6_U2_N14498664 0 u6_U2_N14498238 0 1
R_u6_U2_R3         0 V_LIN_REG  100G  
C_u6_U2_CP7         0 u6_U2_N14498252  19.99p  
R_u6_U2_R10         0 VIN  7MEG  
R_u6_U2_RP7         u6_U2_N14498424 u6_U2_N14498244  100k  
R_u6_U2_R_PSSR1         u6_U2_N14498612 VIN  1MEG  
C_u6_U2_C_CPEN         u6_U2_N14498220 0  1.64n  
C_u6_U2_C1         VIN u6_U2_N14498612  1n  
C_u6_U2_CP6         0 u6_U2_N14498244  4p  
E_u6_U2_ABM6         u6_N05239 0 VALUE {
+  MIN(V(u6_U2_N14498220),MAX(0,V(u6_U2_N14498612)))    }
C_u6_U2_CP8         0 u6_U2_N14498424  19.92p  
R_u6_U2_R12         0 u6_U2_N14498252  100G  
D_u6_U2_U17         u6_U2_N14498238 u6_U2_N14498220 D_D1
R_u6_U2_R_PSSR2         u6_U2_N14498612 u6_U2_N14498664  500  
R_u6_U2_R5         0 u6_U2_N14498238  100G  
R_u6_U2_R9         0 u6_U2_N14498664  100G  
R_u6_U2_RP5         u6_U2_N14498244 u6_U2_N14498238  50k  
C_u6_U2_C2         u6_U2_N14498664 u6_U2_N14498612  30n  
R_u6_U2_RP6         u6_U2_N14498238 u6_U2_N14498252  994.3  
R_u6_U2_R13         0 u6_U2_N14498424  100G  
G_u6_U2_ABM2I2         u6_U2_N14498238 0 VALUE { (V(u6_N05449)-V(N14900046))*3u
+     }
R_u6_U2_R_CPEN         u6_U2_N14498220 V_LIN_REG  3.54k  
X_u6_F2    u6_N05271 u6_N05235 VIN 0 REG3_3_internal_u6_F2 
R_u6_R2         u6_N05449 3P3VSENSE  100k TC=0,0 
R_u6_ROUT         u6_N05271 u6_N05265  2  
R_u6_R1         0 u6_N05449  32k TC=0,0 
E_u6_E1         u6_N05265 0 u6_N05239 0 1
V_V11         N14769080 0 {Disable_Buck}
R_NC_1 NC_1 0 1k
R_NC_2 NC_2 0 1k
R_PAD PAD 0 1k
.IC         V(U3_RAMP_INT3 )=0
.IC         V(U3_RAMP_INT1 )=0
.IC         V(U2_VCOUNTER )=0
.ENDS TPS65300-Q1_TRANS
*$
.subckt HK_U1_S3 1 2 3 4  
S_U1_S3         3 4 1 2 _U1_S3
RS_U1_S3         1 2 1G
.MODEL         _U1_S3 VSWITCH Roff=53MEG Ron=100 Voff=0 Von=1.0V
.ends HK_U1_S3
*$
.subckt HK_U1_S5 1 2 3 4  
S_U1_S5         3 4 1 2 _U1_S5
RS_U1_S5         1 2 1G
.MODEL         _U1_S5 VSWITCH Roff=1e9 Ron=30k Voff=0.25 Von=0.75
.ends HK_U1_S5
*$
.subckt HK_U1_S2 1 2 3 4  
S_U1_S2         3 4 1 2 _U1_S2
RS_U1_S2         1 2 1G
.MODEL         _U1_S2 VSWITCH Roff=53e6 Ron=100.0 Voff=0 Von=1.0V
.ends HK_U1_S2
*$
.subckt HK_U1_S4 1 2 3 4  
S_U1_S4         3 4 1 2 _U1_S4
RS_U1_S4         1 2 1G
.MODEL         _U1_S4 VSWITCH Roff=1e9 Ron=250 Voff=0.25 Von=0.75
.ends HK_U1_S4
*$
.subckt TPS65300_S4 1 2 3 4  
S_S4         3 4 1 2 _S4
RS_S4         1 2 1G
.MODEL         _S4 VSWITCH Roff=1e9 Ron=30 Voff=0.25 Von=0.75
.ends TPS65300_S4
*$
.subckt OSC_U3_S28 1 2 3 4  
S_U3_S28         3 4 1 2 _U3_S28
RS_U3_S28         1 2 1G
.MODEL         _U3_S28 VSWITCH Roff=1e6 Ron=1.0m Voff=0.25V Von=0.75V
.ends OSC_U3_S28
*$
.subckt OSC_INT_U3_U12_S28 1 2 3 4  
S_U3_U12_S28         3 4 1 2 _U3_U12_S28
RS_U3_U12_S28         1 2 1G
.MODEL         _U3_U12_S28 VSWITCH Roff=1e6 Ron=1.0m Voff=0.25V Von=0.75V
.ends OSC_INT_U3_U12_S28
*$
.subckt OSC_INT_U3_U12_H4 1 2 3 4  
H_U3_U12_H4         3 4 VH_U3_U12_H4 1E6
VH_U3_U12_H4         1 2 0V
.ends OSC_INT_U3_U12_H4
*$
.subckt OSC_INT_U3_U12_F4 1 2 3 4  
F_U3_U12_F4         3 4 VF_U3_U12_F4 11.2
VF_U3_U12_F4         1 2 0V
.ends OSC_INT_U3_U12_F4
*$
.subckt OSC_INT_U3_U12_S27 1 2 3 4  
S_U3_U12_S27         3 4 1 2 _U3_U12_S27
RS_U3_U12_S27         1 2 1G
.MODEL         _U3_U12_S27 VSWITCH Roff=1e6 Ron=1.0m Voff=0.25V Von=0.75V
.ends OSC_INT_U3_U12_S27
*$
.subckt OSC_INT_U3_U12_F3 1 2 3 4  
F_U3_U12_F3         3 4 VF_U3_U12_F3 11.2
VF_U3_U12_F3         1 2 0V
.ends OSC_INT_U3_U12_F3
*$
.subckt OSC_U3_F3 1 2 3 4  
F_U3_F3         3 4 VF_U3_F3 11.2
VF_U3_F3         1 2 0V
.ends OSC_U3_F3
*$
.subckt OSC_U3_S27 1 2 3 4  
S_U3_S27         3 4 1 2 _U3_S27
RS_U3_S27         1 2 1G
.MODEL         _U3_S27 VSWITCH Roff=1e6 Ron=1.0m Voff=0.25V Von=0.75V
.ends OSC_U3_S27
*$
.subckt OSC_U3_H4 1 2 3 4  
H_U3_H4         3 4 VH_U3_H4 1E6
VH_U3_H4         1 2 0V
.ends OSC_U3_H4
*$
.subckt OSC_U3_F4 1 2 3 4  
F_U3_F4         3 4 VF_U3_F4 11.2
VF_U3_F4         1 2 0V
.ends OSC_U3_F4
*$
.subckt PWM_U2_S6 1 2 3 4  
S_U2_S6         3 4 1 2 _U2_S6
RS_U2_S6         1 2 1G
.MODEL         _U2_S6 VSWITCH Roff=1e9 Ron=1m Voff=0.25 Von=0.75
.ends PWM_U2_S6
*$
.subckt PWM_U2_S8 1 2 3 4  
S_U2_S8         3 4 1 2 _U2_S8
RS_U2_S8         1 2 1G
.MODEL         _U2_S8 VSWITCH Roff=10e6 Ron=10m Voff=0.2 Von=0.8
.ends PWM_U2_S8
*$
.subckt REG1_2_internal_u5_F2 1 2 3 4  
F_u5_F2         3 4 VF_u5_F2 1
VF_u5_F2         1 2 0V
.ends REG1_2_internal_u5_F2
*$
.subckt DRIVER_U4_S9 1 2 3 4  
S_U4_S9         3 4 1 2 _U4_S9
RS_U4_S9         1 2 1G
.MODEL         _U4_S9 VSWITCH Roff=1e6 Ron=.3 Voff=1 Von=2.8
.ends DRIVER_U4_S9
*$
.subckt DRIVER_U4_S1 1 2 3 4  
S_U4_S1         3 4 1 2 _U4_S1
RS_U4_S1         1 2 1G
.MODEL         _U4_S1 VSWITCH Roff=1e6 Ron=3 Voff=0.25V Von=0.75V
.ends DRIVER_U4_S1
*$
.subckt DRIVER_U4_S14 1 2 3 4  
S_U4_S14         3 4 1 2 _U4_S14
RS_U4_S14         1 2 1G
.MODEL         _U4_S14 VSWITCH Roff=1e6 Ron=1.5 Voff=0.25V Von=0.75V
.ends DRIVER_U4_S14
*$
.subckt DRIVER_U4_H1 1 2 3 4  
H_U4_H1         3 4 VH_U4_H1 1
VH_U4_H1         1 2 0V
.ends DRIVER_U4_H1
*$
.subckt REG3_3_internal_u6_F2 1 2 3 4  
F_u6_F2         3 4 VF_u6_F2 1
VF_u6_F2         1 2 0V
.ends REG3_3_internal_u6_F2
*$
.model D_D1 d
+ is=1e-015
+ tt=1e-011
+ rs=0.05
+ n=0.1
*$
.subckt d_d 1 2
d1 1 2 d_d
.model d_d d
+ is=1e-015
+ n=0.01
+ tt=1e-011
.ends d_d
*$
.MODEL PDS360-13 D IS=0.7E-7 N=1.02 ISR=0.94E-7 NR=1.1 BV=63 IBV=2E-4
+ NBV=2 IBVL=8E-8 NBVL=300 RS=0.034 CJO=390E-12 VJ=1.1 M=0.53
+ EG=0.74 XTI=2 TRS1=4e-3
*$
.MODEL PBSS302NZ NPN
+ IS = 1.39E-012 
+ NF = 0.9539 
+ ISE = 1.265E-014 
+ NE = 1.426 
+ BF = 570 
+ IKF = 13 
+ VAF = 40 
+ NR = 0.954 
+ ISC = 4.055E-014 
+ NC = 1.216 
+ BR = 380 
+ IKR = 1.2 
+ VAR = 14 
+ RB = 19.5 
+ IRB = 0.00052 
+ RBM = 0.688 
+ RE = 0.015 
+ RC = 0.0084 
+ XTB = 0 
+ EG = 1.11 
+ XTI = 3 
+ CJE = 9.419E-010 
+ VJE = 0.7772 
+ MJE = 0.3561 
+ TF = 1.85E-009 
+ XTF = 1 
+ VTF = 5 
+ ITF = 1.9 
+ PTF = 0 
+ CJC = 2.947E-010 
+ VJC = 0.6762 
+ MJC = 0.4078 
+ XCJC = 1 
+ TR = 1E-009 
+ CJS = 0 
+ VJS = 0.75 
+ MJS = 0.333 
+ FC = 0.8 
*$
.SUBCKT LDCR 1 2 PARAMS: L=1u DCR=20m IC = 0
L1 1 INT1 {L} IC = {IC}
R1 INT1 2 {DCR}
.ENDS LDCR
*$
.SUBCKT CESR 1 2 PARAMS: C=10u ESR=2m IC = 0 X = 1
C1 1 INT1 {X*C} IC = {IC}
R1 INT1 2 {ESR}
.ENDS CESR
*$
.SUBCKT COMPHYS_BASIC_GEN INP INM HYS OUT PARAMS: VDD=1 VSS=0 VTHRESH=0.5	
EIN INP1 INM1 INP INM 1 
EHYS INP1 INP2 VALUE { IF( V(1) > {VTHRESH},-V(HYS),0) }
EOUT OUT 0 VALUE { IF( V(INP2)>V(INM1), {VDD} ,{VSS}) }
R1 OUT 1 1
C1 1 0 5n
RINP1 INP1 0 1K
.ENDS COMPHYS_BASIC_GEN
*$
.SUBCKT AND2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND2_BASIC_GEN
*$
.SUBCKT INV_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS INV_BASIC_GEN
*$
.SUBCKT OR2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR2_BASIC_GEN
*$
.SUBCKT AND4_BASIC_GEN A B C D Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH} &
+ V(D) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND4_BASIC_GEN
*$
.SUBCKT SRLATCHRHP_BASIC_GEN S R Q QB PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
GQ 0 Qint VALUE = {IF(V(R) > {VTHRESH},-5,IF(V(S)>{VTHRESH},5, 0))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr QB 1 
Cdummy1 Q 0 1n 
Cdummy2 QB 0 1n
.IC V(Qint) {VSS}
.ENDS SRLATCHRHP_BASIC_GEN
*$
.SUBCKT OP_AMP P M OUT 
+ PARAMs:  Hlimit=5 Rin=10Meg BW=18Meg DC_Gain=100 Rout=100 Llimit=0 SRP=1 SRM=1
R_Rin         P M  {Rin}
E_E1          5 0 M P {-Gain}
E_LIMIT2      6 0 VALUE {LIMIT(V(5), {-Abs(SRM)*Ca*1Meg+V(1)/Ra},
+                 {SRP*Ca*1Meg+V(1)/Ra})}
G_G2          1 0 6 0 -1
R_Ra          0 1  {Ra} 
C_Ca          0 1  {Ca}   
E_LIMIT1      2 0 VALUE {LIMIT(V(1),{Llimit},{Hlimit})}
V_VL          3 0 {Llimit+200m}
V_VH          4 0 {Hlimit-200m}
D_D1          3 1 Dideal 
D_D2          1 4 Dideal 
R_Rout        OUT 2  {Rout}
.model Dideal D Is=1e-10 Cjo=.01pF Rs=1m  N=1
.PARAM  Ra=1k   Ca={exp(DC_gain*log(10)/20)/(2*3.14159*BW*Ra)} 
+ Gain={exp(DC_gain*log(10)/20)/Ra} 
.ENDS OP_AMP
*$
.SUBCKT OR3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR3_BASIC_GEN
*$
.SUBCKT COMP_BASIC_GEN INP INM Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5	
E_ABM Yint 0 VALUE {IF (V(INP) > 
+ V(INM), {VDD},{VSS})}
R1 Yint Y 1
C1 Y 0 1n
.ENDS COMP_BASIC_GEN
*$
.SUBCKT INV_DELAY_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY = 10n 
E_ABMGATE1    YINT1 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT1 YINT2 1
CINT YINT2 0 {DELAY*1.3}
E_ABMGATE2    YINT3 0 VALUE {{IF(V(YINT2) > {VTHRESH} , 
+ {VSS},{VDD})}}
RINT2 YINT3 Y 1
CINT2 Y 0 1n
.ENDS INV_DELAY_BASIC_GEN
*$
.SUBCKT BUF_DELAY_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY = 10n 
E_ABMGATE1    YINT1 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT1 YINT2 1
CINT YINT2 0 {DELAY*1.3}
E_ABMGATE2    YINT3 0 VALUE {{IF(V(YINT2) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT2 YINT3 Y 1
CINT2 Y 0 1n
.ENDS BUF_DELAY_BASIC_GEN
*$
.SUBCKT BUF_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS BUF_BASIC_GEN
*$
.SUBCKT AND3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND3_BASIC_GEN
*$
.SUBCKT MUX2_BASIC_GEN A B S Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE  YINT 0 VALUE {{IF(V(S) > {VTHRESH},  
+ V(B),V(A))}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS MUX2_BASIC_GEN
*$