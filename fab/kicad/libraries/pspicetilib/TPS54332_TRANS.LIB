*$
* TPS54332
*****************************************************************************
* (C) Copyright 2014,2015 Texas Instruments Incorporated. All rights reserved.                                            
*****************************************************************************
** This model is designed as an aid for customers of Texas Instruments.
** TI and its licensors and suppliers make no warranties, either expressed
** or implied, with respect to this model, including the warranties of 
** merchantability or fitness for a particular purpose.  The model is
** provided solely on an "as is" basis.  The entire risk as to its quality
** and performance is with the customer
*****************************************************************************
*
* This model is subject to change without notice. Texas Instruments
* Incorporated is not responsible for updating this model.
*
*****************************************************************************
*
** Released by: WEBENCH Design Center, Texas Instruments Inc.
* Part: TPS54332
* Date: 14APR2015
* Model Type: TRANSIENT
* Simulator: PSPICE
* Simulator Version: 16.2.0.p001
* EVM Order Number: TPS54332EVM-416
* EVM Users Guide: SLVU276–February 2009
* Datasheet: SLVS875C–JANUARY 2009–REVISED NOVEMBER 2014
*
* Model Version: Final 1.00 
*
*****************************************************************************
*
* Updates:
*
* Final 1.00
* Release to Web.
*
*****************************************************************************
.SUBCKT TPS54332_TRANS BOOT VIN EN SS VSENSE COMP GND PH PowerPAD 
+ PARAMS: STEADY=0 VTH1=0.525 VTH2=0.513
RPowerPAD1 PowerPAD 0 1m
RPowerPAD2 PowerPAD 0 1m
R_U40_R1         GND U40_N14704  10k  
E_U40_ABM1         U40_N14704 0 VALUE { IF(V(EN)<1.25,0,5)    }
X_U40_U1         EN VIN d_d PARAMS:
G_U40_G1         VIN EN U40_N14704 GND 600n
E_U40_ABM2         SHUTDOWN 0 VALUE { IF(V(EN)<1.25,1,0)    }
I_U40_I1         VIN EN DC 1u  
E_U44_ABM7         N31646 0 VALUE {
+  if(V(SHUTDOWN)>0.5,0,if(V(VIN)<0.8,V(VIN),0.8))    }
E_U44_ABM5         2P5 0 VALUE {
+  if(V(SHUTDOWN)>0.5,0,if(V(VIN)<2.5,V(VIN),2.5))    }
V_U48_V7         ISW1 GND DC 0Vdc AC 0Vac 
X_U48_S6    U48_N19630 GND SS GND SOFT_START_U48_S6 
E_U48_ABM10         VREF_GM 0 VALUE { IF (V(N31646) >V(SS) ,V(SS),V(N31646))   
+  }
E_U48_ABM11         U48_N19630 0 VALUE { IF (V(SHUTDOWN) >0.5 | I(V_U48_V7)
+  >6.5,1,0)    }
X_U48_D9         SS 2P5 d_d PARAMS:
I_U48_I2         2P5 SS DC 2udc  
G_U41_G1         GND U41_N00409 VREF_GM VSENSE 92u
X_U41_U586         COMP U41_N16276073 U41_N16276049 U41_ECO1 COMPHYS_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U41_U3         U41_N14122 COMP d_d2 PARAMS:
V_U41_V4         U41_N16276049 0 {VTH1 - VTH2}
C_U41_C37         GND COMP  5.4p  
R_U41_R22         GND COMP  8.696Meg  
G_U41_ABMI1         COMP GND VALUE { if(I(V_U41_V1)>0,
+  -1*min(I(V_U41_V1),0.000007),-1*max(I(V_U41_V1),-0.000007))    }
V_U41_V1         U41_N00409 GND DC 0Vdc AC 0Vac 
V_U41_V5         U41_N16276073 0 {VTH1}
X_U41_U2         COMP U41_N02173 d_d PARAMS:
R_U41_R21         VREF_GM VSENSE  10Meg  
E_U41_ABM2         ECO 0 VALUE { if(V(U41_ECO1) >0.5,1,0)    }
V_U41_V3         U41_N14122 GND 0.5Vdc
V_U41_V2         U41_N02173 GND 1.6Vdc
C_U45_C69         GND U45_N00466  8.7n  
E_U45_ABM8         U45_N00859 0 VALUE { if(V(U45_N00466)<1,0,(V(U45_N00466)-1))
+     }
V_U45_V13         U45_IN2 GND  
+PULSE 0 1 0 20n 20n 7.44u 8u
G_U45_ABMII2         U45_N00466 GND VALUE {
+  if(V(VSENSE)<0.2,-0.0143,if(V(VSENSE)<0.4,-0.0268,if(V(VSENSE)<0.6,-0.0536,-0.1074)))
+     }
X_U45_S5    U45_N24204 GND U45_N00466 GND SLOPECOMP_U45_S5 
V_U45_V14         U45_IN3 GND  
+PULSE 0 1 0 20n 20n 3.72u 4u
E_U45_ABM9         CLK 0 VALUE { if(V(SHUTDOWN)>0.5,0,if
+  (V(VSENSE)<0.2,V(U45_IN2),if(V(VSENSE)<0.4,V(U45_IN3),if(V(VSENSE)<0.6,V(U45_IN4),V(U45_IN5)))))
+     }
G_U45_G2         2P5 N31294 U45_N00859 GND 1e-6
V_U45_V15         U45_IN4 GND  
+PULSE 0 1 0 20n 20n 1.86u 2u
V_U45_V16         U45_IN5 GND  
+PULSE 0 1 0 20n 20n 0.93u 1u
X_U45_U1         CLK U45_N24204 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
V_U43_V7         ISW ISW1 DC 0Vdc AC 0Vac 
V_U43_V10         U43_N16596041 GND 0.856
X_U43_U1         U43_N02780 U43_PWMOUT BUF_DELAY_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5 DELAY=30n
V_U43_V5         U43_N01530 GND DC 0Vdc AC 0Vac 
V_U43_V9         N31294 GND DC 0Vdc AC 0Vac 
X_U43_U632         U43_N16596925 BOOT_GATE U43_N16597049 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
V_U43_V11         U43_N16596387 GND 16m
E_U43_ABM4         U43_N02780 0 VALUE { if((I(V_U43_V7)-I(V_U43_V6))>0,0,1)   
+  }
G_U43_ABMI3         U43_N01763 GND VALUE { (((V(COMP)-0.5)/35e3)-I(V_U43_V9))*
+  (-12)    }
V_U43_V8         U43_N01763 GND DC 0Vdc AC 0Vac 
X_U43_U631         U43_N16596041 VSENSE U43_N16596387 U43_OVTP
+  COMPHYS_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U43_F1    U43_N00392 GND 2P5 U43_N02091 MODULATOR2_U43_F1 
V_U43_V6         U43_N02091 GND DC 0Vdc AC 0Vac 
G_U43_ABMI2         U43_N00392 GND VALUE { min(-I(V_U43_V5),I(V_U43_V8))    }
V_U43_V12         U43_SET1 GND 1
I_U43_I1         GND U43_N01530 DC -154.76uAdc  
R_U43_R1         GND U43_N16597888  100k TC=0,0 
X_U43_U630         U43_PWMOUT ECO U43_OVTP U43_N16596925 AND3_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U43_U603         N31372 U43_N16597888 CLK U43_SET1 U43_N16597049 U43_SET1
+  DFFSBRB_RHPBASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U47_S1    U47_N00162 GND U47_N16765742 VIN BOOT_UVLO_U47_S1 
E_U47_ABM1         U47_N16767461 0 VALUE { if(V(BOOT)-V(PH)>6,0,1)    }
E_U47_ABM2         BOOT_GATE 0 VALUE { if(V(BOOT)-V(PH)>2.1,1,0)    }
R_U47_R1         U47_N00162 U47_N16767461  1 TC=0,0 
D_U47_D58         U47_N16765742 BOOT D_D1 
C_U47_C1         0 U47_N00162  1n  
G_U42_ABMI4         VIN ISW VALUE { IF (V(U42_IN1)>0.5,I(V_U42_V11),0)    }
D_U42_D17         PH U42_N00836 D_D1 
X_U42_U10         N31372 U42_N14330317 U42_N14330309 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U42_S4    U42_N01674 GND U42_N01108 PH POWERSTAGE_U42_S4 
X_U42_U7         U42_N14330309 U42_N14330333 ideal_diode PARAMS:
V_U42_V12         U42_N14378229 GND 0.8Vdc
E_U42_ABM10         U42_N14379753 0 VALUE { IF (V(VREF_GM) >=V(U42_N14378229)
+  ,1,0)    }
V_U42_V11         U42_N00718 GND DC 0Vdc AC 0Vac 
X_U42_S3    U42_N01108 PH U42_N00836 PH POWERSTAGE_U42_S3 
X_U42_S2    U42_N01674 GND BOOT U42_N01108 POWERSTAGE_U42_S2 
X_U42_U9         N31372 U42_N14330317 INV_DELAY_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5 DELAY=10n
X_U42_U12         U42_N14330333 U42_N14379753 U42_N14374249 AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
D_U42_D58         U42_IN1 U42_N01674 D_D1 
R_U42_R35         U42_N01674 U42_IN1  7.215  
R_U42_R34         U42_N14330333 U42_N14330309  135.7  
X_U42_U16         N31372 U42_N14374249 U42_N01674 OR2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
C_U42_C57         GND U42_N14330333  1n  
C_U42_C58         GND U42_IN1  1n  
X_U42_F2    VIN U42_N00836 VIN U42_N00718 POWERSTAGE_U42_F2 
.IC         V(SS )={STEADY}
.ENDS TPS54332_TRANS
*$
.subckt SOFT_START_U48_S6 1 2 3 4  
S_U48_S6         3 4 1 2 _U48_S6
RS_U48_S6         1 2 1G
.MODEL         _U48_S6 VSWITCH Roff=1e9 Ron=2e3 Voff=0.2 Von=0.8
.ends SOFT_START_U48_S6
*$
.subckt SLOPECOMP_U45_S5 1 2 3 4  
S_U45_S5         3 4 1 2 _U45_S5
RS_U45_S5         1 2 1G
.MODEL         _U45_S5 VSWITCH Roff=1e6 Ron=1.0 Voff=0.2 Von=0.8
.ends SLOPECOMP_U45_S5
*$
.subckt MODULATOR2_U43_F1 1 2 3 4  
F_U43_F1         3 4 VF_U43_F1 -42e3
VF_U43_F1         1 2 0V
.ends MODULATOR2_U43_F1
*$
.subckt BOOT_UVLO_U47_S1 1 2 3 4  
S_U47_S1         3 4 1 2 _U47_S1
RS_U47_S1         1 2 1G
.MODEL         _U47_S1 VSWITCH Roff=1e9 Ron=10 Voff=0.6 Von=0.8
.ends BOOT_UVLO_U47_S1
*$
.subckt POWERSTAGE_U42_S4 1 2 3 4  
S_U42_S4         3 4 1 2 _U42_S4
RS_U42_S4         1 2 1G
.MODEL         _U42_S4 VSWITCH Roff=9.7 Ron=1e9 Voff=0.2 Von=0.8
.ends POWERSTAGE_U42_S4
*$
.subckt POWERSTAGE_U42_S3 1 2 3 4  
S_U42_S3         3 4 1 2 _U42_S3
RS_U42_S3         1 2 1G
.MODEL         _U42_S3 VSWITCH Roff=1e9 Ron=80m Voff=0.5 Von=2
.ends POWERSTAGE_U42_S3
*$
.subckt POWERSTAGE_U42_S2 1 2 3 4  
S_U42_S2         3 4 1 2 _U42_S2
RS_U42_S2         1 2 1G
.MODEL         _U42_S2 VSWITCH Roff=1e9 Ron=12 Voff=0.2 Von=0.8
.ends POWERSTAGE_U42_S2
*$
.subckt POWERSTAGE_U42_F2 1 2 3 4  
F_U42_F2         3 4 VF_U42_F2 1
VF_U42_F2         1 2 0V
.ends POWERSTAGE_U42_F2
*$
.subckt d_d      1    2
d1 1 2  dd
.model dd d
+ is=1e-015
+ n=0.16
+ cjo=1e-012
+ tt=1e-011
.ends d_d
*$
.subckt d_d2      1    2
d1 1 2  dd
.model dd d
+ is=1e-015
+ n=0.001
+ cjo=1e-012
+ tt=1e-011
.ends d_d2
*$
.model D_D1 d
+ is=1e-015
+ tt=1e-011
+ n=0.1
*$
.subckt ideal_diode 1 2
d1 1 2 dd
.model dd d
+ is=1e-015
+ n=0.01
+ tt=1e-011
.ends ideal_diode
*$
.MODEL DI_B230A D  ( IS=7.98u RS=13.4m BV=30.0 IBV=500u
+ CJO=370p  M=0.333 N=1.13 TT=1.44n )
*$
.SUBCKT AND2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND2_BASIC_GEN
*$
.SUBCKT AND3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND3_BASIC_GEN
*$
.SUBCKT AND4_BASIC_GEN A B C D Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH} &
+ V(D) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND4_BASIC_GEN
*$
.SUBCKT NAND2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &
+ V(B) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NAND2_BASIC_GEN
*$
.SUBCKT NAND3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NAND3_BASIC_GEN
*$
.SUBCKT NAND4_BASIC_GEN A B C D Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH} &
+ V(D) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NAND4_BASIC_GEN
*$
.SUBCKT OR2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR2_BASIC_GEN
*$
.SUBCKT OR3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR3_BASIC_GEN
*$
.SUBCKT OR4_BASIC_GEN A B C D Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH} |
+ V(D) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR4_BASIC_GEN
*$
.SUBCKT NOR2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |
+ V(B) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR2_BASIC_GEN
*$
.SUBCKT NOR3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR3_BASIC_GEN
*$
.SUBCKT NOR4_BASIC_GEN A B C D Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH} |
+ V(D) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR4_BASIC_GEN
*$
.SUBCKT NOR5_BASIC_GEN A B C D E Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH} |
+ V(D) > {VTHRESH} |
+ V(E) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR5_BASIC_GEN
*$
.SUBCKT NOR6_BASIC_GEN A B C D E F Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH} |
+ V(D) > {VTHRESH} |
+ V(E) > {VTHRESH} |
+ V(F) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR6_BASIC_GEN
*$
.SUBCKT INV_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH} ,
+ {VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS INV_BASIC_GEN
*$
.SUBCKT XOR2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE  YINT 0 VALUE {{IF(V(A) > {VTHRESH}  ^
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS XOR2_BASIC_GEN
*$
.SUBCKT XNOR2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE  YINT 0 VALUE {{IF(V(A) > {VTHRESH}  ^
+ V(B) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS XNOR2_BASIC_GEN
*$
.SUBCKT MUX2_BASIC_GEN A B S Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE  YINT 0 VALUE {{IF(V(S) > {VTHRESH},
+ V(B),V(A))}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS MUX2_BASIC_GEN
*$
.SUBCKT INV_DELAY_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY = 10n
E_ABMGATE1    YINT1 0 VALUE {{IF(V(A) > {VTHRESH} ,
+ {VDD},{VSS})}}
RINT YINT1 YINT2 1
CINT YINT2 0 {DELAY*1.3}
E_ABMGATE2    YINT3 0 VALUE {{IF(V(YINT2) > {VTHRESH} ,
+ {VSS},{VDD})}}
RINT2 YINT3 Y 1
CINT2 Y 0 1n
.ENDS INV_DELAY_BASIC_GEN
*$
.SUBCKT BUF_DELAY_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY = 10n
E_ABMGATE1    YINT1 0 VALUE {{IF(V(A) > {VTHRESH} ,
+ {VDD},{VSS})}}
RINT YINT1 YINT2 1
CINT YINT2 0 {DELAY*1.3}
E_ABMGATE2    YINT3 0 VALUE {{IF(V(YINT2) > {VTHRESH} ,
+ {VDD},{VSS})}}
RINT2 YINT3 Y 1
CINT2 Y 0 1n
.ENDS BUF_DELAY_BASIC_GEN
*$
.SUBCKT BUF_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH} ,
+ {VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS BUF_BASIC_GEN
*$
.SUBCKT DFFSBRB_SHPBASIC_GEN Q QB CLK D RB SB PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X1 CLK CLKdel INV_DELAY_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 15n
X2 CLK CLKdel CLKint AND2_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
GQ 0 Qint VALUE = {IF(V(SB) < {VTHRESH},5,IF(V(RB)<{VTHRESH},-5, IF(V(CLKint)> {VTHRESH},
+ IF(V(D)> {VTHRESH},5,-5),0)))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS}
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_DELAY_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 20n
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr Qb 1
Cdummy1 Q 0 1nF
Cdummy2 QB 0 1nF
.IC V(Qint) {VSS}
.ENDS DFFSBRB_SHPBASIC_GEN
*$
.SUBCKT DFFSBRB_RHPBASIC_GEN Q QB CLK D RB SB PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X1 CLK CLKdel INV_DELAY_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 15n
X2 CLK CLKdel CLKint AND2_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
GQ 0 Qint VALUE = {IF(V(RB) < {VTHRESH},-5,IF(V(SB)< {VTHRESH},5, IF(V(CLKint)> {VTHRESH},
+ IF(V(D)> {VTHRESH},5,-5),0)))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 5
D_D11 0 Qint D_D1
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_DELAY_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 20n
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr Qb 1
Cdummy1 Q 0 1nF
Cdummy2 QB 0 1nF
.IC V(Qint) {VSS}
.ENDS DFFSBRB_RHPBASIC_GEN
*$
.SUBCKT COMP_BASIC_GEN INP INM Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5	
E_ABM Yint 0 VALUE {IF (V(INP) >
+ V(INM), {VDD},{VSS})}
R1 Yint Y 1
C1 Y 0 1n
.ENDS COMP_BASIC_GEN
*$
.SUBCKT COMPHYS_BASIC_GEN INP INM HYS OUT PARAMS: VDD=1 VSS=0 VTHRESH=0.5
EIN INP1 INM1 INP INM 1
EHYS INP1 INP2 VALUE { IF( V(1) > {VTHRESH},-V(HYS),0) }
EOUT OUT 0 VALUE { IF( V(INP2)>V(INM1), {VDD} ,{VSS}) }
R1 OUT 1 1
C1 1 0 5n
RINP1 INP1 0 1K
.ENDS COMPHYS_BASIC_GEN
*$
.SUBCKT COMPHYS2_BASIC_GEN INP INM HYS OUT PARAMS: VDD=1 VSS=0 VTHRESH=0.5	
+ T=10
EIN INP1 INM1 INP INM 1
EHYS INM2 INM1 VALUE { IF( V(1) > {VTHRESH},-V(HYS)/2,V(HYS)/2) }
EOUT OUT 0 VALUE { IF( V(INP1)>V(INM2), {VDD} ,{VSS}) }
R1 OUT 1 1
C1 1 0 {T*1e-9}
RINP1 INP1 0 10K
RINM2 INM2 0 10K
.ENDS COMPHYS2_BASIC_GEN
*$
.SUBCKT CESR IN OUT
+ PARAMs:  C=100u ESR=0.01 X=2 IC=0
C	IN 1  {C*X} IC={IC}
RESR	1 OUT {ESR/X}
.ENDS CESR
*$
.SUBCKT LDCR IN OUT
+ PARAMs:  L=1u DCR=0.01 IC=0
L	IN 1  {L} IC={IC}
RDCR	1 OUT {DCR}
.ENDS LDCR
*$