* PSpice Model Editor - Version 16.0.0

*$
*TPS51211
*****************************************************************************
* (C) Copyright 2011 Texas Instruments Incorporated. All rights reserved.                                            
*****************************************************************************
** This model is designed as an aid for customers of Texas Instruments.                                             
** TI and its licensors and suppliers make no warranties, either expressed                                           
** or implied, with respect to this model, including the warranties of                                                    
** merchantability or fitness for a particular purpose. The model is                                                      
** provided solely on an "as is" basis. The entire risk as to its quality                                                    
** and performance is with the customer                                                                                          
*****************************************************************************
*
** Released by: Analog eLab(TM) Design Center, Texas Instruments Inc.
* Part: TPS51211
* Date: 30MAR2011
* Model Type: Transient 
* Simulator: PSpice 
* Simulator Version: 16.0.0.p001
* EVM Order Number: 
* EVM Users Guide: 
* Datasheet: SLUSAA7 – NOVEMBER 2010
* Model Version: Final 1.00
*
*****************************************************************************
*
* Updates:
*
* Final 1.00
* Release to Web.
*
***************************************************************************
.SUBCKT TPS51211_TRANS EN SW VBST DRVH DRVL TST PGOOD VFB TRIP V5IN GND 
+ PARAMS: MODE=1
X_U243         BLNKM NCLB N11095242 OR
X_U210       N11743889 ENHI_TOGG BUFFER_PS PARAMS: VHI=1 VLO=0 VTHRESH=500E-3
+  TPLH=2n TPHL=20u TR=1E-9 TF=1E-9
E_ABM11         OCLHI 0 VALUE { if( V(OCLTHR)  
+ >V(LLO) ,1,0)   }
X_U288         UVLATCH SSEND UVP AND
X_U309         N11098932 N11100080 INV_PS PARAMS: VHI=1 VLO=0 VTHRESH=500E-3
+  TPLH=10n TPHL=1E-9 TR=1E-9 TF=1E-9
X_U246         N12239510 TBLNKB INVERTER
X_U269         LOW_READY LOW_DELAY ONB ZC NAND3_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
E_ABM9         LLO 0 VALUE { if( V(N11095018)>0.5,  
+ V(SW),  
+ V(GND) )  }
X_S12    DISCH GND SW GND TPS51211_TRANS_S12 
X_U282         HIDRIVE N11100818 N11102186 AND
V_V77         N11100662 GND 2.7
X_U298         N11095110 N128349621 INVERTER
R_R30         GND ENHI_TOGG  1Meg  
X_U18         N11095838 V5FILT d_d1 PARAMS:
X_U266         N11095332 ON TOS ENCIRD NAND3_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
C_C6         GND N12468488  2p IC=0 TC=0,0 
X_U305         DRVHPREBIAS QRMP N147294702 MONOPOS_PS PARAMS: PW=10n
X_U242         BLNKM N11098982 OCLDIS OR
X_U239         LUPB LOOPB INVERTER
X_U249         ON ONB INVERTER
X_U300         ONG N122824771 INV_PS PARAMS: VHI=1 VLO=0 VTHRESH=500E-3
+  TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
X_U289         PREBIAS LOW_READY SSENDSET UVP N11095236 NOR4
E_ABM2         SSEND 0 VALUE { if(V(N11095838)>0.699, 1,0)    }
R_R42         GND TST  1e11 TC=0,0 
R_R6         N12468488 N12468476  1.6Meg TC=0,0 
X_U284         LOWDRIVE N11098932 N11102096 AND
R_R20         GND ENPG  1e6  
R_R15         GND ENHI_TOGG  1E8  
X_U296         BLNKM TBLNKB N11102362 NAND2_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
X_U240         NCL NCLB INVERTER
E_ABM60         LOW_C 0 VALUE { if(V(VFB)>0.63,1,0)    }
X_U259         N11099406 OCLDIS OCLDIS ONS2 NAND3_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
X_U283         N11099756 N110964421 N111007581 AND
E_E8         GND VSEL GND SWAVG 1
X_U9      N13334713 N13334441 delay PARAMS: PARAMS: T={1000000/(1+ MODE*7)}
E_E7         RMPIN GND RMP GND 1
X_S9    L_PGOOD GND PGOOD GND TPS51211_TRANS_S9 
E_ABM12         NCL 0 VALUE { if( V(LLO)  
+ >V(N11099026) ,1,0)   }
X_U263         SSENDSET ENCIRD ENCIRD N11095132 NAND3_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
E_ABM28         N11095018 0 VALUE { if( V(SW)<0.5  
+ & V(ON)<0.5 ,1,0)   }
R_R31         GND N147294702  1e8 TC=0,0 
X_U276         OVP N11095236 LOWDRIVE OR
C_C7         GND SWAVG  2p IC=0 TC=0,0 
V_V87         N11099026 GND -5m
X_U270         N11098248 N110957122 ON1 NOR2
X_U204         N111007581 N11098252 BUFFER_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=20E-9 TPHL=2E-9 TR=1E-9 TF=1E-9
X_U578         N13334441 ENHI_TOGG UVLATCH N133343651 srlatchrhp_basic_gen
+  PARAMS: PARAMS: VDD=1 VSS=0 VTHRESH=.5
E_ABM19         N11101396 0 VALUE { if( V(N11100856)  
+ >V(TON) ,1,0)   }
X_U265         ON ONSET ONSET N11095332 NAND3_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
X_U576         DRVHPREBIAS N14723472 N14723546 PREBIAS srlatchrhp_basic_gen
+  PARAMS: PARAMS: VDD=1 VSS=0 VTHRESH=.5
X_U279         HIDRIVE N110964421 INVERTER
X_U277         ZC N11102690 N11102362 OR
E_ABM13         N13334699 0 VALUE { IF(V(VFB) > 0.84 &  
+ V(ENCIRD) >0.5,1,0)   }
G_ABMII1         V5FILT TRIP VALUE { if(V(ENCIRD)>0.5, 10u,0)    }
X_U271         HI_DEL N12277012 LOW_DELAY NOR2
R_R7         SWAVG N12468488  1.6Meg TC=0,0 
C_C4         GND TON  10p IC=0 TC=0,0 
X_U202         N110956321 N11100080 BUFFER_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=20E-9 TPHL=2E-9 TR=1E-9 TF=1E-9
X_U304         N128373031 DRH2 INVERTER
X_U280         LOWDRIVE N110956322 INVERTER
X_U248         HI_READY N12277012 INVERTER
X_U294         HI_READY ON ON1 NAND2_PS PARAMS: VHI=1 VLO=0 VTHRESH=500E-3
+  TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
X_U191     N11102570 N11101836 BUFFER_PS PARAMS: VHI=1 VLO=0 VTHRESH=500E-3
+  TPLH=2n TPHL=50n TR=1E-9 TF=1E-9
R_R32         GND QRMP  1e8 TC=0,0 
X_U573         N13334699 N13334507 BUF_DELAY_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=.5 DELAY=1u
X_U262         ZC N11095302 TBLNKB ENCIRD NAND3_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
R_R26         GND N133343651  1Meg  
X_U295         N11095154 HI_DEL HIDRIVE NAND2_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
R_R21         GND N11095838  10Meg  
E_ABM24         N11102216 0 VALUE { if(V(ENCIRD)>0.5,1,0)    }
X_S8    DRL2 GND DRVL GND TPS51211_TRANS_S8 
X_U220         N11579823 L_PGOOD INVERTER
G_ABM2I1         V5FILT TON VALUE { if(V(DQOS)<0.25, V(SW)/295K,0)    }
X_U292         N11098806 N128268531 INVERTER
X_U290         N11100080 N128251681 INVERTER
C_C8         GND RMP  4p IC=0 TC=0,0 
X_S6    DRH2 GND DRVH SW TPS51211_TRANS_S6 
G_ABMII3         V5FILT N11095838 VALUE { if(V(N11102216)>0.5, {.7u +
+  MODE*5u},0)    }
R_R18         V5IN V5FILT  3.32  
E_ABM14         ENCIR 0 VALUE { if( V(ENP)> 0.5 &  
+ V(V5INOK)>0.5,1,0)   }
X_U257         N11098890 LBB LBB ONS1 NAND3_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
E_ABM17         ENP 0 VALUE { if(V(EN)>1,1,0)    }
X_U203     N11102186 N11095110 BUFFER_PS PARAMS: VHI=1 VLO=0 VTHRESH=500E-3
+  TPLH=20E-9 TPHL=2E-9 TR=1E-9 TF=1E-9
R_R40         GND N14723472  1Meg  
X_U275         DRVOFF OVP HI_READY UVP HIDRIVE NOR4
E_ABM15         REFEFF 0 VALUE { V(VREFS)  
+ + V(RAMP)   }
E_ABM25         N13334713 0 VALUE { IF(V(VFB) < 0.49 &  
+ V(SSEND) >.5,1,0)   }
X_U274         ENCIRD DRVOFF INVERTER
R_R24         GND RMP  10Meg TC=0,0 
R_R22         GND SSEND  1Meg  
E_ABM31         N11579823 0 VALUE { if(V(AFTER_DELAY)>0.5,1,0)    }
X_U201     N11102096 N11098806 BUFFER_PS PARAMS: VHI=1 VLO=0 VTHRESH=500E-3
+  TPLH=20E-9 TPHL=2E-9 TR=1E-9 TF=1E-9
X_U308         N11100028 N11098806 INV_PS PARAMS: VHI=1 VLO=0 VTHRESH=500E-3
+  TPLH=10n TPHL=1E-9 TR=1E-9 TF=1E-9
X_U297         EN N11743889 ENHI_RECAL MONOPOS_PS PARAMS: PW=230u
X_U17         V5IN VBST d_d1 PARAMS:
E_ABM46         RAMP 0 VALUE { if(V(ENCIRD)>0.5,   
+ LIMIT((V(RMPIN)-0.007),-7m,3.5m),0)   }
X_U260         ONS2 N11099406 TBLNKB ENCIRD NAND3_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
X_U264       N11095132 SSENDSET N11095154 SSEND NAND3_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
X_U188         TBLNK N12239510 BUFFER_PS PARAMS: VHI=1 VLO=0 VTHRESH=500E-3
+  TPLH=2E-9 TPHL=30E-9 TR=1E-9 TF=1E-9
R_R5         N12468476 SW  1.6Meg TC=0,0 
G_ABM2I2         TON GND VALUE { if(V(DQOS) >.75, V(TON)/200,0)    }
C_C11         GND V5FILT  1u IC=0 
X_U299       N122824771 LOW_READY INV_PS PARAMS: VHI=1 VLO=0 VTHRESH=500E-3
+  TPLH=200n TPHL=10E-9 TR=1E-9 TF=1E-9
X_S7    DRL1 GND V5IN DRVL TPS51211_TRANS_S7 
X_U302         N128349621 DRH1 INVERTER
X_U258         ONS1 N11098890 TBLNKB ENCIRD NAND3_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
X_U245         N11098248 N11102690 INVERTER
R_R37         GND N14723546  1Meg  
E_ABM3         DRVHPREBIAS 0 VALUE { if(V(DRVH)>5,1,0)    }
R_R27         GND AFTER_DELAY  1e6  
X_U238         ENCIRD OCLHI N11098982 AND
X_S5    DRH1 GND VBST DRVH TPS51211_TRANS_S5 
X_U268         N11101694 ENCIRD ONG TBLNK NAND3_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
X_U575         N133366310 DISCH BUF_DELAY_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=.5 DELAY=0.5u
X_U261         N11095302 N11095242 N11095242 ZC NAND3_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
X_U574         N13334507 ENHI_TOGG OVLATCH N133344671 srlatchrhp_basic_gen
+  PARAMS: PARAMS: VDD=1 VSS=0 VTHRESH=.5
X_U281         DRVHPREBIAS N11101836 HI_DEL AND
G_G1         V5FILT GND ENCIR GND 350u
X_U307         N11100818 N11098252 INV_PS PARAMS: VHI=1 VLO=0 VTHRESH=500E-3
+  TPLH=10n TPHL=1E-9 TR=1E-9 TF=1E-9
E_ABM10         LUPB 0 VALUE { if( V(REFEFF)  
+ >V(VFB) ,1,0)   }
X_U208         ENCIR ENCIRD BUFFER_PS PARAMS: VHI=1 VLO=0 VTHRESH=500E-3
+  TPLH=250u TPHL=2E-9 TR=1E-9 TF=1E-9
X_U267         TBLNK N11101694 TOS TOS NAND3_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
X_U278         HI_READY N11102570 INVERTER
E_ABM29         ENPG 0 VALUE { if( V(HIGH_C)>0.5  
+ & V(LOW_C)>0.5   
+ & V(SSEND)>0.5, 1, 0)  }
X_U16         TRIP V5FILT d_d1 PARAMS:
X_U303         N11098252 N128373031 INVERTER
E_ABM20         ONS3 0 VALUE { if( V(SWAVG)  
+ >V(N11100662) ,1,0)   }
R_R14         GND ENHI_RECAL  1E8  
R_R25         GND N133344671  1Meg  
R_R23         GND TON  10Meg TC=0,0 
G_ABMII2         V5FILT RMP VALUE { if(V(ENCIRD)>0.5, 8.75n,0)    }
X_U216         N11101396 ENCIRD N11102424 AND
X_U8         ENPG AFTER_DELAY delay PARAMS: PARAMS: T={1000000/(1+ MODE*7)}
X_U193         HI_READY DQOS BUFFER_PS PARAMS: VHI=1 VLO=0 VTHRESH=500E-3
+  TPLH=2E-9 TPHL=2E-9 TR=1E-9 TF=1E-9
E_E5         GND OCLTHR GND TRIP -0.125
E_ABM52         N133366310 0 VALUE { if( V(OVP)>.5 |  
+ V(UVP) >.5 |  
+ V(ENCIR) <1.6,1,0)  }
X_S11    QRMP GND RMP GND TPS51211_TRANS_S11 
X_U247         LOW_READY N110957122 INVERTER
X_U192         DRVL N11098248 BUFFER_PS PARAMS: VHI=1 VLO=0 VTHRESH=2.5
+  TPLH=2E-9 TPHL=2E-9 TR=1E-9 TF=1E-9
X_U287         OVLATCH ENCIRD OVP AND
X_S10    N11102216 GND N11095838 GND TPS51211_TRANS_S10 
V_V82         N11100856 VSEL 70m
X_U241         BLNKM LOOPB LBB OR
X_U15          V5IN V5INOK COMP_HYS2 PARAMS:  TH=4.2 HYS=.3
X_U306      N11099756 N11095110 INV_PS PARAMS: VHI=1 VLO=0 VTHRESH=500E-3
+  TPLH=10n TPHL=1E-9 TR=1E-9 TF=1E-9
X_U293         N128268531 DRL1 INVERTER
X_U285         N11100028 N110956322 N110956321 AND
E_ABM21         VREFS 0 VALUE { if(V(N11095838)>0.7, 0.7, V(N11095838))    }
C_C3         GND N11095838  1n IC=0 TC=0,0 
X_U291         N128251681 DRL2 INVERTER
E_ABM59         HIGH_C 0 VALUE { if(V(VFB)<0.805,1,0)    }
C_C5         GND N12468476  2p IC=0 TC=0,0 
X_U217         DQOS N11102424 TOS OR
X_U142         ONSET ONS3 ONS1 ONS2 TBLNK OR4_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
R_R29         GND ENHI_TOGG  1Meg  
.ENDS
*$
.subckt TPS51211_TRANS_S12 1 2 3 4  
S_S12         3 4 1 2 _S12
RS_S12         1 2 1G
.MODEL         _S12 VSWITCH Roff=1e11 Ron=50 Voff=.4 Von=.6
.ends TPS51211_TRANS_S12
*$
.subckt TPS51211_TRANS_S9 1 2 3 4  
S_S9         3 4 1 2 _S9
RS_S9         1 2 1G
.MODEL         _S9 VSWITCH Roff=1e6 Ron=1.0 Voff=0.25 Von=0.75
.ends TPS51211_TRANS_S9
*$
.subckt TPS51211_TRANS_S8 1 2 3 4  
S_S8         3 4 1 2 _S8
RS_S8         1 2 1G
.MODEL         _S8 VSWITCH Roff=1e11 Ron=0.5 Voff=.25 Von=.75
.ends TPS51211_TRANS_S8
*$
.subckt TPS51211_TRANS_S6 1 2 3 4  
S_S6         3 4 1 2 _S6
RS_S6         1 2 1G
.MODEL         _S6 VSWITCH Roff=1e11 Ron=0.7 Voff=.25 Von=.75
.ends TPS51211_TRANS_S6
*$
.subckt TPS51211_TRANS_S7 1 2 3 4  
S_S7         3 4 1 2 _S7
RS_S7         1 2 1G
.MODEL         _S7 VSWITCH Roff=1e11 Ron=1 Voff=.25 Von=.75
.ends TPS51211_TRANS_S7
*$
.subckt TPS51211_TRANS_S5 1 2 3 4  
S_S5         3 4 1 2 _S5
RS_S5         1 2 1G
.MODEL         _S5 VSWITCH Roff=1e11 Ron=1.5 Voff=.25 Von=.75
.ends TPS51211_TRANS_S5
*$
.subckt TPS51211_TRANS_S11 1 2 3 4  
S_S11         3 4 1 2 _S11
RS_S11         1 2 1G
.MODEL         _S11 VSWITCH Roff=1e11 Ron=1 Voff=.25 Von=.75
.ends TPS51211_TRANS_S11
*$
.subckt TPS51211_TRANS_S10 1 2 3 4  
S_S10         3 4 1 2 _S10
RS_S10         1 2 1G
.MODEL         _S10 VSWITCH Roff=1e11 Ron=10 Voff=.75 Von=.25
.ends TPS51211_TRANS_S10
*$
.SUBCKT AND A B OUT  
EOUT OUT1 0 VALUE { IF( V(A)>0.5 & V(B)>0.5,1,0) }
R1 OUT1 OUT 1
C1 OUT 0 10p
.ends AND
*$
.SUBCKT OR A B OUT  
EOUT OUT1 0 VALUE { IF( V(A)>0.5 | V(B)>0.5,1,0) }
R1 OUT1 OUT 1
C1 OUT 0 10p
.ends OR
*$
.SUBCKT NOR2 A B OUT  
EOUT OUT1 0 VALUE { IF( V(A)>0.5 | V(B)>0.5,0,1) }
R1 OUT1 OUT 1
C1 OUT 0 10p
.ends NOR2
*$
.SUBCKT NOR3 A B C OUT  
EOUT OUT1 0 VALUE { IF( V(A)>0.5 | V(B)>0.5 | V(C)>0.5,0,1) }
R1 OUT1 OUT 1
C1 OUT 0 10p
.ends NOR3
*$
.SUBCKT NOR4 A B C D OUT  
EOUT OUT1 0 VALUE { IF( V(A)>0.5 | V(B)>0.5 | V(C)>0.5 | V(D)>0.5,0,1) }
R1 OUT1 OUT 1
C1 OUT 0 10p
.ends NOR4
*$
.SUBCKT NAND3 A B C OUT  
EOUT OUT1 0 VALUE { IF( V(A)<0.5 & V(B)<0.5 & V(C)<0.5,1,0) }
R1 OUT1 OUT 1
C1 OUT 0 10p
.ends NAND3
*$
.SUBCKT NAND2 A B OUT  
EOUT OUT1 0 VALUE { IF( V(A)<0.5 & V(B)<0.5,1,0) }
R1 OUT1 OUT 1
C1 OUT 0 10p
.ends NAND2
*$
.SUBCKT AND3 A B C OUT  
EOUT OUT1 0 VALUE { IF( V(A)>0.5 & V(B)>0.5 & V(C)>0.5,1,0) }
R1 OUT1 OUT 1
C1 OUT 0 10p
.ends AND3
*$
.SUBCKT INVERTER IN OUT  
EOUT OUT1 0 VALUE { IF( V(IN)<0.5,1,0) }
R1 OUT1 OUT 1
C1 OUT 0 10p
.ends INVERTER
*$
.SUBCKT COMP_HYS2 INP OUT 
+ PARAMs:  TH=.5 HYS=0.1
EIN INP1 0 INP 0 1 
EHYS INP1 INP2 VALUE { IF( V(1)>0.5,-(HYS)/2,HYS/2) }
EOUT OUT 0 VALUE { IF( V(INP2)>TH,1,0) }
R1 OUT 1 1
C1 1 0 1n
RINP1 INP1 0 10K
.ends COMP_HYS2
*$
.SUBCKT DELAY IN OUT
+ PARAMs:  T=100
S_S1         MEAS 0 RESET2 0 S1
E_ABM1         CH 0 VALUE { if( V(IN)>0.5,1,0)    }
E_ABM3         OUT 0 VALUE { if( V(MEAS)>0.5 & V(CH)>0.5,1,0)    }
R_R1         MEAS CH  {T} 
C_C1         0 MEAS  1.4427n  
E_ABM2         RESET 0 VALUE { if(V(CH)<0.5,1,0)    }
R_R2         RESET2 RESET  0.1  
C_C2         0 RESET2  1.4427n  
.MODEL         S1 VSWITCH Roff=1e9 Ron=1.0 Voff=0.25V Von=0.75V
.ENDS DELAY
*$
.SUBCKT NAND3_PS Y A B C PARAMS: vhi=1 vlo=0 vthresh=500e-3
+ tplh=1e-9 tphl=1e-9 tr=1e-9 tf=1e-9
RA A 0 1e11
CA A 0 0.01pF
RB B 0 1e11
CB B 0 0.01pF
RC C 0 1e11
CC C 0 0.01pF
VS VSUP 0 DC 1
ENAND3 Ypp 0 VALUE={IF(V(A) > {vthresh} & V(B) > {vthresh} & V(C) >
+ {vthresh}, 0, 1)}
ROUTpp Ypp 0 1e11
XNSW1 OUTp Ypp 0 NSW_PS PARAMS: RONval={(tplh+1e-15)/(1e-12*0.693)}
+ VTHval=0.5
XPSW1 OUTp Ypp VSUP PSW_PS PARAMS: RONval={(tphl+1e-15)/(1e-12*0.693)}
+ VTHval=0.5
CDEL1 OUTp 0 1pF
ETHRESH Yp 0 VALUE={IF(V(OUTp) > 0.5, 1, 0)}
ROUTp Yp 0 1e11
XNSW2 OUTr Yp 0 NSW_PS PARAMS: RONval={(tf+1e-15)/(1e-12*2.3)} VTHval=0.5
XPSW2 OUTr Yp VSUP PSW_PS PARAMS: RONval={(tr+1e-15)/(1e-12*2.3)} VTHval=0.5
CDEL2 OUTr 0 1pF
EOUT OUTf 0 VALUE={V(OUTr)*({vhi} - {vlo})+{vlo}}
RDR OUTf Y  1000
RO Y 0 1e11
.ENDS NAND3_PS
*$
.SUBCKT BUFFER_PS A Y PARAMS: vhi=1 vlo=0 vthresh=500e-3 tplh=1e-9
+ tphl=1e-9 tr=1e-9 tf=1e-9
RA A 0 1e11
CA A 0 0.01pF
VS VSUP 0 DC 1
EBUF1 Ypp 0 VALUE={IF(V(A) > ({vthresh}), 1, 0)}
ROUTpp Ypp 0 1e11
XNSW1 OUTp Ypp 0 NSW_PS PARAMS: RONval={(tplh+1e-15)/(1e-12*0.693)}
+ VTHval=0.5
XPSW1 OUTp Ypp VSUP PSW_PS PARAMS: RONval={(tphl+1e-15)/(1e-12*0.693)}
+ VTHval=0.5
CDEL1 OUTp 0 1pF
ETHRESH Yp 0 VALUE={IF(V(OUTp) > 0.5, 1, 0)}
ROUTp Yp 0 1e11
** add rise and fall *****
XNSW2 OUTr Yp 0 NSW_PS PARAMS: RONval={(tf+1e-15)/(1e-12*2.3)} VTHval=0.5
XPSW2 OUTr Yp VSUP PSW_PS PARAMS: RONval={(tr+1e-15)/(1e-12*2.3)} VTHval=0.5
CDEL2 OUTr 0 1pF
EOUT OUTf 0 VALUE={V(OUTr)*({vhi} - {vlo})+{vlo}}
RDR OUTf Y  1000
RO Y 0 1e11
.ENDS BUFFER_PS
*$
.SUBCKT INV_PS Y A PARAMS: vhi=1 vlo=0 vthresh=500e-3
+ tplh=1e-9 tphl=1e-9 tr=1e-9 tf=1e-9
RA A 0 1e11
CA A 0 0.01pF
VS VSUP 0 DC 1
EINV1 Ypp 0 VALUE={IF(V(A) > ({vthresh}), 0, 1)}
ROUTpp Ypp 0 1e11
XNSW1 OUTp Ypp 0 NSW_PS PARAMS: RONval={(tplh+1e-15)/(1e-12*0.693)}
+ VTHval=0.5
XPSW1 OUTp Ypp VSUP PSW_PS PARAMS: RONval={(tphl+1e-15)/(1e-12*0.693)}
+ VTHval=0.5
CDEL1 OUTp 0 1pF
ETHRESH Yp 0 VALUE={IF(V(OUTp) > 0.5, 1, 0)}
ROUTp Yp 0 1e11
XNSW2 OUTr Yp 0 NSW_PS PARAMS: RONval={(tf+1e-15)/(1e-12*2.3)} VTHval=0.5
XPSW2 OUTr Yp VSUP PSW_PS PARAMS: RONval={(tr+1e-15)/(1e-12*2.3)} VTHval=0.5
CDEL2 OUTr 0 1pF
EOUT OUTf 0 VALUE={V(OUTr)*({vhi} - {vlo})+{vlo}}
RDR OUTf Y  1000
RO Y 0 1e11
.ENDS INV_PS
*$
.SUBCKT OR4_PS Y A B C D PARAMS: vhi=1 vlo=0 vthresh=500e-3 tplh=1e-9
+ tphl=1e-9 tr=1e-9 tf=1e-9
RA A 0 1e11
CA A 0 0.01pF
RB B 0 1e11
CB B 0 0.01pF
RC C 0 1e11
CC C 0 0.01pF
RD D 0 1e11
CD D 0 0.01pF
VS VSUP 0 DC 1
EOR4 Ypp 0 VALUE={IF(V(A) > {vthresh} | V(B) > {vthresh}  | V(C) >
+ {vthresh}  | V(D) > {vthresh}, 1, 0)}
ROUTpp Ypp 0 1e11
XNSW1 OUTp Ypp 0 NSW_PS PARAMS: RONval={(tplh+1e-15)/(1e-12*0.693)}
+ VTHval=0.5
XPSW1 OUTp Ypp VSUP PSW_PS PARAMS: RONval={(tphl+1e-15)/(1e-12*0.693)}
+ VTHval=0.5
CDEL1 OUTp 0 1pF
ETHRESH Yp 0 VALUE={IF(V(OUTp) > 0.5, 1, 0)}
ROUTp Yp 0 1e11
XNSW2 OUTr Yp 0 NSW_PS PARAMS: RONval={(tf+1e-15)/(1e-12*2.3)} VTHval=0.5
XPSW2 OUTr Yp VSUP PSW_PS PARAMS: RONval={(tr+1e-15)/(1e-12*2.3)} VTHval=0.5
CDEL2 OUTr 0 1pF
EOUT OUTf 0 VALUE={V(OUTr)*({vhi} - {vlo})+{vlo}}
RDR OUTf Y  1000
RO Y 0 1e11
.ENDS OR4_PS
*$
.SUBCKT NAND2_PS Y A B PARAMS: vhi=1 vlo=0 vthresh=500e-3
+ tplh=1e-9 tphl=1e-9 tr=1e-9 tf=1e-9
RA A 0 1e11
CA A 0 0.01pF
RB B 0 1e11
CB B 0 0.01pF
VS VSUP 0 DC 1
ENAND2 Ypp 0 VALUE={IF(V(A) > {vthresh} & V(B) > {vthresh}, 0, 1)}
ROUTpp Ypp 0 1e11
***** add delay lines ****
XNSW1 OUTp Ypp 0 NSW_PS PARAMS: RONval={(tplh+1e-15)/(1e-12*0.693)}
+ VTHval=0.5
XPSW1 OUTp Ypp VSUP PSW_PS PARAMS: RONval={(tphl+1e-15)/(1e-12*0.693)}
+ VTHval=0.5
CDEL1 OUTp 0 1pF
ETHRESH Yp 0 VALUE={IF(V(OUTp) > 0.5, 1, 0)}
ROUTp Yp 0 1e11
** add rise and fall *****
XNSW2 OUTr Yp 0 NSW_PS PARAMS: RONval={(tf+1e-15)/(1e-12*2.3)} VTHval=0.5
XPSW2 OUTr Yp VSUP PSW_PS PARAMS: RONval={(tr+1e-15)/(1e-12*2.3)} VTHval=0.5
CDEL2 OUTr 0 1pF
EOUT OUTf 0 VALUE={V(OUTr)*({vhi} - {vlo})+{vlo}}
RDR OUTf Y  1000
RO Y 0 1e11
.ENDS NAND2_PS
*$
.SUBCKT NSW_PS D G S PARAMS: RONval=10k VTHval=0.7 VCHARval=0.01
+ CGval=0.01pF CDval=0.01pF 
RDDUM D 0 1e11
RSDUM S 0 1e11
RGDUM G 0 1e11
CG G D {CGval}
CD D S {CDval}
EEXP F1 0 VALUE={LIMIT(((V(G,S)-VTHval)/VCHARval),-80,80)} 
GOUT D S VALUE={V(D,S)/(RONval*(1+EXP(-LIMIT(((V(G,S)-VTHval)/VCHARval)
+,-80,80))))}
.ENDS NSW_PS
*$
.SUBCKT PSW_PS D G S PARAMS: RONval=10k VTHval=0.7 VCHARval=0.01
+ CGval=0.01pF CDval=0.01pF 
RDDUM D 0 1e11
RSDUM S 0 1e11
RGDUM G 0 1e11
CG G D {CGval}
CD D S {CDval}
EEXP F1 0 VALUE={LIMIT(((V(S,G)-VTHval)/VCHARval),-80,80)} 
GOUT S D VALUE={V(S,D)/(RONval*(1+EXP(-LIMIT(((V(S,G)-VTHval)/VCHARval)
+,-80,80))))}
.ENDS PSW_PS
*$
.SUBCKT SRLATCHRHP_BASIC_GEN S R Q QB PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
Rs S 0 1e11
Rr R 0 1e11
GQ 0 Qint VALUE = {IF(V(R) > {VTHRESH},-5,IF(V(S)>{VTHRESH},5, 0))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 buffer_ps
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr QB 1 
Cdummy1 Q 0 10p 
Cdummy2 QB 0 10p
.IC V(Qint) {VSS}
.MODEL D_D1 D( IS=1e-15 TT=10p Rs=0.05 N=.1  )
.ENDS SRLATCHRHP_BASIC_GEN
*$
.SUBCKT D_D1 1 2
D1 1 2 DD1
.MODEL DD1 D( IS=1e-15 TT=10p Rs=0.05 N=.1  )
.ENDS D_D1
*$
.SUBCKT D_D2 1 2
D1 1 2 DD2
.MODEL DD2 D( IS=1e-15 TT=10p Rs=0.01 N=.01  )
.ENDS D_D2
*$
.SUBCKT BUF_DELAY_BASIC_GEN A  Y PARAMS: VDD=5 VSS=0 VTHRESH=2.5
+ DELAY = 10n 
E_ABMGATE1    YINT1 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT1 YINT2 1
CINT YINT2 0 {DELAY*1.3}
E_ABMGATE2    YINT3 0 VALUE {{IF(V(YINT2) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT2 YINT3 Y 1
CINT2 Y 0 1n
.ENDS BUF_DELAY_BASIC_GEN
*$
.SUBCKT MONOPOS_PS in Q Qn PARAMS: PW=250u 
VS VSUP 0 DC 1
r1 Q 0 1e11
GIN VSUP YA VALUE={IF(V(IN)>0.5, V(VSUP)/1000K, 0)}
GDIS YA 0 VALUE={IF(V(IN)>0.5,0, V(YA)/1m)}
CIN YA 0 1n IC=0
RIN YA 0 1e11
EABM1 YTD 0 VALUE={IF(V(YA)> {PW*1000}, 1, 0)}
RYTD YTD 0 1e11
EXOR P 0 VALUE={IF(V(YTD) > 0.5 ^ V(IN) > .5, 1, 0)}
ROUTpp2 P 0 1e11
EAND1 Q1 0 VALUE={ IF(V(P)>0.5 & V(IN)>0.5, 1, 0)}
Ro1 Q1 Q 1m
Co1 Q 0 1p
ROUT2 Q 0 1e11
EAND2 Qn1 0 VALUE={ IF(V(Q)>0.5, 0, 1)}
Ro2 Qn1 Qn 1m
Co2 Qn 0 1p
ROUT4 Qn 0 1e11
.ENDS MONOPOS_PS
*$
.SUBCKT CESR IN OUT
+ PARAMs:  C=100u ESR=0.01 X=2 IC=0
C	IN 1  {C*X} IC={IC}
RESR	1 OUT {ESR/X}
.ENDS CESR
*$
.SUBCKT LDCR IN OUT
+ PARAMs:  L=1u DCR=0.01 IC=0
L	IN 1  {L} IC={IC}
RDCR	1 OUT {DCR}
.ENDS LDCR
*$
