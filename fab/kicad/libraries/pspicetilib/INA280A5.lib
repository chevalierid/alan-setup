* INA280A5
*****************************************************************************
* (C) Copyright 2019 Texas Instruments Incorporated. All rights reserved.   
*****************************************************************************
** This model is designed as an aid for customers of Texas Instruments.
** TI and its licensors and suppliers make no warranties, either expressed
** or implied, with respect to this model, including the warranties of
** merchantability or fitness for a particular purpose.  The model is
** provided solely on an "as is" basis.  The entire risk as to its quality
** and performance is with the customer
*****************************************************************************
*
* This model is subject to change without notice. Texas Instruments
* Incorporated is not responsible for updating this model.
*
*****************************************************************************
*
* Released by: Texas Instruments Inc.
* Part: INA280A5
* Date: 2021-04-12
* Model Type:  All-in-One
* Simulator: Cadence PSpice
* Simulator Version: 16.6
* Datasheet: SBOSA19 - October 2020
*
* Model Version: A
*
*****************************************************************************	
* MACRO-MODEL SIMULATED PARAMETERS:
*****************************************************************************
* AC PARAMETERS (Typical)
**********************
* CLOSED-LOOP OUTPUT IMPEDANCE VS. FREQUENCY (Zout vs. Freq.)
* CLOSED-LOOP GAIN VS. FREQUENCY  WITH RL, CL EFFECTS (Acl vs. Freq.)
* COMMON-MODE REJECTION RATIO VS. FREQUENCY (CMRR vs. Freq.)
* POWER SUPPLY REJECTION RATIO VS. FREQUENCY (PSRR vs. Freq.)
* INPUT VOLTAGE NOISE DENSITY VS. FREQUENCY (en vs. Freq.)
**********************
* DC PARAMETERS (Typical)
**********************
* INPUT COMMON-MODE VOLTAGE RANGE (Vcm)
* MINIMUM COMMON-MODE VOLTAGE VS. SUPPLY
* GAIN ERROR (Eg)
* INPUT BIAS CURRENT VS. INPUT COMMON-MODE VOLTAGE (Ib vs. Vcm)
* INPUT BIAS CURRENT VS. SENSE VOLTAGE (Ib vs. Vsense)
* INPUT OFFSET VOLTAGE VS. TEMPERATURE (Vos vs. Temp)
* OUTPUT VOLTAGE SWING vs. OUTPUT CURRENT (Vout vs. Iout)
* SHORT-CIRCUIT OUTPUT CURRENT (Isc)
* QUIESCENT CURRENT (Iq)
**********************
* TRANSIENT PARAMETERS
**********************
* SLEW RATE (SR)
* OVERLOAD RECOVERY TIME (tor)
******************************************************
.SUBCKT INA280A5 IN+ IN- VS GND OUT
******************************************************
.MODEL R_NOISELESS RES (T_ABS=-273.15)
C_C10         GND N1567157  1E-15   
C_C11         N1567843 GND  1E-15   
C_C12         GND N1568505  1E-15   
C_C13         N1568585 GND  1E-15   
C_C14         GND N1565075  1E-15   
C_C15         N1565149 GND  1E-15   
C_C16         GND N1565479  1E-15   
C_C28         GND VIMON  11E-9   
C_C29         GND VOUT_S  0.5E-9   
C_C33         VS_B 0  1E-15   
C_C35         N1566583 GND  1E-15   
C_C36         GND N1569487  45P   
C_C7         N1565943 GND  1E-15   
C_C8         GND N1570089  1E-15   
C_C9         GND N1564649  1E-15   
C_CC         CLAMP GND  .794E-9   
E_E24         N1567379 N1565135 CMR GND -0.5
E_E25         N1566833 N1565639 CMR GND 0.5
E_E27         N1566839 N1566833 PSR GND 0.5
E_E28         N1567417 N1567379 PSR GND -0.5
E_E3         N1569241 GND OUT GND 1
G_G12         VSENSE GND CLAMP GND -1E-3
G_G15         CLAW_CLAMP GND N1916494 GND -1E-3
G_G16         CL_CLAMP GND CLAW_CLAMP GND -1E-3
G_G36         N1567483 0 VS 0 -1
G_G61         N1569161 GND GND IN- -1
G_G62         VICM GND IN+ N1569161 -0.5
G_G66         ACL GND CL_CLAMP GND -1
G_G8         VS_CLP GND N1570089 GND -1E-3
G_G9         GND_CLP GND N1564649 GND -1E-3
I_I_Q         VS GND DC 500E-6  
R_R107         N1567483 0 R_NOISELESS 1
R_R110         N1567483 VS_B R_NOISELESS 1E-3
R_R147         N1569161 GND R_NOISELESS 1
R_R148         VICM GND R_NOISELESS 1
R_R153         GND VCM_MIN R_NOISELESS 1E9
R_R154         VCM_MAX GND R_NOISELESS 1E9
R_R155         GND N1567177 R_NOISELESS 1
R_R156         N1566583 N1567177 R_NOISELESS 1E-3
R_R157         GND ACL R_NOISELESS 1
R_R158         N1565135 N1570299  6.6K TC=0,0 
R_R159         N1569487 VIMON  100 TC=0,0 
R_R27         GND N1565881 R_NOISELESS 1
R_R28         N1565943 N1565881 R_NOISELESS 1E-3
R_R29         N1570011 VS_B R_NOISELESS 1E3
R_R30         N1570089 N1570011 R_NOISELESS 1E-3
R_R31         VS_CLP GND R_NOISELESS 1E3
R_R32         N1564593 GND R_NOISELESS 1E3
R_R33         N1564649 N1564593 R_NOISELESS 1E-3
R_R34         GND_CLP GND R_NOISELESS 1E3
R_R35         GND VS_CLP R_NOISELESS 1E9
R_R36         N1567085 GND R_NOISELESS 1
R_R37         N1567157 N1567085 R_NOISELESS 1E-3
R_R38         N1567843 N1567877 R_NOISELESS 1E-3
R_R39         GND N1567877 R_NOISELESS 1
R_R40         GND GND_CLP R_NOISELESS 1E9
R_R41         GND N1564459 R_NOISELESS 1E9
R_R42         N1568463 GND R_NOISELESS 1
R_R43         N1568505 N1568463 R_NOISELESS 1E-3
R_R44         N1568585 N1568617 R_NOISELESS 1E-3
R_R45         GND N1568617 R_NOISELESS 1
R_R46         GND N1564389 R_NOISELESS 1E9
R_R49         GND N1565365 R_NOISELESS 1E9
R_R50         N1565025 GND R_NOISELESS 1
R_R51         N1565075 N1565025 R_NOISELESS 1E-3
R_R52         N1565149 N1565167 R_NOISELESS 1E-3
R_R53         GND N1565167 R_NOISELESS 1
R_R54         GND N1565311 R_NOISELESS 1E9
R_R55         N1565479 VSENSE R_NOISELESS 1E-3
R_R60         GND AOL_1 R_NOISELESS 1E6
R_R61         GND CLAMP R_NOISELESS 1E6
R_R62         GND VSENSE R_NOISELESS 1E3
R_R65         GND CLAW_CLAMP R_NOISELESS 1E3
R_R66         GND CL_CLAMP R_NOISELESS 1E3
R_R81         GND N1568265 R_NOISELESS 1E9
R_R82         VIMON N1568265 R_NOISELESS 100
R_R83         GND N1569241 R_NOISELESS 1E9
R_R84         VOUT_S N1569241 R_NOISELESS 100
R_R_EGN         N1564907 ACL R_NOISELESS 1500
R_R_EGP         N1564483 GND R_NOISELESS 1500
R_R_FN         N1564615 N1564907 R_NOISELESS 500K
R_R_FP         N1566889 N1564483 R_NOISELESS 500K
R_R_IN         N1566583 N1564615 R_NOISELESS 1E3
R_R_INN         N1565135 IN- R_NOISELESS 1E-6
R_R_INP         N1570299 IN+ R_NOISELESS 1E-6
R_R_IP         N1565943 N1566889 R_NOISELESS 1E3
V_VCM_MAX         VCM_MAX GND 122
V_V_GRN         N1565311 GND -28.6
V_V_GRP         N1565365 GND 25.9
V_V_ISCN         N1564389 GND -22
V_V_ISCP         N1564459 GND 13
X_AOL_1         N1566889 N1564615 GND AOL_1 AOL_1 
X_AOL_2         AOL_1 GND GND CLAMP AOL_2_INA280A5 PARAMS:  GAIN=1E-2 IPOS=1.59E-3
+  INEG=-1.59E-3
X_CLAWN         GND N1569487 GND N1564593 CLAWN_INA280A5 
X_CLAWP         N1569487 GND N1570011 VS_B CLAWP_INA280A5 
X_CLAW_AMP         VS_CLP GND_CLP VOUT_S GND N1567085 N1567877 CLAMP_AMP_LO_INA280A5 
X_CLAW_SRC         N1567157 N1567843 CLAW_CLAMP GND CLAW_SRC_INA280A5 PARAMS:  GAIN=1
+  IPOS=5.18E-2 INEG=-5.72E-2
X_CL_AMP         N1564459 N1564389 VIMON GND N1568463 N1568617 CLAMP_AMP_LO_INA280A5 
X_CL_SRC         N1568505 N1568585 CL_CLAMP GND CL_SRC_INA280A5 PARAMS:  GAIN=1
+  IPOS=1.04E-1 INEG=-1.14E-1
X_GR_AMP         N1565365 N1565311 N1565479 GND N1565025 N1565167 CLAMP_AMP_HI_INA280A5 
X_GR_SRC         N1565075 N1565149 CLAMP GND GR_SRC_INA280A5 PARAMS:  GAIN=1
+  IPOS=3.18E-3 INEG=-3.18E-3
X_H3    OUT N1564479 N1568265 GND 08_COMPLETE_A5_H3_INA280A5 
X_IBN         N1565135 GND VICM IBN_INA280A5 
X_IBP         N1570299 GND VICM IBP_INA280A5 
X_PZ1_17         N1802691 GND N1802699 GND GND PZ1_INA280A5 PARAMS:  GAIN=1 FP=7K
+  FZ=200K R=1E4
X_PZ1_18         N1802699 GND N1802705 GND GND PZ1_INA280A5 PARAMS:  GAIN=1 FP=8K
+  FZ=270K R=10E4
X_PZ1_20         N1802713 GND N1803033 GND GND PZ1_INA280A5 PARAMS:  GAIN=1 FP=3E6
+  FZ=10E6 R=1E7
X_PZ1_21         N1803033 GND N1803039 GND GND PZ1_INA280A5 PARAMS:  GAIN=1 FP=3E6
+  FZ=12E6 R=1E8
X_U3         N1799589 GND N1799595 GND GND ZP1_INA280A5 PARAMS:  GAIN=1 FP=30E3 FZ=40
+  R=1E8
X_U30         VICM GND N1799589 GND DC_REJ_SUB_INA280A5 PARAMS:  DC_REJ=140 R=1
X_U39         VS_B GND N1686813 GND DC_REJ_SUB_INA280A5 PARAMS:  DC_REJ=120 R=1
X_U4         N1799595 GND N1799601 GND GND ZP1_INA280A5 PARAMS:  GAIN=1 FP=8E6 FZ=25E3
+  R=1E8
X_U47         N1686813 GND N1686821 GND GND ZP1_INA280A5 PARAMS:  GAIN=1 FP=170K FZ=150
+  R=1E8
X_U48         N1686821 GND N1686827 GND GND ZP1_INA280A5 PARAMS:  GAIN=1 FP=190E3
+  FZ=38E3 R=1E8
X_U5         N1799601 GND CMR GND GND ZP1_INA280A5 PARAMS:  GAIN=1 FP=10E6 FZ=150E3
+  R=1E8
X_U55         N1686827 GND N1686833 GND GND ZP1_INA280A5 PARAMS:  GAIN=1 FP=10E6
+  FZ=800E3 R=1E8
X_U56         N1686833 GND PSR GND GND ZP1_INA280A5 PARAMS:  GAIN=1 FP=12E6 FZ=1.9E6
+  R=1E8
X_U59         VS_B GND VCM_MIN GND VCM_MIN_VAR_INA280A5 
X_U84         VSENSE GND N1565567 GND P1_INA280A5 PARAMS:  GAIN=1 FP=3.1E6 R=1E6
X_U85         N1565567 GND N1914237 GND P1_INA280A5 PARAMS:  GAIN=1 FP=3.2E6 R=1E6
X_U86         N1914237 GND N1913799 GND P1_INA280A5 PARAMS:  GAIN=1 FP=3.4E6 R=1E6
X_U87         N1913799 GND N1917374 GND P1_INA280A5 PARAMS:  GAIN=1 FP=3.7E6 R=1E6
X_U88         N1917374 GND N1916027 GND P1_INA280A5 PARAMS:  GAIN=1 FP=3.8E6 R=1E6
X_U89         N1916027 GND N1916494 GND P1_INA280A5 PARAMS:  GAIN=1 FP=4E6 R=1E6
X_U90         N1802705 GND N1802713 GND GND ZP1_INA280A5 PARAMS:  GAIN=1 FP=2E6 FZ=300K
+  R=50E4
X_U91         N1570299 GND N1570299 N1565135 IBP_SENSE_INA280A5 PARAMS:  RSENSE=1996
X_VCM_CLAMPN         N1567417 GND N1567177 GND VCM_MAX VCM_MIN VCM_CLAMP_INA280A5 
X_VCM_CLAMPP         N1566839 GND N1565881 GND VCM_MAX VCM_MIN VCM_CLAMP_INA280A5 
X_VNOISE         N1565263 N1565639 VNOISE_INA280A5 PARAMS:  NV=38
X_VOS_DRIFT         N1565263 N1570299 VOS_DRIFT_INA280A5 PARAMS:  DC=3.2E-6 DRIFT=1E-6
+  POL=1
X_ZOUT_DC_SUB3         ACL N1803045 N1802691 N1564479 GND ZOUT_DC_SUB_INA280A5 PARAMS: 
+  ZOUT_DC=0.103 ZOUT_MAX=300
X_ZP1LIM7         N1803039 GND N1803045 GND GND ZP1LIM_INA280A5 PARAMS:  GAIN=1 FZ=12E6
+  FP=1E11 R=1E12 IPOS=7.8E2 INEG=-1.32E3
.ENDS  INA280A5
*
.SUBCKT 08_COMPLETE_A5_H3_INA280A5 1 2 3 4  
H_H3         3 4 VH_H3 -1E3
VH_H3         1 2 0V
.ENDS  08_COMPLETE_A5_H3_INA280A5
*
.SUBCKT AOL_1 VC+ VC- IOUT+ IOUT-
+ PARAMS:
+ GAIN = 1E-4
+ IPOS = .5
+ INEG = -.5
G1 IOUT+ IOUT- VALUE={LIMIT(GAIN*V(VC+,VC-),INEG,IPOS)}
.ENDS  AOL_1
*
.SUBCKT AOL_2_INA280A5 VC+ VC- IOUT+ IOUT-
+ PARAMS:
+ GAIN = 1E-2
+ IPOS = 2.66E-02
+ INEG = -2.66E-02
G1 IOUT+ IOUT- VALUE={LIMIT(GAIN*V(VC+,VC-),INEG,IPOS)}
.ENDS  AOL_2_INA280A5
*
.SUBCKT CLAMP_AMP_HI_INA280A5 VC+ VC- VIN COM VO+ VO-
.PARAM G = 10
GVO+ COM VO+ VALUE = {IF(V(VIN,COM)>V(VC+,COM),((V(VIN,COM)-V(VC+,COM))*G),0)}
GVO- COM VO- VALUE = {IF(V(VIN,COM)<V(VC-,COM),((V(VC-,COM)-V(VIN,COM))*G),0)}
.ENDS  CLAMP_AMP_HI_INA280A5
*
.SUBCKT CLAMP_AMP_LO_INA280A5 VC+ VC- VIN COM VO+ VO-
.PARAM G = 1
GVO+ COM VO+ VALUE = {IF(V(VIN,COM)>V(VC+,COM),((V(VIN,COM)-V(VC+,COM))*G),0)}
GVO- COM VO- VALUE = {IF(V(VIN,COM)<V(VC-,COM),((V(VC-,COM)-V(VIN,COM))*G),0)}
.ENDS  CLAMP_AMP_LO_INA280A5
*
.SUBCKT CLAWN_INA280A5 VC+ VC- IOUT+ IOUT-
G1 IOUT+ IOUT- TABLE {ABS(V(VC+,VC-))} =
+(0, 14E-6)
+(1.26, 1E-4)
+(2.3, 1.8E-4)
+(5, 3.93E-4)
+(10.6, 8.6E-4)
+(15, 1.27E-3)
+(17.6, 1.546E-3)
+(20.3, 1.88E-3)
+(23.1, 2.29E-3)
.ENDS  CLAWN_INA280A5
*
.SUBCKT CLAWP_INA280A5 VC+ VC- IOUT+ IOUT-
G1 IOUT+ IOUT- TABLE {ABS(V(VC+,VC-))}
+(0, 7E-5)
+(0.76169, 1.5E-4)
+(1.13016, 1.6E-4)
+(1.669, 2.19E-4)
+(2.96314, 3.93E-4)
+(4.301, 5.81E-4)
+(6.14937, 8.6E-4)
+(8.5746, 1.27E-3)
+(11.3559, 1.88E-3)
+(13, 2.29E-3)
.ENDS  CLAWP_INA280A5
*
.SUBCKT CLAW_SRC_INA280A5 VC+ VC- IOUT+ IOUT-
+ PARAMS:
+ GAIN = 1
+ IPOS = 7E-2
+ INEG = -8.8E-2
G1 IOUT+ IOUT- VALUE={LIMIT(GAIN*V(VC+,VC-),INEG,IPOS)}
.ENDS  CLAW_SRC_INA280A5
*
.SUBCKT CL_SRC_INA280A5 VC+ VC- IOUT+ IOUT-
+ PARAMS:
+ GAIN = 1
+ IPOS = 1.4E-1
+ INEG = -1.76E-1
G1 IOUT+ IOUT- VALUE={LIMIT(GAIN*V(VC+,VC-),INEG,IPOS)}
.ENDS  CL_SRC_INA280A5
*
.SUBCKT DC_REJ_SUB_INA280A5 VC+ VC- OUT+ OUT-
+ PARAMS:
+ DC_REJ = 120
+ R = 1
.MODEL R_NOISELESS RES (T_ABS=-273.15)
.PARAM GG1 = {PWR(10, (-(DC_REJ)/20))}
G1 OUT- OUT+ VC+ VC- {GG1}
R1 OUT+ OUT- R_NOISELESS  {R}
.ENDS  DC_REJ_SUB_INA280A5
*
.SUBCKT GR_SRC_INA280A5 VC+ VC- IOUT+ IOUT-
+ PARAMS:
+ GAIN = 1
+ IPOS = 5.32E-2
+ INEG = -5.32E-2
G1 IOUT+ IOUT- VALUE={LIMIT(GAIN*V(VC+,VC-),INEG,IPOS)}
.ENDS  GR_SRC_INA280A5
*
.SUBCKT IBN_INA280A5 VINN GND CM_IN
G1 VINN GND TABLE {(V(CM_IN,GND))} =
+(1, 225E-9)
+(3.5, 19.975E-6)
.ENDS  IBN_INA280A5
*
.SUBCKT IBP_INA280A5 VINP GND CM_IN
G1 VINP GND TABLE {(V(CM_IN,GND))} =
+(1, 200E-9)
+(3.5, 20E-6)
.ENDS  IBP_INA280A5
*
.SUBCKT IBP_SENSE_INA280A5 VINP GND IB+ IB-
+ PARAMS:
+ RSENSE = 23847
G1 VINP GND VALUE={(V(IB+, GND)-V(IB-,GND))/RSENSE}
.ENDS  IBP_SENSE_INA280A5
*
.SUBCKT P1_INA280A5 VC+ VC- OUT+ OUT-
+ PARAMS: 
+ GAIN = 1
+ FP = 1
+ R = 1E6
.MODEL R_NOISELESS RES (T_ABS=-273.15)
.PARAM CC1 = {1/(6.2831853 * FP * R)}
.PARAM GG1 = {GAIN / R}
G1 OUT- OUT+ VC+ VC- {GG1}
R1 OUT+ OUT- R_NOISELESS {R}
C1 OUT+ OUT- {CC1}
.ENDS  P1_INA280A5
*
.SUBCKT PZ1_INA280A5 VC+ VC- OUT+ OUT- 1
+ PARAMS: 
+ GAIN = 1
+ FP = 1E3
+ FZ = 1E4
+ R = 1E6
.MODEL R_NOISELESS RES (T_ABS=-273.15)
.PARAM CC1 = {1/(6.2831853 * FZ * R)}
.PARAM RR1 = {(1/(6.2831853 * FP * CC1)) - R}
C1 2 1 {CC1}
G1 OUT- OUT+ 3 1 {GAIN}
R1 VC+ 3 R_NOISELESS {RR1}
R2 3 2 R_NOISELESS {R}
R3 OUT+ OUT- R_NOISELESS 1
.ENDS  PZ1_INA280A5
*
.SUBCKT VCM_CLAMP_INA280A5 VIN+ VIN- IOUT- IOUT+ VP+ VP-
.PARAM GAIN = 1
G1 IOUT+ IOUT- VALUE={LIMIT(GAIN*V(VIN+,VIN-),V(VP-,VIN-), V(VP+,VIN-))}
.ENDS  VCM_CLAMP_INA280A5
*
.SUBCKT VCM_MIN_VAR_INA280A5 VS_IN GND VCM_ACTUAL GND
E1 VCM_ACTUAL GND TABLE {ABS(V(VS_IN,GND))} =
+(2.7, 2.50)
+(5, 2.58)
+(7.5, 3.3)
+(8.75, 3.9)
+(13.75, 5.4)
+(20, 6.88)
.ENDS  VCM_MIN_VAR_INA280A5
*
.SUBCKT VNOISE_INA280A5 1 2
+ PARAMS:
+ NV = 1E3
.PARAM RNV={1.184*PWR(NV,2)}
R4 5 0 {RNV}
R5 5 0 {RNV}
E3 1 2 5 0 10
.ENDS  VNOISE_INA280A5
*
.SUBCKT VOS_DRIFT_INA280A5 VOS+ VOS-
+ PARAMS:
+ DC = 20E-6
+ DRIFT = 1E-6
+ POL = 1
E1 VOS+ VOS- VALUE={DC+POL*DRIFT*(TEMP-27)}
.ENDS  VOS_DRIFT_INA280A5
*
.SUBCKT ZOUT_DC_SUB_INA280A5 INA INB OUTA OUTB COM
+ PARAMS:
+ ZOUT_DC = 1
+ ZOUT_MAX = 1E3
.MODEL R_NOISELESS RES (T_ABS=-273.15)
.PARAM BETA = 1
.PARAM RDUMMY = {10*ZOUT_MAX}
.PARAM RX = {100*ZOUT_MAX}
.PARAM G1 = {RX/(ZOUT_DC*BETA)}
G1 COM OUTA INA OUTB {G1}
R1 OUTA COM R_NOISELESS 1
RDUMMY OUTB COM R_NOISELESS {RDUMMY}
RX INB OUTB R_NOISELESS {RX}
.ENDS  ZOUT_DC_SUB_INA280A5
*
.SUBCKT ZP1_INA280A5 VC+ VC- OUT+ OUT- 1
+ PARAMS:
+ GAIN = 1
+ FZ = 1E3
+ FP = 1E4
+ R = 1E6
.MODEL R_NOISELESS RES (T_ABS=-273.15)
.PARAM GG1 = {GAIN * FP/FZ}
.PARAM CC1 = {1/(6.2831853 * FZ * R)}
.PARAM RR1 = {R/(FP/FZ - 1)}
C1 VC+ 2 {CC1}
G1 OUT- OUT+ 2 1 {GG1}
R1 VC+ 2 R_NOISELESS {R}
R2 2 1 R_NOISELESS {RR1}
R3 OUT+ OUT- R_NOISELESS 1
.ENDS  ZP1_INA280A5
*
.SUBCKT ZP1LIM_INA280A5 VC+ VC- OUT+ OUT- 1
+ PARAMS:
+ GAIN = 1
+ FZ = 1E3
+ FP = 1E4
+ R = 1E6
+ IPOS = 1.72E3
+ INEG = -2.9E3
.MODEL R_NOISELESS RES (T_ABS=-273.15)
.PARAM GG1 = {GAIN * FP/FZ}
.PARAM CC1 = {1/(6.2831853 * FZ * R)}
.PARAM RR1 = {R/(FP/FZ - 1)}
C1 VC+ 2 {CC1}
G1 OUT- OUT+ VALUE={LIMIT(GG1 * V(2, 1), INEG, IPOS)}
R1 VC+ 2 R_NOISELESS {R}
R2 2 1 R_NOISELESS {RR1}
R3 OUT+ OUT- R_NOISELESS 1
.ENDS  ZP1LIM_INA280A5
*