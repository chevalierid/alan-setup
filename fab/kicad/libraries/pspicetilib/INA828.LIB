*$
* INA828
*****************************************************************************
* (C) Copyright 2022 Texas Instruments Incorporated. All rights reserved.                                            
*****************************************************************************
** This model is designed as an aid for customers of Texas Instruments.
** TI and its licensors and suppliers make no warranties, either expressed
** or implied, with respect to this model, including the warranties of 
** merchantability or fitness for a particular purpose.  The model is
** provided solely on an "as is" basis.  The entire risk as to its quality
** and performance is with the customer
*****************************************************************************
*
* This model is subject to change without notice. Texas Instruments
* Incorporated is not responsible for updating this model.
*
*****************************************************************************
*
** Released by: Online Design Tools, Texas Instruments Inc.
* Part: INA828
* Date: 09DEC2022
* Model Type: Generic (suitable for all analysis types)
* EVM Order Number: N/A 
* EVM Users Guide:  N/A 
* Datasheet: SBOS792A –AUGUST 2017–REVISED JANUARY 2018 
* Created with Green-Williams-Lis Op Amp Macro-model Architecture
*
* Model Version: Final 1.4
*
*****************************************************************************
*
* Final 1.4
* 1. Updated PSpice symbol.
* 2. Updated C3 Capacitor from 1F to 100N to fix Non-Convergence issue.
*
* Final 1.3
* Updated with unique subckt name, Vos drift and edits in claw block
*
* Final 1.2
* Release to Web.
*
*****************************************************************************
* Model Usage Notes:
* 1. The following parameters are modeled: 
* 		OPEN-LOOP GAIN AND PHASE VS. FREQUENCY  WITH RL, CL EFFECTS (Aol)
* 		UNITY GAIN BANDWIDTH (GBW)
* 		INPUT COMMON-MODE REJECTION RATIO VS. FREQUENCY (CMRR)
* 		POWER SUPPLY REJECTION RATIO VS. FREQUENCY (PSRR)
* 		DIFFERENTIAL INPUT IMPEDANCE (Zid)
* 		COMMON-MODE INPUT IMPEDANCE (Zic)
* 		OPEN-LOOP OUTPUT IMPEDANCE VS. FREQUENCY (Zo)
* 		OUTPUT CURRENT THROUGH THE SUPPLY (Iout)
* 		INPUT VOLTAGE NOISE DENSITY VS. FREQUENCY (en)
* 		INPUT CURRENT NOISE DENSITY VS. FREQUENCY (in)
* 		OUTPUT VOLTAGE SWING vs. OUTPUT CURRENT (Vo)
* 		SHORT-CIRCUIT OUTPUT CURRENT (Isc)
* 		QUIESCENT CURRENT (Iq)
* 		SETTLING TIME VS. CAPACITIVE LOAD (ts)
* 		SLEW RATE (SR)
* 		SMALL SIGNAL OVERSHOOT VS. CAPACITIVE LOAD
* 		LARGE SIGNAL RESPONSE
* 		OVERLOAD RECOVERY TIME (tor)
* 		INPUT BIAS CURRENT (Ib)
* 		INPUT OFFSET CURRENT (Ios)
* 		INPUT OFFSET VOLTAGE (Vos)
* 		INPUT OFFSET VOLTAGE VS. TEMPERATURE (VOS DRIFT)
* 		INPUT COMMON-MODE VOLTAGE RANGE (Vcm)
* 		INPUT OFFSET VOLTAGE VS. INPUT COMMON-MODE VOLTAGE (Vos vs. Vcm)
* 		INPUT/OUTPUT ESD CELLS (ESDin, ESDout)
*****************************************************************************
.SUBCKT INA828 IN+ IN- VCC VEE OUT REF RG+ RG-
*****************************************************************************
C_CMN N010 MID 10E-12 
C_CMN3 N081 MID 1E-12 
C_CMP MID N003 10E-12 
C_CMP3 MID N072 1E-12 
C_DIFF N003 N010 1E-12 
C_DIFF3 N072 N081 1E-12 
C1 N053 N052 1.592E-8 
C2 MID N064 3.316E-15 
C3 N134 0 100N 
C4 N133 0 1E-15 
C5 N135 0 1E-15 
C6 INP MID 1E-15 
C7 INN MID 1E-15 
C9 VIMON1 MID 1E-9 
C10 N068 MID 1.45E-6 
C13 N069 MID 3.54E-14 
C14 N070 MID 1.59E-14 
C15 N071 MID 1.59E-14 
C17 VIMON2 MID 1E-9 
C18 N128 MID 1.45E-6 
C21 N129 MID 3.54E-14 
C22 N130 MID 1.59E-14 
C23 N131 MID 1.59E-14 
C24 N076 MID 1E-15 
C25 MID N023 1E-15 
C26 N038 MID 1E-15 
C27 VOUT_S3 MID 1E-9 
C28 N036 MID 1E-15 
C29 MID N027 1E-15 
C30 N034 MID 1E-15 
C31 MID N025 1E-15 
C32 SW_OL3 MID 1E-12 
C33 VIMON3 MID 1E-9 
C34 MID N032 1E-15 
C35 N040 MID 1E-15 
C36 MID N030 1E-15 
C37 MID VCLP3 1E-9 
C38 CLAMP3 MID 650E-9 
C39 N103 MID 1E-12 
C40 N109 MID 1E-12 
C41 N061 N060 1.447E-16 
C42 N087 N086 4.75E-9 
C43 MID N104 6.77E-15 
C44 N098 N097 1.872E-16 
C45 MID N105 7.96E-17 
C46 MID N106 7.96E-17 
C47 MID N099 3.537E-16 
C48 N089 MID 4.97E-15 
C49 N090 MID 1.59E-15 
C50 N017 N018 2.122E-8 
C51 N015 N016 2.122E-8 
C52 N029 N028 1.326E-9 
C53 MID N065 2.122E-16 
C54 MID N066 2.122E-16 
C55 N113 N112 1.592E-8 
C56 MID N124 3.316E-15 
C57 N121 N120 1.447E-16 
C58 MID N125 2.122E-16 
C59 MID N126 2.122E-16 
C60 INN_A1 NODE1 3.5E-12 
C61 INN_A2 NODE2 3.5E-12 
C64 OUT_A3 INN_A3 7.5E-14 
C65 REF INP_A3 1E-15 
E3 N132 0 N134 0 1
E6 N110 MID CL_CLAMP3 MID 1
E7 N083 MID OUT_A3 MID 1
G1 0 VCC_B VCC 0 1
G2 0 VEE_B VEE 0 1
G4 MID N052 N071 N063 88.496
G5 MID N069 N068 MID 1E-6
G6 MID N070 N069 MID 1E-6
G7 MID N071 N070 MID 1E-6
G9 MID N112 N131 N123 88.496
G10 MID N129 N128 MID 1E-6
G11 MID N130 N129 MID 1E-6
G12 MID N131 N130 MID 1E-6
G13 N049 N050 N019 N029 1E-3
G14 MID VCC_CLP3 N023 MID 1E-3
G15 MID VEE_CLP3 N038 MID 1E-3
G16 MID CLAW_CLAMP3 N090 MID 1E-3
G17 MID CL_CLAMP3 CLAW_CLAMP3 MID 1E-3
G18 MID VSENSE3 CLAMP3 MID 1E-3
G19 MID N042 N041 MID 1
G20 MID N045 N046 MID 1
G21 MID N086 CL_CLAMP3 N101 88.496
G22 MID N091 N087 MID 6.866
G23 MID N084 VSENSE3 MID 1
G24 MID N089 N088 MID 1E-6
G25 MID N090 N089 MID 1E-6
G26 MID N016 N017 MID 1
G27 MID N019 N015 MID 326.667
G28 MID N018 VCC_B MID 163.35E-6
G29 MID N028 VEE_B MID 0.05
G30 MID N054 N053 MID 18
G31 MID N062 N061 MID 9090.91
G32 MID N114 N113 MID 18
G33 MID N122 N121 MID 9090.91
GB1 MID N093 N092 MID 1
GB2 MID N088 N085 MID 1
GB3 MID N056 N055 MID 1
GB4 MID N116 N115 MID 1
GC1 MID N095 N094 MID 1
GC2 MID N097 N096 MID 1
GC3 MID N058 N057 MID 1
GC4 MID N060 N059 MID 1
GC5 MID N118 N117 MID 1
GC6 MID N120 N119 MID 1
GM1 INN_A1 RG- INN RG- 1.33E-3
GM2 INN_A2 RG+ INP RG+ 1.33E-3
H1 N051 MID V1 1E3
H2 N111 MID V2 1E3
H3 N082 MID V3 1E3
H4 N102 MID V4 -1
H5 N108 MID V5 1
I_B N004 MID 0.15E-9
I_OS N011 MID 1E-15
I_Q VCC VEE 600E-6
ISINK1 RG- VEE_B 24E-6
ISINK2 RG+ VEE_B 24E-6
R1 INN_A3 NODE1 R_NOISELESS 40E3 
R2 OUT_A3 INN_A3 R_NOISELESS 40E3 
R3 INP_A3 NODE2 R_NOISELESS 40E3 
R4 REF INP_A3 R_NOISELESS 40000.8 
R5 N134 0 R_NOISELESS 1E9 
R6 VCC_B N133 R_NOISELESS 1E-3 
R7 N135 VEE_B R_NOISELESS 1E-3 
R8 N133 N134 R_NOISELESS 1E6 
R9 N134 N135 R_NOISELESS 1E6 
R10 VCC_B 0 R_NOISELESS 1 
R11 VEE_B 0 R_NOISELESS 1 
R12 N005 N006 R_NOISELESS 1E-3 
R13 N012 N013 R_NOISELESS 1E-3 
R14 MID N002 R_NOISELESS 1E9 
R15 N007 MID R_NOISELESS 1E9 
R16 IN+ N003 R_NOISELESS 10E-3 
R17 IN- N010 R_NOISELESS 10E-3 
R18 MID N003 R_NOISELESS 1E12 
R19 N010 MID R_NOISELESS 1E12 
R20 N001 MID R_NOISELESS 1 
R21 N001 INP R_NOISELESS 1E-3 
R22 MID N009 R_NOISELESS 1E9 
R23 N014 MID R_NOISELESS 1E9 
R24 N008 MID R_NOISELESS 1 
R25 N008 INN R_NOISELESS 1E-3 
R26 MID N051 R_NOISELESS 1E9 
R29 VIMON1 N051 R_NOISELESS 100 
R31 N067 MID R_NOISELESS 1E6 
R32 N068 MID R_NOISELESS 1E6 
R39 N052 N053 R_NOISELESS 1E8 
R40 N069 MID R_NOISELESS 1E6 
R41 N070 MID R_NOISELESS 1E6 
R42 N071 MID R_NOISELESS 1E6 
R43 MID N111 R_NOISELESS 1E9 
R46 VIMON2 N111 R_NOISELESS 100 
R48 N127 MID R_NOISELESS 1E6 
R49 N128 MID R_NOISELESS 1E6 
R56 N112 N113 R_NOISELESS 1E8 
R57 N129 MID R_NOISELESS 1E6 
R58 N130 MID R_NOISELESS 1E6 
R59 N131 MID R_NOISELESS 1E6 
R60 N049 N074 R_NOISELESS 1E-3 
R61 N080 N081 R_NOISELESS 1E-3 
R62 MID N078 R_NOISELESS 1E9 
R63 N079 MID R_NOISELESS 1E9 
R64 N075 MID R_NOISELESS 1 
R65 N075 N076 R_NOISELESS 1E-3 
R66 MID N082 R_NOISELESS 1E9 
R67 MID N083 R_NOISELESS 1E9 
R68 VCC_B N022 R_NOISELESS 1E3 
R69 N037 VEE_B R_NOISELESS 1E3 
R70 VEE_CLP3 MID R_NOISELESS 1E3 
R71 MID VCC_CLP3 R_NOISELESS 1E3 
R72 N023 N022 R_NOISELESS 1E-3 
R73 N038 N037 R_NOISELESS 1E-3 
R74 VOUT_S3 N083 R_NOISELESS 100 
R75 N047 MID R_NOISELESS 1E9 
R76 N035 MID R_NOISELESS 1 
R77 MID N026 R_NOISELESS 1 
R78 MID N020 R_NOISELESS 1E9 
R79 VEE_CLP3 MID R_NOISELESS 1E9 
R80 N033 MID R_NOISELESS 1 
R81 MID N024 R_NOISELESS 1 
R82 MID VCC_CLP3 R_NOISELESS 1E9 
R83 N024 N025 R_NOISELESS 1E-3 
R84 N034 N033 R_NOISELESS 1E-3 
R85 N026 N027 R_NOISELESS 1E-3 
R86 N036 N035 R_NOISELESS 1E-3 
R87 N107 MID R_NOISELESS 1 
R88 N107 SW_OL3 R_NOISELESS 100 
R89 VIMON3 N082 R_NOISELESS 100 
R90 INP_A3 N072 R_NOISELESS 10E-3 
R91 INN_A3 N081 R_NOISELESS 10E-3 
R92 N039 MID R_NOISELESS 1 
R93 N048 MID R_NOISELESS 1E9 
R94 MID N031 R_NOISELESS 1 
R95 MID N021 R_NOISELESS 1E9 
R96 N031 N032 R_NOISELESS 1E-3 
R97 N040 N039 R_NOISELESS 1E-3 
R98 VSENSE3 N030 R_NOISELESS 1E-3 
R99 MID VSENSE3 R_NOISELESS 1E3 
R100 MID CLAW_CLAMP3 R_NOISELESS 1E3 
R101 MID CL_CLAMP3 R_NOISELESS 1E3 
R102 N110 VCLP3 R_NOISELESS 100 
R103 MID N072 R_NOISELESS 1E12 
R104 N081 MID R_NOISELESS 1E12 
R105 N050 N049 R_NOISELESS 1E3 
R106 N077 MID R_NOISELESS 1E6 
R107 CLAMP3 MID R_NOISELESS 1E6 
R108 N042 MID R_NOISELESS 1 
R109 N045 MID R_NOISELESS 1 
R110 N103 N102 R_NOISELESS 100 
R111 N108 N109 R_NOISELESS 100 
R112 N086 N087 R_NOISELESS 1E8 
R113 N087 MID R_NOISELESS 1.705E7 
R114 N091 MID R_NOISELESS 1 
R115 N091 N092 R_NOISELESS 1.47E8 
R116 N092 N104 R_NOISELESS 1E8 
R117 N097 N098 R_NOISELESS 1E8 
R118 N098 MID R_NOISELESS 8500.72 
R119 N100 MID R_NOISELESS 1 
R120 N093 MID R_NOISELESS 1 
R121 N093 N094 R_NOISELESS 3E8 
R122 N094 N105 R_NOISELESS 1E8 
R123 N095 MID R_NOISELESS 1 
R124 N095 N096 R_NOISELESS 3E8 
R125 N096 N106 R_NOISELESS 1E8 
R126 N097 MID R_NOISELESS 1 
R127 N084 N085 R_NOISELESS 7.31E7 
R128 N085 N099 R_NOISELESS 1E8 
R129 N084 MID R_NOISELESS 1 
R130 N088 MID R_NOISELESS 1 
R131 N089 MID R_NOISELESS 1E6 
R132 N090 MID R_NOISELESS 1E6 
R133 N017 MID R_NOISELESS 30.71 
R134 N017 N018 R_NOISELESS 1E4 
R135 N015 N016 R_NOISELESS 1E4 
R136 N015 MID R_NOISELESS 30.71 
R137 N029 MID R_NOISELESS 1000.01 
R138 N029 N028 R_NOISELESS 1E8 
R139 N053 MID R_NOISELESS 5.882E6 
R140 N054 MID R_NOISELESS 1 
R141 N054 N055 R_NOISELESS 6.273E8 
R142 N055 N064 R_NOISELESS 1E8 
R143 N060 N061 R_NOISELESS 1E8 
R144 N061 MID R_NOISELESS 11001.2 
R145 N062 MID R_NOISELESS 1 
R146 N056 MID R_NOISELESS 1 
R147 N056 N057 R_NOISELESS 2.713E8 
R148 N057 N065 R_NOISELESS 1E8 
R149 N058 MID R_NOISELESS 1 
R150 N058 N059 R_NOISELESS 2.713E8 
R151 N059 N066 R_NOISELESS 1E8 
R152 N060 MID R_NOISELESS 1 
R153 N113 MID R_NOISELESS 5.882E6 
R154 N114 MID R_NOISELESS 1 
R155 N114 N115 R_NOISELESS 6.273E8 
R156 N115 N124 R_NOISELESS 1E8 
R157 N120 N121 R_NOISELESS 1E8 
R158 N121 MID R_NOISELESS 11001.2 
R159 N122 MID R_NOISELESS 1 
R160 N116 MID R_NOISELESS 1 
R161 N116 N117 R_NOISELESS 2.713E8 
R162 N117 N125 R_NOISELESS 1E8 
R163 N118 MID R_NOISELESS 1 
R164 N118 N119 R_NOISELESS 2.713E8 
R165 N119 N126 R_NOISELESS 1E8 
R166 N120 MID R_NOISELESS 1 
R168 OUT OUT_A3 R_NOISELESS 1E-2 
RB1 VCC_B INN_A1 R_NOISELESS 41.67E3 
RB2 VCC_B INN_A2 R_NOISELESS 41.67E3 
RDC1 N052 MID R_NOISELESS 1 
RDC2 N112 MID R_NOISELESS 1 
RDC3 N086 MID R_NOISELESS 1 
RDUMMY1 N063 MID R_NOISELESS 1E4 
RDUMMY2 N123 MID R_NOISELESS 1E4 
RDUMMY3 N101 MID R_NOISELESS 1E4 
RF1 NODE1 RG- R_NOISELESS 25E3 
RF2 NODE2 RG+ R_NOISELESS 25E3 
RMID N132 MID R_NOISELESS 1E-2 
RSRC1 N018 MID R_NOISELESS 1 
RSRC2 N016 MID R_NOISELESS 1 
RSRC3 N019 MID R_NOISELESS 1 
RSRC4 N028 MID R_NOISELESS 1 
RX1 N063 N062 R_NOISELESS 1E5 
RX2 N123 N122 R_NOISELESS 1E5 
RX3 N101 N100 R_NOISELESS 1E5 
S1 N087 N086 SW_OL3 MID OL_SW
S2 N044 CLAMP3 CLAMP3 N044 OR_SW
S3 CLAMP3 N043 N043 CLAMP3 OR_SW
S4 VCC N003 N003 VCC ESD_SW
S5 VCC N010 N010 VCC ESD_SW
S6 N003 VEE VEE N003 ESD_SW
S7 N010 VEE VEE N010 ESD_SW
S8 VCC OUT OUT VCC ESD_SW
S9 OUT VEE VEE OUT ESD_SW
S10 VCC REF REF VCC ESD_SW
S11 REF VEE VEE REF ESD_SW
S12 VCC RG- RG- VCC ESD_SW
S13 RG- VEE VEE RG- ESD_SW
S14 VCC RG+ RG+ VCC ESD_SW
S15 RG+ VEE VEE RG+ ESD_SW
V_GRN3 N048 MID -54
V_GRP3 N021 MID 54
V_ISCN3 N047 MID -18
V_ISCP3 N020 MID 18
V_ORN3 N041 VCLP3 -0.65
V_ORP3 N046 VCLP3 0.45
V_OSN N012 N011 0
V1 N063 NODE1 0
V2 N123 NODE2 0
V3 N101 OUT_A3 0
V4 N043 N042 0
V5 N044 N045 0
VB VCC_B INP_A2 1
VCM_MAX1 N078 VCC_B -2
VCM_MAXN N009 VCC_B -2
VCM_MAXP N002 VCC_B -2
VCM_MIN1 N079 VEE_B 2
VCM_MINN N014 VEE_B 2
VCM_MINP N007 VEE_B 2
XCL_AMP3 N020 N047 VIMON3 MID N026 N035 CLAMP_AMP_LO_INA828
XCL_SRC3 N027 N036 CL_CLAMP3 MID VCCS_LIM_4_OUT_INA828
XCLAW_AMP3 VCC_CLP3 VEE_CLP3 VOUT_S3 MID N024 N033 CLAMP_AMP_LO_INA828
XCLAW_SRC3 N025 N034 CLAW_CLAMP3 MID VCCS_LIM_3_OUT_INA828
XCLAWN3 MID VIMON3 VEE_B N037 VCCS_LIM_CLAWN_OUT_INA828
XCLAWP3 VIMON3 MID N022 VCC_B VCCS_LIM_CLAWP_OUT_INA828
XE_N3 N072 N073 VNSE_OUT_INA828
XE_NN N010 N011 VNSE_IN_INA828
XE_NP N003 N004 VNSE_IN_INA828
XGR_AMP3 N021 N048 N030 MID N031 N039 CLAMP_AMP_HI_INA828
XGR_SRC3 N032 N040 CLAMP3 MID VCCS_LIM_GR_OUT_INA828
XI_NN N011 MID FEMT_INA828
XI_NP N004 MID FEMT_INA828
XIQN1 MID VIMON1 MID VEE VCCS_LIM_IQ_INA828
XIQN2 MID VIMON2 MID VEE VCCS_LIM_IQ_INA828
XIQN3 MID VIMON3 MID VEE VCCS_LIM_IQ_INA828
XIQP1 VIMON1 MID VCC MID VCCS_LIM_IQ_INA828
XIQP2 VIMON2 MID VCC MID VCCS_LIM_IQ_INA828
XIQP3 VIMON3 MID VCC MID VCCS_LIM_IQ_INA828
XOL_SENSE3 MID N107 N103 N109 OL_SENSE_OUT_INA828
XV_OS3 N074 N073 VOS_DRIFT_OUT_INA828
XV_OSP N005 N004 VOS_DRIFT_IN_INA828
XVCCS_LIM_1_INA828 INP_A2 INN_A1 MID N067 VCCS_LIM_1_INA828
XVCCS_LIM_2 N067 MID MID N068 VCCS_LIM_2_IN_INA828
XVCCS_LIM_3 INP_A2 INN_A2 MID N127 VCCS_LIM_1_INA828
XVCCS_LIM_4 N127 MID MID N128 VCCS_LIM_2_IN_INA828
XVCCS_LIM_5 N076 N080 MID N077 VCCS_LIM_1_INA828
XVCCS_LIM_6 N077 MID MID CLAMP3 VCCS_LIM_2_OUT_INA828
XVCCS_LIM_ZO3 N098 MID MID N100 VCCS_LIM_ZO_OUT_INA828
XVCM_CLAMP3 N050 MID N075 MID N078 N079 VCCS_EXT_LIM_INA828
XVCM_CLAMPN N013 MID N008 MID N009 N014 VCCS_EXT_LIM_INA828
XVCM_CLAMPP N006 MID N001 MID N002 N007 VCCS_EXT_LIM_INA828
.MODEL ESD_SW VSWITCH(Ron=50 Roff=1e12 Von=500e-3 Voff=100e-3)
.MODEL OL_SW VSWITCH(Ron=1e-3 Roff=1e9 Von=900e-3 Voff=800e-3)
.MODEL OR_SW VSWITCH(Ron=10e-3 Roff=1e9 Von=10e-3 Voff=0)
.MODEL R_NOISELESS RES(T_ABS=-273.15)
.ENDS INA828
*
.SUBCKT VOS_DRIFT_IN_INA828 VOS+ VOS-
.PARAM DC = 20E-6
.PARAM POL = 1
.PARAM DRIFT = 0.5E-06
E1 VOS+ VOS- VALUE={DC+POL*DRIFT*(TEMP-27)}
.ENDS VOS_DRIFT_IN_INA828
*
.SUBCKT VOS_DRIFT_OUT_INA828 VOS+ VOS-
.PARAM DC = 10.09E-6
.PARAM POL = 1
.PARAM DRIFT = 2.5E-06
E1 VOS+ VOS- VALUE={DC+POL*DRIFT*(TEMP-27)}
.ENDS VOS_DRIFT_OUT_INA828
*
.SUBCKT FEMT_INA828 1 2
.param FLWF=1
.param NLFF=250
.param NVRF=175
.param GLFF={PWR(FLWF,0.25)*NLFF/1164}
.param RNVF={1.184*PWR(NVRF,2)}
.MODEL DVNF D KF={PWR(FLWF,0.5)/1E11} IS=1.0E-16
I1 0 7 10e-3
I2 0 8 10e-3
D1 7 0 DVNF
D2 8 0 DVNF
E1 3 6 7 8 {GLFF}
R1 3 0 1e9
R2 3 0 1e9
R3 3 6 1e9
E2 6 4 5 0 10
R4 5 0 {RNVF}
R5 5 0 {RNVF}
R6 3 4 1e9
R7 4 0 1e9
G1 1 2 3 4 1e-6
.ENDS FEMT_INA828
*
.SUBCKT VNSE_IN_INA828 1 2
.param FLW=1
.param NLF=4
.param NVR=4.3
.param GLF={PWR(FLW,0.25)*NLF/1164}
.param RNV={1.184*PWR(NVR,2)}
.MODEL DVN D KF={PWR(FLW,0.5)/1E11} IS=1.0E-16
I1 0 7 10E-3
I2 0 8 10E-3
D1 7 0 DVN
D2 8 0 DVN
E1 3 6 7 8 {GLF}
R1 3 0 1E9
R2 3 0 1E9
R3 3 6 1E9
E2 6 4 5 0 10
R4 5 0 {RNV}
R5 5 0 {RNV}
R6 3 4 1E9
R7 4 0 1E9
E3 1 2 3 4 1
.ENDS VNSE_IN_INA828
*
.SUBCKT VCCS_EXT_LIM_INA828 VIN+ VIN- IOUT- IOUT+ VP+ VP-
.param Gain = 1
G1 IOUT+ IOUT- VALUE={LIMIT(Gain*V(VIN+,VIN-),V(VP-,VIN-), V(VP+,VIN-))}
.ENDS VCCS_EXT_LIM_INA828
*
.SUBCKT CLAMP_AMP_HI_INA828 VC+ VC- VIN COM VO+ VO-
.param G=10
GVo+ COM Vo+ Value = {IF(V(VIN,COM)>V(VC+,COM),((V(VIN,COM)-V(VC+,COM))*G),0)}
GVo- COM Vo- Value = {IF(V(VIN,COM)<V(VC-,COM),((V(VC-,COM)-V(VIN,COM))*G),0)}
.ENDS CLAMP_AMP_HI_INA828
*
.SUBCKT VCCS_LIM_3_IN_INA828 VC+ VC- IOUT+ IOUT-
.param Gain = 1
.param Ipos = 1
.param Ineg = -1
G1 IOUT+ IOUT- VALUE={LIMIT(Gain*V(VC+,VC-),Ineg,Ipos)}
.ENDS VCCS_LIM_3_IN_INA828
*
.SUBCKT VCCS_LIM_IQ_INA828 VC+ VC- IOUT+ IOUT-
.param Gain = 1e-3
G1 IOUT+ IOUT- VALUE={IF((V(VC+,VC-)<=0),0,Gain*V(VC+,VC-))}
.ENDS VCCS_LIM_IQ_INA828
*
.SUBCKT CLAMP_AMP_LO_INA828 VC+ VC- VIN COM VO+ VO-
.param G=1
GVo+ COM Vo+ Value = {IF(V(VIN,COM)>V(VC+,COM),((V(VIN,COM)-V(VC+,COM))*G),0)}
GVo- COM Vo- Value = {IF(V(VIN,COM)<V(VC-,COM),((V(VC-,COM)-V(VIN,COM))*G),0)}
.ENDS CLAMP_AMP_LO_INA828
*
.SUBCKT VCCS_LIM_1_INA828 VC+ VC- IOUT+ IOUT-
.param Gain = 1e-4
.param Ipos = .5
.param Ineg = -.5
G1 IOUT+ IOUT- VALUE={LIMIT(Gain*V(VC+,VC-),Ineg,Ipos)}
.ENDS VCCS_LIM_1_INA828
*
.SUBCKT VCCS_LIM_2_IN_INA828 VC+ VC- IOUT+ IOUT-
.param Gain = 0.1234
.param Ipos = 10
.param Ineg = -10
G1 IOUT+ IOUT- VALUE={LIMIT(Gain*V(VC+,VC-),Ineg,Ipos)}
.ENDS VCCS_LIM_2_IN_INA828
*
.SUBCKT OL_SENSE_OUT_INA828 1   2  3  4
GSW+ 1 2 Value = {IF((V(3,1)>10e-3 | V(4,1)>10e-3),1,0)}
.ENDS OL_SENSE_OUT_INA828
*
.SUBCKT VCCS_LIM_3_OUT_INA828 VC+ VC- IOUT+ IOUT-
.param Gain = 1
.param Ipos = 0.108
.param Ineg = -0.108
G1 IOUT+ IOUT- VALUE={LIMIT(Gain*V(VC+,VC-),Ineg,Ipos)}
.ENDS VCCS_LIM_3_OUT_INA828
*
.SUBCKT VCCS_LIM_4_OUT_INA828 VC+ VC- IOUT+ IOUT-
.param Gain = 1
.param Ipos = 0.216
.param Ineg = -0.216
G1 IOUT+ IOUT- VALUE={LIMIT(Gain*V(VC+,VC-),Ineg,Ipos)}
.ENDS VCCS_LIM_4_OUT_INA828
*
.SUBCKT VCCS_LIM_CLAWp_OUT_INA828 VC+ VC- IOUT+ IOUT-
G1 IOUT+ IOUT- TABLE {(V(VC+,VC-))} =
+(0, .15E-3)
+(11.02, 3.73e-4)
+(12.01, 4.02e-4)
+(13.04, 4.37e-4)
+(14, 4.72e-4)
+(14.99, 5.16e-4)
+(16.02, 5.69e-4)
+(16.49, 6.05e-4)
+(16.99, 6.57e-4)
+(18, 7.9e-4)
.ENDS VCCS_LIM_CLAWp_OUT_INA828
*
.SUBCKT VCCS_LIM_CLAWn_OUT_INA828 VC+ VC- IOUT+ IOUT-
G1 IOUT+ IOUT- TABLE {(V(VC+,VC-))} =
+(0, .15E-3)
+(10, 2.6e-4)
+(11.08, 2.9e-4)
+(12.01, 3.3e-4)
+(12.52, 3.6e-4)
+(13.01, 4e-4)
+(13.49, 4.88e-4)
+(14.02, 6.68e-4)
+(14.55, 9.96e-4)
+(18, 4e-3)
.ENDS VCCS_LIM_CLAWn_OUT_INA828
*
.SUBCKT VNSE_OUT_INA828 1 2
.param FLW=1
.param NLF=273
.param NVR=32
.param GLF={PWR(FLW,0.25)*NLF/1164}
.param RNV={1.184*PWR(NVR,2)}
.MODEL DVN D KF={PWR(FLW,0.5)/1E11} IS=1.0E-16
I1 0 7 10E-3
I2 0 8 10E-3
D1 7 0 DVN
D2 8 0 DVN
E1 3 6 7 8 {GLF}
R1 3 0 1E9
R2 3 0 1E9
R3 3 6 1E9
E2 6 4 5 0 10
R4 5 0 {RNV}
R5 5 0 {RNV}
R6 3 4 1E9
R7 4 0 1E9
E3 1 2 3 4 1
.ENDS VNSE_OUT_INA828
*
.SUBCKT VCCS_LIM_GR_OUT_INA828 VC+ VC- IOUT+ IOUT-
.param Gain = 1
.param Ipos = 1.62
.param Ineg = -1.62
G1 IOUT+ IOUT- VALUE={LIMIT(Gain*V(VC+,VC-),Ineg,Ipos)}
.ENDS VCCS_LIM_GR_OUT_INA828
*
.SUBCKT VCCS_LIM_2_OUT_INA828 VC+ VC- IOUT+ IOUT-
.param Gain =  0.1234
.param Ipos = 0.81
.param Ineg = -0.81
G1 IOUT+ IOUT- VALUE={LIMIT(Gain*V(VC+,VC-),Ineg,Ipos)}
.ENDS VCCS_LIM_2_OUT_INA828
*
.SUBCKT VCCS_LIM_ZO_OUT_INA828 VC+ VC- IOUT+ IOUT-
.param Gain = 11764.7
.param Ipos = 3.6e3
.param Ineg = -3.6e3
G1 IOUT+ IOUT- VALUE={LIMIT(Gain*V(VC+,VC-),Ineg,Ipos)}
.ENDS VCCS_LIM_ZO_OUT_INA828
*
