* DRV8874
*****************************************************************************
* (C) Copyright 2018 Texas Instruments Incorporated. All rights reserved.
*****************************************************************************
** This model is designed as an aid for customers of Texas Instruments.
** TI and its licensors and suppliers make no warranties, either expressed
** or implied, with respect to this model, including the warranties of
** merchantability or fitness for a particular purpose. The model is
** provided solely on an "as is" basis. The entire risk as to its quality
** and performance is with the customer.
*****************************************************************************
*
** Released by: WEBENCH Design Center, Texas Instruments Inc.
* Part: DRV8874
* Date: 14MAY2018
* Model Type: Transient
* Simulator: PSPICE
* Simulator Version: 16.2.0.s003
* EVM Order Number:
* EVM Users Guide:
* Datasheet:
*
* Model Version: Final 1.00
*
*****************************************************************************
*
* Updates:
*
* Final 1.00
* Release to Web
*
*****************************************************************************
* Model Usage Notes:
*
* A. Features that have been modelled
*	1. Control Mode
*	2. Current Senses
*	3. Current Chopping Mode
*	4. Over Current Respond
*	5. Rds
*	6. UVLO, Logic Level, Tri-Level Logic, Quad-Level Logic
*	
*
* B. Model Limitations and Features that haven't been modelled
*	1. Thermal operation and quiscent current are not modelled   
*   2. Charge pump operation
*
*****************************************************************************
*$
.SUBCKT DRV8874_TRANS CPH CPL EN_IN1 GND IMODE IPROPI nFAULT nSLEEP OUT1 OUT2 PGND PAD
+  PH_IN2 PMODE VCP VM VREF  
R_R9         GND CPH  1MEG TC=0,0 
R_R4         GND PMODE  44k TC=0,0 
X_S1    FAULT 0 nFAULT GND DRV8874_S1 
X_U_ISENSE_U50         U_ISENSE_N376760 RETRY U_ISENSE_N269698 AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_ISENSE_U38         U_ISENSE_TOFF U_ISENSE_TOFF_DEL BUF_DELAY_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY=2u
V_U_ISENSE_V1         U_ISENSE_V1V 0 1Vdc
X_U_ISENSE_U23         U_ISENSE_N156704 U_ISENSE_N157536 U_ISENSE_CUR_TRIP
+  OR2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_ISENSE_U68         U_ISENSE_CUR_LIM2B U_ISENSE_N411658 INV_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
C_U_ISENSE_C3         0 U_ISENSE_N180191  10n  TC=0,0 
E_U_ISENSE_ABM1         U_ISENSE_N246869 0 VALUE { IF(V(VISENSE)>{ILIM},1,0)   
+  }
X_U_ISENSE_U49         U_ISENSE_ILIM12 U_ISENSE_ILIM1 U_ISENSE_ILIM11
+  OR2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
E_U_ISENSE_ABM3         U_ISENSE_N243273 0 VALUE { IF(V(IMON2)>{ILIM},1,0)    }
X_U_ISENSE_U56         U_ISENSE_N269698 U_ISENSE_N269804 U_ISENSE_LIM_CUR2
+  OR2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_ISENSE_U28         U_ISENSE_N183649 RETRY U_ISENSE_N183681 AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
E_U_ISENSE_ABM2         U_ISENSE_N241780 0 VALUE { IF(V(IMON1)>{ILIM},1,0)    }
X_U_ISENSE_U69         U_ISENSE_N343928 U_ISENSE_N429471 BUF_DELAY_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY=1u
X_U_ISENSE_U66         U_ISENSE_ILIM11 U_ISENSE_TRETRY U_ISENSE_N183649 N183653
+  SRLATCHRHP_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U_ISENSE_U15         U_ISENSE_N246869 U_ISENSE_N249666 U_ISENSE_ILIM12
+  AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_ISENSE_U75         U_ISENSE_N411658 U_ISENSE_LIM_CUR2
+  U_ISENSE_LIM2_CUR_BUFB NOR2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_ISENSE_U71         U_ISENSE_LIM_CUR1 U_ISENSE_CUR_LIM1B INV_DELAY_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY=1u
X_U_ISENSE_S2    U_ISENSE_N180351 0 U_ISENSE_N180191 0 ISENSE_U_ISENSE_S2 
X_U_ISENSE_U24         U_ISENSE_N441309 U_ISENSE_LIM1_CUR_BUFB
+  U_ISENSE_LIM2_CUR_BUFB U_ISENSE_N443070 AND3_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U_ISENSE_U43         U_ISENSE_N159306 U_ISENSE_PRE_HS2_BUF
+  BUF_DELAY_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY=2u
X_U_ISENSE_U22         U_ISENSE_N163934 PRE_HS2 U_ISENSE_CUR_LIM2B HS2
+  AND3_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_ISENSE_U64         U_ISENSE_TRETRY_DEL U_ISENSE_TRETRY_DELB INV_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_ISENSE_U26         U_ISENSE_N152518 U_ISENSE_N154160 U_ISENSE_N177215
+  U_ISENSE_V1V U_ISENSE_TOFF_DEL U_ISENSE_V0V DFFSR_RHPBASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U_ISENSE_U42         U_ISENSE_N159306 N235259 PRE_HS2 U_ISENSE_V1V
+  U_ISENSE_PRE_HS2_BUF U_ISENSE_V0V DFFSR_RHPBASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
C_U_ISENSE_C1         0 U_ISENSE_N152348  10n  TC=0,0 
X_U_ISENSE_U6         U_ISENSE_N152348 U_ISENSE_V1V D_D_DRV88xx
X_U_ISENSE_U30         U_ISENSE_N185137 LATCH U_ISENSE_N185169 AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_ISENSE_U7         U_ISENSE_N152348 U_ISENSE_TOFF BUF_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5
X_U_ISENSE_U47         U_ISENSE_N243273 HALF_BRDG U_ISENSE_ILIM2 AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_ISENSE_U13         U_ISENSE_N230041 U_ISENSE_N159306 U_ISENSE_N161337
+  OR2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
G_U_ISENSE_ABMII1         U_ISENSE_V1V U_ISENSE_N152348 VALUE {
+  IF(V(U_ISENSE_N152518)>0.5,200u,0)    }
X_U_ISENSE_U62         U_ISENSE_TRETRY U_ISENSE_TRETRY_DEL BUF_DELAY_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY=0.5u
X_U_ISENSE_U59         U_ISENSE_N220871 U_ISENSE_CUR_TRIP U_ISENSE_LIM_CUR1
+  U_ISENSE_LIM_CUR2 FAULT OR4_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_ISENSE_U73         U_ISENSE_CUR_LIM1B U_ISENSE_N437423 INV_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_ISENSE_U74         U_ISENSE_N437423 U_ISENSE_LIM_CUR1
+  U_ISENSE_LIM1_CUR_BUFB NOR2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_ISENSE_U17         U_ISENSE_CUR_TRIP U_ISENSE_N163934 INV_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U_ISENSE_U18         U_ISENSE_N230041 U_ISENSE_PRE_HS1_BUF
+  BUF_DELAY_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY=2u
X_U_ISENSE_U45         U_ISENSE_ILIM12 U_ISENSE_N251988 U_ISENSE_CUR_LIM
+  OR2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_ISENSE_U51         U_ISENSE_ILIM12 U_ISENSE_ILIM2 U_ISENSE_ILIM22
+  OR2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_ISENSE_U31         U_ISENSE_N185137 N185141 U_ISENSE_ILIM11 U_ISENSE_V1V
+  U_ISENSE_N185125 U_ISENSE_V0V DFFSR_RHPBASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U_ISENSE_U52         U_ISENSE_N269762 LATCH U_ISENSE_N269804 AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_ISENSE_U16         U_ISENSE_N241780 HALF_BRDG U_ISENSE_ILIM1 AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
V_U_ISENSE_V3         U_ISENSE_N180167 0 1Vdc
X_U_ISENSE_U5         U_ISENSE_ITRIP FIXOFF U_ISENSE_N177215 AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_ISENSE_U36         U_ISENSE_LIM_CUR2 U_ISENSE_CUR_TRIP PRE_LS2 LS2
+  OR3_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_ISENSE_U67         U_ISENSE_ILIM22 U_ISENSE_TRETRY U_ISENSE_N376760 N376766
+  SRLATCHRHP_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U_ISENSE_U11         U_ISENSE_N157504 CBC U_ISENSE_N157536 AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_ISENSE_U60         U_ISENSE_N180191 U_ISENSE_TRETRY BUF_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5
X_U_ISENSE_U53         U_ISENSE_N269762 N269768 U_ISENSE_ILIM22 U_ISENSE_V1V
+  U_ISENSE_N269758 U_ISENSE_V0V DFFSR_RHPBASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
G_U_ISENSE_ABMII2         U_ISENSE_N180167 U_ISENSE_N180191 VALUE {
+  IF(V(U_ISENSE_N180213)>0.5,2.5u,0)    }
X_U_ISENSE_U40         VM_UV_OK U_ISENSE_N220871 INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U_ISENSE_U33         U_ISENSE_N183681 U_ISENSE_N185169 U_ISENSE_LIM_CUR1
+  OR2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_ISENSE_U3         U_ISENSE_N443070 U_ISENSE_ITRIP BUF_DELAY_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY=1.7u
X_U_ISENSE_U65         U_ISENSE_TRETRY_DEL U_ISENSE_N381777 U_ISENSE_N180351
+  U_ISENSE_N180213 SRLATCHRHP_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U_ISENSE_U63         U_ISENSE_CUR_LIM RETRY RETRY U_ISENSE_N343928
+  AND3_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_ISENSE_U32         NSLEEP_H VM_UV_OK U_ISENSE_N185125 NAND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_ISENSE_U9         U_ISENSE_N155740 N155826 U_ISENSE_ITRIP U_ISENSE_V1V
+  U_ISENSE_TOFF U_ISENSE_V0V DFFSR_RHPBASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U_ISENSE_U10         U_ISENSE_N155740 FIXOFF U_ISENSE_N156704 AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_ISENSE_U12         U_ISENSE_N157504 N157508 U_ISENSE_ITRIP U_ISENSE_V1V
+  U_ISENSE_N161337 U_ISENSE_V0V DFFSR_RHPBASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U_ISENSE_U46         HALF_BRDG U_ISENSE_N249666 INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U_ISENSE_U54         NSLEEP_H VM_UV_OK U_ISENSE_N269758 NAND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_ISENSE_U21         U_ISENSE_CUR_LIM1B PRE_HS1 U_ISENSE_N163934 HS1
+  AND3_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_ISENSE_U44         U_ISENSE_ILIM1 U_ISENSE_ILIM2 U_ISENSE_N251988
+  OR2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_ISENSE_U8         U_ISENSE_ITRIP U_ISENSE_ITRIPB INV_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U_ISENSE_U34         U_ISENSE_N429471 U_ISENSE_N343928 U_ISENSE_N381777
+  OR2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_ISENSE_U41         U_ISENSE_N230041 N228169 PRE_HS1 U_ISENSE_V1V
+  U_ISENSE_PRE_HS1_BUF U_ISENSE_V0V DFFSR_RHPBASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
V_U_ISENSE_V2         U_ISENSE_V0V 0 0Vdc
X_U_ISENSE_U70         U_ISENSE_TRETRY U_ISENSE_TRETRY_DELB U_ISENSE_TRETRY_OS
+  AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_ISENSE_U20         U_ISENSE_N180191 U_ISENSE_N180167 D_D_DRV88xx
X_U_ISENSE_S1    U_ISENSE_N154160 0 U_ISENSE_N152348 0 ISENSE_U_ISENSE_S1 
X_U_ISENSE_U72         U_ISENSE_LIM_CUR2 U_ISENSE_CUR_LIM2B INV_DELAY_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY=1u
X_U_ISENSE_U1         IPROPI VREF U_ISENSE_N441309 COMP_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5
X_U_ISENSE_U35         U_ISENSE_LIM_CUR1 U_ISENSE_CUR_TRIP PRE_LS1 LS1
+  OR3_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
R_R1         GND EN_IN1  100k TC=0,0 
X_U6         GND PMODE D_D_DRV88xx
V_V1         V5INT GND 5
R_R2         GND PH_IN2  100k TC=0,0 
R_R8         GND CPL  1MEG TC=0,0 
R_R10         GND VCP  1MEG TC=0,0 
X_U4         GND PH_IN2 D_D_DRV88xx
X_U3         GND EN_IN1 D_D_DRV88xx
R_R5         PMODE V5INT  156k TC=0,0 
R_R6         GND IMODE  136k TC=0,0 
R_R7         IMODE V5INT  68k TC=0,0 
R_R3         GND NSLEEP  100k TC=0,0 
X_U7         GND IMODE D_D_DRV88xx
V_U_LOGIC_V23         U_LOGIC_N42309 0 2Vdc
X_U_LOGIC_U67         U_LOGIC_TSLEEP_OK U_LOGIC_N69191 U_LOGIC_N69139
+  AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_LOGIC_U37         U_LOGIC_N25826 U_LOGIC_N25834 INV_DELAY_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5 DELAY=10n
X_U_LOGIC_U43         U_LOGIC_N25838 U_LOGIC_N26138 U_LOGIC_IMOD_L1B
+  U_LOGIC_IMOD_L2 AND3_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_LOGIC_U70         U_LOGIC_NSLEEP_L U_LOGIC_N84898 U_LOGIC_OUT1_HIZ
+  OR2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
E_U_LOGIC_E5         U_LOGIC_PH_IN2_INT 0 PH_IN2 GND 1
X_U_LOGIC_U103         U_LOGIC_N268778 U_LOGIC_N268778 PRE_HS1 AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
V_U_LOGIC_V2         U_LOGIC_N01515 0 100m
X_U_LOGIC_U78         U_LOGIC_N125074 U_LOGIC_N125098 U_LOGIC_N125146
+  U_LOGIC_N125170 OR3_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_LOGIC_U98         U_LOGIC_VM_UV NSLEEP_H U_LOGIC_N223410 OR2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_LOGIC_U80         U_LOGIC_N102715 U_LOGIC_PH_EN U_LOGIC_N116935
+  AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_LOGIC_U20         U_LOGIC_N09353 U_LOGIC_N09361 INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
V_U_LOGIC_V8         U_LOGIC_N09191 0 180m
X_U_LOGIC_U24         U_LOGIC_EN_IN1_INT U_LOGIC_N11855 U_LOGIC_N11903
+  U_LOGIC_N13435 COMPHYS_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U_LOGIC_U72         U_LOGIC_EN_IN1_H U_LOGIC_PH_IN2_H U_LOGIC_N83638
+  NOR2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_LOGIC_U54         U_LOGIC_TSLEEP_OK U_LOGIC_PMOD_L U_LOGIC_N56953
+  AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
V_U_LOGIC_V21         U_LOGIC_N31106 0 10m
X_U_LOGIC_U63         U_LOGIC_TSLEEP_OK U_LOGIC_N179815 U_LOGIC_N67962
+  AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_LOGIC_U44         U_LOGIC_IMOD_L2 U_LOGIC_IMOD_L2B INV_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U_LOGIC_U100         U_LOGIC_PRE_LS1 U_LOGIC_PRE_LS1 PRE_LS1 AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_LOGIC_U84         U_LOGIC_EN_IN1_L U_LOGIC_N125258 U_LOGIC_N125300
+  OR2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
V_U_LOGIC_V10         U_LOGIC_N09317 0 1.1
X_U_LOGIC_U81         U_LOGIC_PWM U_LOGIC_PH_IN2_H U_LOGIC_N117275
+  AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
V_U_LOGIC_V11         U_LOGIC_N11855 0 1.5
X_U_LOGIC_U38         U_LOGIC_N25826 U_LOGIC_N26006 INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U_LOGIC_U96         U_LOGIC_IMOD_L1 U_LOGIC_IMOD_L4 U_LOGIC_N69191
+  OR2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
C_U_LOGIC_C1         0 U_LOGIC_N44249  1u  TC=0,0 
X_U_LOGIC_U101         U_LOGIC_PRE_LS2 U_LOGIC_PRE_LS2 PRE_LS2 AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_LOGIC_U56         U_LOGIC_PWM N65437 U_LOGIC_NSLEEP_H_BUF U_LOGIC_N65361
+  U_LOGIC_NSLEEP_L 0 DFFSR_RHPBASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_LOGIC_U79         U_LOGIC_PH_IN2_L U_LOGIC_EN_IN1_H U_LOGIC_N97045
+  AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_LOGIC_U90         U_LOGIC_OUT1_HIZ PRE_LS1 U_LOGIC_N133737 NOR2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_LOGIC_U1         U_LOGIC_VM_INT U_LOGIC_N01225 U_LOGIC_N01515
+  U_LOGIC_N01638 COMPHYS_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U_LOGIC_U3         U_LOGIC_N01763 U_LOGIC_N01638 VM_UV_OK AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_LOGIC_U15         U_LOGIC_N09217 U_LOGIC_N09221 U_LOGIC_PMOD_L
+  AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_LOGIC_U31         U_LOGIC_PH_IN2_INT U_LOGIC_N16208 U_LOGIC_N16256
+  U_LOGIC_N16036 COMPHYS_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U_LOGIC_U34         NSLEEP_H U_LOGIC_NSLEEP_L INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U_LOGIC_U39         U_LOGIC_IMOD_INT U_LOGIC_N26094 U_LOGIC_N26126
+  U_LOGIC_N25830 COMPHYS_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U_LOGIC_U85         U_LOGIC_PWM U_LOGIC_EN_IN1_H U_LOGIC_N125098
+  AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_LOGIC_U46         U_LOGIC_N31126 U_LOGIC_N31130 INV_DELAY_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5 DELAY=10n
X_U_LOGIC_U21         U_LOGIC_PMOD_L U_LOGIC_PMOD_LB INV_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
E_U_LOGIC_E7         U_LOGIC_IMOD_INT 0 IMODE GND 1
V_U_LOGIC_V13         U_LOGIC_N16208 0 1.5
X_U_LOGIC_U27         U_LOGIC_EN_IN1_H U_LOGIC_EN_IN1_L INV_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U_LOGIC_U55         NSLEEP_H U_LOGIC_NSLEEP_H_BUF BUF_DELAY_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5 DELAY=1u
X_U_LOGIC_U57         U_LOGIC_TSLEEP_OK U_LOGIC_PMOD_H U_LOGIC_N65361
+  AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_LOGIC_U82         HALF_BRDG U_LOGIC_EN_IN1_L U_LOGIC_N118650 AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
V_U_LOGIC_V12         U_LOGIC_N11903 0 150m
V_U_LOGIC_V19         U_LOGIC_N26126 0 10m
X_U_LOGIC_U16         U_LOGIC_N09195 U_LOGIC_N09217 INV_DELAY_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5 DELAY=10n
X_U_LOGIC_U91         U_LOGIC_N133737 U_LOGIC_NSLEEP_H_BUF1 U_LOGIC_N268778
+  AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
E_U_LOGIC_E6         U_LOGIC_NSLEEP_INT 0 NSLEEP GND 1
X_U_LOGIC_U64         LATCH N68620 U_LOGIC_NSLEEP_H_BUF U_LOGIC_N68544
+  U_LOGIC_NSLEEP_L 0 DFFSR_RHPBASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_LOGIC_U22         U_LOGIC_N09357 U_LOGIC_N09361 U_LOGIC_PMOD_LB
+  U_LOGIC_PMOD_HIZ AND3_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_LOGIC_U47         U_LOGIC_N31126 U_LOGIC_N31134 INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U_LOGIC_U53         U_LOGIC_PH_EN N64335 U_LOGIC_NSLEEP_H_BUF U_LOGIC_N56953
+  U_LOGIC_NSLEEP_L 0 DFFSR_RHPBASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_LOGIC_U73         U_LOGIC_NSLEEP_L U_LOGIC_N87407 U_LOGIC_OUT2_HIZ
+  OR2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_LOGIC_U52         U_LOGIC_N44249 U_LOGIC_TSLEEP_OK BUF_DELAY_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY=10n
X_U_LOGIC_U58         HALF_BRDG N65980 U_LOGIC_NSLEEP_H_BUF U_LOGIC_N65904
+  U_LOGIC_NSLEEP_L 0 DFFSR_RHPBASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_LOGIC_U86         U_LOGIC_PH_IN2_H U_LOGIC_EN_IN1_H U_LOGIC_N125258
+  AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_LOGIC_U74         U_LOGIC_PWM U_LOGIC_N87397 U_LOGIC_N87407 AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_LOGIC_U10         U_LOGIC_IMOD_INT U_LOGIC_N25928 U_LOGIC_N25976
+  U_LOGIC_N25826 COMPHYS_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
V_U_LOGIC_V22         U_LOGIC_N31070 0 2
V_U_LOGIC_V14         U_LOGIC_N16256 0 150m
X_U_LOGIC_U17         U_LOGIC_N09195 U_LOGIC_N09221 INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U_LOGIC_U23         U_LOGIC_PMOD_HIZ U_LOGIC_PMOD_L U_LOGIC_PMOD_H
+  NOR2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_LOGIC_U94         U_LOGIC_IMOD_L1 U_LOGIC_IMOD_L2 U_LOGIC_N179815
+  OR2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_LOGIC_U65         U_LOGIC_TSLEEP_OK U_LOGIC_N68596 U_LOGIC_N68544
+  AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_LOGIC_U40         U_LOGIC_N25830 U_LOGIC_N25838 INV_DELAY_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5 DELAY=10n
X_U_LOGIC_U68         CBC N71310 U_LOGIC_NSLEEP_H_BUF U_LOGIC_N71234
+  U_LOGIC_NSLEEP_L 0 DFFSR_RHPBASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
V_U_LOGIC_V17         U_LOGIC_N25928 0 0.45
X_U_LOGIC_U75         U_LOGIC_EN_IN1_H U_LOGIC_PH_IN2_H U_LOGIC_N87397
+  NOR2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_LOGIC_U87         U_LOGIC_N125170 NSLEEP_H U_LOGIC_PRE_LS2 AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_LOGIC_U51         VM_UV_OK U_LOGIC_VM_UV INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U_LOGIC_U35         U_LOGIC_NSLEEP_INT U_LOGIC_N18462 U_LOGIC_N18510
+  U_LOGIC_N18290 COMPHYS_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U_LOGIC_U59         U_LOGIC_TSLEEP_OK U_LOGIC_PMOD_HIZ U_LOGIC_N65904
+  AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_LOGIC_U28         U_LOGIC_N16036 U_LOGIC_N16078 BUF_DELAY_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5 DELAY=750n
X_U_LOGIC_U60         U_LOGIC_PH_EN N67469 U_LOGIC_NSLEEP_H_BUF U_LOGIC_N67393
+  U_LOGIC_NSLEEP_L 0 DFFSR_RHPBASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_LOGIC_U18         U_LOGIC_PMOD_INT U_LOGIC_N09317 U_LOGIC_N09349
+  U_LOGIC_N09353 COMPHYS_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_U_LOGIC_E3         U_LOGIC_PMOD_INT 0 PMODE GND 1
V_U_LOGIC_V15         U_LOGIC_N18462 0 1.5
X_U_LOGIC_U88         HALF_BRDG U_LOGIC_PH_IN2_L U_LOGIC_N125146 AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_LOGIC_U48         U_LOGIC_IMOD_L3B U_LOGIC_IMOD_L1B U_LOGIC_IMOD_L2B
+  U_LOGIC_IMOD_L4 AND3_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
G_U_LOGIC_ABMI1         U_LOGIC_N42309 U_LOGIC_N44249 VALUE { IF(V(NSLEEP_H) <
+  0.5 & V(VM_UV_OK) > 0.5,0.5m,0)    }
X_U_LOGIC_U2         U_LOGIC_N01638 U_LOGIC_N01763 BUF_DELAY_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5 DELAY=10u
X_U_LOGIC_U41         U_LOGIC_N25830 U_LOGIC_N26138 INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U_LOGIC_U29         U_LOGIC_N16078 U_LOGIC_N16078 U_LOGIC_PH_IN2_H
+  AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_LOGIC_U50         U_LOGIC_N31130 U_LOGIC_N31134 U_LOGIC_IMOD_L1B
+  U_LOGIC_IMOD_L2B U_LOGIC_IMOD_L3 AND4_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U_LOGIC_U25         U_LOGIC_N13435 U_LOGIC_N13457 BUF_DELAY_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5 DELAY=750n
X_U_LOGIC_S1    U_LOGIC_N223410 0 U_LOGIC_N44249 0 LOGIC_U_LOGIC_S1 
X_U_LOGIC_U77         U_LOGIC_EN_IN1_L U_LOGIC_N97045 U_LOGIC_N102715
+  OR2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_LOGIC_U69         U_LOGIC_TSLEEP_OK U_LOGIC_N71286 U_LOGIC_N71234
+  AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
V_U_LOGIC_V18         U_LOGIC_N25976 0 10m
X_U_LOGIC_U49         U_LOGIC_IMOD_L3 U_LOGIC_IMOD_L3B INV_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
V_U_LOGIC_V9         U_LOGIC_N09349 0 180m
V_U_LOGIC_V20         U_LOGIC_N26094 0 1.1
X_U_LOGIC_U4         U_LOGIC_N44249 U_LOGIC_N42309 D_D_DRV88xx
X_U_LOGIC_U61         U_LOGIC_TSLEEP_OK U_LOGIC_PMOD_L U_LOGIC_N67393
+  AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_LOGIC_U95         U_LOGIC_IMOD_L3 U_LOGIC_IMOD_L4 U_LOGIC_N68596
+  OR2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_LOGIC_U76         U_LOGIC_N116935 U_LOGIC_N117275 U_LOGIC_N118650
+  U_LOGIC_N119572 OR3_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_LOGIC_U26         U_LOGIC_N13457 U_LOGIC_N13457 U_LOGIC_EN_IN1_H
+  AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_LOGIC_U9         U_LOGIC_PMOD_INT U_LOGIC_N09143 U_LOGIC_N09191
+  U_LOGIC_N09195 COMPHYS_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U_LOGIC_U71         U_LOGIC_PWM U_LOGIC_N83638 U_LOGIC_N84898 AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_LOGIC_U66         FIXOFF N69215 U_LOGIC_NSLEEP_H_BUF U_LOGIC_N69139
+  U_LOGIC_NSLEEP_L 0 DFFSR_RHPBASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_LOGIC_U92         U_LOGIC_OUT2_HIZ PRE_LS2 U_LOGIC_N140494 NOR2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
V_U_LOGIC_V16         U_LOGIC_N18510 0 35m
X_U_LOGIC_U36         U_LOGIC_N25834 U_LOGIC_N26006 U_LOGIC_IMOD_L1
+  AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_LOGIC_U99         U_LOGIC_NSLEEP_H_BUF U_LOGIC_NSLEEP_H_BUF1
+  BUF_DELAY_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY=0.2u
X_U_LOGIC_U83         U_LOGIC_N119572 NSLEEP_H U_LOGIC_PRE_LS1 AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_LOGIC_U89         U_LOGIC_N125300 U_LOGIC_PH_EN U_LOGIC_N125074
+  AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_LOGIC_U42         U_LOGIC_IMOD_L1 U_LOGIC_IMOD_L1B INV_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U_LOGIC_U30         U_LOGIC_PH_IN2_H U_LOGIC_PH_IN2_L INV_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
E_U_LOGIC_E4         U_LOGIC_EN_IN1_INT 0 EN_IN1 GND 1
X_U_LOGIC_U105         U_LOGIC_N278783 U_LOGIC_N278783 PRE_HS2 AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
V_U_LOGIC_V7         U_LOGIC_N09143 0 0.65
X_U_LOGIC_U19         U_LOGIC_N09353 U_LOGIC_N09357 INV_DELAY_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5 DELAY=10n
X_U_LOGIC_U93         U_LOGIC_N140494 U_LOGIC_NSLEEP_H_BUF1 U_LOGIC_N278783
+  AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U_LOGIC_U32         U_LOGIC_N18290 NSLEEP_H BUF_DELAY_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5 DELAY=1.11m
X_U_LOGIC_U97         U_LOGIC_IMOD_L2 U_LOGIC_IMOD_L3 U_LOGIC_N71286
+  OR2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
E_U_LOGIC_E1         U_LOGIC_VM_INT 0 VM GND 1
X_U_LOGIC_U62         RETRY N68038 U_LOGIC_NSLEEP_H_BUF U_LOGIC_N67962
+  U_LOGIC_NSLEEP_L 0 DFFSR_RHPBASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
V_U_LOGIC_V1         U_LOGIC_N01225 0 4.45
X_U_LOGIC_U45         U_LOGIC_IMOD_INT U_LOGIC_N31070 U_LOGIC_N31106
+  U_LOGIC_N31126 COMPHYS_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U5         GND NSLEEP D_D_DRV88xx
X_U_MOS_H3    U_MOS_S2 OUT2 IMON2 0 MOS_U_MOS_H3 
G_U_MOS_ABM2I1         VREF IPROPI VALUE { (V(U_MOS_IMON1_DEL) +
+  V(U_MOS_IMON2_DEL)) *AIPROPI    }
E_U_MOS_ABM60         U_MOS_DRV1 0 VALUE { IF(V(HS1)>0.5 & V(VM_UV_OK)>0.5,
+  5,0)    }
X_U_MOS_M5         U_MOS_VM_OK U_MOS_GATE2 U_MOS_S2 DMG4800LSD
R_U_MOS_R1         IMON1 U_MOS_IMON1_DEL  254 TC=0,0 
V_U_MOS_V1         U_MOS_VMOK_5 U_MOS_VM_OK 5
E_U_MOS_ABM61         U_MOS_DRV3 0 VALUE { IF(V(LS1)>0.5 & V(VM_UV_OK)>0.5,
+  5,0)    }
X_U_MOS_U9         U_MOS_GATE4 U_MOS_V5V D_D_DRV88xx
X_U_MOS_M6         U_MOS_S2 U_MOS_GATE4 PGND DMG4800LSD
G_U_MOS_ABMII5         U_MOS_V5V U_MOS_GATE4 VALUE { IF(V(LS2)>0.5 &
+  V(VM_UV_OK)>0.5, 5.2m,0)    }
E_U_MOS_ABM58         U_MOS_DRV2 0 VALUE { IF(V(HS2)>0.5 & V(VM_UV_OK)>0.5,
+  V(U_MOS_VM_OK)+5,0)    }
X_U_MOS_U10         PGND U_MOS_GATE4 D_D_DRV88xx
X_U_MOS_M7         U_MOS_S1 U_MOS_GATE3 PGND DMG4800LSD
G_U_MOS_ABMII6         U_MOS_GATE4 PGND VALUE { IF(V(LS2)>0.5 &
+  V(VM_UV_OK)>0.5, 0,100m)    }
E_U_MOS_ABM59         U_MOS_DRV4 0 VALUE { IF(V(LS2)>0.5 & V(VM_UV_OK)>0.5,
+  5,0)    }
X_U_MOS_U7         U_MOS_GATE1 U_MOS_VMOK_5 D_D_DRV88xx
X_U_MOS_U11         U_MOS_GATE3 U_MOS_V5V D_D_DRV88xx
G_U_MOS_ABMII1         U_MOS_VMOK_5 U_MOS_GATE2 VALUE { IF(V(HS2)>0.5 &
+  V(VM_UV_OK)>0.5, 5.5m,0)    }
V_U_MOS_V2         U_MOS_V5V PGND 5
G_U_MOS_ABMII3         U_MOS_VMOK_5 U_MOS_GATE1 VALUE { IF(V(HS1)>0.5 &
+  V(VM_UV_OK)>0.5, 5.5m,0)    }
G_U_MOS_ABMII7         U_MOS_V5V U_MOS_GATE3 VALUE { IF(V(LS1)>0.5 &
+  V(VM_UV_OK)>0.5, 5.2m,0)    }
E_U_MOS_E2         U_MOS_OUT2_INT 0 U_MOS_S2 0 1
X_U_MOS_U8         U_MOS_OUT1_INT U_MOS_GATE1 D_D_DRV88xx
X_U_MOS_U5         U_MOS_GATE2 U_MOS_VMOK_5 D_D_DRV88xx
C_U_MOS_C1         0 U_MOS_IMON1_DEL  3n  TC=0,0 
X_U_MOS_U12         PGND U_MOS_GATE3 D_D_DRV88xx
G_U_MOS_ABMII4         U_MOS_GATE1 U_MOS_OUT1_INT VALUE { IF(V(HS1)>0.5 &
+  V(VM_UV_OK)>0.5, 0,100m)    }
G_U_MOS_ABMII8         U_MOS_GATE3 PGND VALUE { IF(V(LS1)>0.5 &
+  V(VM_UV_OK)>0.5, 0,100m)    }
X_U_MOS_H2    U_MOS_S1 OUT1 IMON1 0 MOS_U_MOS_H2 
X_U_MOS_U6         U_MOS_OUT2_INT U_MOS_GATE2 D_D_DRV88xx
E_U_MOS_ABM55         VISENSE 0 VALUE { ( V(IMON1)  
+ +V(IMON2) )   }
G_U_MOS_ABMII2         U_MOS_GATE2 U_MOS_OUT2_INT VALUE { IF(V(HS2)>0.5 &
+  V(VM_UV_OK)>0.5, 0,100m)    }
E_U_MOS_E1         U_MOS_OUT1_INT 0 U_MOS_S1 0 1
R_U_MOS_R2         IMON2 U_MOS_IMON2_DEL  254 TC=0,0 
X_U_MOS_M8         U_MOS_VM_OK U_MOS_GATE1 U_MOS_S1 DMG4800LSD
X_U_MOS_U4         IPROPI VREF D_D_DRV88xx
C_U_MOS_C2         0 U_MOS_IMON2_DEL  3n  TC=0,0 
E_U_MOS_ABM54         U_MOS_VM_OK 0 VALUE { IF(V(VM_UV_OK)>0.5 , V(VM) ,0)    }
.IC         V(U_ISENSE_N180213 )=0
.PARAM  ilim=9 aipropi=500u
.ENDS DRV8874_TRANS
*$
.subckt DRV8874_S1 1 2 3 4  
S_S1         3 4 1 2 _S1
RS_S1         1 2 1G
.MODEL         _S1 VSWITCH Roff=1e6 Ron=1.0 Voff=0.2 Von=0.8
.ends DRV8874_S1
*$
.subckt ISENSE_U_ISENSE_S2 1 2 3 4  
S_U_ISENSE_S2         3 4 1 2 _U_ISENSE_S2
RS_U_ISENSE_S2         1 2 1G
.MODEL         _U_ISENSE_S2 VSWITCH Roff=1e6 Ron=1m Voff=0.2 Von=0.8
.ends ISENSE_U_ISENSE_S2
*$
.subckt ISENSE_U_ISENSE_S1 1 2 3 4  
S_U_ISENSE_S1         3 4 1 2 _U_ISENSE_S1
RS_U_ISENSE_S1         1 2 1G
.MODEL         _U_ISENSE_S1 VSWITCH Roff=1e6 Ron=0.01 Voff=0.2 Von=0.8
.ends ISENSE_U_ISENSE_S1
*$
.subckt LOGIC_U_LOGIC_S1 1 2 3 4  
S_U_LOGIC_S1         3 4 1 2 _U_LOGIC_S1
RS_U_LOGIC_S1         1 2 1G
.MODEL         _U_LOGIC_S1 VSWITCH Roff=1e6 Ron=500 Voff=0.2 Von=0.8
.ends LOGIC_U_LOGIC_S1
*$
.subckt MOS_U_MOS_H3 1 2 3 4  
H_U_MOS_H3         3 4 VH_U_MOS_H3 1
VH_U_MOS_H3         1 2 0V
.ends MOS_U_MOS_H3
*$
.subckt MOS_U_MOS_H2 1 2 3 4  
H_U_MOS_H2         3 4 VH_U_MOS_H2 1
VH_U_MOS_H2         1 2 0V
.ends MOS_U_MOS_H2
*$
.subckt D_D_DRV88xx 1 2
d1 1 2 dd
.model dd d
+ is=1e-015
+ n=0.01
+ tt=1e-011
.ends D_D_DRV88xx
*$
.subckt one_shot in out
+ params:  t=100
s_s1         meas 0 reset2 0 s1
e_abm1         ch 0 value { if( v(in)>0.5 | v(out)>0.5,1,0)    }
r_r2         reset2 reset  0.1  
e_abm3         out 0 value { if( v(meas)<0.5 & v(ch)>0.5,1,0)    }
r_r1         meas ch  {t} 
c_c2         0 reset2  1.4427n  
c_c1         0 meas  1.4427n  
e_abm2         reset 0 value { if(v(ch)<0.5,1,0)    }
.model s1 vswitch
+ roff=1e+009
+ ron=1
+ voff=0.25
+ von=0.75
.ends one_shot
*$
.SUBCKT SRLATCHRHP_BASIC_GEN S R Q QB PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
GQ 0 Qint VALUE = {IF(V(R) > {VTHRESH},-5,IF(V(S)>{VTHRESH},5, 0))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D5
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D5
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr QB 1 
Cdummy1 Q 0 1n 
Cdummy2 QB 0 1n
.IC V(Qint) {VSS}
.MODEL D_D5 D( IS=1e-15 TT=10p Rs=0.05 N=.1 )
.ENDS SRLATCHRHP_BASIC_GEN
*$
.subckt srlatchshp_basic_gen s r q qb params: vdd=1 vss=0 vthresh=0.5 
gq 0 qint value = {if(v(s) > {vthresh},5,if(v(r)>{vthresh},-5, 0))}
cqint qint 0 1n
rqint qint 0 1000meg
d_d10 qint my5 d_d1
v1 my5 0 {vdd}
d_d11 myvss qint d_d1
v2 myvss 0 {vss} 
eq qqq 0 qint 0 1
x3 qqq qqqd1 buf_basic_gen params: vdd={vdd} vss={vss} vthresh={vthresh}
rqq qqqd1 q 1
eqb qb 0 value = {1-v(q)} 
cdummy1 q 0 1n 
cdummy2 qb 0 1n 
.ic v(qint) {vss}
.ENDS srlatchshp_basic_gen 
*$
.SUBCKT NOR3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR3_BASIC_GEN
*$
.SUBCKT NAND2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NAND2_BASIC_GEN
*$
.SUBCKT NAND3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NAND3_BASIC_GEN
*$
.SUBCKT NOR2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR2_BASIC_GEN
*$
.SUBCKT AND3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND3_BASIC_GEN
*$
.SUBCKT COMPHYS_BASIC_GEN INP INM HYS OUT PARAMS: VDD=1 VSS=0 VTHRESH=0.5	
EIN INP1 INM1 INP INM 1 
EHYS INP1 INP2 VALUE { IF( V(1) > {VTHRESH},-V(HYS),0) }
EOUT OUT 0 VALUE { IF( V(INP2)>V(INM1), {VDD} ,{VSS}) }
R1 OUT 1 1
C1 1 0 5n
RINP1 INP1 0 1K
.ENDS COMPHYS_BASIC_GEN
*$
.SUBCKT INV_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS INV_BASIC_GEN
*$
.SUBCKT OR2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR2_BASIC_GEN
*$
.SUBCKT OR3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR3_BASIC_GEN
*$
.SUBCKT COMP_BASIC_GEN INP INM Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5	
E_ABM Yint 0 VALUE {IF (V(INP) > 
+ V(INM), {VDD},{VSS})}
R1 Yint Y 1
C1 Y 0 1n
.ENDS COMP_BASIC_GEN
*$
.SUBCKT AND2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND2_BASIC_GEN
*$
.SUBCKT BUF_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS BUF_BASIC_GEN
*$
.SUBCKT BUF_DELAY_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY = 10n 
E_ABMGATE1    YINT1 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT1 YINT2 1
CINT YINT2 0 {DELAY*1.3}
E_ABMGATE2    YINT3 0 VALUE {{IF(V(YINT2) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT2 YINT3 Y 1
CINT2 Y 0 1n
.ENDS BUF_DELAY_BASIC_GEN
*$
.SUBCKT DFFSR_RHPBASIC_GEN Q QB CLK D R S PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
***Set has higher priority in this
** Changed the delay from 7n/10n to 15n/20n to help larger time step simulations
**Faster flip-flops require a a smaller time step to simulate
X1 CLK CLKdel INV_DELAY_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 1u
X2 CLK CLKdel CLKint AND2_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}  
GQ 0 Qint VALUE = {IF(V(R) > {VTHRESH},-5,IF(V(S) > {VTHRESH},5, IF(V(CLKint)> {VTHRESH}, 
+ IF(V(D)> {VTHRESH},5,-5),0)))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D4
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D4
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_DELAY_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 20n
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr Qb 1 
Cdummy1 Q 0 1nF 
Cdummy2 QB 0 1nF 
.IC V(Qint) {VSS}
.MODEL D_D4 D( IS=1e-15 TT=10p Rs=0.05 N=.1 )
.ENDS DFFSR_RHPBASIC_GEN
*$
.SUBCKT INV_DELAY_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY = 10n 
E_ABMGATE1    YINT1 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT1 YINT2 1
CINT YINT2 0 {DELAY*1.3}
E_ABMGATE2    YINT3 0 VALUE {{IF(V(YINT2) > {VTHRESH} , 
+ {VSS},{VDD})}}
RINT2 YINT3 Y 1
CINT2 Y 0 1n
.ENDS INV_DELAY_BASIC_GEN
*$
.SUBCKT AND4_BASIC_GEN A B C D Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH} &
+ V(D) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND4_BASIC_GEN
*$
.SUBCKT DMG4800LSD   D G S
M1   1  G  3  3  NMOS L=0.52U W=50m M=1
RD  D  1  0.1m
RS  S  3  0.1m
CGS  G  3  10p
CGD G 1 40p
*CGS  G  3  692p
*EGD 12  0  G  1  1
*VFB 14  0  0
*FFB  G  1  VFB  1
*R1  13  0  1.00
*D1  12 13  DLIM
*DDG 15 14  DCGD
*R2  12 15  1.00
*D2  15  0  DLIM
DSD  3 D  DSUB
*.MODEL NMOS NMOS LEVEL=3 U0=400 VMAX=40k
*+ ETA=0.1m VTO=1.62 TOX=60n NSUB=2.16e16
.MODEL NMOS NMOS LEVEL=3 U0=400 VMAX=40k
+  VTO=1.62 TOX=60n 
*.MODEL NMOS NMOS (VTO = 1.7 KP = 20 LAMBDA = 0.0001)
.MODEL DCGD D CJO=488p VJ=450m M=0.420
.MODEL DSUB D IS=36.1n N=1.50 RS=21.8m BV=30
+ CJO=48p VJ=0.950 M=0.920
.MODEL DLIM D IS=100U
.ENDS DMG4800LSD
*$
.SUBCKT OR4_BASIC_GEN A B C D Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH} |
+ V(D) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR4_BASIC_GEN
*$
