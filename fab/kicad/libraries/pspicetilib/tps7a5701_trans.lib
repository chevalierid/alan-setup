*$
*****************************************************************************
* (C) Copyright 2019 Texas Instruments Incorporated. All rights reserved.
*****************************************************************************
** This model is designed as an aid for customers of Texas Instruments.
** TI and its licensors and suppliers make no warranties, either expressed
** or implied, with respect to this model, including the warranties of
** merchantability or fitness for a particular purpose. The model is
** provided solely on an "as is" basis. The entire risk as to its quality
** and performance is with the customer.
*****************************************************************************
*
** Released by: WEBENCH Design Center, Texas Instruments Inc.
* Part: TPS7A5701RTE
* Date: 7JUL2022
* Model Type: Transient
* Simulator: PSPICE
* Simulator Version: 17.4
* EVM Order Number: TPS7A57EVM-056
* EVM Users Guide:
* Datasheet:
*
* Model Version: Final 1.00
*
*****************************************************************************
*
* Updates:
*
* Final 1.00
* Release to Web
*
*****************************************************************************
* Model Usage Notes:
*
* 1. The following features have been modeled
*      a. Start-up behaviour is modeled
*      b. Line transients 
*      c. Load transients
*      d. Current Limit and current foldback is modeled
*      e. PSRR is modeled only till 1st pole and 1st Zero (Model limitation)
* 2. Quiescent current, noise characteristics and temperature effects are not modeled
*****************************************************************************
*$

.SUBCKT TPS7A5701_TRANS REF EN PG SNS NR/SS OUT_1 OUT_2 OUT_3 OUT_4 IN_1 IN_2 IN_3 IN_4
+VBIAS CP_EN GND
E_TPS7A5701_ABM1         TPS7A5701_N313925 0 VALUE { MIN(V(TPS7A5701_VXX),
+  (V(TPS7A5701_VZZ)+(ILIM*ROUT)))    }
R_TPS7A5701_R2         TPS7A5701_N314045 TPS7A5701_VXX  {PSRR*RINP}  
X_TPS7A5701_F1    TPS7A5701_VZZ OUT_1 IN_1 TPS7A5701_N313747
+  TPS7A5701_TPS7A5701_F1 
C_TPS7A5701_C2         TPS7A5701_VXX TPS7A5701_N314045  
+ {1/(6.28*PSRR*RINP*ZERO)}  
E_TPS7A5701_U1_ABM16         TPS7A5701_U1_N31440 0 VALUE { IF(V(IN_1)>=1.1 &
+  V(VBIAS)==0 & V(TPS7A5701_U1_EN_OK)==1, 1,0)    }
C_TPS7A5701_U1_C11         0 IN_1  1f  
E_TPS7A5701_U1_ABM49         TPS7A5701_U1_N153339 0 VALUE { MIN(V(REF),  
+ MAX(V(TPS7A5701_U1_N146249) - {DROP}, 0))   }
E_TPS7A5701_U1_ABM5         TPS7A5701_U1_N09745 0 VALUE {
+  MIN(V(TPS7A5701_U1_N05382),  
+ MAX(V(IN_1) - {DROP}, 0))   }
E_TPS7A5701_U1_ABM38         TPS7A5701_U1_N40926 0 VALUE { IF(
+  V(TPS7A5701_U1_CP_OK)==0 & V(TPS7A5701_U1_EN_OK)==1, {UVLOBIASwoCP},{VBUVLO}) 
+    }
E_TPS7A5701_U1_ABM20         TPS7A5701_U1_N32140 0 VALUE { IF(
+  V(TPS7A5701_U1_N31440)==1 & V(TPS7A5701_U1_CP_OK)==1, 1,0)    }
X_TPS7A5701_U1_U4         VBIAS TPS7A5701_U1_N40926 TPS7A5701_U1_N49515
+  TPS7A5701_U1_BIAS_OK COMPHYS_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
R_TPS7A5701_U1_R7         TPS7A5701_U1_N158760 TPS7A5701_U1_N146249  1 TC=0,0 
E_TPS7A5701_U1_ABM24         TPS7A5701_U1_N32259 0 VALUE { IF(
+  V(TPS7A5701_U1_N32140)>0.6 | V(TPS7A5701_U1_N32152)>0.6, 1,0)    }
V_TPS7A5701_U1_V2         TPS7A5701_U1_N11911 0 {VENB}
X_TPS7A5701_U1_U5         CP_EN TPS7A5701_U1_N25438 TPS7A5701_U1_N25468
+  TPS7A5701_U1_CP_OK COMPHYS_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_TPS7A5701_U1_ABM36         TPS7A5701_U1_N38021 0 VALUE { IF(
+  V(TPS7A5701_U1_LOGIC_OK)>0.6 & V(TPS7A5701_U1_EN_OK)>0.6, {IREF},0)    }
X_TPS7A5701_U1_U3         SNS TPS7A5701_U1_N586013 TPS7A5701_U1_N586043
+  TPS7A5701_U1_N583793 COMPHYS_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_TPS7A5701_U1_ABM19         TPS7A5701_U1_N32092 0 VALUE { IF(
+  V(TPS7A5701_U1_N31452)==1 & V(VBIAS)>=(2.1+V(OUT_1)), 1,0)    }
E_TPS7A5701_U1_ABM42         TPS7A5701_U1_N54605 0 VALUE { IF(
+  V(TPS7A5701_U1_BIAS_OK)==0 & V(TPS7A5701_U1_EN_OK)==1, {VINUVLOwoBIAS},{UVLO})
+     }
C_TPS7A5701_U1_C2         0 TPS7A5701_U1_N05382  100n  
V_TPS7A5701_U1_V9         TPS7A5701_U1_N25438 0 {CPENB}
R_TPS7A5701_U1_R9         GND TPS7A5701_U1_N146187  100G  
E_TPS7A5701_U1_ABM23         TPS7A5701_U1_N32252 0 VALUE { IF(
+  V(TPS7A5701_U1_N66006)>0.6 | V(TPS7A5701_U1_N66092)>0.6 |
+  V(TPS7A5701_U1_N32092)>0.6, 1,0)    }
E_TPS7A5701_U1_ABM47         TPS7A5701_U1_N79285 0 VALUE { IF( V(IN_1)>=0.7 &
+  V(TPS7A5701_U1_CP_OK)==1, 1,0)    }
X_TPS7A5701_U1_U2         IN_1 TPS7A5701_U1_N54605 TPS7A5701_U1_N13214
+  TPS7A5701_U1_VIN_OK COMPHYS_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
R_TPS7A5701_U1_R4         TPS7A5701_U1_N09035 TPS7A5701_U1_N05382  1u TC=0,0 
E_TPS7A5701_U1_ABM43         TPS7A5701_U1_N66006 0 VALUE { IF(
+  V(TPS7A5701_U1_N78953)==1 & V(TPS7A5701_U1_N78960)==1, 1,0)    }
C_TPS7A5701_U1_C12         0 TPS7A5701_U1_N586013  1m  
E_TPS7A5701_U1_ABM50         TPS7A5701_U1_N158760 0 VALUE {
+  V(TPS7A5701_U1_N146187)  
+ * (ABS(V(OUT_1)) + 1e-6)  
+ / (ABS(V(SNS)) + 1e-6)  }
R_TPS7A5701_U1_R17         TPS7A5701_U1_N5907621 TPS7A5701_U1_N586013  1u  
V_TPS7A5701_U1_V3         TPS7A5701_U1_N13214 0 {UHYS}
E_TPS7A5701_U1_ABM21         TPS7A5701_U1_N31811 0 VALUE { IF(V(IN_1)>=1.1 &
+  V(VBIAS)>=(2.1+V(OUT_1)) & V(TPS7A5701_U1_EN_OK)==1, 1,0)    }
C_TPS7A5701_U1_C4         0 REF  10p  
G_TPS7A5701_U1_G2         IN_1 NR/SS TPS7A5701_U1_N119065 0 1
E_TPS7A5701_U1_ABM45         TPS7A5701_U1_N78953 0 VALUE { IF( V(IN_1)>=0.7 &
+  V(VBIAS)>=(2.1+V(OUT_1)) & V(TPS7A5701_U1_EN_OK)==1, 1,0)    }
E_TPS7A5701_U1_ABM22         TPS7A5701_U1_N32152 0 VALUE { IF(
+  V(TPS7A5701_U1_N31811)>0.6 | V(TPS7A5701_U1_CP_OK)>0.6, 1,0)    }
E_TPS7A5701_U1_ABM4         TPS7A5701_U1_N09035 0 VALUE { V(REF)  
+ * (ABS(V(OUT_1)) + 1e-6)  
+ / (ABS(V(SNS)) + 1e-6)  }
R_TPS7A5701_U1_R5         TPS7A5701_U1_N09745 TPS7A5701_U1_N09604  1 TC=0,0 
V_TPS7A5701_U1_V1         TPS7A5701_U1_N11626 0 {EHYS}
E_TPS7A5701_U1_ABM41         TPS7A5701_U1_N66054 0 VALUE { IF( V(IN_1)<1.1 &
+  V(TPS7A5701_U1_EN_OK)==1 & V(VBIAS)>=3, 1,0)    }
E_TPS7A5701_U1_ABM1         TPS7A5701_U1_N5907621 0 VALUE {
+  MIN(V(REF),V(REF)*0.97)    }
R_TPS7A5701_U1_R13         0 IN_1  10G  
R_TPS7A5701_U1_R2         GND TPS7A5701_U1_N05382  1G  
X_TPS7A5701_U1_S2    TPS7A5701_U1_N148635 GND TPS7A5701_U1_N146187 NR/SS
+  V_INT_TPS7A5701_U1_S2 
G_TPS7A5701_U1_G1         IN_1 REF TPS7A5701_U1_N38021 0 1
R_TPS7A5701_U1_R1         GND REF  10G  
E_TPS7A5701_U1_ABM39         TPS7A5701_U1_N49515 0 VALUE { IF(
+  V(TPS7A5701_U1_CP_OK)==0 & V(TPS7A5701_U1_EN_OK)==1, {VBEHYSwoCP},{VBEHYS})   
+  }
C_TPS7A5701_U1_C3         0 TPS7A5701_U1_N09604  100n  
R_TPS7A5701_U1_R10         TPS7A5701_U1_N153339 TPS7A5701_N314045  .1u TC=0,0 
C_TPS7A5701_U1_C7         0 TPS7A5701_N314045  1u  
E_TPS7A5701_U1_ABM25         TPS7A5701_U1_LOGIC_OK 0 VALUE { IF(
+  V(TPS7A5701_U1_N32252)==1 | V(TPS7A5701_U1_N32259)==1, 1,0)    }
E_TPS7A5701_U1_ABM46         TPS7A5701_U1_N78960 0 VALUE { IF( V(IN_1)<1.1 &
+  V(TPS7A5701_U1_CP_OK)==0, 1,0)    }
E_TPS7A5701_U1_ABM44         TPS7A5701_U1_N66092 0 VALUE { IF(
+  V(TPS7A5701_U1_N66054)==1 & V(TPS7A5701_U1_N79285)==1, 1,0)    }
X_TPS7A5701_U1_U1         EN TPS7A5701_U1_N11911 TPS7A5701_U1_N11626
+  TPS7A5701_U1_EN_OK COMPHYS_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_TPS7A5701_U1_ABM51         TPS7A5701_U1_N148635 0 VALUE { IF(
+  V(TPS7A5701_U1_LOGIC_OK)>0.6 & V(REF)>(0.9*V(REF)), 1,0)    }
E_TPS7A5701_U1_ABM15         TPS7A5701_U1_N31452 0 VALUE { IF( V(IN_1)>=1.1 &
+  V(TPS7A5701_U1_CP_OK)==0 & V(TPS7A5701_U1_EN_OK)==1, 1,0)    }
E_TPS7A5701_U1_ABM48         TPS7A5701_U1_N119065 0 VALUE { IF(
+  V(TPS7A5701_U1_LOGIC_OK)>0.6 & V(TPS7A5701_U1_EN_OK)>0.6, 200e-6,0)    }
X_TPS7A5701_U1_S1    TPS7A5701_U1_N583793 0 PG 0 V_INT_TPS7A5701_U1_S1 
R_TPS7A5701_U1_R11         GND TPS7A5701_U1_N146249  1G  
V_TPS7A5701_U1_V10         TPS7A5701_U1_N25468 0 {CPEHYS}
C_TPS7A5701_U1_C6         0 TPS7A5701_U1_N146249  1m  
V_TPS7A5701_U1_V5         TPS7A5701_U1_N586043 0 100m
R_TPS7A5701_R6         TPS7A5701_N313925 TPS7A5701_N313747  1 TC=0,0 
C_TPS7A5701_C3         TPS7A5701_N313747 0  1n  
C_TPS7A5701_C1         TPS7A5701_VXX IN_1  {1/(6.28*RINP*POLE)}  
R_TPS7A5701_R5         TPS7A5701_VZZ TPS7A5701_N313747  {ROUT}  
R_TPS7A5701_R1         TPS7A5701_VXX IN_1  {RINP}  
.PARAM  uvlobiaswocp=3 iref=50ua zero=1e6 rref=10k uhys=0.05 ehys=0.04
+  psrr=1e-6 vref={iref*rref} vbuvlo=2.8 drop=0.075 uvlo=.67 vbehys=0.115
+  cpehys=0.056 venb=0.65 pg_uhys=10m vinuvlowobias=1.07 pole=1e3 vout=5.2
+  cpenb=0.6 vbehyswocp=0.7 ilim=6 rout=10u rinp=1e7
.ENDS TPS7A5701_TRANS

.subckt TPS7A5701_TPS7A5701_F1 1 2 3 4  
F_TPS7A5701_F1         3 4 VF_TPS7A5701_F1 1
VF_TPS7A5701_F1         1 2 0V
.ends TPS7A5701_TPS7A5701_F1

.subckt V_INT_TPS7A5701_U1_S2 1 2 3 4  
S_TPS7A5701_U1_S2         3 4 1 2 _TPS7A5701_U1_S2
RS_TPS7A5701_U1_S2         1 2 1G
.MODEL         _TPS7A5701_U1_S2 VSWITCH Roff=1G Ron=10u Voff=1 Von=0
.ends V_INT_TPS7A5701_U1_S2

.subckt V_INT_TPS7A5701_U1_S1 1 2 3 4  
S_TPS7A5701_U1_S1         3 4 1 2 _TPS7A5701_U1_S1
RS_TPS7A5701_U1_S1         1 2 1G
.MODEL         _TPS7A5701_U1_S1 VSWITCH Roff=500u Ron=10e6 Voff=0.25V Von=.99V
.ends V_INT_TPS7A5701_U1_S1

.SUBCKT COMPHYS_BASIC_GEN INP INM HYS OUT PARAMS: VDD=1 VSS=0 VTHRESH=0.5	
EIN INP1 INM1 INP INM 1 
EHYS INP1 INP2 VALUE { IF( V(1) > {VTHRESH},-V(HYS),0) }
EOUT OUT 0 VALUE { IF( V(INP2)>V(INM1), {VDD} ,{VSS}) }
R1 OUT 1 1
C1 1 0 5n
RINP1 INP1 0 1K
.ENDS COMPHYS_BASIC_GEN