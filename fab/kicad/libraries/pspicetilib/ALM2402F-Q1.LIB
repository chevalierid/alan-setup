*$
* ALM2402F-Q1
*****************************************************************************
* (C) Copyright 2022 Texas Instruments Incorporated. All rights reserved.                                            
*****************************************************************************
** This model is designed as an aid for customers of Texas Instruments.
** TI and its licensors and suppliers make no warranties, either expressed
** or implied, with respect to this model, including the warranties of 
** merchantability or fitness for a particular purpose.  The model is
** provided solely on an "as is" basis.  The entire risk as to its quality
** and performance is with the customer
*****************************************************************************
*
* This model is subject to change without notice. Texas Instruments
* Incorporated is not responsible for updating this model.
*
*****************************************************************************
*
** Released by: Online Design Tools, Texas Instruments Inc.
* Part: ALM2402F-Q1
* Date: 02SEP2022
* Model Type: Generic (suitable for all analysis types)
* EVM Order Number: N/A 
* EVM Users Guide:  N/A 
* Datasheet: SBOS927B - MAY 2019 - REVISED OCTOBER 2021 
* Created with Green-Williams-Lis Op Amp Macro-model Architecture
*
* Model Version: Final 1.3
*
*****************************************************************************
*
* Updates:
*
* Final 1.3
* 1. Moved R_NOISELESS .model inside ALM2402F-Q1 subckt.
* 2. Updated PSpice Symbol.
*
* Final 1.2
* 1. Modified the capacitor(C14) value from 1F to 100nF in GND Float-IQ block  
*    to resolve the convergence issue in single and asymmetric supply test.
* 2. Updated the current direction(i.e. IOUT- IOUT+) of IQ_SRC block to 
*    resolve Iout current direction issue.
* 3. Added Overload Recovery Clamp, Overload switch control and SW_OL blocks.
*
* Final 1.1
* 1. Updated the model as per the datasheet
*
* Final 1.0
* Release to Web.
*
*****************************************************************************
* Model Usage Notes:
* 1. The following parameters are modeled: 
*    a. OPEN-LOOP GAIN AND PHASE VS. FREQUENCY  WITH RL, CL EFFECTS (Aol)
*    b. UNITY GAIN BANDWIDTH (GBW)
*    c. INPUT COMMON-MODE REJECTION RATIO VS. FREQUENCY (CMRR)
*    d. POWER SUPPLY REJECTION RATIO VS. FREQUENCY (PSRR)
*    e. DIFFERENTIAL INPUT IMPEDANCE (Zid)
*    f. COMMON-MODE INPUT IMPEDANCE (Zic)
*    g. OPEN-LOOP OUTPUT IMPEDANCE VS. FREQUENCY (Zo)
*    h. OUTPUT CURRENT THROUGH THE SUPPLY (Iout)
*    i. INPUT VOLTAGE NOISE DENSITY VS. FREQUENCY (en)
*    j. INPUT CURRENT NOISE DENSITY VS. FREQUENCY (in)
*    k. OUTPUT VOLTAGE SWING vs. OUTPUT CURRENT (Vo)
*    l. SHORT-CIRCUIT OUTPUT CURRENT (Isc)
*    m. QUIESCENT CURRENT (Iq)
*    n. SETTLING TIME VS. CAPACITIVE LOAD (ts)
*    o. SLEW RATE (SR)
*    p. SMALL SIGNAL OVERSHOOT VS. CAPACITIVE LOAD
*    q. LARGE SIGNAL RESPONSE
*    r. OVERLOAD RECOVERY TIME (tor)
*    s. INPUT BIAS CURRENT (Ib)
*    t. INPUT OFFSET CURRENT (Ios)
*    u. INPUT OFFSET VOLTAGE (Vos)
*    v. INPUT OFFSET VOLTAGE VS. TEMPERATURE (Vos Drift)
*    w. INPUT COMMON-MODE VOLTAGE RANGE (Vcm)
*    x. INPUT OFFSET VOLTAGE VS. INPUT COMMON-MODE VOLTAGE (Vos vs. Vcm)
*    y. INPUT/OUTPUT ESD CELLS (ESDin, ESDout)
* 2. OTF/SH_DN pin has not been implemented.
* 3. Two ALM2402F-Q1 models need to be considered for chip level.
*****************************************************************************
.SUBCKT ALM2402F-Q1 IN+ IN- VS VS_O GND OUT 
***************************************************************************** 
C_U_C13          0 U_N2013588  1F   
C_U_C14          0 U_N2013566  100N   
C_U_C15          0 U_N2013604  1F   
C_U_C16          U_MID U_N2013160  1F   
C_U_C17          U_MID U_N2013184  1F   
C_U_C18          U_MID U_N2013230  1F   
C_U_C19          U_MID U_N2013250  1F   
C_U_C20          U_MID U_N2013914  1F   
C_U_C21          U_MID U_N2013938  1F   
C_U_C22          U_MID U_N2013906  1F   
C_U_C23          U_N2013356 U_MID  1F   
C_U_C24          U_MID U_N2013352  1F   
C_U_C25          U_MID U_N2935559  1P   
C_U_C26          U_MID U_N2935807  1P   
C_U_C27          U_MID U_SW_OL  1N   
C_U_C28          U_VCLP U_MID  1P   
C_U_C29          U_VIMON U_MID  1P   
C_U_C30          U_VOUT_S U_MID  1P   
C_U_C4           U_N2013072 U_MID  1F   
C_U_C40          U_N2013672 U_N2013676  59.53N   
C_U_C44          U_N2013732 U_N2013728  4.372P   
C_U_C52          U_N2013984 U_N2013980  1.061P   
C_U_C56          U_N2014020 U_N2014016  7.998P   
C_U_C58          U_MID U_N2014052  31.15F   
C_U_C59          U_MID U_N2014088  14.47P   
C_U_C60          U_N2014114 U_N2014110  2.894F   
C_U_C61          U_N2014050 U_N2014154  144.7P   
C_U_C62          U_MID U_N2014198  31.15F   
C_U_C63          U_N2014236 U_N2014232  63.66F   
C_U_C64          U_N2014268 U_N2014264  22.74F   
C_U_C65          U_N2014316 U_N2014312  589.5F   
C_U_C66          U_MID U_CLAMP  11.27N   
C_U_C_COM0       U_ESDP U_MID  3.5P   
C_U_C_COM1       U_MID U_ESDN  3.5P   
C_U_C_DIFF       U_ESDN U_ESDP  0.52P   
C_U_C_ZO1        U_N2013836 U_N2013838  1.098U   
D_U_DIO_CLAMP_1  U_VEE_B U_N2122165 DIO_CLAMP_ALM2402FQ1
D_U_DIO_CLAMP_2  U_VEE_B U_N2123302 DIO_CLAMP_ALM2402FQ1
E_E1             VS_O_B 0 VS_O 0 1
E_U_E1           U_MID 0 U_N2013566 0 1
E_U_E2           U_N2013438 U_MID U_CL_CLAMP U_MID 1
E_U_E3           U_N2013468 U_MID OUT U_MID 1
G_U_G12          U_CLAW_CLAMP U_MID U_N2014268 U_MID -1M
G_U_G13          U_CL_CLAMP U_MID U_CLAW_CLAMP U_MID -1M
G_U_G18          U_VCC_B 0 VS 0 -1
G_U_G19          U_VEE_B 0 GND 0 -1
G_U_G2           U_N2012982 U_N2012974 U_N2012972 U_MID -1M
G_U_G20          U_VCC_CLP U_MID U_N2013356 U_MID -1M
G_U_G21          U_VEE_CLP U_MID U_N2013352 U_MID -1M
G_U_G22          U_N2935687 U_MID U_N2935675 U_MID -1
G_U_G23          U_N2935755 U_MID U_N2935777 U_MID -1
G_U_G5           U_N2013000 U_N2012996 U_N2014020 U_N2014114 -1M
G_U_GA1          U_VSENSE U_MID U_CLAMP U_MID -1M
G_U_GA10         U_N2014198 U_MID U_N2014052 U_MID -1U
G_U_GA11         U_N2014232 U_MID U_N2013984 U_MID -2.4
G_U_GA12         U_N2014264 U_MID U_N2014236 U_MID -10
G_U_GA13         U_N2014312 U_MID U_N2014084 U_MID -1
G_U_GA5          U_N2013980 U_MID U_N2014198 U_MID -1.48
G_U_GA8          U_N2014052 U_MID U_N2014050 U_MID -1U
G_U_GA9          U_N2014154 U_MID U_VSENSE U_MID -1.145
G_U_G_CMR1       U_N2013672 U_MID U_ESDP U_MID -138.4M
G_U_G_CMR2       U_N2012972 U_MID U_N2013676 U_MID -1
G_U_G_ZO1        U_N2013728 U_MID U_VEE_B U_MID -534.5M
G_U_G_ZO6        U_N2013836 U_MID U_CL_CLAMP U_N2013116 -89
G_U_G_ZO7        U_N2014080 U_MID U_N2013838 U_MID -67.59
G_U_G_ZO8        U_N2014016 U_MID U_VCC_B U_MID -977.7M
G_U_G_ZO9        U_N2014110 U_MID U_N2013732 U_MID -1.818
I_U_I_B          U_N2012960 U_MID DC 3.5N  
I_U_I_OS         U_ESDN U_MID DC 1.5N  
I_U_I_Q          VS GND DC 4M  
R_U_R1           IN+ U_ESDP R_NOISELESS 10M
R_U_R12          U_MID U_VSENSE R_NOISELESS 1K
R_U_R123         U_N2013984 U_N2013980 R_NOISELESS 10K
R_U_R124         U_MID U_N2013980 R_NOISELESS 1
R_U_R125         U_MID U_N2013984 R_NOISELESS 20.83K
R_U_R133         U_N2014016 U_N2014020 R_NOISELESS 100MEG
R_U_R134         U_MID U_N2014016 R_NOISELESS 1
R_U_R135         U_N2014020 U_MID R_NOISELESS 5.752K
R_U_R138         U_MID U_N2014052 R_NOISELESS 1MEG
R_U_R139         U_N2014084 U_N2014080 R_NOISELESS 1K
R_U_R140         U_N2014088 U_N2014084 R_NOISELESS 10K
R_U_R141         U_MID U_N2014080 R_NOISELESS 1
R_U_R142         U_N2014110 U_N2014114 R_NOISELESS 100MEG
R_U_R143         U_MID U_N2014110 R_NOISELESS 1
R_U_R144         U_N2014114 U_MID R_NOISELESS 122.2MEG
R_U_R145         U_N2014050 U_N2014154 R_NOISELESS 10K
R_U_R146         U_MID U_N2014154 R_NOISELESS 1
R_U_R147         U_MID U_N2014050 R_NOISELESS 68.75K
R_U_R148         U_MID U_N2014198 R_NOISELESS 1MEG
R_U_R149         U_N2014236 U_N2014232 R_NOISELESS 10K
R_U_R15          U_N2012996 U_N2122165 R_NOISELESS 1M
R_U_R150         U_MID U_N2014232 R_NOISELESS 1
R_U_R151         U_MID U_N2014236 R_NOISELESS 7.143K
R_U_R152         U_N2014268 U_N2014264 R_NOISELESS 10K
R_U_R153         U_MID U_N2014264 R_NOISELESS 1
R_U_R154         U_MID U_N2014268 R_NOISELESS 1.111K
R_U_R155         U_N2014316 U_N2014312 R_NOISELESS 10K
R_U_R156         U_MID U_N2014312 R_NOISELESS 1
R_U_R157         U_MID U_N2014316 R_NOISELESS 1.561K
R_U_R158         U_MID U_CLAMP R_NOISELESS 1MEG
R_U_R159         U_N2122165 U_N2012982 R_NOISELESS 10K
R_U_R16          U_N2013000 U_N2012996 R_NOISELESS 1K
R_U_R160         U_N2123302 U_ESDN R_NOISELESS 10K
R_U_R17          U_N2013034 U_N2123302 R_NOISELESS 1M
R_U_R18          U_MID U_N2013038 R_NOISELESS 1T
R_U_R19          U_MID U_N2013050 R_NOISELESS 1T
R_U_R2           IN- U_ESDN R_NOISELESS 10M
R_U_R20          U_N2013058 U_MID R_NOISELESS 1
R_U_R21          U_N2013072 U_N2013058 R_NOISELESS 1M
R_U_R22          U_MID U_N2013082 R_NOISELESS 1MEG
R_U_R3           U_ESDP U_MID R_NOISELESS 1T
R_U_R32          U_MID U_CLAW_CLAMP R_NOISELESS 1K
R_U_R33          U_MID U_CL_CLAMP R_NOISELESS 1K
R_U_R4           U_MID U_ESDN R_NOISELESS 1T
R_U_R46          U_VCC_B 0 R_NOISELESS 1
R_U_R47          U_VCC_B U_N2013588 R_NOISELESS 1M
R_U_R48          U_N2013588 U_N2013566 R_NOISELESS 1MEG
R_U_R49          U_N2013566 0 R_NOISELESS 1T
R_U_R50          U_N2013566 U_N2013604 R_NOISELESS 1MEG
R_U_R51          U_N2013604 U_VEE_B R_NOISELESS 1M
R_U_R52          U_VEE_B 0 R_NOISELESS 1
R_U_R53          U_VCC_CLP U_MID R_NOISELESS 1T
R_U_R54          U_N2013148 U_MID R_NOISELESS 1
R_U_R55          U_N2013160 U_N2013148 R_NOISELESS 1M
R_U_R56          U_VEE_CLP U_MID R_NOISELESS 1T
R_U_R57          U_N2013182 U_MID R_NOISELESS 1
R_U_R58          U_N2013184 U_N2013182 R_NOISELESS 1M
R_U_R59          U_N2013226 U_MID R_NOISELESS 1T
R_U_R60          U_N2013228 U_MID R_NOISELESS 1
R_U_R61          U_N2013230 U_N2013228 R_NOISELESS 1M
R_U_R62          U_N2013250 U_N2013256 R_NOISELESS 1M
R_U_R63          U_N2013268 U_MID R_NOISELESS 1T
R_U_R64          U_N2013256 U_MID R_NOISELESS 1
R_U_R65          U_N2013908 U_MID R_NOISELESS 1T
R_U_R66          U_N2013912 U_MID R_NOISELESS 1
R_U_R67          U_N2013914 U_N2013912 R_NOISELESS 1M
R_U_R68          U_N2013938 U_N2013944 R_NOISELESS 1M
R_U_R69          U_N2013956 U_MID R_NOISELESS 1T
R_U_R70          U_N2013944 U_MID R_NOISELESS 1
R_U_R71          U_N2013906 U_VSENSE R_NOISELESS 1M
R_U_R72          VS_O_B U_N2013320 R_NOISELESS 1K
R_U_R73          U_N2013320 U_N2013356 R_NOISELESS 1M
R_U_R74          U_N2013324 U_VEE_B R_NOISELESS 1K
R_U_R75          U_N2013324 U_N2013352 R_NOISELESS 1M
R_U_R76          U_MID U_VCC_CLP R_NOISELESS 1K
R_U_R77          U_VEE_CLP U_MID R_NOISELESS 1K
R_U_R78          U_N2935755 U_MID R_NOISELESS 1
R_U_R79          U_N2935687 U_MID R_NOISELESS 1
R_U_R8           U_N2012982 U_N2012974 R_NOISELESS 1K
R_U_R80          U_V11 U_N2935559 R_NOISELESS 100
R_U_R81          U_V12 U_N2935807 R_NOISELESS 100
R_U_R82          U_N2935573 U_MID R_NOISELESS 1
R_U_R83          U_N2935573 U_SW_OL R_NOISELESS 100
R_U_R84          U_N2013438 U_VCLP R_NOISELESS 100
R_U_R89          U_N2013676 U_N2013672 R_NOISELESS 10K
R_U_R90          U_MID U_N2013672 R_NOISELESS 1
R_U_R91          U_MID U_N2013676 R_NOISELESS 722.6M
R_U_R92          U_MID U_N2012972 R_NOISELESS 1
R_U_R96          U_N2013732 U_MID R_NOISELESS 10.52K
R_U_R97          U_N2013728 U_N2013732 R_NOISELESS 100MEG
R_U_R98          U_MID U_N2013728 R_NOISELESS 1
R_U_RDUMMY       U_MID U_N2013116 R_NOISELESS 36.1K
R_U_RX           U_N2013116 U_N2013852 R_NOISELESS 361K
R_U_RX1          U_MID U_N2013456 R_NOISELESS 1T
R_U_RX2          U_VIMON U_N2013456 R_NOISELESS 100
R_U_RX3          U_MID U_N2013468 R_NOISELESS 1T
R_U_RX4          U_VOUT_S U_N2013468 R_NOISELESS 100
R_U_R_ZO1        U_MID U_N2013836 R_NOISELESS 1
R_U_R_ZO10       U_MID U_N2013852 R_NOISELESS 1
R_U_R_ZO2        U_N2013838 U_N2013836 R_NOISELESS 10K
R_U_R_ZO3        U_N2013838 U_MID R_NOISELESS 150.2
V_U_VCM_MAX      U_N2013038 U_VCC_B -1.2
V_U_VCM_MIN      U_N2013050 U_VEE_B 300M
V_U_V_GRN        U_N2013956 U_MID -2.4K
V_U_V_GRP        U_N2013908 U_MID 3K
V_U_V_ISCN       U_N2013268 U_MID -546
V_U_V_ISCP       U_N2013226 U_MID 687
V_U_V_ORN        U_N2935675 U_VCLP -32
V_U_V_ORP        U_N2935777 U_VCLP 32 
X_U_H1           U_N2013116 OUT U_N2013456 U_MID BLOCK_DC_H1_ALM2402F-Q1 
X_U_H2           U_N2935293 U_N2935755 U_V12 U_MID BLOCK_DC_H2_ALM2402F-Q1 
X_U_H3           U_N2935237 U_N2935687 U_V11 U_MID BLOCK_DC_H3_ALM2402F-Q1 
X_U_S3           U_N2935237 U_CLAMP U_N2935237 U_CLAMP BLOCK_DC_S3_ALM2402F-Q1 
X_U_S4           U_CLAMP U_N2935293 U_CLAMP U_N2935293 BLOCK_DC_S4_ALM2402F-Q1 
X_U_U1           U_ESDP U_N2012960 VNSE_ALM2402F-Q1 PARAMS: FLW=0.01 GLF=6.1387
+  RNV=1227.61
X_U_U10          U_VCC_CLP U_VEE_CLP U_VOUT_S U_MID U_N2013148 U_N2013182
+  CLAMP_AMP_LO_ALM2402F-Q1 PARAMS: G=1
X_U_U11          U_N2013226 U_N2013268 U_VIMON U_MID U_N2013228 U_N2013256
+  CLAMP_AMP_LO_ALM2402F-Q1 PARAMS: G=1
X_U_U12          U_N2013908 U_N2013956 U_N2013906 U_MID U_N2013912 U_N2013944
+  CLAMP_AMP_HI_ALM2402F-Q1 PARAMS: G=10
X_U_U16          U_MID U_N2935573 U_N2935559 U_N2935807 OL_SENSE_ALM2402F-Q1
X_U_U18          U_VIMON U_MID U_N2013320 VS_O_B CLAWP_ALM2402F-Q1
X_U_U19          U_MID U_VIMON U_VEE_B U_N2013324 CLAWN_ALM2402F-Q1
X_U_U21          OUT VS GND ESD_OUT_ALM2402F-Q1
X_U_U22          U_N2013230 U_N2013250 U_CL_CLAMP U_MID CL_SRC_ALM2402F-Q1
+  PARAMS: GAIN=1 IPOS=12E1 INEG=-9.6E1
X_U_U23          U_N2013914 U_N2013938 U_CLAMP U_MID GR_SRC_ALM2402F-Q1 PARAMS:
+  GAIN=1 IPOS=0.0734E1 INEG=-0.0734E1
X_U_U25          U_SW_OL U_MID U_N2013836 U_N2013838 SW_OL_ALM2402F-Q1 PARAMS:
X_U_U26          U_VIMON U_MID U_MID VS_O IQ_SRC_ALM2402F-Q1 PARAMS: GAIN=1E-3
X_U_U27          U_MID U_VIMON GND U_MID IQ_SRC_ALM2402F-Q1 PARAMS: GAIN=1E-3
X_U_U30          U_N2013072 U_N2013034 U_MID U_N2013082 AOL_1_ALM2402F-Q1
+  PARAMS: GAIN=1E-4 IPOS=.5 INEG=-.5
X_U_U31          U_N2013082 U_MID U_MID U_CLAMP AOL_2_ALM2402F-Q1 PARAMS:
+  GAIN=1.530E-3 IPOS=0.0357 INEG=-0.0357
X_U_U35          U_N2013160 U_N2013184 U_CLAW_CLAMP U_MID CLAW_SRC_ALM2402F-Q1
+  PARAMS: GAIN=1 IPOS=6E1 INEG=-4.8E1
X_U_U36          U_N2012960 U_MID FEMT_ALM2402F-Q1 PARAMS: NVRF=20
X_U_U37          U_ESDN U_MID FEMT_ALM2402F-Q1 PARAMS: NVRF=20
X_U_U38          U_N2014316 U_MID U_MID U_N2013852 ZO_SRC_ALM2402F-Q1 PARAMS:
+  GAIN=7.407 IPOS=550E3 INEG=-450E3
X_U_U4           U_N2012974 U_N2012960 VOS_DRIFT_ALM2402F-Q1 PARAMS: DC=3.25E-4
+  POL=1 DRIFT=65E-06
X_U_U5           U_ESDN U_ESDP VS GND ESD_IN_ALM2402F-Q1
X_U_U6           U_N2013000 U_MID U_N2013058 U_MID U_N2013038 U_N2013050
+  VCM_CLAMP_ALM2402F-Q1 PARAMS: GAIN=1
.MODEL DIO_CLAMP_ALM2402FQ1 D( IS=1.17E-15 N=1 BV=7 IBV=20U RS=1.56 
+      VJ=683M M=315M FC=500M TT=25.9N 
+      EG=1.11 XTI=3 KF=0 AF=1 )
.MODEL R_NOISELESS RES (T_ABS=-273.15)
.ENDS ALM2402F-Q1
*
.SUBCKT BLOCK_DC_H1_ALM2402F-Q1 1 2 3 4  
H_U_H1         3 4 VH_U_H1 1K
VH_U_H1         1 2 0V
.ENDS  BLOCK_DC_H1_ALM2402F-Q1
*
.SUBCKT BLOCK_DC_H2_ALM2402F-Q1 1 2 3 4  
H_U_H2         3 4 VH_U_H2 1
VH_U_H2         1 2 0V
.ENDS  BLOCK_DC_H2_ALM2402F-Q1
*
.SUBCKT BLOCK_DC_H3_ALM2402F-Q1 1 2 3 4  
H_U_H3         3 4 VH_U_H3 -1
VH_U_H3         1 2 0V
.ENDS  BLOCK_DC_H3_ALM2402F-Q1
*
.SUBCKT BLOCK_DC_S3_ALM2402F-Q1 1 2 3 4  
S_U_S3         3 4 1 2 _U_S3
RS_U_S3         1 2 1G
.MODEL         _U_S3 VSWITCH ROFF=1E12 RON=10M VOFF=0.0V VON=10MV
.ENDS  BLOCK_DC_S3_ALM2402F-Q1
*
.SUBCKT BLOCK_DC_S4_ALM2402F-Q1 1 2 3 4  
S_U_S4         3 4 1 2 _U_S4
RS_U_S4         1 2 1G
.MODEL         _U_S4 VSWITCH ROFF=1E12 RON=10M VOFF=0.0V VON=10MV
.ENDS  BLOCK_DC_S4_ALM2402F-Q1
*
.SUBCKT AOL_1_ALM2402F-Q1 VC+ VC- IOUT+ IOUT- PARAMS: GAIN=1E-4 IPOS=.5 INEG=-.5
G1 IOUT+ IOUT- VALUE={LIMIT(GAIN*V(VC+,VC-),INEG,IPOS)}
.ENDS  AOL_1_ALM2402F-Q1
*
.SUBCKT AOL_2_ALM2402F-Q1 VC+ VC- IOUT+ IOUT- PARAMS: GAIN=1.530E-3 IPOS=0.0357 INEG=-0.0357
G1 IOUT+ IOUT- VALUE={LIMIT(GAIN*V(VC+,VC-),INEG,IPOS)}
.ENDS  AOL_2_ALM2402F-Q1
*
.SUBCKT CLAMP_AMP_HI_ALM2402F-Q1 VC+ VC- VIN COM VO+ VO- PARAMS: G=10
GVO+ COM VO+ VALUE = {IF(V(VIN,COM)>V(VC+,COM),((V(VIN,COM)-V(VC+,COM))*G),0)}
GVO- COM VO- VALUE = {IF(V(VIN,COM)<V(VC-,COM),((V(VC-,COM)-V(VIN,COM))*G),0)}
.ENDS  CLAMP_AMP_HI_ALM2402F-Q1
*
.SUBCKT CLAMP_AMP_LO_ALM2402F-Q1 VC+ VC- VIN COM VO+ VO- PARAMS: G=1
GVO+ COM VO+ VALUE = {IF(V(VIN,COM)>V(VC+,COM),((V(VIN,COM)-V(VC+,COM))*G),0)}
GVO- COM VO- VALUE = {IF(V(VIN,COM)<V(VC-,COM),((V(VC-,COM)-V(VIN,COM))*G),0)}
.ENDS  CLAMP_AMP_LO_ALM2402F-Q1
*
.SUBCKT CLAWN_ALM2402F-Q1 VC+ VC- IOUT+ IOUT-
G1 IOUT+ IOUT- TABLE {(V(VC+,VC-))} =
+(0,       4.00E-07)
+(356.515, 3.68E-04)
+(491.278, 6.06E-04)
+(530.940, 7.61E-04)
+(540.743, 8.75E-04)
+(546,     6.00E-03)
.ENDS  CLAWN_ALM2402F-Q1
*
.SUBCKT CLAWP_ALM2402F-Q1 VC+ VC- IOUT+ IOUT-
G1 IOUT+ IOUT- TABLE {(V(VC+,VC-))} =
+(0,       1.00E-03)
+(202.020, 1.13E-03)
+(303.030, 1.31E-03)
+(353.535, 1.47E-03)
+(434.342, 1.83E-03)
+(515.150, 2.35E-03)
+(575.755, 2.88E-03)
+(636.358, 3.63E-03)
+(666.656, 4.24E-03)
+(687,     5.07E-03)
.ENDS  CLAWP_ALM2402F-Q1
*
.SUBCKT CLAW_SRC_ALM2402F-Q1 VC+ VC- IOUT+ IOUT- PARAMS: GAIN=1 IPOS=6E1 INEG=-4.8E1
G1 IOUT+ IOUT- VALUE={LIMIT(GAIN*V(VC+,VC-),INEG,IPOS)}
.ENDS  CLAW_SRC_ALM2402F-Q1
*
.SUBCKT CL_SRC_ALM2402F-Q1 VC+ VC- IOUT+ IOUT- PARAMS: GAIN=1 IPOS=12E1 INEG=-9.6E1
G1 IOUT+ IOUT- VALUE={LIMIT(GAIN*V(VC+,VC-),INEG,IPOS)}
.ENDS  CL_SRC_ALM2402F-Q1
*
.SUBCKT ESD_IN_ALM2402F-Q1 ESDN ESDP VS GND 
.MODEL ESD_SW VSWITCH(RON=50 ROFF=1E12 VON=500E-3 VOFF=100E-3)
S1 ESDN VS ESDN VS ESD_SW
S2 ESDP VS ESDP VS ESD_SW
S3 GND ESDN GND ESDN ESD_SW
S4 GND ESDP GND ESDP ESD_SW
.ENDS  ESD_IN_ALM2402F-Q1
*
.SUBCKT ESD_OUT_ALM2402F-Q1 OUT VS GND 
.MODEL ESD_SW VSWITCH(RON=50 ROFF=1E12 VON=500E-3 VOFF=100E-3)
S1 OUT VS OUT VS ESD_SW
S2 GND OUT GND OUT ESD_SW
.ENDS  ESD_OUT_ALM2402F-Q1
*
.SUBCKT FEMT_ALM2402F-Q1 1 2 PARAMS: NVRF=20
E1 3 0 5 0 10
R1 5 0 {1.184*PWR(NVRF,2)}
R2 5 0 {1.184*PWR(NVRF,2)}
G1 1 2 3 0 1E-6
.ENDS  FEMT_ALM2402F-Q1
*
.SUBCKT GR_SRC_ALM2402F-Q1 VC+ VC- IOUT+ IOUT- PARAMS: GAIN=1 IPOS=0.0734E1 INEG=-0.0734E1
G1 IOUT+ IOUT- VALUE={LIMIT(GAIN*V(VC+,VC-),INEG,IPOS)}
.ENDS  GR_SRC_ALM2402F-Q1
*
.SUBCKT IQ_SRC_ALM2402F-Q1 VC+ VC- IOUT+ IOUT- PARAMS: GAIN=1E-3
G1 IOUT- IOUT+ VALUE={IF( (V(VC+,VC-)<=0),0,GAIN*V(VC+,VC-) )}
.ENDS  IQ_SRC_ALM2402F-Q1
*
.SUBCKT OL_SENSE_ALM2402F-Q1 COM SW+ OLN OLP
GSW+ COM SW+ VALUE = {IF((V(OLN,COM)>10E-3 | V(OLP,COM)>10E-3),1,0)}
.ENDS  OL_SENSE_ALM2402F-Q1
*
.SUBCKT SW_OL_ALM2402F-Q1 SW_OL_ALM2402F-Q1 MID CAP_L CAP_R
.MODEL OL_SW VSWITCH(RON=1E-3 ROFF=1E12 VON=900E-3 VOFF=800E-3)
S1 CAP_L CAP_R SW_OL_ALM2402F-Q1 MID OL_SW
.ENDS  SW_OL_ALM2402F-Q1
*
.SUBCKT VCM_CLAMP_ALM2402F-Q1 VIN+ VIN- IOUT- IOUT+ VP+ VP- PARAMS: GAIN=1
G1 IOUT+ IOUT- VALUE={LIMIT(GAIN*V(VIN+,VIN-),V(VP-,VIN-), V(VP+,VIN-))}
.ENDS  VCM_CLAMP_ALM2402F-Q1
*
.SUBCKT VNSE_ALM2402F-Q1 1 2 PARAMS: FLW=0.01 GLF=6.1387 RNV=1227.61
.MODEL DVN D KF={PWR(FLW,0.5)/1E11} IS=1.0E-16
I1 0 7 10E-3
I2 0 8 10E-3
D1 7 0 DVN
D2 8 0 DVN
E1 3 6 7 8 {GLF}
R1 3 0 1E9
R2 3 0 1E9
R3 3 6 1E9
E2 6 4 5 0 10
R4 5 0 {RNV}
R5 5 0 {RNV}
R6 3 4 1E9
R7 4 0 1E9
E3 1 2 3 4 1
.ENDS  VNSE_ALM2402F-Q1
*
.SUBCKT VOS_DRIFT_ALM2402F-Q1 VOS+ VOS- PARAMS: DC=3.25E-4 POL=1 DRIFT=65E-06
E1 VOS+ VOS- VALUE={DC+POL*DRIFT*(TEMP-27)}
.ENDS  VOS_DRIFT_ALM2402F-Q1
*
.SUBCKT ZO_SRC_ALM2402F-Q1 VC+ VC- IOUT+ IOUT- PARAMS: GAIN=7.407 IPOS=550E3 INEG=-450E3
G1 IOUT+ IOUT- VALUE={LIMIT(GAIN*V(VC+,VC-),INEG,IPOS)}
.ENDS  ZO_SRC_ALM2402F-Q1
*
