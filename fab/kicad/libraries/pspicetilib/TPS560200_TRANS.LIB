*$
* TPS560200
*****************************************************************************
* (C) Copyright 2015 Texas Instruments Incorporated. All rights reserved.                                            
*****************************************************************************
** This model is designed as an aid for customers of Texas Instruments.
** TI and its licensors and suppliers make no warranties, either expressed
** or implied, with respect to this model, including the warranties of 
** merchantability or fitness for a particular purpose.  The model is
** provided solely on an "as is" basis.  The entire risk as to its quality
** and performance is with the customer
*****************************************************************************
*
* This model is subject to change without notice. Texas Instruments
* Incorporated is not responsible for updating this model.
*
*****************************************************************************
*
** Released by: WEBENCH Design Center, Texas Instruments Inc.
* Part: TPS560200
* Date: 09SEP2015
* Model Type: TRANSIENT
* Simulator: PSPICE
* Simulator Version: 16.2.0.p001
* EVM Order Number: TPS560200EVM-537 
* EVM Users Guide: SLVU954–September 2013
* Datasheet: SLVSC81B –SEPTEMBER 2013–REVISED FEBRUARY 2015
*
* Model Version: Final 1.00
*
*****************************************************************************
*
* Updates:
*
* Final 1.00
* Release to Web.
*
*****************************************************************************
.SUBCKT TPS560200_TRANS EN GND PH VIN VSENSE PARAMS: STEADY_STATE=0 MODE=0  
C_U1_C1         U1_SS GND  1u IC={STEADY_STATE*1} 
X_U1_S6    U1_ILIM_LESS GND U1_SS U1_N15516969 SOFTSTART_U1_S6 
R_U1_R32         U1_N15509786 U1_UVP_DELAY_INV  1 TC=0,0 
C_U1_C3         GND U1_RESET_1  1n  
E_U1_ABM4         U1_N15509898 0 VALUE { if(V(RESET)>0.5, 1,0)    }
E_U1_ABM20         N13136054 0 VALUE { if(V(U1_SS)>0.795, 0.795, V(U1_SS))    }
G_U1_ABMII4         VREG5 U1_SS VALUE { if(V(U1_EN_SS)>0.5 & V(U1_SS) < 1.3,
+  0.4m+(V(MODE)*0.4m),0)    }
R_U1_R33         U1_N15509898 U1_RESET_1  1 TC=0,0 
X_U1_U9         U1_SS VREG5 d_d1 PARAMS:
E_U1_ABM21         ENHICCUP 0 VALUE { if(V(U1_SS)>0.795, 1,0)    }
C_U1_C2         GND U1_UVP_DELAY_INV  1n  
E_U1_ABM5         U1_N15516969 0 VALUE { if(V(U1_ILIM_LESS)>0.6, 1.01,0)    }
X_U1_U11         U1_ENSS U1_UVP_DELAY_INV U1_EN_SS1 AND
X_U1_U13         U1_EN_SS1 RESET U1_RESET_1 U1_EN_SS MUX2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5
E_U1_ABM3         U1_N15509786 0 VALUE { if(V(UVP_DELAY)>0.5, 0,1)    }
E_U1_ABM22         U1_ENSS 0 VALUE { if(V(ENCIR)>0.5,1,0)    }
X_U1_S5    U1_EN_SS GND U1_SS GND SOFTSTART_U1_S5 
R_U1_R31         GND U1_SS  1E11  
V_V4         MODE GND {MODE}
R_U5_U27_R50         U5_U27_N16300086 U5_U27_N16300146  1 TC=0,0 
X_U5_U27_U16         U5_BLKT U5_U27_N16300186 U5_U27_N16404109 AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
C_U5_U27_C42         GND U5_U27_N16373516  250p  TC=0,0 
X_U5_U27_U650         U5_H1 U5_U27_H_PULSE_N U5_U27_N16345597 U5_U27_N16346654
+  SRLATCHSHP_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_U5_U27_ABM53         U5_U27_N16300152 0 VALUE { if
+  (V(ENCIR)>0.5,V(U5_LLC_ECO),0)    }
C_U5_U27_C39         GND U5_U27_N16300396  1n  TC=0,0 
X_U5_U27_U649         U5_U27_N16305224 U5_U27_N16306291 U5_U27_T50N
+  COMP_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
C_U5_U27_C38         GND U5_EN_SW  1n  TC=0,0 
X_U5_U27_S1    U5_U27_N16346654 GND U5_U27_N16305224 GND ON_TIME_MOD_U5_U27_S1 
X_U5_U27_S2    U5_U27_N16373492 GND U5_U27_N16373516 GND ON_TIME_MOD_U5_U27_S2 
G_U5_U27_ABM2I3         VREG5 U5_U27_TON VALUE { if(V(U5_H_NEW)>0.5,
+  (V(VIN))*1.208u,0)    }
X_U5_U27_U646         U5_PREBIAS_N U5_H1 U5_H1 U5_EN_SW U5_U27_N16382468
+  AND4_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
E_U5_U27_ABM55         U5_U27_N16300086 0 VALUE { if (
+  V(U5_U27_N16300152)<V(U5_U27_N16300136),1, 0)    }
X_U5_U27_U17         U5_U27_N16404109 U5_EN_SW U5_NEW AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
R_U5_U27_R33         U5_U27_N16299946 U5_EN_SW  1 TC=0,0 
C_U5_U27_C25         GND U5_U27_N16300146  1n  TC=0,0 
X_U5_U27_U13         U5_U27_H_PULSE_N U5_U27_ECO_N U5_U27_N16300216
+  AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
C_U5_U27_C41         GND U5_U27_N16305224  50p  TC=0,0 
G_U5_U27_ABMII1         GND U5_U27_N16305224 VALUE { V(U5_U27_N16345597)*1m   
+  }
V_U5_U27_V87         U5_U27_N16300136 GND 1m
E_U5_U27_ABM24         U5_U27_N16300186 0 VALUE { if( V(U5_VO_TON)  
+ >V(U5_U27_TON) ,0,1)   }
V_U5_U27_V89         U5_U27_N16373668 GND 1
V_U5_U27_V88         U5_U27_N16306291 GND 1
X_U5_U27_U651         U5_U27_T50N U5_NEW U5_U27_RESET_240N AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U5_U27_U14         U5_U27_QSET U5_EN_SW U5_H_PULSE AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
R_U5_U27_R52         U5_U27_N16300216 U5_L_PULSE  1 TC=0,0 
X_U5_U27_U648         U5_U27_N16300260 ENCIR U5_U27_N16299946 AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U5_U27_U653         U5_U27_SET250N U5_U27_QSET U5_U27_N16373730
+  U5_U27_N16373492 SRLATCHSHP_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U5_U27_U643         UVP_DELAY U5_U27_N16300260 INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U5_U27_U632         U5_U27_N16300146 U5_U27_ECO_N INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
R_U5_U27_R24         GND U5_U27_TON  800k TC=0,0 
C_U5_U27_C5         GND U5_U27_TON  9p  TC=0,0 
X_U5_U27_U656         U5_U27_H_PULSE_N U5_EN_SW U5_U27_SET250N AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
C_U5_U27_C26         GND U5_L_PULSE  1n  TC=0,0 
G_U5_U27_ABM2I4         U5_U27_TON GND VALUE { if(V(U5_H_NEW) <0.5,
+  V(U5_U27_TON)/200,0)    }
G_U5_U27_ABMII2         GND U5_U27_N16373516 VALUE { V(U5_U27_N16373730)*1m   
+  }
X_U5_U27_U655         U5_U27_N16382468 U5_U27_T250N U5_U27_N16382330
+  AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U5_U27_U645         U5_U27_N16300396 U5_U27_RESET_240N U5_U27_QSET
+  U5_U27_QRST srlatchrhp_basic_gen PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U5_U27_U644         U5_H_PULSE U5_U27_H_PULSE_N INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
R_U5_U27_R34         U5_U27_N16382330 U5_U27_N16300396  1 TC=0,0 
X_U5_U27_U652         U5_U27_N16373516 U5_U27_N16373668 U5_U27_T250N
+  COMP_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U5_U28_U15         U5_U28_N00467 U5_U28_N00383 U5_PRE_HDRIVE AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
C_U5_U28_C17         U5_U28_OCLHI GND  10p IC=0 TC=0,0 
R_U5_U28_R53         U5_U28_N00471 U5_U28_N00467  1 TC=0,0 
C_U5_U28_C27         GND U5_U28_N00467  1p  TC=0,0 
V_U5_U28_V87         U5_U28_OCLTHR GND -0.2145
R_U5_U28_R42         U5_U28_N01798 U5_U28_OCLHI  200 TC=0,0 
R_U5_U28_R54         U5_L_PULSE U5_U28_N00619  1 TC=0,0 
X_U5_U28_U640         U5_U28_OCLHI U5_U28_N00471 INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
E_U5_U28_ABM12         U5_U28_N01798 0 VALUE { if( V(U5_U28_OCLTHR)  
+ >V(LLC),1,0)   }
C_U5_U28_C28         GND U5_U28_N00619  1p  TC=0,0 
R_U5_U28_R51         U5_H_PULSE U5_U28_N00383  1 TC=0,0 
X_U5_U28_U629         U5_U28_N00619 U5_U28_OCLHI U5_PRE_LDRIVE OR2_BASIC_GEN
C_U5_U28_C24         GND U5_U28_N00383  1p  TC=0,0 
I_U5_U18_I1         VREG5 U5_U18_N15565152 DC 1u  
E_U5_U18_ABM56         U5_U18_N16234453 0 VALUE {
+  LIMIT(V(U5_U18_N16233449),0.8,6.5)    }
E_U5_U18_ABM53         U5_U18_DUTY 0 VALUE {
+  V(U5_U18_N16234453)/V(U5_U18_N16234749)    }
R_U5_U18_R51         U5_U18_N15548013 U5_U18_N15547717  1 TC=0,0 
E_U5_U18_ABM51         U5_U18_RAMP 0 VALUE { if(V(ENCIR)>0.5,   
+ V(U5_RMPIN),0)   }
E_U5_U18_ABM54         U5_U18_N15607492 0 VALUE { if(V(ENCIR)>0.5,   
+ V(U5_H_NEW),0)   }
E_U5_U18_ABM12         U5_U18_N15548013 0 VALUE { if( V(U5_VREFINT)  
+ >V(U5_U18_VIM) ,1,0)   }
E_U5_U18_E12         U5_U18_N15659009 GND U5_VRIP LPFSW 0.25
E_U5_U18_E11         U5_VO_TON GND LPFSW U5_U18_N15580272 1000
R_U5_U18_R57         U5_U18_N15607492 U5_U18_PULSE  1 TC=0,0 
E_U5_U18_ABM59         U5_U18_INT_RAMP 0 VALUE {
+  if(V(U5_U18_N15598172)>4*V(U5_U18_DV),4*V(U5_U18_DV),V(U5_U18_N15598172))    }
C_U5_U18_C47         GND U5_U18_N15591819  3p  TC=0,0 
E_U5_U18_ABM55         U5_U18_DV 0 VALUE {
+  if(V(ENHICCUP)>0.5,V(U5_U18_N16248368),LIMIT(V(U5_U18_N16248368),20m,33m))   
+  }
C_U5_U18_C37         GND U5_H1  1n  TC=0,0 
R_U5_U18_R47         U5_U18_N15591819 LPFSW  1Meg TC=0,0 
R_U5_U18_R43         U5_U18_N15565628 U5_U18_N15591819  1Meg TC=0,0 
C_U5_U18_C43         GND U5_U18_PULSE  1n  TC=0,0 
C_U5_U18_C36         GND U5_U18_N15547717  1n  TC=0,0 
C_U5_U18_C46         GND U5_VRIP  10p  TC=0,0 
X_U5_U18_U16         U5_BLKT U5_U18_N15547717 U5_U18_N15547787 AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
E_U5_U18_ABM58         U5_U18_N16248368 0 VALUE {
+  (-0.2537602273*V(U5_U18_DUTY)*V(U5_U18_DUTY)+0.187463633*V(U5_U18_DUTY)-3.034e-3)
+     }
E_U5_U18_ABM57         U5_U18_N16234749 0 VALUE { LIMIT(V(VIN),4.5,17)    }
E_U5_U18_ABM17         U5_VREFINT 0 VALUE { V(N13136054)  
+ + V(U5_U18_RAMP)   }
R_U5_U18_R52         U5_U18_N15547787 U5_H1  1 TC=0,0 
R_U5_U18_R45         U5_U18_N15598172 GND  40k TC=0,0 
E_U5_U18_E10         U5_RMPIN GND U5_U18_INT_RAMP GND 0.25
R_U5_U18_R46         U5_U18_N15602902 U5_U18_N15598172  760k TC=0,0 
C_U5_U18_C48         GND LPFSW  3p  TC=0,0 
R_U5_U18_R39         U5_U18_N15565628 GND  150k TC=0,0 
E_U5_U18_E13         U5_U18_N15602902 GND U5_U18_N15565152 GND 1
R_U5_U18_R54         U5_U18_N15580272 U5_VO_TON  45k TC=0,0 
C_U5_U18_C39         GND U5_U18_N15565152  2.75p IC=0 TC=0,0 
R_U5_U18_R42         U5_U18_N15565628 U5_VRIP  500k TC=0,0 
R_U5_U18_R40         PH U5_U18_N15565628  750k TC=0,0 
E_U5_U18_E14         U5_U18_N16233449 GND U5_VO_TON GND 4
R_U5_U18_R41         U5_U18_N15580272 GND  90k TC=0,0 
X_U5_U18_S1    U5_U18_PULSE GND U5_U18_N15565152 GND INT_COMP_U5_U18_S1 
E_U5_U18_ABM52         U5_U18_VIM 0 VALUE { ( V(U5_U18_N15659009)  
+ +V(VSENSE) )   }
R_U5_U11_R46         U5_U11_N00505 U5_U11_N00387  1 TC=0,0 
C_U5_U11_C22         GND U5_U11_N00387  1p  TC=0,0 
X_U5_U11_U5         U5_PRE_HDRIVE U5_U11_N034271 U5_U11_N00505 AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U5_U11_U635         U5_U11_N00355 U5_U11_N034271 INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U5_U11_U639         U5_VO_MAX U5_U11_N00347 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U5_U11_U4         U5_PRE_LDRIVE U5_U11_N00393 U5_L_NEW AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U5_U11_U8         U5_U11_N00347 U5_U11_N00387 U5_H_NEW AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
R_U5_U11_R45         U5_PRE_HDRIVE U5_U11_N00425  10k TC=0,0 
R_U5_U11_R44         U5_PRE_LDRIVE U5_U11_N00355  10k TC=0,0 
C_U5_U11_C20         GND U5_U11_N00425  1p  TC=0,0 
X_U5_U11_U634         U5_U11_N00425 U5_U11_N00393 INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
C_U5_U11_C19         GND U5_U11_N00355  1p  TC=0,0 
X_U5_U21_S18    U5_L_NEW GND U5_U21_N00883 U5_U21_N01281 DRIVER_U5_U21_S18 
X_U5_U21_U10         U5_U21_N162799660 U5_U21_N00883 d_d1 PARAMS:
E_U5_U21_ABM37         U5_VO_MAX 0 VALUE { if(V(LPFSW) >8,1,0)    }
X_U5_U21_H2    PH U5_U21_N00883 U5_LLC_ECO GND DRIVER_U5_U21_H2 
X_U5_U21_U631         U5_U21_N16272687 U5_BLKT INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U5_U21_S17    U5_H_NEW GND VIN U5_U21_N00883 DRIVER_U5_U21_S17 
X_U5_U21_U630         U5_H_NEW U5_L_NEW U5_U21_N16272409 OR2_BASIC_GEN
R_U5_U21_R9         LLC U5_U21_N01299  1 TC=0,0 
V_U5_U21_V1         U5_U21_N162799660 GND -250m
C_U5_U21_C11         GND LLC  10p IC=0 TC=0,0 
X_U5_U21_U12         U5_U21_N16272409 U5_U21_N16272687 one_shot PARAMS:  T=5  
X_U5_U21_U9         U5_U21_N162800140 VIN d_d1 PARAMS:
V_U5_U21_V2         U5_U21_N162800140 U5_U21_N00883 -250m
X_U5_U21_H1    U5_U21_N01281 GND U5_U21_N01299 GND DRIVER_U5_U21_H1 
E_U5_U15_ABM15         U5_PREBIAS_N 0 VALUE { if( V(U5_VREFINT)  
+ <0.73, V(U5_U15_N00303) ,1)   }
X_U5_U15_U641         U5_U15_N00189 U5_U15_N003530 INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
E_U5_U15_ABM13         U5_U15_N00189 0 VALUE { if( V(VSENSE)  
+ >(V(U5_VREFINT)+40m) ,1,0)   }
R_U5_U15_R57         U5_U15_N003530 U5_U15_N00303  1 TC=0,0 
C_U5_U15_C31         GND U5_U15_N00303  1n  TC=0,0 
E_u6_ABM19         u6_N11272786 0 VALUE { if( V(u6_ENSW)>0.5  
+ & V(u6_V5INOK)>0.5,1,0)   }
V_u6_V3         u6_N15420180 0 4.35
X_u6_U8         VIN u6_N15420180 u6_N167065480 u6_N15420410 COMPHYS_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
V_u6_V4         u6_N16710714 GND 2
X_u6_U9         EN u6_N16710714 d_d1 PARAMS:
C_u6_C4         GND u6_V5INOK  1n  
R_u6_R3         u6_N15420410 u6_V5INOK  1 TC=0,0 
V_u6_V1         u6_N16706056 0 1.16
R_u6_R1         u6_N15421290 u6_ENSW  1 TC=0,0 
R_u6_R2         u6_N11272786 ENCIR  1 TC=0,0 
C_u6_C5         EN GND  1p  TC=0,0 
E_u6_ABM20         VREG5 0 VALUE { if(V(u6_ENSW)>0.5,5.5,0)    }
X_u6_U1         EN u6_N16706056 u6_N16706074 u6_N15421290 COMPHYS_BASIC_GEN
+  PARAMS: VDD=5 VSS=0 VTHRESH=2.5
G_u6_ABMII1         VREG5 EN VALUE { if(V(VIN)>1.8,800n,0)    }
V_u6_V6         u6_N167065480 0 0.2
C_u6_C3         GND ENCIR  1n  
C_u6_C2         GND u6_ENSW  1n  
V_u6_V2         u6_N16706074 0 0.03
C_U3_C1         GND U3_N16246473  1.2u  
R_U3_R36         GND U3_N16246473  1E11  
C_U3_C7         GND RESET  1n  
X_U3_S12    ENCIR GND LPFSW GND FAULTS_U3_S12 
R_U3_R46         U3_UVP U3_N16249165  1  
R_U3_R35         GND U3_N16246489  1E11  
G_U3_ABMII5         VIN U3_N16246473 VALUE { if(V(U3_START_C) > 0.5, 40u, 0)   
+  }
C_U3_C9         GND U3_UVP  1n  
X_U3_U576         UVP_DELAY U3_N16246489 U3_START_C U3_N16246841
+  srlatchrhp_basic_gen PARAMS: VDD=1 VSS=0 VTHRESH=.5
R_U3_R37         GND RESET  1E11  
R_U3_R42         U3_N16254304 ENHICCUP  1  
X_U3_U191         U3_N16246489 U3_N16246763 BUFFER_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=10u TPHL=1n TR=1E-9 TF=1E-9
E_U3_ABM5         U3_N16244009 0 VALUE { if(V(VSENSE) < V(U3_N16244001) * 0.63,
+  1,0)    }
X_U3_U582         U3_N16246763 U3_N16246755 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
R_U3_R41         UVP_DELAY U3_N16243947  1  
X_U3_U190         U3_UVP U3_N16243947 BUFFER_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=7u TPHL=1n TR=1E-9 TF=1E-9
X_U3_U578         U3_N16254304 RESET U3_N162647580 U3_N162647581
+  srlatchrhp_basic_gen PARAMS: VDD=1 VSS=0 VTHRESH=.5
C_U3_C5         GND U3_N16254304  1p  
X_U3_U577         U3_N16246489 U3_N16246473 U3_N162652562 COMP PARAMS: VHYS=0
C_U3_C4         GND UVP_DELAY  1n  
X_U3_U581         U3_N16246489 U3_N16246755 U3_N16246805 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
V_U3_V92         U3_N162652562 GND 0.5
V_U3_V91         U3_N16244001 GND 0.8
R_U3_R34         GND U3_N16246841  1E11  
X_U3_U579         U3_N16258329 U3_N16244009 U3_N16249165 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
R_U3_R38         GND U3_N162647581  1E11  
R_U3_R44         RESET U3_N16246805  1  
R_U3_R43         U3_N16258329 U3_N162647580  1  
C_U3_C6         GND U3_N16258329  1n 
.IC         V(EN )={2*STEADY_STATE} 
.ENDS TPS560200_TRANS
*$
.subckt SOFTSTART_U1_S6 1 2 3 4  
S_U1_S6         3 4 1 2 _U1_S6
RS_U1_S6         1 2 1G
.MODEL         _U1_S6 VSWITCH Roff=1e11 Ron=1k Voff=.25 Von=.75
.ends SOFTSTART_U1_S6
*$
.subckt SOFTSTART_U1_S5 1 2 3 4  
S_U1_S5         3 4 1 2 _U1_S5
RS_U1_S5         1 2 1G
.MODEL         _U1_S5 VSWITCH Roff=1e11 Ron=10 Voff=.75 Von=.25
.ends SOFTSTART_U1_S5
*$
.subckt ON_TIME_MOD_U5_U27_S1 1 2 3 4  
S_U5_U27_S1         3 4 1 2 _U5_U27_S1
RS_U5_U27_S1         1 2 1G
.MODEL         _U5_U27_S1 VSWITCH Roff=1e9 Ron=1m Voff=0.2V Von=0.8V
.ends ON_TIME_MOD_U5_U27_S1
*$
.subckt ON_TIME_MOD_U5_U27_S2 1 2 3 4  
S_U5_U27_S2         3 4 1 2 _U5_U27_S2
RS_U5_U27_S2         1 2 1G
.MODEL         _U5_U27_S2 VSWITCH Roff=1e9 Ron=1m Voff=0.2V Von=0.8V
.ends ON_TIME_MOD_U5_U27_S2
*$
.subckt INT_COMP_U5_U18_S1 1 2 3 4  
S_U5_U18_S1         3 4 1 2 _U5_U18_S1
RS_U5_U18_S1         1 2 1G
.MODEL         _U5_U18_S1 VSWITCH Roff=100Meg Ron=100m Voff=0.2 Von=0.8
.ends INT_COMP_U5_U18_S1
*$
.subckt DRIVER_U5_U21_S18 1 2 3 4  
S_U5_U21_S18         3 4 1 2 _U5_U21_S18
RS_U5_U21_S18         1 2 1G
.MODEL         _U5_U21_S18 VSWITCH Roff=1e8 Ron=0.33 Voff=0.2 Von=0.8
.ends DRIVER_U5_U21_S18
*$
.subckt DRIVER_U5_U21_H2 1 2 3 4  
H_U5_U21_H2         3 4 VH_U5_U21_H2 -1
VH_U5_U21_H2         1 2 0V
.ends DRIVER_U5_U21_H2
*$
.subckt DRIVER_U5_U21_S17 1 2 3 4  
S_U5_U21_S17         3 4 1 2 _U5_U21_S17
RS_U5_U21_S17         1 2 1G
.MODEL         _U5_U21_S17 VSWITCH Roff=1e8 Ron=0.95 Voff=0.2 Von=0.8
.ends DRIVER_U5_U21_S17
*$
.subckt DRIVER_U5_U21_H1 1 2 3 4  
H_U5_U21_H1         3 4 VH_U5_U21_H1 330m
VH_U5_U21_H1         1 2 0V
.ends DRIVER_U5_U21_H1
*$
.subckt FAULTS_U3_S12 1 2 3 4  
S_U3_S12         3 4 1 2 _U3_S12
RS_U3_S12         1 2 1G
.MODEL         _U3_S12 VSWITCH Roff=1e11 Ron=5 Voff=.6 Von=.4
.ends FAULTS_U3_S12
*$
.subckt d_d1 1 2
d1 1 2 dd1
.model dd1 d
+ is=1e-015
+ tt=1e-011
+ rs=0.05
+ n=0.001
.ends d_d1
*$
.subckt one_shot in out
+ params:  t=100
s_s1         meas 0 reset2 0 s1
e_abm1         ch 0 value { if( v(in)>0.5 | v(out)>0.5,1,0)    }
r_r2         reset2 reset  0.1  
e_abm3         out 0 value { if( v(meas)<0.5 & v(ch)>0.5,1,0)    }
r_r1         meas ch  {t} 
c_c2         0 reset2  1.4427n  
c_c1         0 meas  1.4427n  
e_abm2         reset 0 value { if(v(ch)<0.5,1,0)    }
.model s1 vswitch
+ roff=1e+009
+ ron=1
+ voff=0.25
+ von=0.75
.ends one_shot
*$
.SUBCKT COMP_BASIC_GEN INP INM Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5	
E_ABM Yint 0 VALUE {IF (V(INP) > 
+ V(INM), {VDD},{VSS})}
R1 Yint Y 1
C1 Y 0 1n
.ENDS COMP_BASIC_GEN
*$
.SUBCKT COMPHYS_BASIC_GEN INP INM HYS OUT PARAMS: VDD=1 VSS=0 VTHRESH=0.5	
EIN INP1 INM1 INP INM 1 
EHYS INP1 INP2 VALUE { IF( V(1) > {VTHRESH},-V(HYS),0) }
EOUT OUT 0 VALUE { IF( V(INP2)>V(INM1), {VDD} ,{VSS}) }
R1 OUT 1 1
C1 1 0 5n
RINP1 INP1 0 1K
.ENDS COMPHYS_BASIC_GEN
*$
.SUBCKT COMPHYS2_BASIC_GEN INP INM HYS OUT PARAMS: VDD=1 VSS=0 VTHRESH=0.5	
+ T=10
EIN INP1 INM1 INP INM 1 
EHYS INM2 INM1 VALUE { IF( V(1) > {VTHRESH},-V(HYS)/2,V(HYS)/2) }
EOUT OUT 0 VALUE { IF( V(INP1)>V(INM2), {VDD} ,{VSS}) }
R1 OUT 1 1
C1 1 0 {T*1e-9}
RINP1 INP1 0 10K
RINM2 INM2 0 10K
.ENDS COMPHYS2_BASIC_GEN
*$
.SUBCKT AND A B OUT  
EOUT OUT1 0 VALUE { IF( V(A)>0.5 & V(B)>0.5,1,0) }
R1 OUT1 OUT 1
C1 OUT 0 10p
.ends AND
*$
.SUBCKT OR A B OUT  
EOUT OUT1 0 VALUE { IF( V(A)>0.5 | V(B)>0.5,1,0) }
R1 OUT1 OUT 1
C1 OUT 0 10p
.ends OR
*$
.SUBCKT AND4_BASIC_GEN A B C D Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH} &
+ V(D) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND4_BASIC_GEN
*$
.SUBCKT NOR2 A B OUT  
EOUT OUT1 0 VALUE { IF( V(A)>0.5 | V(B)>0.5,0,1) }
R1 OUT1 OUT 1
C1 OUT 0 10p
.ends NOR2
*$
.SUBCKT NOR3 A B C OUT  
EOUT OUT1 0 VALUE { IF( V(A)>0.5 | V(B)>0.5 | V(C)>0.5,0,1) }
R1 OUT1 OUT 1
C1 OUT 0 10p
.ends NOR3
*$
.SUBCKT NOR4 A B C D OUT  
EOUT OUT1 0 VALUE { IF( V(A)>0.5 | V(B)>0.5 | V(C)>0.5 | V(D)>0.5,0,1) }
R1 OUT1 OUT 1
C1 OUT 0 10p
.ends NOR4
*$
.SUBCKT NAND3 A B C OUT  
EOUT OUT1 0 VALUE { IF( V(A)<0.5 & V(B)<0.5 & V(C)<0.5,1,0) }
R1 OUT1 OUT 1
C1 OUT 0 10p
.ends NAND3
*$
.SUBCKT NAND2 A B OUT  
EOUT OUT1 0 VALUE { IF( V(A)<0.5 & V(B)<0.5,1,0) }
R1 OUT1 OUT 1
C1 OUT 0 10p
.ends NAND2
*$
.SUBCKT AND3 A B C OUT  
EOUT OUT1 0 VALUE { IF( V(A)>0.5 & V(B)>0.5 & V(C)>0.5,1,0) }
R1 OUT1 OUT 1
C1 OUT 0 10p
.ends AND3
*$
.SUBCKT INVERTER IN OUT  
EOUT OUT1 0 VALUE { IF( V(IN)<0.5,1,0) }
R1 OUT1 OUT 1
C1 OUT 0 10p
.ends INVERTER
*$
.SUBCKT DELAY IN OUT
+ PARAMs:  T=100
S_S1         MEAS 0 RESET2 0 S1
E_ABM1         CH 0 VALUE { if( V(IN)>0.5,1,0)    }
E_ABM3         OUT 0 VALUE { if( V(MEAS)>0.5 & V(CH)>0.5,1,0)    }
R_R1         MEAS CH  {T} 
C_C1         0 MEAS  1.4427n  
E_ABM2         RESET 0 VALUE { if(V(CH)<0.5,1,0)    }
R_R2         RESET2 RESET  0.1  
C_C2         0 RESET2  1.4427n  
.MODEL         S1 VSWITCH Roff=1e9 Ron=1.0 Voff=0.25V Von=0.75V
.ENDS DELAY
*$
.SUBCKT NAND3_PS Y A B C PARAMS: vhi=1 vlo=0 vthresh=500e-3
+ tplh=1e-9 tphl=1e-9 tr=1e-9 tf=1e-9
RA A 0 1e11
CA A 0 0.01pF
RB B 0 1e11
CB B 0 0.01pF
RC C 0 1e11
CC C 0 0.01pF
VS VSUP 0 DC 1
ENAND3 Ypp 0 VALUE={IF(V(A) > {vthresh} & V(B) > {vthresh} & V(C) >
+ {vthresh}, 0, 1)}
ROUTpp Ypp 0 1e11
XNSW1 OUTp Ypp 0 NSW_PS PARAMS: RONval={(tplh+1e-15)/(1e-12*0.693)}
+ VTHval=0.5
XPSW1 OUTp Ypp VSUP PSW_PS PARAMS: RONval={(tphl+1e-15)/(1e-12*0.693)}
+ VTHval=0.5
CDEL1 OUTp 0 1pF
ETHRESH Yp 0 VALUE={IF(V(OUTp) > 0.5, 1, 0)}
ROUTp Yp 0 1e11
XNSW2 OUTr Yp 0 NSW_PS PARAMS: RONval={(tf+1e-15)/(1e-12*2.3)} VTHval=0.5
XPSW2 OUTr Yp VSUP PSW_PS PARAMS: RONval={(tr+1e-15)/(1e-12*2.3)} VTHval=0.5
CDEL2 OUTr 0 1pF
EOUT OUTf 0 VALUE={V(OUTr)*({vhi} - {vlo})+{vlo}}
RDR OUTf Y  1000
RO Y 0 1e11
.ENDS NAND3_PS
*$
.SUBCKT BUFFER_PS A Y PARAMS: vhi=1 vlo=0 vthresh=500e-3 tplh=1e-9
+ tphl=1e-9 tr=1e-9 tf=1e-9
RA A 0 1e11
CA A 0 0.01pF
VS VSUP 0 DC 1
EBUF1 Ypp 0 VALUE={IF(V(A) > ({vthresh}), 1, 0)}
ROUTpp Ypp 0 1e11
XNSW1 OUTp Ypp 0 NSW_PS PARAMS: RONval={(tplh+1e-15)/(1e-12*0.693)}
+ VTHval=0.5
XPSW1 OUTp Ypp VSUP PSW_PS PARAMS: RONval={(tphl+1e-15)/(1e-12*0.693)}
+ VTHval=0.5
CDEL1 OUTp 0 1pF
ETHRESH Yp 0 VALUE={IF(V(OUTp) > 0.5, 1, 0)}
ROUTp Yp 0 1e11
** add rise and fall *****
XNSW2 OUTr Yp 0 NSW_PS PARAMS: RONval={(tf+1e-15)/(1e-12*2.3)} VTHval=0.5
XPSW2 OUTr Yp VSUP PSW_PS PARAMS: RONval={(tr+1e-15)/(1e-12*2.3)} VTHval=0.5
CDEL2 OUTr 0 1pF
EOUT OUTf 0 VALUE={V(OUTr)*({vhi} - {vlo})+{vlo}}
RDR OUTf Y  1000
RO Y 0 1e11
.ENDS BUFFER_PS
*$
.SUBCKT INV_PS Y A PARAMS: vhi=1 vlo=0 vthresh=500e-3
+ tplh=1e-9 tphl=1e-9 tr=1e-9 tf=1e-9
RA A 0 1e11
CA A 0 0.01pF
VS VSUP 0 DC 1
EINV1 Ypp 0 VALUE={IF(V(A) > ({vthresh}), 0, 1)}
ROUTpp Ypp 0 1e11
XNSW1 OUTp Ypp 0 NSW_PS PARAMS: RONval={(tplh+1e-15)/(1e-12*0.693)}
+ VTHval=0.5
XPSW1 OUTp Ypp VSUP PSW_PS PARAMS: RONval={(tphl+1e-15)/(1e-12*0.693)}
+ VTHval=0.5
CDEL1 OUTp 0 1pF
ETHRESH Yp 0 VALUE={IF(V(OUTp) > 0.5, 1, 0)}
ROUTp Yp 0 1e11
XNSW2 OUTr Yp 0 NSW_PS PARAMS: RONval={(tf+1e-15)/(1e-12*2.3)} VTHval=0.5
XPSW2 OUTr Yp VSUP PSW_PS PARAMS: RONval={(tr+1e-15)/(1e-12*2.3)} VTHval=0.5
CDEL2 OUTr 0 1pF
EOUT OUTf 0 VALUE={V(OUTr)*({vhi} - {vlo})+{vlo}}
RDR OUTf Y  1000
RO Y 0 1e11
.ENDS INV_PS
*$
.SUBCKT OR4_PS Y A B C D PARAMS: vhi=1 vlo=0 vthresh=500e-3 tplh=1e-9
+ tphl=1e-9 tr=1e-9 tf=1e-9
RA A 0 1e11
CA A 0 0.01pF
RB B 0 1e11
CB B 0 0.01pF
RC C 0 1e11
CC C 0 0.01pF
RD D 0 1e11
CD D 0 0.01pF
VS VSUP 0 DC 1
EOR4 Ypp 0 VALUE={IF(V(A) > {vthresh} | V(B) > {vthresh}  | V(C) >
+ {vthresh}  | V(D) > {vthresh}, 1, 0)}
ROUTpp Ypp 0 1e11
XNSW1 OUTp Ypp 0 NSW_PS PARAMS: RONval={(tplh+1e-15)/(1e-12*0.693)}
+ VTHval=0.5
XPSW1 OUTp Ypp VSUP PSW_PS PARAMS: RONval={(tphl+1e-15)/(1e-12*0.693)}
+ VTHval=0.5
CDEL1 OUTp 0 1pF
ETHRESH Yp 0 VALUE={IF(V(OUTp) > 0.5, 1, 0)}
ROUTp Yp 0 1e11
XNSW2 OUTr Yp 0 NSW_PS PARAMS: RONval={(tf+1e-15)/(1e-12*2.3)} VTHval=0.5
XPSW2 OUTr Yp VSUP PSW_PS PARAMS: RONval={(tr+1e-15)/(1e-12*2.3)} VTHval=0.5
CDEL2 OUTr 0 1pF
EOUT OUTf 0 VALUE={V(OUTr)*({vhi} - {vlo})+{vlo}}
RDR OUTf Y  1000
RO Y 0 1e11
.ENDS OR4_PS
*$
.SUBCKT NAND2_PS Y A B PARAMS: vhi=1 vlo=0 vthresh=500e-3
+ tplh=1e-9 tphl=1e-9 tr=1e-9 tf=1e-9
RA A 0 1e11
CA A 0 0.01pF
RB B 0 1e11
CB B 0 0.01pF
VS VSUP 0 DC 1
ENAND2 Ypp 0 VALUE={IF(V(A) > {vthresh} & V(B) > {vthresh}, 0, 1)}
ROUTpp Ypp 0 1e11
***** add delay lines ****
XNSW1 OUTp Ypp 0 NSW_PS PARAMS: RONval={(tplh+1e-15)/(1e-12*0.693)}
+ VTHval=0.5
XPSW1 OUTp Ypp VSUP PSW_PS PARAMS: RONval={(tphl+1e-15)/(1e-12*0.693)}
+ VTHval=0.5
CDEL1 OUTp 0 1pF
ETHRESH Yp 0 VALUE={IF(V(OUTp) > 0.5, 1, 0)}
ROUTp Yp 0 1e11
** add rise and fall *****
XNSW2 OUTr Yp 0 NSW_PS PARAMS: RONval={(tf+1e-15)/(1e-12*2.3)} VTHval=0.5
XPSW2 OUTr Yp VSUP PSW_PS PARAMS: RONval={(tr+1e-15)/(1e-12*2.3)} VTHval=0.5
CDEL2 OUTr 0 1pF
EOUT OUTf 0 VALUE={V(OUTr)*({vhi} - {vlo})+{vlo}}
RDR OUTf Y  1000
RO Y 0 1e11
.ENDS NAND2_PS
*$
.SUBCKT NSW_PS D G S PARAMS: RONval=10k VTHval=0.7 VCHARval=0.01
+ CGval=0.01pF CDval=0.01pF 
RDDUM D 0 1e11
RSDUM S 0 1e11
RGDUM G 0 1e11
CG G D {CGval}
CD D S {CDval}
EEXP F1 0 VALUE={LIMIT(((V(G,S)-VTHval)/VCHARval),-80,80)} 
GOUT D S VALUE={V(D,S)/(RONval*(1+EXP(-LIMIT(((V(G,S)-VTHval)/VCHARval)
+,-80,80))))}
.ENDS NSW_PS
*$
.SUBCKT OR2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR2_BASIC_GEN
*$
.SUBCKT PSW_PS D G S PARAMS: RONval=10k VTHval=0.7 VCHARval=0.01
+ CGval=0.01pF CDval=0.01pF 
RDDUM D 0 1e11
RSDUM S 0 1e11
RGDUM G 0 1e11
CG G D {CGval}
CD D S {CDval}
EEXP F1 0 VALUE={LIMIT(((V(S,G)-VTHval)/VCHARval),-80,80)} 
GOUT S D VALUE={V(S,D)/(RONval*(1+EXP(-LIMIT(((V(S,G)-VTHval)/VCHARval)
+,-80,80))))}
.ENDS PSW_PS
*$
.SUBCKT BUF_DELAY_BASIC_GEN A  Y PARAMS: VDD=5 VSS=0 VTHRESH=2.5
+ DELAY = 10n 
E_ABMGATE1    YINT1 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT1 YINT2 1
CINT YINT2 0 {DELAY*1.3}
E_ABMGATE2    YINT3 0 VALUE {{IF(V(YINT2) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT2 YINT3 Y 1
CINT2 Y 0 1n
.ENDS BUF_DELAY_BASIC_GEN
*$
.SUBCKT MONOPOS_PS in Q Qn PARAMS: PW=250u 
VS VSUP 0 DC 1
r1 Q 0 1e11
GIN VSUP YA VALUE={IF(V(IN)>0.5, V(VSUP)/1000K, 0)}
GDIS YA 0 VALUE={IF(V(IN)>0.5,0, V(YA)/1m)}
CIN YA 0 1n IC=0
RIN YA 0 1e11
EABM1 YTD 0 VALUE={IF(V(YA)> {PW*1000}, 1, 0)}
RYTD YTD 0 1e11
EXOR P 0 VALUE={IF(V(YTD) > 0.5 ^ V(IN) > .5, 1, 0)}
ROUTpp2 P 0 1e11
EAND1 Q1 0 VALUE={ IF(V(P)>0.5 & V(IN)>0.5, 1, 0)}
Ro1 Q1 Q 1m
Co1 Q 0 1p
ROUT2 Q 0 1e11
EAND2 Qn1 0 VALUE={ IF(V(Q)>0.5, 0, 1)}
Ro2 Qn1 Qn 1m
Co2 Qn 0 1p
ROUT4 Qn 0 1e11
.ENDS MONOPOS_PS
*$
.SUBCKT CESR IN OUT
+ PARAMs:  C=100u ESR=0.01 X=2 IC=0
C	IN 1  {C*X} IC={IC}
RESR	1 OUT {ESR/X}
.ENDS CESR
*$
.SUBCKT LDCR IN OUT
+ PARAMs:  L=1u DCR=0.01 IC=0
L	IN 1  {L} IC={IC}
RDCR	1 OUT {DCR}
.ENDS LDCR
*$
.SUBCKT MUX2_BASIC_GEN A B S Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE  YINT 0 VALUE {{IF(V(S) > {VTHRESH},  
+ V(B),V(A))}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS MUX2_BASIC_GEN
*$
.SUBCKT COMP VOUT VINP VINN PARAMS: VHYS = 0.05 
E1 YINT 0 VALUE {IF(V(VINP) + V(VOUT)*VHYS > V(VINN), 1, 0)}
R1 YINT VOUT 1
C1 VOUT 0 1n
.ENDS COMP
*$
.SUBCKT AND2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND2_BASIC_GEN
*$
.SUBCKT INV_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS INV_BASIC_GEN
*$
.SUBCKT BUF_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS BUF_BASIC_GEN
*$
.subckt srlatchrhp_basic_gen s r q qb params: vdd=1 vss=0 vthresh=0.5 
gq 0 qint value = {if(v(r) > {vthresh},-5,if(v(s)>{vthresh},5, 0))}
cqint qint 0 1n
rqint qint 0 1000meg
d_d10 qint my5 d_d1
v1 my5 0 {vdd}
d_d11 myvss qint d_d1
v2 myvss 0 {vss} 
eq qqq 0 qint 0 1
x3 qqq qqqd1 buf_basic_gen params: vdd={vdd} vss={vss} vthresh={vthresh}
rqq qqqd1 q 1
eqb qbr 0 value = {if( v(q) > {vthresh}, {vss},{vdd})}
rqb qbr qb 1 
cdummy1 q 0 1n 
cdummy2 qb 0 1n
.ic v(qint) {vss}
.model d_d1 d
+ is=1e-015
+ tt=1e-011
+ rs=0.005
+ n=0.01
.ends srlatchrhp_basic_gen
*$
.SUBCKT SRLATCHSHP_BASIC_GEN S R Q QB 
+ PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
GQ 0 Qint VALUE = {IF(V(S) > {VTHRESH},5,
+ IF(V(R)>{VTHRESH},-5, 0))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D2
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D2
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_BASIC_GEN 
+ PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr QB 1 
Cdummy1 Q 0 1n 
Cdummy2 QB 0 1n 
.IC V(Qint) {VSS}
.ENDS SRLATCHSHP_BASIC_GEN
*$
.MODEL D_D2 D( IS=1e-15 TT=10p Rs=0.05 N=.1  )
*$