
*$ TPS54395
*****************************************************************************
* (C) Copyright 2012 Texas Instruments Incorporated. All rights reserved.                                            
*****************************************************************************
** This model is designed as an aid for customers of Texas Instruments.
** TI and its licensors and suppliers make no warranties, either expressed
** or implied, with respect to this model, including the warranties of 
** merchantability or fitness for a particular purpose.  The model is
** provided solely on an "as is" basis.  The entire risk as to its quality
** and performance is with the customer
*****************************************************************************
*
* This model is subject to change without notice. Texas Instruments
* Incorporated is not responsible for updating this model.
*
*****************************************************************************
*
** Released by: WEBENCH Design Center, Texas Instruments Inc.
* Part: TPS54395
* Date: 13JUN2012
* Model Type: TRANSIENT
* Simulator: PSPICE
* Simulator Version: 16.2.0.p001
* EVM Order Number:
* EVM Users Guide: 
* Datasheet: 
*
* Model Version: Final 1.00
*
*****************************************************************************
*
* Updates:
*
* Final 1.00
* Release to Web.
*
****************************************************************************
.SUBCKT TPS54395_TRANS EN1 EN2 GND PGND1 PGND2 PwrPd SS1 SS2 SW1 SW2 VBST1
+  VBST2 VFB1 VFB2 VIN1 VIN2 VREG5 PARAMS: MODE=1
X_U10         N147154671 SW1 d_d1 
X_U9_U271         U9_HI_DEL U9_N14703778 U9_LOW_DELAY NOR2
X_U9_U194         U9_START_DEL U9_ILIM_LESS BUFFER_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=.5 TPLH=12u TPHL=1u TR=1E-9 TF=1E-9
X_U9_U239         U9_LUPB U9_LOOPB INVERTER
E_U9_ABM46         U9_RAMP 0 VALUE { if(V(ENCIR2)>0.5,   
+ LIMIT((V(U9_RMPIN)-0.01),-10m,5m),0)   }
X_U9_U275         U9_DRVOFF HICCUP2 U9_HI_READY U9_HI_READY U9_HIDRIVE NOR4
C_U9_C13         U9_OCLHI GND  10p IC=0 TC=0,0 
C_U9_C9         GND U9_N14738087  4.6p IC=0 TC=0,0 
E_U9_ABM19         U9_N14705078 0 VALUE { if( V(U9_N14704906)  
+ >V(U9_TON) ,1,0)   }
X_U9_U193         U9_HI_READY U9_DQOS BUFFER_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=2E-9 TPHL=2E-9 TR=1E-9 TF=1E-9
E_U9_ABM15         U9_REFEFF 0 VALUE { V(N14674344)  
+ + V(U9_RAMP)   }
X_U9_U283         U9_N14704648 U9_N152035581 U9_DRH2 AND
X_U9_S12    U9_QRMP GND U9_RMP GND DCAP_U9_S12 
R_U9_R40         GND U9_N14706850  1Meg  
X_U9_U216         U9_N14705078 ENCIR2 U9_N14705656 AND
R_U9_R23         GND U9_TON  10Meg TC=0,0 
X_U9_S7    U9_DRL1 GND VREG5 N14674254 DCAP_U9_S7 
X_U9_U268         U9_N14705168 ENCIR2 U9_ONG U9_TBLNK NAND3_PS PARAMS: VHI=1
+  VLO=0 VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
G_U9_ABMII1         VREG5 U9_RMP VALUE { if(V(ENCIR2)>0.5, 28n,0)    }
E_U9_ABM28         U9_N14704796 0 VALUE { if( V(U9_N14705662)<0.5  
+ & V(U9_ON)<0.5 ,1,0)   }
X_U9_U281         U9_DRVHPREBIAS U9_N14705142 U9_HI_DEL AND
E_U9_ABM11         U9_N14988808 0 VALUE { if( V(U9_OCLTHR)  
+ >V(U9_LLO) ,1,0)   }
R_U9_R27         SW2 U9_INT  670k TC=0,0 
X_U9_U188         U9_TBLNK U9_N152038860 BUFFER_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=10E-9 TPHL=30E-9 TR=1E-9 TF=1E-9
E_U9_ABM35         U9_OCLTHR 0 VALUE { if(V(ENCIR2)>0.5, -0.282,0)    }
R_U9_R34         U9_N14705578 GND  60k TC=0,0 
X_U9_U312         U9_N14704040 U9_DRH2 INV_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
E_U9_E12         U9_SWIN GND SW2 GND 1
X_U9_U300         U9_ONG U9_N152042700 INV_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
X_U9_S8    U9_DRL2 GND N14674254 GND DCAP_U9_S8 
G_U9_ABM2I1         VREG5 U9_TON VALUE { if(V(U9_DQOS)<0.25, V(SW2)/142K,0)   
+  }
X_U9_U264         U9_N14703488 U9_SSENDSET U9_N14703510 SSEND2 NAND3_PS PARAMS:
+  VHI=1 VLO=0 VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
E_U9_ABM48         U9_VOINFO1 0 VALUE { V(N14673860) * 0.5    }
X_U9_U243         U9_BLNKM U9_NCLB U9_N14704178 OR
R_U9_R6         U9_N14738075 U9_N14791687  1800k TC=0,0 
G_U9_ABM2I2         U9_TON GND VALUE { if(V(U9_DQOS) >.75, V(U9_TON)/200,0)   
+  }
X_U9_U279         U9_HIDRIVE U9_N152035581 INVERTER
X_U9_U258         U9_ONS1 U9_N14703724 U9_TBLNKB ENCIR2 NAND3_PS PARAMS: VHI=1
+  VLO=0 VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
X_U9_U280         U9_LOWDRIVE U9_N152038041 INVERTER
X_U9_U260         U9_ONS2 U9_N14703428 U9_TBLNKB ENCIR2 NAND3_PS PARAMS: VHI=1
+  VLO=0 VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
C_U9_C12         U9_N14705662 GND  10p IC=0 TC=0,0 
E_U9_ABM47         U9_START_DEL 0 VALUE { if(V(U9_TIMEOCL) >0.5,1,0)    }
X_U9_U282         U9_HIDRIVE U9_N14704040 U9_DRH1 AND
C_U9_C10         GND U9_RMP  4p IC=0 TC=0,0 
X_U9_U142         U9_ONSET U9_ONS3 U9_ONS1 U9_ONS2 U9_TBLNK OR4_PS PARAMS:
+  VHI=1 VLO=0 VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
V_U9_V82         U9_N14704906 U9_VOINFO1 70m
X_U9_U217         U9_DQOS U9_N14705656 U9_TOS OR
X_U9_U16         VREG5 VBST2 d_d1 
R_U9_R36         U9_N14705626 GND  300k TC=0,0 
X_U9_U242         U9_BLNKM U9_OCLHI U9_OCLDIS OR
X_U9_U241         U9_BLNKM U9_LOOPB U9_N14703638 OR
X_U9_U296         U9_BLNKM U9_TBLNKB U9_N14705582 NAND2_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
X_U9_U247         U9_LOW_READY U9_N152039062 INVERTER
R_U9_R25         VREG5 GND  1e15 TC=0,0 
X_U9_U249         U9_ON U9_ONB INVERTER
R_U9_R10         U9_N14791687 U9_SWIN  572k TC=0,0 
E_U9_ABM37         U9_ONS3 0 VALUE { if(V(N14673860) >7.1,1,0)    }
X_U9_U286         U9_LOW_READY U9_PREBIAS HICCUP2 U9_SSENDSET U9_LOWDRIVE NOR4
R_U9_R29         GND U9_RMP  1e8 TC=0,0 
X_U9_U295         U9_N14703510 U9_HI_DEL U9_HIDRIVE NAND2_PS PARAMS: VHI=1
+  VLO=0 VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
X_U9_S5    U9_DRH1 GND VBST2 N14674266 DCAP_U9_S5 
X_U9_U269         U9_LOW_READY U9_LOW_DELAY U9_ONB U9_ZC NAND3_PS PARAMS: VHI=1
+  VLO=0 VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
E_U9_E10         N14673860 GND U9_N14738087 GND 1
X_U9_U267         U9_TBLNK U9_N14705168 U9_TOS U9_TOS NAND3_PS PARAMS: VHI=1
+  VLO=0 VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
R_U9_R9         U9_TIMEOCL U9_N14786773  1Meg TC=0,0 
X_U9_U266         U9_N14704342 U9_ON U9_TOS ENCIR2 NAND3_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
X_U9_U259         U9_N14703428 U9_OCLDIS U9_OCLDIS U9_ONS2 NAND3_PS PARAMS:
+  VHI=1 VLO=0 VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
X_U9_S6    U9_DRH2 GND N14674266 SW2 DCAP_U9_S6 
X_U9_U262         U9_ZC U9_N14707232 U9_TBLNKB ENCIR2 NAND3_PS PARAMS: VHI=1
+  VLO=0 VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
E_U9_ABM49         U9_VO_TON 0 VALUE { if( V(U9_ILIM_LESS)<0.5,   
+ V(U9_VOINFO1), 0.33)   }
R_U9_R30         GND U9_N152031480  1e8 TC=0,0 
X_U9_U299         U9_N152042700 U9_LOW_READY INV_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=155n TPHL=10E-9 TR=1E-9 TF=1E-9
R_U9_R33         N14673860 U9_N14705578  92k TC=0,0 
R_U9_R26         U9_LLO GND  1e15 TC=0,0 
X_U9_U285         U9_N14704742 U9_N152038041 U9_DRL2 AND
X_U9_U313         U9_N14704296 U9_DRL2 INV_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
C_U9_C8         GND U9_N14738075  4.6p IC=0 TC=0,0 
C_U9_C5         N14673860 U9_INT  6p IC=0 TC=0,0 
X_U9_U246         U9_N152038860 U9_TBLNKB INVERTER
E_U9_ABM3         U9_DRVHPREBIAS 0 VALUE { if(V(N14674266)>5,1,0)    }
E_U9_E8         U9_N14705832 GND VFB2 GND 1
R_U9_R28         U9_N14704796 GND  1e15 TC=0,0 
C_U9_C14         GND U9_N14791687  5.4p IC=0 TC=0,0 
E_U9_E11         U9_N14786773 GND U9_OCLHI GND 2
E_U9_ABM10         U9_LUPB 0 VALUE { if( V(U9_REFEFF)  
+ >V(U9_VIM) ,1,0)   }
R_U9_R35         U9_INT U9_N14705626  220k TC=0,0 
X_U9_U192         N14674254 U9_N14704200 BUFFER_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=2.5 TPLH=2n TPHL=5E-9 TR=1E-9 TF=1E-9
R_U9_R41         SW2 U9_N14705662  200 TC=0,0 
R_U9_R31         GND U9_QRMP  1e8 TC=0,0 
X_U9_U270         U9_N14704200 U9_N152039062 U9_ON1 NOR2
E_U9_ABM12         U9_NCLB 0 VALUE { if( V(U9_LLO)  
+ > V(U9_N14707912),0,1)   }
X_U9_U302         U9_DRVHPREBIAS U9_QRMP U9_N152031480 MONOPOS_PS PARAMS:
+  PW=10n
X_U9_U284         U9_LOWDRIVE U9_N14704296 U9_DRL1 AND
C_U9_C4         GND U9_TON  20p IC=0 TC=0,0 
X_U9_U257         U9_N14703724 U9_N14703638 U9_N14703638 U9_ONS1 NAND3_PS
+  PARAMS: VHI=1 VLO=0 VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
C_U9_C6         U9_N14705578 GND  0.8p IC=0 TC=0,0 
E_U9_E7         U9_RMPIN GND U9_RMP GND 1
R_U9_R42         U9_N14988808 U9_OCLHI  200 TC=0,0 
X_U9_U191         U9_N14703778 U9_N14705142 BUFFER_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=2n TPHL=50n TR=1E-9 TF=1E-9
X_U9_U310         U9_N14704648 U9_DRH1 INV_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
R_U9_R32         U9_VIM U9_N14705832  8k TC=0,0 
X_U9_U245         U9_N14704200 U9_N14705922 INVERTER
X_U9_U261         U9_N14707232 U9_N14704178 U9_N14704178 U9_ZC NAND3_PS PARAMS:
+  VHI=1 VLO=0 VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
X_U9_U274         ENCIR2 U9_DRVOFF INVERTER
V_U9_V83         U9_N14707912 GND -5m
X_U9_U294         U9_HI_READY U9_ON U9_ON1 NAND2_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
R_U9_R38         U9_VIM GND  1e11 TC=0,0 
C_U9_C11         GND U9_TIMEOCL  3p IC=0 TC=0,0 
X_U9_U278         U9_HI_READY U9_N14703778 INVERTER
X_U9_U265         U9_ON U9_ONSET U9_ONSET U9_N14704342 NAND3_PS PARAMS: VHI=1
+  VLO=0 VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
R_U9_R37         GND U9_N14706924  1Meg  
X_U9_U311         U9_N14704742 U9_DRL1 INV_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
X_U9_U263         U9_SSENDSET ENCIR2 ENCIR2 U9_N14703488 NAND3_PS PARAMS: VHI=1
+  VLO=0 VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
X_U9_U576         U9_DRVHPREBIAS U9_N14706850 U9_N14706924 U9_PREBIAS
+  srlatchrhp_basic_gen PARAMS: VDD=1 VSS=0 VTHRESH=.5
G_U9_G1         U9_VIM GND U9_N14705578 U9_N14705626 1u
R_U9_R7         U9_N14738087 U9_N14738075  1800k TC=0,0 
X_U9_U277         U9_ZC U9_N14705922 U9_N14705582 OR
E_U9_ABM9         U9_LLO 0 VALUE { if( V(U9_N14704796)>0.5,  
+ V(SW2),  
+ V(GND) )  }
V_V2         N146764141 SW1 -250m
X_S20    N14674266 SW2 VIN2 SW2 TPS54395_TOP_S20 
X_U11         N147152671 VIN2 d_d1 
X_U3_U217         U3_N16596564 U3_N16596470 U3_N16787966 AND
X_U3_U579         U3_UVP U3_HICCUP_RESET HICCUP1 N15013332 srlatchrhp_basic_gen
+  PARAMS: VDD=1 VSS=0 VTHRESH=.5
C_U3_C5         CLK1 GND  100n  
X_U3_U580         U3_N16806629 U3_N16808351 U3_N16811606 N16809657
+  srlatchrhp_basic_gen PARAMS: VDD=1 VSS=0 VTHRESH=.5
E_U3_ABM30         U3_N19304 0 VALUE { if( V(ENCIR1) >0.5  
+ | V(HICCUP1)>0.5  
+  ,1,0)  }
X_U3_U578         CLK1 U3_N16808351 BUF_DELAY_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=.5 DELAY=2u
C_U3_C4         U3_N16596564 GND  100n  
R_U3_R3         U3_N16865236 CLK1  1  
X_U3_S12    U3_DISCH GND N13142404 GND FAULTS_U3_S12 
X_U3_S6    U3_N16849464 GND U3_N16844640 GND FAULTS_U3_S6 
X_U3_U284         HICCUP1 SSEND1 U3_N16806629 AND
C_U3_C3         U3_N16859255 GND  1u  
X_U3_U248         U3_N16600764 U3_N16600738 INVERTER
X_U3_U6         U3_N16806629 U3_N16844617 one_shot PARAMS:  T=100  
X_U3_U249         HICCUP1 U3_HICCUP_N INVERTER
X_U3_U8         U3_N16859255 U3_N16849464 one_shot PARAMS:  T=1000  
R_U3_R1         U3_HICCUP_RESET U3_N16859255  1  
X_U3_U7          U3_N16844640 U3_HICCUP_RESET COMPARATOR2 PARAMS:  TH=7.5  
X_U3_U219         U3_N16811606 U3_N16811606 U3_N16865236 AND
E_U3_ABM29         U3_N16600764 0 VALUE { if( V(VFB1) <0.520  
+ & V(SSEND1)>0.5 ,1,0)   }
C_U3_C2         U3_N16844640 GND  100n  
C_U3_C1         GND U3_N16596470  {2.17u/(1+MODE*5)}  
X_U3_U283         U3_N16787966 SSEND1 U3_UVP AND
X_U3_S5    U3_N16600738 GND U3_N16596564 U3_N16596470 FAULTS_U3_S5 
G_U3_G1         0 U3_N16844640 TABLE { V(U3_N16844617, GND) } 
+ ( (-15,-15) (15,15) )
X_U3_U575         U3_N19304 U3_DISCH BUF_DELAY_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=.5 DELAY=0.5u
R_U3_R2         U3_N16600764 U3_N16596564  1  
X_U7_U217         U7_N16596564 U7_N16596470 U7_N16787966 AND
X_U7_U579         U7_UVP U7_HICCUP_RESET HICCUP2 N15013332 srlatchrhp_basic_gen
+  PARAMS: VDD=1 VSS=0 VTHRESH=.5
C_U7_C5         CLK2 GND  100n  
X_U7_U580         U7_N16806629 U7_N16808351 U7_N16811606 N16809657
+  srlatchrhp_basic_gen PARAMS: VDD=1 VSS=0 VTHRESH=.5
E_U7_ABM30         U7_N19304 0 VALUE { if( V(ENCIR2) >0.5  
+ | V(HICCUP2)>0.5  
+  ,1,0)  }
X_U7_U578         CLK2 U7_N16808351 BUF_DELAY_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=.5 DELAY=2u
C_U7_C4         U7_N16596564 GND  100n  
R_U7_R3         U7_N16865236 CLK2  1  
X_U7_S12    U7_DISCH GND N14673860 GND FAULTS_U7_S12 
X_U7_S6    U7_N16849464 GND U7_N16844640 GND FAULTS_U7_S6 
X_U7_U284         HICCUP2 SSEND2 U7_N16806629 AND
C_U7_C3         U7_N16859255 GND  1u  
X_U7_U248         U7_N16600764 U7_N16600738 INVERTER
X_U7_U6         U7_N16806629 U7_N16844617 one_shot PARAMS:  T=100  
X_U7_U249         HICCUP2 U7_HICCUP_N INVERTER
X_U7_U8         U7_N16859255 U7_N16849464 one_shot PARAMS:  T=1000  
R_U7_R1         U7_HICCUP_RESET U7_N16859255  1  
X_U7_U7          U7_N16844640 U7_HICCUP_RESET COMPARATOR2 PARAMS:  TH=7.5  
X_U7_U219         U7_N16811606 U7_N16811606 U7_N16865236 AND
E_U7_ABM29         U7_N16600764 0 VALUE { if( V(VFB2) <0.520  
+ & V(SSEND2)>0.5 ,1,0)   }
C_U7_C2         U7_N16844640 GND  100n  
C_U7_C1         GND U7_N16596470  {2.17u/(1+MODE*5)}  
X_U7_U283         U7_N16787966 SSEND2 U7_UVP AND
X_U7_S5    U7_N16600738 GND U7_N16596564 U7_N16596470 FAULTS_U7_S5 
G_U7_G1         0 U7_N16844640 TABLE { V(U7_N16844617, GND) } 
+ ( (-15,-15) (15,15) )
X_U7_U575         U7_N19304 U7_DISCH BUF_DELAY_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=.5 DELAY=0.5u
R_U7_R2         U7_N16600764 U7_N16596564  1  
V_V3         N147152671 SW2 -250m
C_C8         VIN1 SW1  1p IC=0 TC=0,0 
V_V1         N147154671 GND -250m
X_S18    N13133869 GND SW1 GND TPS54395_TOP_S18 
C_C9         VIN2 SW2  1p IC=0 TC=0,0 
X_U2_U9         SS1 VREG5 d_d1 
X_U2_S6    U2_N15024226 GND SS1 GND SOFTSTART_U2_S6 
X_U2_U244         U2_N15024092 CLK1 U2_N15024226 OR
G_U2_ABMII3         VREG5 SS1 VALUE { if(V(ENCIR1)>0.5 & V(SS1) > 1.6, {50u+
+  MODE*100u},0)    }
G_U2_ABMII2         VREG5 SS1 VALUE { if(V(ENCIR1)>0.5, {8u+MODE*40u},0)    }
X_U2_U249         ENCIR1 U2_N15024092 INVERTER
E_U2_ABM20         N14735078 0 VALUE { if(V(SS1)>0.765, 0.765, V(SS1))    }
E_U2_ABM21         SSEND1 0 VALUE { if(V(SS1)>1.3005, 1, 0)    }
X_U12         N147153611 SW2 d_d1 
V_V4         N147153611 GND -250m
C_C7         SW1 GND  1p IC=0 TC=0,0 
X_S17    N13133969 SW1 VIN1 SW1 TPS54395_TOP_S17 
X_U6_U9         SS2 VREG5 d_d1 
X_U6_S6    U6_N15024226 GND SS2 GND SOFTSTART_U6_S6 
X_U6_U244         U6_N15024092 CLK2 U6_N15024226 OR
G_U6_ABMII3         VREG5 SS2 VALUE { if(V(ENCIR2)>0.5 & V(SS2) > 1.6, {50u+
+  MODE*100u},0)    }
G_U6_ABMII2         VREG5 SS2 VALUE { if(V(ENCIR2)>0.5, {8u+MODE*40u},0)    }
X_U6_U249         ENCIR2 U6_N15024092 INVERTER
E_U6_ABM20         N14674344 0 VALUE { if(V(SS2)>0.765, 0.765, V(SS2))    }
E_U6_ABM21         SSEND2 0 VALUE { if(V(SS2)>1.3005, 1, 0)    }
C_C10         SW2 GND  1p IC=0 TC=0,0 
X_S19    N14674254 GND SW2 GND TPS54395_TOP_S19 
X_U5_U271         U5_HI_DEL U5_N14703778 U5_LOW_DELAY NOR2
X_U5_U194         U5_START_DEL U5_ILIM_LESS BUFFER_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=.5 TPLH=12u TPHL=1u TR=1E-9 TF=1E-9
X_U5_U239         U5_LUPB U5_LOOPB INVERTER
E_U5_ABM46         U5_RAMP 0 VALUE { if(V(ENCIR1)>0.5,   
+ LIMIT((V(U5_RMPIN)-0.01),-10m,5m),0)   }
X_U5_U275         U5_DRVOFF HICCUP1 U5_HI_READY U5_HI_READY U5_HIDRIVE NOR4
C_U5_C13         U5_OCLHI GND  10p IC=0 TC=0,0 
C_U5_C9         GND U5_N14738087  4.6p IC=0 TC=0,0 
E_U5_ABM19         U5_N14705078 0 VALUE { if( V(U5_N14704906)  
+ >V(U5_TON) ,1,0)   }
X_U5_U193         U5_HI_READY U5_DQOS BUFFER_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=2E-9 TPHL=2E-9 TR=1E-9 TF=1E-9
E_U5_ABM15         U5_REFEFF 0 VALUE { V(N14735078)  
+ + V(U5_RAMP)   }
X_U5_U283         U5_N14704648 U5_N152035581 U5_DRH2 AND
X_U5_S12    U5_QRMP GND U5_RMP GND DCAP_U5_S12 
R_U5_R40         GND U5_N14706850  1Meg  
X_U5_U216         U5_N14705078 ENCIR1 U5_N14705656 AND
R_U5_R23         GND U5_TON  10Meg TC=0,0 
X_U5_S7    U5_DRL1 GND VREG5 N13133869 DCAP_U5_S7 
X_U5_U268         U5_N14705168 ENCIR1 U5_ONG U5_TBLNK NAND3_PS PARAMS: VHI=1
+  VLO=0 VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
G_U5_ABMII1         VREG5 U5_RMP VALUE { if(V(ENCIR1)>0.5, 28n,0)    }
E_U5_ABM28         U5_N14704796 0 VALUE { if( V(U5_N14705662)<0.5  
+ & V(U5_ON)<0.5 ,1,0)   }
X_U5_U281         U5_DRVHPREBIAS U5_N14705142 U5_HI_DEL AND
E_U5_ABM11         U5_N14988808 0 VALUE { if( V(U5_OCLTHR)  
+ >V(U5_LLO) ,1,0)   }
R_U5_R27         SW1 U5_INT  670k TC=0,0 
X_U5_U188         U5_TBLNK U5_N152038860 BUFFER_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=10E-9 TPHL=30E-9 TR=1E-9 TF=1E-9
E_U5_ABM35         U5_OCLTHR 0 VALUE { if(V(ENCIR1)>0.5, -0.282,0)    }
R_U5_R34         U5_N14705578 GND  60k TC=0,0 
X_U5_U312         U5_N14704040 U5_DRH2 INV_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
E_U5_E12         U5_SWIN GND SW1 GND 1
X_U5_U300         U5_ONG U5_N152042700 INV_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
X_U5_S8    U5_DRL2 GND N13133869 GND DCAP_U5_S8 
G_U5_ABM2I1         VREG5 U5_TON VALUE { if(V(U5_DQOS)<0.25, V(SW1)/142K,0)   
+  }
X_U5_U264         U5_N14703488 U5_SSENDSET U5_N14703510 SSEND1 NAND3_PS PARAMS:
+  VHI=1 VLO=0 VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
E_U5_ABM48         U5_VOINFO1 0 VALUE { V(N13142404) * 0.5    }
X_U5_U243         U5_BLNKM U5_NCLB U5_N14704178 OR
R_U5_R6         U5_N14738075 U5_N14791687  1800k TC=0,0 
G_U5_ABM2I2         U5_TON GND VALUE { if(V(U5_DQOS) >.75, V(U5_TON)/200,0)   
+  }
X_U5_U279         U5_HIDRIVE U5_N152035581 INVERTER
X_U5_U258         U5_ONS1 U5_N14703724 U5_TBLNKB ENCIR1 NAND3_PS PARAMS: VHI=1
+  VLO=0 VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
X_U5_U280         U5_LOWDRIVE U5_N152038041 INVERTER
X_U5_U260         U5_ONS2 U5_N14703428 U5_TBLNKB ENCIR1 NAND3_PS PARAMS: VHI=1
+  VLO=0 VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
C_U5_C12         U5_N14705662 GND  10p IC=0 TC=0,0 
E_U5_ABM47         U5_START_DEL 0 VALUE { if(V(U5_TIMEOCL) >0.5,1,0)    }
X_U5_U282         U5_HIDRIVE U5_N14704040 U5_DRH1 AND
C_U5_C10         GND U5_RMP  4p IC=0 TC=0,0 
X_U5_U142         U5_ONSET U5_ONS3 U5_ONS1 U5_ONS2 U5_TBLNK OR4_PS PARAMS:
+  VHI=1 VLO=0 VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
V_U5_V82         U5_N14704906 U5_VOINFO1 70m
X_U5_U217         U5_DQOS U5_N14705656 U5_TOS OR
X_U5_U16         VREG5 VBST1 d_d1 
R_U5_R36         U5_N14705626 GND  300k TC=0,0 
X_U5_U242         U5_BLNKM U5_OCLHI U5_OCLDIS OR
X_U5_U241         U5_BLNKM U5_LOOPB U5_N14703638 OR
X_U5_U296         U5_BLNKM U5_TBLNKB U5_N14705582 NAND2_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
X_U5_U247         U5_LOW_READY U5_N152039062 INVERTER
R_U5_R25         VREG5 GND  1e15 TC=0,0 
X_U5_U249         U5_ON U5_ONB INVERTER
R_U5_R10         U5_N14791687 U5_SWIN  572k TC=0,0 
E_U5_ABM37         U5_ONS3 0 VALUE { if(V(N13142404) >7.1,1,0)    }
X_U5_U286         U5_LOW_READY U5_PREBIAS HICCUP1 U5_SSENDSET U5_LOWDRIVE NOR4
R_U5_R29         GND U5_RMP  1e8 TC=0,0 
X_U5_U295         U5_N14703510 U5_HI_DEL U5_HIDRIVE NAND2_PS PARAMS: VHI=1
+  VLO=0 VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
X_U5_S5    U5_DRH1 GND VBST1 N13133969 DCAP_U5_S5 
X_U5_U269         U5_LOW_READY U5_LOW_DELAY U5_ONB U5_ZC NAND3_PS PARAMS: VHI=1
+  VLO=0 VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
E_U5_E10         N13142404 GND U5_N14738087 GND 1
X_U5_U267         U5_TBLNK U5_N14705168 U5_TOS U5_TOS NAND3_PS PARAMS: VHI=1
+  VLO=0 VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
R_U5_R9         U5_TIMEOCL U5_N14786773  1Meg TC=0,0 
X_U5_U266         U5_N14704342 U5_ON U5_TOS ENCIR1 NAND3_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
X_U5_U259         U5_N14703428 U5_OCLDIS U5_OCLDIS U5_ONS2 NAND3_PS PARAMS:
+  VHI=1 VLO=0 VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
X_U5_S6    U5_DRH2 GND N13133969 SW1 DCAP_U5_S6 
X_U5_U262         U5_ZC U5_N14707232 U5_TBLNKB ENCIR1 NAND3_PS PARAMS: VHI=1
+  VLO=0 VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
E_U5_ABM49         U5_VO_TON 0 VALUE { if( V(U5_ILIM_LESS)<0.5,   
+ V(U5_VOINFO1), 0.33)   }
R_U5_R30         GND U5_N152031480  1e8 TC=0,0 
X_U5_U299         U5_N152042700 U5_LOW_READY INV_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=155n TPHL=10E-9 TR=1E-9 TF=1E-9
R_U5_R33         N13142404 U5_N14705578  92k TC=0,0 
R_U5_R26         U5_LLO GND  1e15 TC=0,0 
X_U5_U285         U5_N14704742 U5_N152038041 U5_DRL2 AND
X_U5_U313         U5_N14704296 U5_DRL2 INV_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
C_U5_C8         GND U5_N14738075  4.6p IC=0 TC=0,0 
C_U5_C5         N13142404 U5_INT  6p IC=0 TC=0,0 
X_U5_U246         U5_N152038860 U5_TBLNKB INVERTER
E_U5_ABM3         U5_DRVHPREBIAS 0 VALUE { if(V(N13133969)>5,1,0)    }
E_U5_E8         U5_N14705832 GND VFB1 GND 1
R_U5_R28         U5_N14704796 GND  1e15 TC=0,0 
C_U5_C14         GND U5_N14791687  5.4p IC=0 TC=0,0 
E_U5_E11         U5_N14786773 GND U5_OCLHI GND 2
E_U5_ABM10         U5_LUPB 0 VALUE { if( V(U5_REFEFF)  
+ >V(U5_VIM) ,1,0)   }
R_U5_R35         U5_INT U5_N14705626  220k TC=0,0 
X_U5_U192         N13133869 U5_N14704200 BUFFER_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=2.5 TPLH=2n TPHL=5E-9 TR=1E-9 TF=1E-9
R_U5_R41         SW1 U5_N14705662  200 TC=0,0 
R_U5_R31         GND U5_QRMP  1e8 TC=0,0 
X_U5_U270         U5_N14704200 U5_N152039062 U5_ON1 NOR2
E_U5_ABM12         U5_NCLB 0 VALUE { if( V(U5_LLO)  
+ > V(U5_N14707912),0,1)   }
X_U5_U302         U5_DRVHPREBIAS U5_QRMP U5_N152031480 MONOPOS_PS PARAMS:
+  PW=10n
X_U5_U284         U5_LOWDRIVE U5_N14704296 U5_DRL1 AND
C_U5_C4         GND U5_TON  20p IC=0 TC=0,0 
X_U5_U257         U5_N14703724 U5_N14703638 U5_N14703638 U5_ONS1 NAND3_PS
+  PARAMS: VHI=1 VLO=0 VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
C_U5_C6         U5_N14705578 GND  0.8p IC=0 TC=0,0 
E_U5_E7         U5_RMPIN GND U5_RMP GND 1
R_U5_R42         U5_N14988808 U5_OCLHI  200 TC=0,0 
X_U5_U191         U5_N14703778 U5_N14705142 BUFFER_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=2n TPHL=50n TR=1E-9 TF=1E-9
X_U5_U310         U5_N14704648 U5_DRH1 INV_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
R_U5_R32         U5_VIM U5_N14705832  8k TC=0,0 
X_U5_U245         U5_N14704200 U5_N14705922 INVERTER
X_U5_U261         U5_N14707232 U5_N14704178 U5_N14704178 U5_ZC NAND3_PS PARAMS:
+  VHI=1 VLO=0 VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
X_U5_U274         ENCIR1 U5_DRVOFF INVERTER
V_U5_V83         U5_N14707912 GND -5m
X_U5_U294         U5_HI_READY U5_ON U5_ON1 NAND2_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
R_U5_R38         U5_VIM GND  1e11 TC=0,0 
C_U5_C11         GND U5_TIMEOCL  3p IC=0 TC=0,0 
X_U5_U278         U5_HI_READY U5_N14703778 INVERTER
X_U5_U265         U5_ON U5_ONSET U5_ONSET U5_N14704342 NAND3_PS PARAMS: VHI=1
+  VLO=0 VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
R_U5_R37         GND U5_N14706924  1Meg  
X_U5_U311         U5_N14704742 U5_DRL1 INV_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
X_U5_U263         U5_SSENDSET ENCIR1 ENCIR1 U5_N14703488 NAND3_PS PARAMS: VHI=1
+  VLO=0 VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
X_U5_U576         U5_DRVHPREBIAS U5_N14706850 U5_N14706924 U5_PREBIAS
+  srlatchrhp_basic_gen PARAMS: VDD=1 VSS=0 VTHRESH=.5
G_U5_G1         U5_VIM GND U5_N14705578 U5_N14705626 1u
R_U5_R7         U5_N14738087 U5_N14738075  1800k TC=0,0 
X_U5_U277         U5_ZC U5_N14705922 U5_N14705582 OR
E_U5_ABM9         U5_LLO 0 VALUE { if( V(U5_N14704796)>0.5,  
+ V(SW1),  
+ V(GND) )  }
X_U1_U17          EN2 U1_ENSW2 COMP_HYS2 PARAMS:  TH=1.2 HYS=1.6
E_U1_ABM20         U1_ENVREG5 0 VALUE { if( V(U1_ENSW)>0.5  
+ & V(VIN1)>3.2,LIMIT(V(VIN1),0,5.5),0)   }
X_U1_U16          EN1 U1_ENSW1 COMP_HYS2 PARAMS:  TH=1.2 HYS=1.6
X_U1_U15          VREG5 U1_V5INOK COMP_HYS2 PARAMS:  TH=3.53 HYS=.6
E_U1_ABM21         ENCIR2 0 VALUE { if( V(U1_ENSW2)>0.5  
+ & V(U1_V5INOK)>0.5,1,0)   }
G_U1_G2         U1_REG5 VREG5 TABLE { V(U1_REG5, VREG5) } 
+ ( (-10,-75m)(-1m,-65m)(0,0)(1m,65m)(10,75m) )
X_U1_U241         U1_ENSW1 U1_ENSW2 U1_ENSW OR
E_U1_ABM19         ENCIR1 0 VALUE { if( V(U1_ENSW1)>0.5  
+ & V(U1_V5INOK)>0.5,1,0)   }
C_U1_C2         GND EN2  1p IC=0 TC=0,0 
R_U1_R4         U1_REG5 U1_ENVREG5  1  
X_U1_S1    U1_ENVREG5 GND VREG5 GND LDO_U1_S1 
C_U1_C1         GND EN1  1p IC=0 TC=0,0 
C_U1_C5         GND U1_REG5  100p  
X_U9         N146764141 VIN1 d_d1
.ENDS TPS54395_TRANS
*$
.subckt DCAP_U9_S12 1 2 3 4  
S_U9_S12         3 4 1 2 _U9_S12
RS_U9_S12         1 2 1G
.MODEL         _U9_S12 VSWITCH Roff=1e11 Ron=1 Voff=.25 Von=.75
.ends DCAP_U9_S12
*$
.subckt DCAP_U9_S7 1 2 3 4  
S_U9_S7         3 4 1 2 _U9_S7
RS_U9_S7         1 2 1G
.MODEL         _U9_S7 VSWITCH Roff=1e11 Ron=3 Voff=.25 Von=.75
.ends DCAP_U9_S7
*$
.subckt DCAP_U9_S8 1 2 3 4  
S_U9_S8         3 4 1 2 _U9_S8
RS_U9_S8         1 2 1G
.MODEL         _U9_S8 VSWITCH Roff=1e11 Ron=.9 Voff=.25 Von=.75
.ends DCAP_U9_S8
*$
.subckt DCAP_U9_S5 1 2 3 4  
S_U9_S5         3 4 1 2 _U9_S5
RS_U9_S5         1 2 1G
.MODEL         _U9_S5 VSWITCH Roff=1e11 Ron=3 Voff=.25 Von=.75
.ends DCAP_U9_S5
*$
.subckt DCAP_U9_S6 1 2 3 4  
S_U9_S6         3 4 1 2 _U9_S6
RS_U9_S6         1 2 1G
.MODEL         _U9_S6 VSWITCH Roff=1e11 Ron=.9 Voff=.25 Von=.75
.ends DCAP_U9_S6
*$
.subckt TPS54395_TOP_S20 1 2 3 4  
S_S20         3 4 1 2 _S20
RS_S20         1 2 1G
.MODEL         _S20 VSWITCH Roff=1e6 Ron=98m Voff=1 Von=2
.ends TPS54395_TOP_S20
*$
.subckt FAULTS_U3_S12 1 2 3 4  
S_U3_S12         3 4 1 2 _U3_S12
RS_U3_S12         1 2 1G
.MODEL         _U3_S12 VSWITCH Roff=1e11 Ron=50 Voff=.6 Von=.4
.ends FAULTS_U3_S12
*$
.subckt FAULTS_U3_S6 1 2 3 4  
S_U3_S6         3 4 1 2 _U3_S6
RS_U3_S6         1 2 1G
.MODEL         _U3_S6 VSWITCH Roff=1G Ron=1m Voff=.05 Von=.95
.ends FAULTS_U3_S6
*$
.subckt FAULTS_U3_S5 1 2 3 4  
S_U3_S5         3 4 1 2 _U3_S5
RS_U3_S5         1 2 1G
.MODEL         _U3_S5 VSWITCH Roff=1k Ron=1m Voff=.05 Von=.95
.ends FAULTS_U3_S5
*$
.subckt FAULTS_U7_S12 1 2 3 4  
S_U7_S12         3 4 1 2 _U7_S12
RS_U7_S12         1 2 1G
.MODEL         _U7_S12 VSWITCH Roff=1e11 Ron=50 Voff=.6 Von=.4
.ends FAULTS_U7_S12
*$
.subckt FAULTS_U7_S6 1 2 3 4  
S_U7_S6         3 4 1 2 _U7_S6
RS_U7_S6         1 2 1G
.MODEL         _U7_S6 VSWITCH Roff=1G Ron=1m Voff=.05 Von=.95
.ends FAULTS_U7_S6
*$
.subckt FAULTS_U7_S5 1 2 3 4  
S_U7_S5         3 4 1 2 _U7_S5
RS_U7_S5         1 2 1G
.MODEL         _U7_S5 VSWITCH Roff=1k Ron=1m Voff=.05 Von=.95
.ends FAULTS_U7_S5
*$
.subckt TPS54395_TOP_S18 1 2 3 4  
S_S18         3 4 1 2 _S18
RS_S18         1 2 1G
.MODEL         _S18 VSWITCH Roff=1e6 Ron=60m Voff=1 Von=3
.ends TPS54395_TOP_S18
*$
.subckt SOFTSTART_U2_S6 1 2 3 4  
S_U2_S6         3 4 1 2 _U2_S6
RS_U2_S6         1 2 1G
.MODEL         _U2_S6 VSWITCH Roff=1e11 Ron=10 Voff=.25 Von=.75
.ends SOFTSTART_U2_S6
*$
.subckt TPS54395_TOP_S17 1 2 3 4  
S_S17         3 4 1 2 _S17
RS_S17         1 2 1G
.MODEL         _S17 VSWITCH Roff=1e6 Ron=98m Voff=1 Von=2
.ends TPS54395_TOP_S17
*$
.subckt SOFTSTART_U6_S6 1 2 3 4  
S_U6_S6         3 4 1 2 _U6_S6
RS_U6_S6         1 2 1G
.MODEL         _U6_S6 VSWITCH Roff=1e11 Ron=10 Voff=.25 Von=.75
.ends SOFTSTART_U6_S6
*$
.subckt TPS54395_TOP_S19 1 2 3 4  
S_S19         3 4 1 2 _S19
RS_S19         1 2 1G
.MODEL         _S19 VSWITCH Roff=1e6 Ron=60m Voff=1 Von=3
.ends TPS54395_TOP_S19
*$
.subckt DCAP_U5_S12 1 2 3 4  
S_U5_S12         3 4 1 2 _U5_S12
RS_U5_S12         1 2 1G
.MODEL         _U5_S12 VSWITCH Roff=1e11 Ron=1 Voff=.25 Von=.75
.ends DCAP_U5_S12
*$
.subckt DCAP_U5_S7 1 2 3 4  
S_U5_S7         3 4 1 2 _U5_S7
RS_U5_S7         1 2 1G
.MODEL         _U5_S7 VSWITCH Roff=1e11 Ron=3 Voff=.25 Von=.75
.ends DCAP_U5_S7
*$
.subckt DCAP_U5_S8 1 2 3 4  
S_U5_S8         3 4 1 2 _U5_S8
RS_U5_S8         1 2 1G
.MODEL         _U5_S8 VSWITCH Roff=1e11 Ron=.9 Voff=.25 Von=.75
.ends DCAP_U5_S8
*$
.subckt DCAP_U5_S5 1 2 3 4  
S_U5_S5         3 4 1 2 _U5_S5
RS_U5_S5         1 2 1G
.MODEL         _U5_S5 VSWITCH Roff=1e11 Ron=3 Voff=.25 Von=.75
.ends DCAP_U5_S5
*$
.subckt DCAP_U5_S6 1 2 3 4  
S_U5_S6         3 4 1 2 _U5_S6
RS_U5_S6         1 2 1G
.MODEL         _U5_S6 VSWITCH Roff=1e11 Ron=.9 Voff=.25 Von=.75
.ends DCAP_U5_S6
*$

.subckt LDO_U1_S1 1 2 3 4  
S_U1_S1         3 4 1 2 _U1_S1
RS_U1_S1         1 2 1G
.MODEL         _U1_S1 VSWITCH Roff=1e8 Ron=100 Voff=3.6 Von=3.2
.ends LDO_U1_S1
*$

.SUBCKT AND A B OUT  
EOUT OUT1 0 VALUE { IF( V(A)>0.5 & V(B)>0.5,1,0) }
R1 OUT1 OUT 1
C1 OUT 0 1n
.ends AND
*$
.SUBCKT OR A B OUT  
EOUT OUT1 0 VALUE { IF( V(A)>0.5 | V(B)>0.5,1,0) }
R1 OUT1 OUT 1
C1 OUT 0 1n
.ends OR
*$
.SUBCKT NOR2 A B OUT  
EOUT OUT1 0 VALUE { IF( V(A)>0.5 | V(B)>0.5,0,1) }
R1 OUT1 OUT 1
C1 OUT 0 1n
.ends NOR2
*$
.SUBCKT NOR3 A B C OUT  
EOUT OUT1 0 VALUE { IF( V(A)>0.5 | V(B)>0.5 | V(C)>0.5,0,1) }
R1 OUT1 OUT 1
C1 OUT 0 1n
.ends NOR3
*$
.SUBCKT NOR4 A B C D OUT  
EOUT OUT1 0 VALUE { IF( V(A)>0.5 | V(B)>0.5 | V(C)>0.5 | V(D)>0.5,0,1) }
R1 OUT1 OUT 1
C1 OUT 0 1n
.ends NOR4
*$
.SUBCKT NAND3 A B C OUT  
EOUT OUT1 0 VALUE { IF( V(A)<0.5 & V(B)<0.5 & V(C)<0.5,1,0) }
R1 OUT1 OUT 1
C1 OUT 0 1n
.ends NAND3
*$
.SUBCKT NAND2 A B OUT  
EOUT OUT1 0 VALUE { IF( V(A)<0.5 & V(B)<0.5,1,0) }
R1 OUT1 OUT 1
C1 OUT 0 1n
.ends NAND2
*$
.SUBCKT AND3 A B C OUT  
EOUT OUT1 0 VALUE { IF( V(A)>0.5 & V(B)>0.5 & V(C)>0.5,1,0) }
R1 OUT1 OUT 1
C1 OUT 0 1n
.ends AND3
*$
.SUBCKT INVERTER IN OUT  
EOUT OUT1 0 VALUE { IF( V(IN)<0.5,1,0) }
R1 OUT1 OUT 1
C1 OUT 0 1n
.ends INVERTER
*$
.SUBCKT COMP_HYS2 INP OUT 
+ PARAMs:  TH=.5 HYS=0.1
EIN INP1 0 INP 0 1 
EHYS INP1 INP2 VALUE { IF( V(1)>0.5,-(HYS)/2,HYS/2) }
EOUT OUT 0 VALUE { IF( V(INP2)>TH,1,0) }
R1 OUT 1 1
C1 1 0 1n
RINP1 INP1 0 10K
.ends COMP_HYS2
*$
.SUBCKT DELAY IN OUT
+ PARAMs:  T=100
S_S1         MEAS 0 RESET2 0 S1
E_ABM1         CH 0 VALUE { if( V(IN)>0.5,1,0)    }
E_ABM3         OUT 0 VALUE { if( V(MEAS)>0.5 & V(CH)>0.5,1,0)    }
R_R1         MEAS CH  {T} 
C_C1         0 MEAS  1.4427n  
E_ABM2         RESET 0 VALUE { if(V(CH)<0.5,1,0)    }
R_R2         RESET2 RESET  0.1  
C_C2         0 RESET2  1.4427n  
.MODEL         S1 VSWITCH Roff=1e9 Ron=1.0 Voff=0.25V Von=0.75V
.ENDS DELAY
*$
.SUBCKT NAND3_PS Y A B C PARAMS: vhi=1 vlo=0 vthresh=500e-3
+ tplh=1e-9 tphl=1e-9 tr=1e-9 tf=1e-9
RA A 0 1e11
CA A 0 0.01pF
RB B 0 1e11
CB B 0 0.01pF
RC C 0 1e11
CC C 0 0.01pF
VS VSUP 0 DC 1
ENAND3 Ypp 0 VALUE={IF(V(A) > {vthresh} & V(B) > {vthresh} & V(C) >
+ {vthresh}, 0, 1)}
ROUTpp Ypp 0 1e11
XNSW1 OUTp Ypp 0 NSW_PS PARAMS: RONval={(tplh+1e-15)/(1e-12*0.693)}
+ VTHval=0.5
XPSW1 OUTp Ypp VSUP PSW_PS PARAMS: RONval={(tphl+1e-15)/(1e-12*0.693)}
+ VTHval=0.5
CDEL1 OUTp 0 1pF
ETHRESH Yp 0 VALUE={IF(V(OUTp) > 0.5, 1, 0)}
ROUTp Yp 0 1e11
XNSW2 OUTr Yp 0 NSW_PS PARAMS: RONval={(tf+1e-15)/(1e-12*2.3)} VTHval=0.5
XPSW2 OUTr Yp VSUP PSW_PS PARAMS: RONval={(tr+1e-15)/(1e-12*2.3)} VTHval=0.5
CDEL2 OUTr 0 1pF
EOUT OUTf 0 VALUE={V(OUTr)*({vhi} - {vlo})+{vlo}}
RDR OUTf Y  1000
RO Y 0 1e11
.ENDS NAND3_PS
*$
.SUBCKT BUFFER_PS A Y PARAMS: vhi=1 vlo=0 vthresh=500e-3 tplh=1e-9
+ tphl=1e-9 tr=1e-9 tf=1e-9
RA A 0 1e11
CA A 0 0.01pF
VS VSUP 0 DC 1
EBUF1 Ypp 0 VALUE={IF(V(A) > ({vthresh}), 1, 0)}
ROUTpp Ypp 0 1e11
XNSW1 OUTp Ypp 0 NSW_PS PARAMS: RONval={(tplh+1e-15)/(1e-12*0.693)}
+ VTHval=0.5
XPSW1 OUTp Ypp VSUP PSW_PS PARAMS: RONval={(tphl+1e-15)/(1e-12*0.693)}
+ VTHval=0.5
CDEL1 OUTp 0 1pF
ETHRESH Yp 0 VALUE={IF(V(OUTp) > 0.5, 1, 0)}
ROUTp Yp 0 1e11
** add rise and fall *****
XNSW2 OUTr Yp 0 NSW_PS PARAMS: RONval={(tf+1e-15)/(1e-12*2.3)} VTHval=0.5
XPSW2 OUTr Yp VSUP PSW_PS PARAMS: RONval={(tr+1e-15)/(1e-12*2.3)} VTHval=0.5
CDEL2 OUTr 0 1pF
EOUT OUTf 0 VALUE={V(OUTr)*({vhi} - {vlo})+{vlo}}
RDR OUTf Y  1000
RO Y 0 1e11
.ENDS BUFFER_PS
*$
.SUBCKT INV_PS Y A PARAMS: vhi=1 vlo=0 vthresh=500e-3
+ tplh=1e-9 tphl=1e-9 tr=1e-9 tf=1e-9
RA A 0 1e11
CA A 0 0.01pF
VS VSUP 0 DC 1
EINV1 Ypp 0 VALUE={IF(V(A) > ({vthresh}), 0, 1)}
ROUTpp Ypp 0 1e11
XNSW1 OUTp Ypp 0 NSW_PS PARAMS: RONval={(tplh+1e-15)/(1e-12*0.693)}
+ VTHval=0.5
XPSW1 OUTp Ypp VSUP PSW_PS PARAMS: RONval={(tphl+1e-15)/(1e-12*0.693)}
+ VTHval=0.5
CDEL1 OUTp 0 1pF
ETHRESH Yp 0 VALUE={IF(V(OUTp) > 0.5, 1, 0)}
ROUTp Yp 0 1e11
XNSW2 OUTr Yp 0 NSW_PS PARAMS: RONval={(tf+1e-15)/(1e-12*2.3)} VTHval=0.5
XPSW2 OUTr Yp VSUP PSW_PS PARAMS: RONval={(tr+1e-15)/(1e-12*2.3)} VTHval=0.5
CDEL2 OUTr 0 1pF
EOUT OUTf 0 VALUE={V(OUTr)*({vhi} - {vlo})+{vlo}}
RDR OUTf Y  1000
RO Y 0 1e11
.ENDS INV_PS
*$
.SUBCKT OR4_PS Y A B C D PARAMS: vhi=1 vlo=0 vthresh=500e-3 tplh=1e-9
+ tphl=1e-9 tr=1e-9 tf=1e-9
RA A 0 1e11
CA A 0 0.01pF
RB B 0 1e11
CB B 0 0.01pF
RC C 0 1e11
CC C 0 0.01pF
RD D 0 1e11
CD D 0 0.01pF
VS VSUP 0 DC 1
EOR4 Ypp 0 VALUE={IF(V(A) > {vthresh} | V(B) > {vthresh}  | V(C) >
+ {vthresh}  | V(D) > {vthresh}, 1, 0)}
ROUTpp Ypp 0 1e11
XNSW1 OUTp Ypp 0 NSW_PS PARAMS: RONval={(tplh+1e-15)/(1e-12*0.693)}
+ VTHval=0.5
XPSW1 OUTp Ypp VSUP PSW_PS PARAMS: RONval={(tphl+1e-15)/(1e-12*0.693)}
+ VTHval=0.5
CDEL1 OUTp 0 1pF
ETHRESH Yp 0 VALUE={IF(V(OUTp) > 0.5, 1, 0)}
ROUTp Yp 0 1e11
XNSW2 OUTr Yp 0 NSW_PS PARAMS: RONval={(tf+1e-15)/(1e-12*2.3)} VTHval=0.5
XPSW2 OUTr Yp VSUP PSW_PS PARAMS: RONval={(tr+1e-15)/(1e-12*2.3)} VTHval=0.5
CDEL2 OUTr 0 1pF
EOUT OUTf 0 VALUE={V(OUTr)*({vhi} - {vlo})+{vlo}}
RDR OUTf Y  1000
RO Y 0 1e11
.ENDS OR4_PS
*$
.SUBCKT NAND2_PS Y A B PARAMS: vhi=1 vlo=0 vthresh=500e-3
+ tplh=1e-9 tphl=1e-9 tr=1e-9 tf=1e-9
RA A 0 1e11
CA A 0 0.01pF
RB B 0 1e11
CB B 0 0.01pF
VS VSUP 0 DC 1
ENAND2 Ypp 0 VALUE={IF(V(A) > {vthresh} & V(B) > {vthresh}, 0, 1)}
ROUTpp Ypp 0 1e11
***** add delay lines ****
XNSW1 OUTp Ypp 0 NSW_PS PARAMS: RONval={(tplh+1e-15)/(1e-12*0.693)}
+ VTHval=0.5
XPSW1 OUTp Ypp VSUP PSW_PS PARAMS: RONval={(tphl+1e-15)/(1e-12*0.693)}
+ VTHval=0.5
CDEL1 OUTp 0 1pF
ETHRESH Yp 0 VALUE={IF(V(OUTp) > 0.5, 1, 0)}
ROUTp Yp 0 1e11
** add rise and fall *****
XNSW2 OUTr Yp 0 NSW_PS PARAMS: RONval={(tf+1e-15)/(1e-12*2.3)} VTHval=0.5
XPSW2 OUTr Yp VSUP PSW_PS PARAMS: RONval={(tr+1e-15)/(1e-12*2.3)} VTHval=0.5
CDEL2 OUTr 0 1pF
EOUT OUTf 0 VALUE={V(OUTr)*({vhi} - {vlo})+{vlo}}
RDR OUTf Y  1000
RO Y 0 1e11
.ENDS NAND2_PS
*$
.SUBCKT NSW_PS D G S PARAMS: RONval=10k VTHval=0.7 VCHARval=0.01
+ CGval=0.01pF CDval=0.01pF 
RDDUM D 0 1e11
RSDUM S 0 1e11
RGDUM G 0 1e11
CG G D {CGval}
CD D S {CDval}
EEXP F1 0 VALUE={LIMIT(((V(G,S)-VTHval)/VCHARval),-80,80)} 
GOUT D S VALUE={V(D,S)/(RONval*(1+EXP(-LIMIT(((V(G,S)-VTHval)/VCHARval)
+,-80,80))))}
.ENDS NSW_PS
*$
.SUBCKT PSW_PS D G S PARAMS: RONval=10k VTHval=0.7 VCHARval=0.01
+ CGval=0.01pF CDval=0.01pF 
RDDUM D 0 1e11
RSDUM S 0 1e11
RGDUM G 0 1e11
CG G D {CGval}
CD D S {CDval}
EEXP F1 0 VALUE={LIMIT(((V(S,G)-VTHval)/VCHARval),-80,80)} 
GOUT S D VALUE={V(S,D)/(RONval*(1+EXP(-LIMIT(((V(S,G)-VTHval)/VCHARval)
+,-80,80))))}
.ENDS PSW_PS
*$
.SUBCKT SRLATCHRHP_BASIC_GEN S R Q QB PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
Rs S 0 1e11
Rr R 0 1e11
GQ 0 Qint VALUE = {IF(V(R) > {VTHRESH},-5,IF(V(S)>{VTHRESH},5, 0))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 buffer_ps
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr QB 1 
Cdummy1 Q 0 10p 
Cdummy2 QB 0 10p
.IC V(Qint) {VSS}
.MODEL D_D1 D( IS=1e-15 TT=10p Rs=0.05 N=.1  )
.ENDS SRLATCHRHP_BASIC_GEN
*$
.SUBCKT D_D1 1 2
D1 1 2 DD1
.MODEL DD1 D( IS=1e-15 TT=10p Rs=0.05 N=.1  )
.ENDS D_D1
*$
.SUBCKT D_D2 1 2
D1 1 2 DD2
.MODEL DD2 D( IS=1e-15 TT=10p Rs=0.01 N=.01  )
.ENDS D_D2
*$
.SUBCKT BUF_DELAY_BASIC_GEN A  Y PARAMS: VDD=5 VSS=0 VTHRESH=2.5
+ DELAY = 10n 
E_ABMGATE1    YINT1 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT1 YINT2 1
CINT YINT2 0 {DELAY*1.3}
E_ABMGATE2    YINT3 0 VALUE {{IF(V(YINT2) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT2 YINT3 Y 1
CINT2 Y 0 1n
.ENDS BUF_DELAY_BASIC_GEN
*$

.SUBCKT MONOPOS_PS in Q Qn PARAMS: PW=250u 
VS VSUP 0 DC 1
r1 Q 0 1e11
GIN VSUP YA VALUE={IF(V(IN)>0.5, V(VSUP)/1000K, 0)}
GDIS YA 0 VALUE={IF(V(IN)>0.5,0, V(YA)/1m)}
CIN YA 0 1n IC=0
RIN YA 0 1e11
EABM1 YTD 0 VALUE={IF(V(YA)> {PW*1000}, 1, 0)}
RYTD YTD 0 1e11
EXOR P 0 VALUE={IF(V(YTD) > 0.5 ^ V(IN) > .5, 1, 0)}
ROUTpp2 P 0 1e11
EAND1 Q1 0 VALUE={ IF(V(P)>0.5 & V(IN)>0.5, 1, 0)}
Ro1 Q1 Q 1m
Co1 Q 0 1p
ROUT2 Q 0 1e11
EAND2 Qn1 0 VALUE={ IF(V(Q)>0.5, 0, 1)}
Ro2 Qn1 Qn 1m
Co2 Qn 0 1p
ROUT4 Qn 0 1e11
.ENDS MONOPOS_PS
*$

.model D_D d
+ is=1e-015
+ n=0.01
+ tt=1e-011
+ n=0.01
+ tt=1e-011
*$
.subckt one_shot in out
+ params:  t=100
s_s1         meas 0 reset2 0 s1
e_abm1         ch 0 value { if( v(in)>0.5 | v(out)>0.5,1,0)    }
r_r2         reset2 reset  0.1  
e_abm3         out 0 value { if( v(meas)<0.5 & v(ch)>0.5,1,0)    }
r_r1         meas ch  {t} 
c_c2         0 reset2  1.4427n  
c_c1         0 meas  1.4427n  
e_abm2         reset 0 value { if(v(ch)<0.5,1,0)    }
*$
.model s1 vswitch
+ roff=1e+009
+ ron=1
+ voff=0.25
+ von=0.75
.ends one_shot
*$
.SUBCKT COMPARATOR2 INP OUT  
+ PARAMs:  TH=1
EOUT OUT 0 VALUE { IF( V(INP)>TH,1,0) }
.ends COMPARATOR2
*$
.SUBCKT CESR IN OUT
+ PARAMs:  C=100u ESR=0.01 X=2 IC=0
C	IN 1  {C*X} IC={IC}
RESR	1 OUT {ESR/X}
.ENDS CESR
*$
.SUBCKT LDCR IN OUT
+ PARAMs:  L=1u DCR=0.01 IC=0
L	IN 1  {L} IC={IC}
RDCR	1 OUT {DCR}
.ENDS LDCR
*$