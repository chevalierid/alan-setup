*$
* LMZ23608
*****************************************************************************
* (C) Copyright 2012 Texas Instruments Incorporated. All rights reserved.                                            
*****************************************************************************
** This model is designed as an aid for customers of Texas Instruments.
** TI and its licensors and suppliers make no warranties, either expressed
** or implied, with respect to this model, including the warranties of 
** merchantability or fitness for a particular purpose.  The model is
** provided solely on an "as is" basis.  The entire risk as to its quality
** and performance is with the customer
*****************************************************************************
*
* This model is subject to change without notice. Texas Instruments
* Incorporated is not responsible for updating this model.
*
*****************************************************************************
*
** Released by: WEBENCH Design Center, Texas Instruments Inc.
* Part: LMZ23608
* Date: 26DEC2012
* Model Type: TRANSIENT
* Simulator: PSPICE
* Simulator Version: 16.2.0.p001
* EVM Order Number: AN-2093 LMZ23610/8/6 and LMZ22010/8/6
* EVM Users Guide: SNVA460A – Revised June 2011
* Datasheet: SNVS708D – Revised October 2011
*
* Model Version: Final 1.00
*
*****************************************************************************
*
* Updates:
*
* Final 1.00
* Release to Web.
*
****************************************************************************
.SUBCKT LMZ23608_TRANS VIN SYNC EN AGND PGND SS FB VOUT
RSS AGND SS 1G
X2 SW LSSENSE GATELS AGND SSWITCH_0
XA1 ZEROXSSINGDETECT SSCAPDIS ZEROXSENSE 30 NOR3_BASIC_GEN
L1 SW VOUTRESR 2.2U
X3 LSSENSE 2 GAIN_0
VCLAMPCOMPLO 52 AGND DC=0.6V
R6XX 63 EMURAMP 3MEG
C5X EMURAMP AGND 15P
XA4 PWM 30 ZEROXSSINGDETECT NOR2_BASIC_GEN
XA2 CLK START OSCCLK AND2_BASIC_GEN
RSENSEHS VIN HSSENSE 2.5E-4
X25 75 FB VOUTOVP COMPHYST_0
RSENSELS LSSENSE AGND 2.5E-4
E_B3 GATEHS AGND value = { IF(V(PWM) > 1.75 & V(PWMDELAY) > 1.75 , 3.5 , 0)}
XA3 PWMBAR ZEROXSSINGDETECT GATELSZERO XNOR_BASIC_GEN
E_B6 PWMCOMP AGND value = { IF((V(EMURAMP) + 0.51) > V(COMP)  , 3.5 , 0)}
E_B5 GATELS AGND value = { IF(V(PWM) < 1.75 & V(PWMDELAY) < 1.75 & V(SSCAPDIS) < 1.75 &  
+ V(GATELSZERO) < 1.75 , 3.5 , 0)}
XA10 PWM PWMBAR INV_BASIC_GEN
R18 GATELS GATELSDELAY 251.8K
R3 PWM PWMDELAY 4.26K
C4 PWMDELAY AGND 1P
E_B2 ILIMHS AGND value = { IF(V(HSSENSE) < (V(VIN) - 8.77M) & 
+ ((V(GATEHSDELAY) >  1.75) & (V(GATEHS)>  1.75))  , 3.5 , 0.3)}
X5 EMURAMP 2 GATELS AGND SSWITCH_1
D4 LSSENSE SW _D4_MOD 1E5 
.MODEL _D4_MOD D RS=0
RESR VOUTRESR VOUT 5M
C6 GATELSZERO AGND 1F
R20 19 START 1.44MEG
E_B1 ILIMLS AGND value = { IF(V(LSSENSE) < -8.32M & ((V(GATELSDELAY)>1.75) & (V(GATELS)>1.75)),  3.5 , 0)}
E_B4 ZEROXSENSE AGND value = { IF(V(LSSENSE) > 100U , 3.5 ,0.3)}
R11 GATEHS GATEHSDELAY 309.5K
D11 SW HSSENSE _D4_MOD 1E5 
R19 SW AGND 5MEG
C10 GATEHSDELAY AGND 1P
C13 GATELSDELAY AGND 1P
C14 START AGND 1P
X15 COMP AGND VOUTOVP AGND SSWITCH_2
C3 AGND COMP 10F
XA21 OSCCLK PWM 66 NOR2_BASIC_GEN
XA22 66 67 PWM NOR2_BASIC_GEN
XA23 ILIMHS LSOC PWMCOMP SSCAPDIS 67 OR4_BASIC_GEN
D10 52 COMP _D1_MOD 1 
.MODEL _D1_MOD D TT=0.1NS VJ=0.6
XA25 START 68 INV_BASIC_GEN
X22 HSSENSE SW GATEHS AGND SSWITCH_3
X23 CLK DCLOCK_0
VSYNCHI 75 AGND DC=0.86V
X27 VIN 63 GATEHS AGND SSWITCH_1
I1 VIN 79 DC=50U
R16 63 AGND 300K
C1 80 AGND 100N
I2 VIN 81 DC=50U
V1 82 AGND DC=0.8V
X33 REFSS AGND 79 81 VCVS_0
D3 81 REFSS _D1_MOD 1 
D6 79 82 _D1_MOD 1 
D7 79 80 _D1_MOD 1 
X35 EN 74 START AGND SSWITCH_2
VREF_UVLOX 23 AGND DC=4V
D5 79 SS _D1_MOD 1 IC=0
V13 V3P5 AGND DC=3.5V
X37 91 92 LSOC COMPARETTL_0
X17 91 AGND 115 AGND SSWITCH_2
D1 91 V3P5 _D1_MOD 1  
C11 91 AGND 100P
R7 44 COMP 10K
C7 44 AGND 7N
X24 COMP FB REFSS VCCSGM1_0
R17 COMP AGND 10MEG
X21 VIN 23 VINUVLO COMPHYST_1
I4 V3P5 91 DC=4U
VREF_ENX 99 AGND DC=1.279V
R9 VIN EN 2MEG
I3 VIN 74 DC=21U
V16 101 AGND DC=5V
XA24 68 0 VINUVLO SSCAPDIS OR3_BASIC_GEN
D8 74 101 _D1_MOD 1  
D9 74 VIN _D1_MOD 1 
D2 COMP 69 _D1_MOD 1 
VCLAMPCOMPHI 69 AGND DC=0.6V
X45 80 AGND SSCAPDIS AGND SSWITCH_7
X49 99 EN 19 COMPARETTL_0
C8 74 AGND 10F
XA30 ILIMLS SSCAPDIS 115 OR2_BASIC_GEN
V27 92 AGND DC=1.75
R12 SYNC AGND 10K
Rdummy PGND AGND 1m
.ENDS LMZ23608_TRANS
*$
.SUBCKT SSWITCH_0 1 2 3 4
S_A1 1 2 3 4 SMOOTH
.MODEL SMOOTH VSWITCH RON=10.0M ROFF=1.0G VON=1.750 VOFF=1.70
.ENDS
*$
.SUBCKT SSWITCH_1 1 2 3 4
S_A1 1 2 3 4 SMOOTH
.MODEL SMOOTH VSWITCH RON=1.0 ROFF=1G VON=1.750 VOFF=1.70
.ENDS
*$
.SUBCKT SSWITCH_2 1 2 3 4
S_A1 1 2 3 4 SMOOTH
.MODEL SMOOTH VSWITCH RON=1.0 ROFF=1.0G VON=1.750 VOFF=1.70
.ENDS
*$
.SUBCKT SSWITCH_3 1 2 3 4
S_A1 1 2 3 4 SMOOTH
.MODEL SMOOTH VSWITCH RON=18.0M ROFF=1.0G VON=1.750 VOFF=1.70
.ENDS
*$
.SUBCKT SSWITCH_7 1 2 3 4
S_A1 1 2 3 4 SMOOTH
.MODEL SMOOTH VSWITCH RON=1.0 ROFF=10.0G VON=1.750 VOFF=1.70
.ENDS
*$
.SUBCKT GAIN_0 1 2
E1 2 0 1 0 -40.0
.ENDS
*$
.SUBCKT COMPHYST_0 LO HI OUT
S1 2 OUT HI LO _S1_MOD
R1 OUT 0 1K
E_B2 2 0 value = {3.5}
R2 LO 0 1E12
R3 HI 0 1E12
.MODEL _S1_MOD vswitch VON=0 VOFF=-10m ROFF=1MEG RON=1.0
.ENDS
*$
.SUBCKT COMPHYST_1 LO HI OUT
S1 2 OUT HI LO _S1_MOD
R1 OUT 0 1K
E_B2 2 0 value = {3.5}
R2 LO 0 1E12
R3 HI 0 1E12
.MODEL _S1_MOD vswitch VT=100.0M VH=100.0M ROFF=1MEG
.ENDS
*$
.SUBCKT DCLOCK_0 2
VCLOCK 2 0 PULSE 0 5 0 1n 1n 25n 2.857u
.ENDS
*$
.SUBCKT VCVS_0 1    2    3   4
E1 1 2 POLY(1) 3 4 0 100.0K
.ENDS
*$
.SUBCKT COMPARETTL_0 LO HI OUT
E_B1 OUT 0 value = { IF(V(HI) > V(LO) , 3.5 , .1)}
.ENDS
*$
.SUBCKT VCCSGM1_0 OUT INP INN
G_B1 OUT 0 value = { IF( V(INP,INN)*600.0U <= 40.0U & V(INP,INN)*600.0U >= -40.0U ,  
+ V(INP,INN)*600.0U , IF( V(INP,INN)*600.0U >
+ 40.0U , 40.0U , -40.0U))}
.ENDS
*$
.SUBCKT INV_BASIC_GEN A  Y PARAMS: VDD=3.5 VSS=0 VTHRESH=1.75 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 5n
.ENDS INV_BASIC_GEN
*$
.SUBCKT AND2_BASIC_GEN A B Y PARAMS: VDD=3.5 VSS=0 VTHRESH=1.75
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 5n
.ENDS AND2_BASIC_GEN
*$
.SUBCKT NOR2_BASIC_GEN A B Y PARAMS: VDD=3.5 VSS=0 VTHRESH=1.75
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 5n
.ENDS NOR2_BASIC_GEN
*$
.SUBCKT NOR3_BASIC_GEN A B C Y PARAMS: VDD=3.5 VSS=0 VTHRESH=1.75
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} | V(C) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 5n
.ENDS NOR3_BASIC_GEN
*$
.SUBCKT OR3_BASIC_GEN A B C Y PARAMS: VDD=3.5 VSS=0 VTHRESH=1.75 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 5n
.ENDS OR3_BASIC_GEN
*$
.SUBCKT OR2_BASIC_GEN A B Y PARAMS: VDD=3.5 VSS=0 VTHRESH=1.75
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 5n
.ENDS OR2_BASIC_GEN
*$
.SUBCKT OR4_BASIC_GEN A B C D Y PARAMS: VDD=3.5 VSS=0 VTHRESH=1.75
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} | V(C) > {VTHRESH}| V(D) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 5n
.ENDS OR4_BASIC_GEN
*$
.SUBCKT XNOR_BASIC_GEN A B Y PARAMS: VDD=3.5 VSS=0 VTHRESH=1.75 
E_ABMGATE  YINT 0 VALUE {{IF(V(A) > {VTHRESH}  ^ 
+ V(B) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 5n
.ENDS XNOR_BASIC_GEN
*$
.SUBCKT Cin 2 4 
R1 2 3 6.666666666666666E-4
C1 3 4 6.597259515570935E-5 IC=0.0
R3 5 4 5; "free space" reduced by sqrt(dielectric constant)
R2 2 4 1.5157809051467314E7
R4 3 26 3.5450052621670764E11
R6 3 7 3.5450052621670765E8
C5 7 1 8.271117032027576E-13 IC=0.0
R7 3 10 3.545005262167077E7
C6 10 1 8.271117032027576E-13 IC=0.0
R8 3 13 3545005.2621670766
C7 13 1 8.271117032027576E-13 IC=0.0
C2 26 1 8.271117032027576E-13 IC=0.0
R9 3 28 3.545005262167077E10
C3 28 1 8.271117032027576E-13 IC=0.0
R10 3 29 3.5450052621670766E9
C4 29 1 8.271117032027576E-13 IC=0.0
L8 1 5 15p
R24 1 5 0.0020
L12 5 4 1n
.ENDS
*$
.SUBCKT Cin1 2 4 
R1 2 3 6.666666666666666E-4
C1 3 4 6.437896114712803E-5 IC=3.3
R3 5 4 5; "free space" reduced by sqrt(dielectric constant)
R2 2 4 1.553302479849988E7
R4 3 26 3.459372115054168E11
R6 3 7 3.459372115054168E8
C5 7 1 8.271117032027576E-13 IC=3.3
R7 3 10 3.4593721150541686E7
C6 10 1 8.271117032027576E-13 IC=3.3
R8 3 13 3459372.1150541683
C7 13 1 8.271117032027576E-13 IC=3.3
C2 26 1 8.271117032027576E-13 IC=3.3
R9 3 28 3.459372115054168E10
C3 28 1 8.271117032027576E-13 IC=3.3
R10 3 29 3.459372115054168E9
C4 29 1 8.271117032027576E-13 IC=3.3
L8 1 5 15p
R24 1 5 0.0020
L12 5 4 1n
.ENDS
*$
.SUBCKT Cout 2 4 PARAMS: IC = 0
R1 2 3 0.0050
C1 3 1 0.0010336000000000002 IC = {IC}
R3 5 4 150
R2 2 4 967492.2600619193
R4 3 26 3.124124577120825E17
R6 3 7 3.124124577120825E11
C5 7 1 8.271117032027576E-13 IC = {IC}
R7 3 10 3.124124577120825E11
C6 10 1 8.271117032027576E-13 IC = {IC}
R8 3 13 3.124124577120825E11
C7 13 1 8.271117032027576E-13 IC = {IC}
C2 26 1 8.271117032027576E-13 IC = {IC}
R9 3 28 3.124124577120825E15
C3 28 1 8.271117032027576E-13 IC = {IC}
R10 3 29 3.124124577120825E13
C4 29 1 8.271117032027576E-13 IC = {IC}
L8 1 5 0.2e-9
R24 1 5 0.015
L12 5 4 10e-12
.ENDS
*$
.SUBCKT Cout1 2 4 PARAMS: IC = 3.3
R1 2 3 0.0090
C1 3 1 4.256E-4 IC = {IC}
R3 5 4 150
R2 2 4 2349624.060150376
R4 3 26 2.31552762774837568E17
R6 3 7 2.315527627748376E11
C5 7 1 8.271117032027576E-13 IC = {IC}
R7 3 10 2.315527627748376E11
C6 10 1 8.271117032027576E-13 IC = {IC}
R8 3 13 2.315527627748376E11
C7 13 1 8.271117032027576E-13 IC = {IC}
C2 26 1 8.271117032027576E-13 IC = {IC}
R9 3 28 2.315527627748376E15
C3 28 1 8.271117032027576E-13 IC = {IC}
R10 3 29 2.3155276277483758E13
C4 29 1 8.271117032027576E-13 IC = {IC}
L8 1 5 0.2e-9
R24 1 5 0.026999999999999996
L12 5 4 10e-12
.ENDS
*$
.SUBCKT Cout2 2 4 PARAMS: IC = 3.3
R1 2 3 0.0050
C1 3 1 0.0010336000000000002 IC = {IC}
R3 5 4 150
R2 2 4 967492.2600619193
R4 3 26 3.124124577120825E17
R6 3 7 3.124124577120825E11
C5 7 1 8.271117032027576E-13 IC = {IC}
R7 3 10 3.124124577120825E11
C6 10 1 8.271117032027576E-13 IC = {IC}
R8 3 13 3.124124577120825E11
C7 13 1 8.271117032027576E-13 IC = {IC}
C2 26 1 8.271117032027576E-13 IC = {IC}
R9 3 28 3.124124577120825E15
C3 28 1 8.271117032027576E-13 IC = {IC}
R10 3 29 3.124124577120825E13
C4 29 1 8.271117032027576E-13 IC = {IC}
L8 1 5 0.2e-9
R24 1 5 0.015
L12 5 4 10e-12
.ENDS
*$
