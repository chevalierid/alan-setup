*$
* TPS51427A
*****************************************************************************
*  (C) Copyright 2010 Texas Instruments Incorporated. All rights reserved.
*****************************************************************************
** This model is designed as an aid for customers of Texas Instruments.
** TI and its licensors and suppliers make no warrenties, either expressed
** or implied, with respect to this model, including the warranties of 
** merchantability or fitness for a particular purpose.  The model is
** provided solely on an "as is" basis.  The entire risk as to its quality
** and performance is with the customer
*****************************************************************************
*
** Released by: Analog eLab Design Center, Texas Instruments Inc.
* Part: TPS51427A
* Date: 09/23/2010
* Model Type: TRANSIENT
* Simulator: PSPICE
* Simulator Version: 16.0.0.P001
* Datasheet: SLUS843B MAY 2008 REVISED SEPTEMBER 2008
*
* Model Version: Final 1.00
*
*****************************************************************************
*
* Updates:
*
* Final 1.00
* Release to Web.
*
*****************************************************************************
.SUBCKT TPS51427A_TRANS VREF2 VREF3 VOUT1 VOUT2 VBST1 VBST2 PGND TRIP1 TRIP2
+ REFIN2 LDO LDOREFIN SKIPSEL V5FILT LL1 LL2 VIN VSW VFB1 EN_LDO DRVH1 DRVH2
+ DRVL1 DRVL2 EN1 EN2 V5DRV PGOOD1 PGOOD2 TONSEL GND PARAMS: MODE=1
C_U3_C14         GND U3_N13905176  1u IC=0 
E_U3_ABM5         U3_EN1D 0 VALUE { if(V(U3_N13904204)>0.5, 1,0)    }
X_U3_U117         U3_SS1 U3_V5FILT DIDEAL_PS PARAMS: RON=1E-3 ROFF=1E9
E_U3_ABM6         U3_EN2D 0 VALUE { if(V(U3_N13905176)>0.5, 1,0)    }
E_U3_ABM4         VSS1 0 VALUE { if(V(U3_SS1)>0.7, 0.7, V(U3_SS1))    }
X_U3_S11    ENCIRD1 GND U3_SS1 GND SOFTSTART_U3_S11 
E_U3_ABM38   U3_ENABLE2 0 VALUE { if(V(U3_EN2D) > 0.5, if( V(EN2)> 1.85 &
+  V(EN2)< 2.25 &  
+  V(EN1)>2.9,  
+ V(U3_N13905689), V(EN2)),0)  }
X_U3_S12    ENCIRD2 GND U3_SS2 GND SOFTSTART_U3_S12 
R_U3_R18         V5FILT U3_V5FILT  3.32  
X_U3_U239         U3_ENREADY U3_ENABLE2 ENCIRD2 AND
E_U3_ABM7         VSS2 0 VALUE { if(V(U3_SS2)>0.7, 0.7, V(U3_SS2))    }
X_U3_U238         U3_ENREADY U3_ENABLE1 ENCIRD1 AND
E_U3_ABM53         U3_ENREADY 0 VALUE { if( V(EN_LDO)> 0.5 &  
+ V(U3_V5INOK)>0.5,1,0)   }
X_U3_U16         EN2 U3_N13905689 delay PARAMS: T=900000
G_U3_ABMII1   U3_V5FILT U3_SS1 VALUE { if(V(ENCIRD1)>0.5, .388u+ MODE*
+  5.36u,0)    }
C_U3_C11         GND U3_V5FILT  1u IC=0 
X_U3_U116         U3_SS2 U3_V5FILT DIDEAL_PS PARAMS: RON=1E-3 ROFF=1E9
R_U3_R28         GND VSS2  1Meg  
R_U3_R24         GND U3_SS1  1e11  
X_U3_U15          V5FILT U3_V5INOK COMP_HYS2 PARAMS:  TH=4.05 HYS=.3
X_U3_U14         EN1 U3_N13904882 delay PARAMS: T=900000
C_U3_C3         GND U3_SS1  1n IC=0 TC=0,0 
C_U3_C4         GND U3_SS2  1n IC=0 TC=0,0 
E_U3_ABM2         SSEND1 0 VALUE { if(V(U3_SS1)>0.7, 1,0)    }
R_U3_R27         GND VSS1  1Meg  
E_U3_ABM3         SSEND2 0 VALUE { if(V(U3_SS2)>0.7, 1,0)    }
R_U3_R20         EN1 U3_N13904204  60  
R_U3_R21         EN2 U3_N13905176  60  
R_U3_R25         GND ENCIRD2  1e11  
G_U3_ABMII2      U3_V5FILT U3_SS2 VALUE { if(V(ENCIRD2)>0.5, .388u+ MODE*
+  5.36u,0)    }
R_U3_R26         GND U3_SS2  1e11  
E_U3_ABM37    U3_ENABLE1 0 VALUE { if(V(U3_EN1D) > 0.5, if( V(EN1)> 1.85 &
+  V(EN1)< 2.25 &  
+  V(EN2)>2.9,  
+ V(U3_N13904882), V(EN1)),0)  }
C_U3_C13         GND U3_N13904204  1u IC=0 
R_U1_R38         GND U1_N17925037  1Meg  
E_U1_ABM45         U1_N17923070 0 VALUE { if(V(U1_HIDRIVE) < 0.5 &  
+ V(U1_LOWDRIVE) <0.5,1,0)   }
E_U1_ABM8         U1_MODECHECK 0 VALUE { if(V(ENCIRD1)>0.5,if(
+  V(U1_PWMMODE)>0.5,  
+ -V(U1_OCLTHR),  
+ V(U1_N17923165) ),0)  }
X_U1_U202         U1_N179217250 U1_N17922717 BUFFER_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=20E-9 TPHL=2E-9 TR=1E-9 TF=1E-9
X_U1_U188         U1_N17921423 U1_N17922050 BUFFER_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=2E-9 TPHL=30E-9 TR=1E-9 TF=1E-9
E_U1_ABM38         U1_VFBINT 0 VALUE { if( V(U1_ADJUST1)>0.5,  
+ V(VFB1),  
+ V(U1_VFBSAMPLE) )  }
G_U1_ABMII3         U1_V5FILT U1_N17923165 VALUE { if(V(U1_NODEA) < 0.01,
+  10u*(V(U1_NODEA)-0.2),0)    }
R_U1_R19         GND TONSEL  1e11 TC=0,0 
E_U1_ABM6         U1_1P125VREF 0 VALUE { V(U1_V2P0) * 1.1    }
E_U1_ABM11    U1_N17925368 0 VALUE { if(( V(U1_OCLTHR)+ V(U1_FASTCURRENT))
+   
+ >V(U1_LLO) ,1,0)   }
X_U1_U259         U1_N17922279 U1_OCLDIS U1_OCLDIS U1_N17921378 NAND3_PS
+  PARAMS: VHI=1 VLO=0 VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
E_U1_ABM59         U1_HIGH_C 0 VALUE { if(V(U1_VFBINT)<0.77,1,0)    }
X_U1_U39      U1_N17923165 U1_V5FILT DIDEAL_PS PARAMS: RON=1E-3 ROFF=1E9
R_U1_R22         U1_N179215651 U1_LLO  1  
X_U1_U204      U1_OV U1_OVD BUFFER_PS PARAMS: VHI=1 VLO=0 VTHRESH=500E-3
+  TPLH=10E-6 TPHL=10E-6 TR=1E-9 TF=1E-9
X_U1_S9    U1_1P5SEL GND VOUT1 U1_N17924786 DCAP_CH1_U1_S9 
X_U1_U279         U1_N179243431 U1_N179229202 INVERTER
E_U1_ABM53         U1_VSEL 0 VALUE { ( V(U1_TSEL)  
+ * V(VOUT1) *0.6667)    }
X_U1_U248         U1_HIREADY U1_N179219901 INVERTER
E_U1_ABM19         U1_N17923126 0 VALUE { if( V(U1_VOUT_TON) +0.07  
+ >V(U1_TON) ,1,0)   }
X_U1_U255         U1_N17924529 U1_N17923094 U1_N17925122 AND
R_U1_R30         GND ENCIRD1  1e6 TC=0,0 
E_U1_ABM55         U1_N17922351 0 VALUE { LIMIT(V(U1_OOGAIN) *  
+ V(U1_VSEL), 0.2,8)   }
X_U1_S12    U1_QRMP GND U1_RMP GND DCAP_CH1_U1_S12 
X_U1_U299         U1_N17922048 U1_N179253741 INVERTER
X_U1_U251         U1_LUPB U1_OOAPULSE U1_N17923094 OR
E_U1_ABM13         U1_N17924897 0 VALUE { if( V(U1_HIGH_C)>0.5  
+ & V(U1_LOW_C)>0.5   
+ & V(ENCIRD1)>0.5, 1, 0 )  }
R_U1_R12         GND U1_N17922458  1Meg  
X_U1_U191     U1_N17923504 U1_N17923331 BUFFER_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=2E-9 TPHL=50n TR=1E-9 TF=1E-9
X_U1_U260   U1_N17921378 U1_N17922279 U1_TBLNKB ENCIRD1 NAND3_PS PARAMS:
+  VHI=1 VLO=0 VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
C_U1_C15         GND U1_LLO  10n IC=0 
R_U1_R7         GND U1_N17924661  1Meg TC=0,0 
X_U1_U240         U1_NCL U1_N17922132 INVERTER
E_U1_ABM42       U1_OOA 0 VALUE { if(V(SKIPSEL) >1.5 & V(SKIPSEL) <3 &  
+ V(U1_V5INOK) >0.5,1,0)   }
X_U1_U270         U1_N17921376 U1_N17923940 U1_N17923471 NOR2
R_U1_R31         GND U1_NODEA  1e6 TC=0,0 
X_U1_U26         U1_UV U1_UVD delay PARAMS: PARAMS: T=1000000
X_U1_U242         U1_BLNKM U1_OCL U1_OCLDIS OR
X_U1_U302  U1_DRVH_EVENT U1_QRMP U1_N179217722 MONOPOS_PS PARAMS: PW=10n
X_U1_U238      ENCIRD1 U1_N17925368 U1_OCL AND
X_U1_U142     U1_ONSET U1_OVPX U1_N17921393 U1_N17921378 U1_N17921423
+  OR4_PS PARAMS: VHI=1 VLO=0 VTHRESH=500E-3 TPLH=1E-9
+ TPHL=1E-9 TR=1E-9 TF=1E-9
E_U1_ABM27         U1_VOUT_TON 0 VALUE { if( V(U1_VSEL)  
+ >V(U1_NODEA) ,V(U1_NODEA),V(U1_VSEL))   }
R_U1_R10         U1_N17923363 ENCIRD1  200  
C_U1_C16         GND U1_LLS  10u IC=0 
X_U1_U296   U1_BLNKM U1_TBLNKB U1_N17923465 NAND2_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
X_U1_U253         U1_N17925122 U1_NCLPWM U1_N17924510 OR
X_U1_U297         U1_N17922067 U1_N179237101 INVERTER
E_U1_ABM22         U1_N17924664 0 VALUE { if(V(VFB1) <0.1, 1,0)    }
X_U1_U290         U1_N17922717 U1_N179229901 INVERTER
V_U1_V89         U1_V2P0 GND 0.7
X_U1_U267         U1_N17921423 U1_N17923288 U1_TOS U1_TOS NAND3_PS PARAMS:
+  VHI=1 VLO=0 VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
X_U1_U264    U1_N17924142 U1_SSENDSET U1_N17922896 SSEND2 NAND3_PS PARAMS:
+  VHI=1 VLO=0 VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
E_U1_ABM54         U1_OOAPULSE 0 VALUE { if(V(U1_OOATIME)>1,1,0)    }
X_U1_U189         U1_N17922893 U1_LOWREADY INV_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=350E-9 TPHL=10E-9 TR=1E-9 TF=1E-9
R_U1_R11         GND U1_N17921781  1Meg  
X_U1_U73         U1_1P5SEL U1_N17924695 INVERTER
X_U1_U271         U1_HIDEL U1_N179219901 U1_ENLOW1 NOR2
X_U1_U261      U1_N17924252 U1_N17921395 U1_N17921395 U1_ENLOW2 NAND3_PS
+  PARAMS: VHI=1 VLO=0 VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
E_U1_ABM43         U1_PWMSKIP 0 VALUE { if(V(SKIPSEL) > 4.7 &  
+ V(U1_V5INOK) >0.5,1,0)   }
R_U1_R26         GND U1_N179217722  1e8 TC=0,0 
X_U1_S5    U1_DRH1 GND VBST1 DRVH1 DCAP_CH1_U1_S5 
E_U1_E7         U1_RMPIN GND U1_RMP GND 1
X_U1_U276         U1_NCLBPWM U1_N17924271 U1_LOWDRIVE OR
R_U1_R36         U1_VFBINT U1_VFBI  10  
X_U1_U288         U1_N17922048 U1_N17922705 INVERTER
R_U1_R13         GND U1_ENHI_TOGG  1Meg  
E_U1_ABM24         U1_N179215651 0 VALUE { if( V(U1_LLSAMPLE)>0.5,  
+ V(LL1),  
+ V(GND) )  }
X_U1_U284         U1_LOWDRIVE U1_N17922099 U1_N17923398 AND
X_U1_U239         U1_N17924510 U1_LOOPB INVERTER
X_U1_U80         U1_N17924670 U1_N17924695 U1_ADJUST AND
R_U1_Rddr3         GND U1_VFBINT  1e11 TC=0,0 
X_U1_U13          U1_P675VREF U1_VFBINT U1_HYSTVAL U1_UV COMP_HYS
X_U1_U241         U1_BLNKM U1_LOOPB U1_LBB OR
X_U1_U220         U1_N17924533 U1_L_PGOOD INVERTER
X_U1_U301         U1_DRL1 U1_DRL1B INVERTER
C_U1_C17         GND U1_VFBI  1u IC=0 
X_U1_U206         SSEND2 U1_N17925105 BUFFER_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=600u TPHL=10E-9 TR=1E-9 TF=1E-9
E_U1_ABM33         U1_OVS 0 VALUE { if( V(ENCIRD1)> 0.5 &  
+ V(U1_OVD)>0.5,1,0)   }
E_U1_ABM58         U1_OVPX 0 VALUE { if(V(VOUT1)>6,1,0)    }
X_U1_U203         U1_N17924977 U1_PWMMODE BUFFER_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=10E-9 TPHL=30u TR=1E-9 TF=1E-9
E_U1_ABM46         U1_RAMP 0 VALUE { if(V(ENCIRD1)>0.5,  
+ LIMIT((V(U1_RMPIN)-0.007),-7m,3.5m),0)   }
X_U1_U216         U1_N17923126 ENCIRD1 U1_N17923476 AND
V_U1_V87         U1_N17922135 U1_MODECHECK -5m
X_U1_U280         U1_LOWDRIVE U1_N179243322 INVERTER
R_U1_R14         GND U1_ENHI_TOGG  1Meg  
R_U1_R27         GND U1_QRMP  1e8 TC=0,0 
E_U1_ABM9         U1_N17924977 0 VALUE { if(V(U1_OVP) >0.5 |  
+ V(U1_OVP) >0.5 |  
+ V(U1_PWMSKIP)>0.5,1,0)  }
X_U1_U205         U1_N17924897 U1_N17924533 BUFFER_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH={1m*(1-0.9*MODE)} TPHL=10E-6 TR=1E-9 TF=1E-9
X_U1_S10    U1_L_PGOOD GND PGOOD1 GND DCAP_CH1_U1_S10 
X_U1_U217         U1_DQOS U1_N17923476 U1_TOS OR
R_U1_R32         GND TRIP1  1e8 TC=0,0 
X_U1_U23          U1_VFBINT U1_1P125VREF U1_HYSTVAL U1_OV COMP_HYS
X_U1_U278         U1_HIREADY U1_N17923504 INVERTER
E_U1_ABM61         U1_FASTCURRENT 0 VALUE { if(V(SSEND2)<0.5, {MODE*
+  V(U1_OCLTHR)},0)    }
C_U1_C8         U1_N17923363 U1_SPIKE  140.5p IC=0 
X_U1_U243         U1_BLNKM U1_N17922132 U1_N17921395 OR
R_U1_R18         V5DRV U1_V5FILT  3.32  
X_U1_U252         U1_NCL U1_PWMMODE U1_NCLPWM AND
X_U1_U213         U1_N17923418 U1_N17922067 BUFFER_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=40E-9 TPHL=2E-9 TR=1E-9 TF=1E-9
C_U1_C12         GND U1_N17923363  100p IC=0 
R_U1_R21         U1_N17922351 U1_NODEA  10  
X_U1_U292         U1_N17921391 U1_N179235281 INVERTER
X_U1_U300         U1_N179253741 U1_DRL1 INVERTER
X_U1_U266         U1_N17922039 U1_ON U1_TOS ENCIRD1 NAND3_PS PARAMS: VHI=1
+  VLO=0 VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
X_U1_U258      U1_N17921393 U1_N17922073 U1_TBLNKB ENCIRD1 NAND3_PS PARAMS:
+  VHI=1 VLO=0 VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
X_U1_U212         U1_N179229201 U1_N17921391 BUFFER_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=40E-9 TPHL=2E-9 TR=1E-9 TF=1E-9
E_U1_ABM51         U1_DISCH 0 VALUE { if( V(U1_OVP)>0.5 |  
+ V(U1_UVP) >0.5 |  
+ V(ENCIRD1) <0.5,1,0)  }
X_U1_S2    U1_DISCH GND VOUT1 GND DCAP_CH1_U1_S2 
C_U1_C14         GND U1_NODEA  1u IC=0 
E_U1_ABM25         U1_1P5SEL 0 VALUE { if(V(VFB1) >4, 1,0)    }
X_U1_S6    U1_DRH2 GND DRVH1 LL1 DCAP_CH1_U1_S6 
R_U1_R4         GND U1_OOAPULSE  1Meg TC=0,0 
E_U1_ABM14         U1_NCLBPWM 0 VALUE { if( V(U1_N17924879)>0.5 &  
+ V(SKIPSEL) <2.5,1,0)   }
X_U1_U117         V5DRV VBST1 DIDEAL_PS PARAMS: RON=1E-3 ROFF=1E9
X_U1_U244         U1_N17922893 U1_N17923292 INVERTER
X_U1_U294       U1_HIREADY U1_ON U1_N17923471 NAND2_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
X_U1_U116         TRIP1 U1_V5FILT DIDEAL_PS PARAMS: RON=1E-3 ROFF=1E9
R_U1_Rddr1         U1_VFBSAMPLE U1_N17924786  228.57k TC=0,0 
X_U1_U263         U1_SSENDSET ENCIRD1 ENCIRD1 U1_N17924142 NAND3_PS PARAMS:
+  VHI=1 VLO=0 VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
E_U1_ABM12         U1_NCL 0 VALUE { if( V(U1_LLS)  
+ >V(U1_N17922135) ,1,0)   }
X_U1_U277         U1_ENLOW2 U1_N17923534 U1_N17923465 OR
X_U1_U262         U1_ENLOW2 U1_N17924252 U1_TBLNKB ENCIRD1 NAND3_PS PARAMS:
+  VHI=1 VLO=0 VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
E_U1_ABM10         U1_LUPB 0 VALUE { if( V(U1_REFEFF)  
+ >V(U1_VFBINT) ,1,0)   }
E_U1_ABM56         U1_LLSAMPLE 0 VALUE { if( V(LL1)<0.5  
+ & V(DRVL1)>2.5 ,1,0)   }
X_U1_U256         U1_OVP U1_N17924529 INVERTER
R_U1_Rddr2         U1_N17924786 VOUT1  1000k TC=0,0 
X_U1_U289         U1_N17922717 U1_N17922099 INVERTER
E_U1_E1         GND U1_N17924835 GND TRIP1 -0.1
X_U1_U193         U1_HIREADY U1_DQOS BUFFER_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=2E-9 TPHL=2E-9 TR=1E-9 TF=1E-9
X_U1_U295   U1_N17922896 U1_HIDEL U1_HIDRIVE NAND2_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
R_U1_R23         GND PGOOD1  1e6  
X_U1_U257         U1_N17922073 U1_LBB U1_LBB U1_N17921393 NAND3_PS PARAMS:
+  VHI=1 VLO=0 VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
X_U1_U250         U1_N17922865 U1_N17923070 U1_OOACHECK AND
X_U1_U293         U1_N179235281 U1_DRH2 INVERTER
R_U1_R5         GND U1_SPIKE  100k  
E_U1_ABM23         U1_N17922434 0 VALUE { if(V(TONSEL)<2.5, 1,0)    }
X_U1_S7    U1_DRL2 GND DRVL1 PGND DCAP_CH1_U1_S7 
R_U1_Rddr         GND U1_VFBSAMPLE  200k TC=0,0 
E_U1_ABM32         U1_UVS 0 VALUE { if( V(SSEND2)> 0.5 &  
+ V(U1_UVD)>0.5,1,0)   }
E_U1_E11         U1_N17924863 GND LL1 GND 1
X_U1_U286         U1_N17922067 U1_N17922516 INVERTER
X_U1_S14    U1_LLSAMPLE GND U1_N17924863 U1_LLS DCAP_CH1_U1_S14 
R_U1_R24         GND U1_TON  10Meg TC=0,0 
X_U1_U245         U1_N17921376 U1_N17923534 INVERTER
X_U1_U304         U1_N17922406 U1_PREBIAS U1_N17924271 AND
C_U1_C11         GND U1_V5FILT  1u IC=0 
R_U1_R3         GND U1_OOA  1Meg TC=0,0 
X_U1_U275         U1_DRVOFF U1_DRVOFF U1_HIREADY U1_UVP U1_HIDRIVE NOR4
R_U1_R20         GND SKIPSEL  1e11 TC=0,0 
E_U1_ABM3         U1_DRVH_EVENT 0 VALUE { if(V(DRVH1)>10,1,0)    }
E_U1_ABM35         U1_OVP 0 VALUE { if( V(U1_OVLATCH)> 0.5 &  
+ V(ENCIRD1)>0.5,1,0)   }
X_U1_U274         ENCIRD1 U1_DRVOFF INVERTER
C_U1_C10         GND U1_RMP  4p IC=0 TC=0,0 
X_U1_U298         U1_N179237101 U1_DRH1 INVERTER
X_U1_S8    U1_DRL1 GND V5DRV DRVL1 DCAP_CH1_U1_S8 
E_U1_ABM37         U1_N17922450 0 VALUE { if(V(TONSEL)>4, 2,0)    }
X_U1_U287         U1_N17921391 U1_N17922937 INVERTER
X_U1_U291         U1_N179229901 U1_DRL2 INVERTER
C_U1_C13         GND U1_OOATIME  4p IC=0 TC=0,0 
X_U1_U281         U1_DRVH_EVENT U1_N17923331 U1_HIDEL AND
X_U1_U311         U1_ADJUST U1_1P5SEL U1_N17924667 U1_N17924661
+  srnandlatchshp_basic PARAMS:
X_U1_U246         U1_N17922050 U1_TBLNKB INVERTER
G_U1_ABMII2         U1_V5FILT U1_OOATIME VALUE { if(V(U1_OOACHECK)>0.5,
+  0.122u,0)    }
X_U1_U576         U1_DRVH_EVENT U1_N17925034 U1_PREBIAS U1_N17925037
+  srlatchrhp_basic_gen PARAMS: PARAMS: VDD=1 VSS=0 VTHRESH=.5
E_U1_ABM15         U1_REFEFF 0 VALUE { ( V(U1_RAMP)  
+ + V(VSS1) )   }
E_U1_ABM7         U1_ENHI_TOGG 0 VALUE { if(V(U1_SPIKE) > .5, 1,0)    }
X_U1_U15          V5DRV U1_V5INOK COMP_HYS2 PARAMS:  TH=4.2 HYS=.3
R_U1_R28         GND U1_OOATIME  1e8 TC=0,0 
X_U1_U285         U1_N17922705 U1_N179243322 U1_N179217250 AND
G_U1_ABM2I3         U1_V5FILT U1_RMP VALUE { if(V(ENCIRD1)>0.5,
+  (11.2n/V(U1_TSEL)),0)    }
X_U1_U48         U1_UVS U1_ENHI_TOGG U1_UVLATCH U1_N17921781
+  srnandlatchshp_basic PARAMS:
G_U1_ABM2I1    U1_V5FILT U1_TON VALUE { if(V(U1_DQOS)<0.25, V(LL1)/367K,0)
+     }
G_U1_ABMII1         U1_V5FILT TRIP1 VALUE { if(V(ENCIRD1) >0.5,5u,0)    }
R_U1_R25         GND U1_RMP  1e8 TC=0,0 
X_U1_U268         U1_N17923288 ENCIRD1 U1_N17923292 U1_N17921423 NAND3_PS
+  PARAMS: VHI=1 VLO=0 VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
E_U1_ABM21         U1_HYSTVAL 0 VALUE { V(U1_V2P0) * 0.1    }
X_U1_U79         U1_N17924664 U1_N17924670 INVERTER
X_U1_U254         U1_HIDRIVE U1_HIDRIVE U1_N179243431 OR
R_U1_R33         GND U1_LLS  1e6  
X_U1_U269   U1_LOWREADY U1_ENLOW1 U1_ONB U1_ENLOW2 NAND3_PS PARAMS: VHI=1
+  VLO=0 VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
X_U1_U247         U1_LOWREADY U1_N17923940 INVERTER
E_U1_ABM60         U1_LOW_C 0 VALUE { if(V(U1_VFBINT)>0.665,1,0)    }
X_U1_U282         U1_HIDRIVE U1_N17922937 U1_N17923418 AND
G_U1_ABM2I2         U1_TON GND VALUE { if(V(U1_DQOS) >.75, V(U1_TON)/200,0)   
+  }
X_U1_U201         U1_N17923398 U1_N17922048 BUFFER_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=20E-9 TPHL=2E-9 TR=1E-9 TF=1E-9
E_U1_ABM5         U1_P675VREF 0 VALUE { V(U1_V2P0) * 0.75    }
E_U1_ABM57         U1_OOGAIN 0 VALUE { if( V(U1_OOACHECK) >0.5 &
+  V(U1_VFBI)-V(VSS1)>0.004,  
+ (V(VSS1) +0.012 - V(U1_VFBI))*250  
+ ,1)  }
E_U1_ABM48         U1_TSEL 0 VALUE { ( V(U1_N17922434)  
+ +V(U1_N17922450) )    }
R_U1_R40         GND U1_N17925034  1Meg  
E_U1_ABM44         U1_N17922865 0 VALUE { if(V(U1_OOA) >0.5 &  
+ V(U1_N17925105) >0.5,1,0)   }
E_U1_ABM62         U1_OCLTHR 0 VALUE { if(V(U1_N17924835)<-0.32,
+  -0.1,V(U1_N17924835))    }
X_U1_S13    U1_OOACHECK GND U1_OOATIME GND DCAP_CH1_U1_S13 
R_U1_R29         GND U1_N17923165  1e4 TC=0,0 
E_U1_ABM50         U1_ADJUST1 0 VALUE { if( (V(U1_N17924667)>0.5 &  
+ V(ENCIRD1) >0.5), 1,0)   }
X_U1_U272         U1_N17922132 U1_PWMMODE U1_N17924879 AND
X_U1_U50         U1_OVS U1_ENHI_TOGG U1_OVLATCH U1_N17922458
+  srnandlatchshp_basic PARAMS:
X_U1_U283         U1_N17922516 U1_N179229202 U1_N179229201 AND
X_U1_U265      U1_ON U1_ONSET U1_ONSET U1_N17922039 NAND3_PS PARAMS: VHI=1
+  VLO=0 VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
E_U1_ABM34         U1_UVP 0 VALUE { if( V(U1_UVLATCH)> 0.5 &  
+ V(SSEND2)>0.5,1,0)   }
X_U1_U249         U1_ON U1_ONB INVERTER
R_U1_R6         GND U1_PWMMODE  1Meg TC=0,0 
X_U1_U303    U1_LOWREADY U1_LOWREADY U1_SSENDSET U1_UVP U1_N17922406 NOR4
X_U1_U192    DRVL1 U1_N17921376 BUFFER_PS PARAMS: VHI=1 VLO=0 VTHRESH=2.5
+  TPLH=2E-9 TPHL=2E-9 TR=1E-9 TF=1E-9
C_U1_C4         GND U1_TON  10p IC=0 TC=0,0 
R_R18         V5DRV V5FILT  10  
R_U2_R23         GND PGOOD2  1e6  
E_U2_ABM21         U2_HYSTVAL 0 VALUE { V(U2_V2P0) * 0.1    }
X_U2_U301         U2_DRL1 U2_DRL1B INVERTER
X_U2_U13          U2_P675VREF U2_VFBINT U2_HYSTVAL U2_UV COMP_HYS
R_U2_Rddr2         U2_N16936797 VOUT2  64.2k TC=0,0 
X_U2_U188         U2_N16933723 U2_N16934359 BUFFER_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=2E-9 TPHL=30E-9 TR=1E-9 TF=1E-9
X_U2_U270         U2_N16933676 U2_N16936117 U2_N16935715 NOR2
X_U2_U240         U2_NCL U2_N16933532 INVERTER
E_U2_ABM54         U2_OOAPULSE 0 VALUE { if(V(U2_OOATIME)>1,1,0)    }
E_U2_ABM44         U2_N16933568 0 VALUE { if(V(U2_OOA) >0.5 &  
+ V(U2_N16933584) >0.5,1,0)   }
X_U2_U276         U2_NCLBPWM U2_N16936436 U2_LOWDRIVE OR
X_U2_U262      U2_ENLOW2 U2_N16936417 U2_TBLNKB ENCIRD2 NAND3_PS PARAMS:
+  VHI=1 VLO=0 VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
E_U2_E7         U2_RMPIN GND U2_RMP GND 1
E_U2_ABM15         U2_REFEFF 0 VALUE { ( V(U2_RAMP)  
+ + V(VSS2) )   }
R_U2_R10         U2_N16935608 ENCIRD2  200  
R_U2_Rddr1         U2_N16936799 U2_N16936797  10k TC=0,0 
X_U2_U293         U2_N169357771 U2_DRH2 INVERTER
E_U2_ABM24         U2_N169338831 0 VALUE { if( V(U2_LLSAMPLE)>0.5,  
+ V(LL2),  
+ V(GND) )  }
E_U2_ABM34         U2_UVP 0 VALUE { if( V(U2_UVLATCH)> 0.5 &  
+ V(SSEND1)>0.5,1,0)   }
V_U2_V87         U2_N16934441 U2_MODECHECK -5m
X_U2_U290         U2_N16935063 U2_N169353311 INVERTER
X_U2_U296     U2_BLNKM U2_TBLNKB U2_N16935709 NAND2_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
X_U2_U256         U2_OVP U2_N16937509 INVERTER
X_U2_U280         U2_LOWDRIVE U2_N169364932 INVERTER
R_U2_R22         U2_N169338831 U2_LLO  1  
X_U2_U23          U2_VFBINT U2_1P125VREF U2_HYSTVAL U2_OV COMP_HYS
R_U2_R24         GND U2_TON  10Meg TC=0,0 
X_U2_U189         U2_N16935238 U2_LOWREADY INV_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=350E-9 TPHL=10E-9 TR=1E-9 TF=1E-9
R_U2_Rddr         GND U2_N16936799  20k TC=0,0 
R_U2_R32         GND TRIP2  1e8 TC=0,0 
E_U2_ABM33         U2_OVS 0 VALUE { if( V(ENCIRD2)> 0.5 &  
+ V(U2_OVD)>0.5,1,0)   }
X_U2_U271         U2_HIDEL U2_N169343141 U2_ENLOW1 NOR2
X_U2_U255         U2_N16937509 U2_N16937527 U2_N16937621 AND
R_U2_R20         GND SKIPSEL  1e11 TC=0,0 
X_U2_U261      U2_N16936417 U2_N16933695 U2_N16933695 U2_ENLOW2 NAND3_PS
+  PARAMS: VHI=1 VLO=0 VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
C_U2_C8         U2_N16935608 U2_SPIKE  140.5p IC=0 
X_U2_U258    U2_N16933693 U2_N16934379 U2_TBLNKB ENCIRD2 NAND3_PS PARAMS:
+  VHI=1 VLO=0 VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
C_U2_C15         GND U2_LLO  10n IC=0 
X_U2_U300         U2_N169372081 U2_DRL1 INVERTER
E_U2_ABM23         U2_N16934752 0 VALUE { if(V(TONSEL)<0.5, 1,0)    }
X_U2_U266         U2_N16934348 U2_ON U2_TOS ENCIRD2 NAND3_PS PARAMS: VHI=1
+  VLO=0 VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
X_U2_U239         U2_N16936608 U2_LOOPB INVERTER
X_U2_U291         U2_N169353311 U2_DRL2 INVERTER
X_U2_U243         U2_BLNKM U2_N16933532 U2_N16933695 OR
X_U2_U216         U2_N16935456 ENCIRD2 U2_N16935720 AND
X_U2_U116         TRIP2 U2_V5FILT DIDEAL_PS PARAMS: RON=1E-3 ROFF=1E9
X_U2_U241         U2_BLNKM U2_LOOPB U2_LBB OR
R_U2_R21         U2_N16937543 U2_NODEA  10  
X_U2_U253         U2_N16937621 U2_NCLPWM U2_N16936608 OR
C_U2_C13         GND U2_OOATIME  4p IC=0 TC=0,0 
R_U2_R18         V5DRV U2_V5FILT  3.32  
X_U2_U304         U2_N16934734 U2_PREBIAS U2_N16936436 AND
X_U2_U213        U2_N16935663 U2_N16934373 BUFFER_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=40E-9 TPHL=2E-9 TR=1E-9 TF=1E-9
R_U2_R14         GND U2_ENHI_TOGG  1Meg  
E_U2_ABM56         U2_LLSAMPLE 0 VALUE { if( V(LL2)<0.5  
+ & V(DRVL2)>2.5 ,1,0)   }
X_U2_U244         U2_N16935238 U2_N16935533 INVERTER
E_U2_ABM9         U2_N16936950 0 VALUE { if(V(U2_OVP) >0.5 |  
+ V(U2_OVP) >0.5 |  
+ V(U2_PWMSKIP)>0.5,1,0)  }
E_U2_ABM42         U2_OOA 0 VALUE { if(V(SKIPSEL) >1.5 & V(SKIPSEL) <3 &  
+ V(U2_V5INOK) >0.5,1,0)   }
E_U2_ABM10         U2_LUPB 0 VALUE { if( V(U2_REFEFF)  
+ >V(U2_VFBINT) ,1,0)   }
C_U2_C14         GND U2_NODEA  1u IC=0 
R_U2_R4         GND U2_OOAPULSE  1Meg TC=0,0 
X_U2_U251         U2_LUPB U2_OOAPULSE U2_N16937527 OR
X_U2_U217         U2_DQOS U2_N16935720 U2_TOS OR
X_U2_U576         U2_DRVH_EVENT U2_N16934652 U2_PREBIAS U2_N16934672
+  srlatchrhp_basic_gen PARAMS: PARAMS: VDD=1 VSS=0 VTHRESH=.5
X_U2_U277         U2_ENLOW2 U2_N16935769 U2_N16935709 OR
E_U2_ABM12         U2_NCL 0 VALUE { if( V(U2_LLS)  
+ >V(U2_N16934441) ,1,0)   }
R_U2_R28         GND U2_OOATIME  1e8 TC=0,0 
X_U2_U263         U2_SSENDSET ENCIRD2 ENCIRD2 U2_N16936310 NAND3_PS PARAMS:
+  VHI=1 VLO=0 VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
X_U2_U288         U2_N16934357 U2_N16935040 INVERTER
R_U2_R5         GND U2_SPIKE  100k  
E_U2_ABM25         U2_N16937419 0 VALUE { if(V(REFIN2) >3.4, 1,0)    }
X_U2_U117         V5DRV VBST2 DIDEAL_PS PARAMS: RON=1E-3 ROFF=1E9
X_U2_S2    U2_DISCH GND VOUT2 GND DCAP_CH2_U2_S2 
C_U2_C16         GND U2_LLS  10u IC=0 
X_U2_U212         U2_N169352651 U2_N16933691 BUFFER_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=40E-9 TPHL=2E-9 TR=1E-9 TF=1E-9
X_U2_U303    U2_LOWREADY U2_LOWREADY U2_SSENDSET U2_UVP U2_N16934734 NOR4
X_U2_U257         U2_N16934379 U2_LBB U2_LBB U2_N16933693 NAND3_PS PARAMS:
+  VHI=1 VLO=0 VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
E_U2_ABM43         U2_PWMSKIP 0 VALUE { if(V(SKIPSEL) > 4.7 &  
+ V(U2_V5INOK) >0.5,1,0)   }
X_U2_U192   DRVL2 U2_N16933676 BUFFER_PS PARAMS: VHI=1 VLO=0 VTHRESH=2.5
+  TPLH=2E-9 TPHL=2E-9 TR=1E-9 TF=1E-9
E_U2_ABM57         U2_OOGAIN 0 VALUE { if( V(U2_OOAENABLE) >0.5 &
+  V(U2_VFBI)-V(VSS2)>0.004,  
+ (V(VSS2) +0.012 - V(U2_VFBI))*250  
+ ,1)  }
V_U2_V89         U2_V2P0 GND 0.7
X_U2_U193         U2_HIREADY U2_DQOS BUFFER_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=2E-9 TPHL=2E-9 TR=1E-9 TF=1E-9
C_U2_C10         GND U2_RMP  4p IC=0 TC=0,0 
E_U2_ABM62         U2_OCLTHR 0 VALUE { if(V(U2_N16936839)<-0.32,
+  -0.1,V(U2_N16936839))    }
E_U2_ABM37         U2_N16934769 0 VALUE { if(V(TONSEL)>1.85, 1.6667,0)  }
E_U2_ABM3         U2_DRVH_EVENT 0 VALUE { if(V(DRVH2)>10,1,0)    }
X_U2_U245         U2_N16933676 U2_N16935769 INVERTER
X_U2_U289         U2_N16935063 U2_N16934405 INVERTER
E_U2_E1         GND U2_N16936839 GND TRIP2 -0.1
X_U2_U203         U2_N16936950 U2_PWMMODE BUFFER_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=10E-9 TPHL=10E-6 TR=1E-9 TF=1E-9
X_U2_S13    U2_OOAENABLE GND U2_OOATIME GND DCAP_CH2_U2_S13 
X_U2_U284         U2_LOWDRIVE U2_N16934405 U2_N16935643 AND
E_U2_ABM7         U2_ENHI_TOGG 0 VALUE { if(V(U2_SPIKE) > .5, 1,0)    }
E_U2_ABM55         U2_N16937543 0 VALUE { LIMIT(V(U2_OOGAIN) *  
+ V(U2_VSEL), 0.2,8)   }
E_U2_ABM11     U2_N16937202 0 VALUE { if(( V(U2_OCLTHR)+ V(U2_FASTCURRENT))
+   
+ >V(U2_LLO) ,1,0)   }
G_U2_ABMII2         U2_V5FILT U2_OOATIME VALUE { if(V(U2_OOAENABLE)>0.5,
+  0.122u,0)    }
G_U2_ABM2I3         U2_V5FILT U2_RMP VALUE { if(V(ENCIRD2)>0.5,
+  (14n/V(U2_TSEL)),0)    }
R_U2_R26         GND U2_N169340842  1e8 TC=0,0 
E_U2_ABM32         U2_UVS 0 VALUE { if( V(SSEND1)> 0.5 &  
+ V(U2_UVD)>0.5,1,0)   }
X_U2_U246         U2_N16934359 U2_TBLNKB INVERTER
C_U2_C11         GND U2_V5FILT  1u IC=0 
R_U2_R40         GND U2_N16934652  1Meg  
R_U2_R3         GND U2_OOA  1Meg TC=0,0 
X_U2_U281         U2_DRVH_EVENT U2_N16935580 U2_HIDEL AND
X_U2_U275         U2_DRVOFF U2_DRVOFF U2_HIREADY U2_UVP U2_HIDRIVE NOR4
X_U2_U272         U2_N16933532 U2_PWMMODE U2_N16933529 AND
E_U2_ABM58         U2_OVPX 0 VALUE { if(V(VOUT2)>6,1,0)    }
R_U2_R25         GND U2_RMP  1e8 TC=0,0 
X_U2_U268         U2_N16935529 ENCIRD2 U2_N16935533 U2_N16933723 NAND3_PS
+  PARAMS: VHI=1 VLO=0 VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
X_U2_U252         U2_NCL U2_PWMMODE U2_NCLPWM AND
X_U2_U274         ENCIRD2 U2_DRVOFF INVERTER
X_U2_U79         U2_N16937419 U2_N16936714 INVERTER
R_U2_R38         GND U2_N16934672  1Meg  
X_U2_U15          V5DRV U2_V5INOK COMP_HYS2 PARAMS:  TH=4.2 HYS=.3
X_U2_U48         U2_UVS U2_ENHI_TOGG U2_UVLATCH U2_N16934075
+  srnandlatchshp_basic PARAMS:
E_U2_ABM14         U2_NCLBPWM 0 VALUE { if( V(U2_N16933529)>0.5 &  
+ V(SKIPSEL) <2.5,1,0)   }
X_U2_U247         U2_LOWREADY U2_N16936117 INVERTER
X_U2_U204       U2_OV U2_OVD BUFFER_PS PARAMS: VHI=1 VLO=0 VTHRESH=500E-3
+  TPLH=10E-6 TPHL=10E-6 TR=1E-9 TF=1E-9
X_U2_U191         U2_N16935748 U2_N16935580 BUFFER_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=2E-9 TPHL=50n TR=1E-9 TF=1E-9
E_U2_ABM5         U2_P675VREF 0 VALUE { V(U2_V2P0) * 0.75    }
X_U2_U201         U2_N16935643 U2_N16934357 BUFFER_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=20E-9 TPHL=2E-9 TR=1E-9 TF=1E-9
R_U2_R27         GND U2_QRMP  1e8 TC=0,0 
G_U2_ABMII1         U2_V5FILT TRIP2 VALUE { if(V(ENCIRD2) >0.5,5u,0)    }
E_U2_ABM50         U2_ADJUST1 0 VALUE { if( (V(U2_ADJUST)>0.5 &  
+ V(ENCIRD2) >0.5), 1,0)   }
E_U2_ABM60         U2_LOW_C 0 VALUE { if(V(U2_VFBINT)>0.665,1,0)    }
C_U2_C4         GND U2_TON  10p IC=0 TC=0,0 
R_U2_R30         GND ENCIRD2  1e6 TC=0,0 
G_U2_ABM2I1    U2_V5FILT U2_TON VALUE { if(V(U2_DQOS)<0.25, V(LL2)/290K,0)
+     }
X_U2_U205         U2_N16936877 U2_N16933554 BUFFER_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH={1m*(1-0.9*MODE)} TPHL=10E-6 TR=1E-9 TF=1E-9
X_U2_U269    U2_LOWREADY U2_ENLOW1 U2_ONB U2_ENLOW2 NAND3_PS PARAMS: VHI=1
+  VLO=0 VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
C_U2_C17         GND U2_VFBI  1u IC=0 
X_U2_U202         U2_N169340280 U2_N16935063 BUFFER_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=20E-9 TPHL=2E-9 TR=1E-9 TF=1E-9
X_U2_U265     U2_ON U2_ONSET U2_ONSET U2_N16934348 NAND3_PS PARAMS: VHI=1
+  VLO=0 VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
E_U2_ABM38         U2_VFBINT 0 VALUE { if( V(U2_ADJUST1)>0.5,  
+ V(REFIN2),  
+ V(U2_N16936799) )  }
X_U2_S6    U2_DRH2 GND DRVH2 LL2 DCAP_CH2_U2_S6 
X_U2_U50         U2_OVS U2_ENHI_TOGG U2_OVLATCH U2_N16934783
+  srnandlatchshp_basic PARAMS:
R_U2_Rddr3         GND U2_VFBINT  1e11 TC=0,0 
E_U2_ABM8         U2_MODECHECK 0 VALUE { if(V(ENCIRD2)>0.5,if(
+  V(U2_PWMMODE)>0.5,  
+ -V(U2_OCLTHR),  
+ V(GND) ),0)  }
R_U2_R36         U2_VFBINT U2_VFBI  10  
E_U2_ABM48         U2_TSEL 0 VALUE { ( V(U2_N16934752)  
+ +V(U2_N16934769) )    }
X_U2_U295   U2_N16935241 U2_HIDEL U2_HIDRIVE NAND2_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
X_U2_U250         U2_N16933568 U2_N16933576 U2_OOAENABLE AND
G_U2_ABM2I2         U2_TON GND VALUE { if(V(U2_DQOS) >.75, V(U2_TON)/200,0)   
+  }
X_U2_S5    U2_DRH1 GND VBST2 DRVH2 DCAP_CH2_U2_S5 
X_U2_U259         U2_N16934575 U2_OCLDIS U2_OCLDIS U2_N16933678 NAND3_PS
+  PARAMS: VHI=1 VLO=0 VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
E_U2_ABM6         U2_1P125VREF 0 VALUE { V(U2_V2P0) * 1.1    }
X_U2_S9    U2_1P05SEL GND VOUT2 U2_N16936797 DCAP_CH2_U2_S9 
E_U2_ABM19         U2_N16935456 0 VALUE { if( V(U2_VOUT_TON) +0.07  
+ >V(U2_TON) ,1,0)   }
X_U2_U297         U2_N16934373 U2_N169359781 INVERTER
X_U2_U286         U2_N16934373 U2_N16934834 INVERTER
X_U2_U282         U2_HIDRIVE U2_N16935282 U2_N16935663 AND
X_U2_U249         U2_ON U2_ONB INVERTER
E_U2_ABM61         U2_FASTCURRENT 0 VALUE { if(V(SSEND1)<0.5, {MODE*
+  V(U2_OCLTHR)},0)    }
X_U2_S7    U2_DRL2 GND DRVL2 PGND DCAP_CH2_U2_S7 
E_U2_ABM59         U2_HIGH_C 0 VALUE { if(V(U2_VFBINT)<0.77,1,0)    }
X_U2_S12    U2_QRMP GND U2_RMP GND DCAP_CH2_U2_S12 
X_U2_U283         U2_N16934834 U2_N169352652 U2_N169352651 AND
X_U2_U260      U2_N16933678 U2_N16934575 U2_TBLNKB ENCIRD2 NAND3_PS PARAMS:
+  VHI=1 VLO=0 VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
X_U2_U279         U2_N169365101 U2_N169352652 INVERTER
E_U2_ABM13         U2_N16936877 0 VALUE { if( V(U2_HIGH_C)>0.5  
+ & V(U2_LOW_C)>0.5  
+ & V(ENCIRD2)>0.5, 1, 0 )  }
X_U2_U220         U2_N16933554 U2_L_PGOOD INVERTER
E_U2_ABM35         U2_OVP 0 VALUE { if( V(U2_OVLATCH)> 0.5 &  
+ V(ENCIRD2)>0.5,1,0)   }
R_U2_R6         GND U2_PWMMODE  1Meg TC=0,0 
E_U2_ABM51         U2_DISCH 0 VALUE { if( V(U2_OVP)>0.5 |  
+ V(U2_UVP) >0.5 |  
+ V(ENCIRD2) <0.5,1,0)  }
E_U2_ABM22  U2_1P05SEL 0 VALUE { if(V(REFIN2) <3.375 & V(REFIN2) >3.285,
+  1,0)    }
X_U2_U73         U2_1P05SEL U2_N16936731 INVERTER
X_U2_U287         U2_N16933691 U2_N16935282 INVERTER
X_U2_U206         SSEND1 U2_N16933584 BUFFER_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=600u TPHL=10E-9 TR=1E-9 TF=1E-9
X_U2_U248         U2_HIREADY U2_N169343141 INVERTER
X_U2_U26         U2_UV U2_UVD delay PARAMS: PARAMS: T=1000000
X_U2_U299         U2_N16934357 U2_N169372081 INVERTER
X_U2_U278         U2_HIREADY U2_N16935748 INVERTER
X_U2_S8    U2_DRL1 GND V5DRV DRVL2 DCAP_CH2_U2_S8 
R_U2_R12         GND U2_N16934783  1Meg  
E_U2_ABM27         U2_VOUT_TON 0 VALUE { if( V(U2_VSEL)  
+ >V(U2_NODEA) ,V(U2_NODEA),V(U2_VSEL))   }
X_U2_S10    U2_L_PGOOD GND PGOOD2 GND DCAP_CH2_U2_S10 
X_U2_S14    U2_LLSAMPLE GND U2_N16936857 U2_LLS DCAP_CH2_U2_S14 
X_U2_U238         ENCIRD2 U2_N16937202 U2_OCL AND
X_U2_U285         U2_N16935040 U2_N169364932 U2_N169340280 AND
X_U2_U302    U2_DRVH_EVENT U2_QRMP U2_N169340842 MONOPOS_PS PARAMS: PW=10n
X_U2_U80         U2_N16936714 U2_N16936731 U2_ADJUST AND
E_U2_E11         U2_N16936857 GND LL2 GND 1
R_U2_R19         GND TONSEL  1e11 TC=0,0 
E_U2_ABM53         U2_VSEL 0 VALUE { ( V(U2_TSEL)  
+ * V(VOUT2) *0.6667)    }
X_U2_U292         U2_N16933691 U2_N169357771 INVERTER
X_U2_U242         U2_BLNKM U2_OCL U2_OCLDIS OR
E_U2_ABM45         U2_N16933576 0 VALUE { if(V(U2_HIDRIVE) < 0.5 &  
+ V(U2_LOWDRIVE) <0.5,1,0)   }
R_U2_R33         GND U2_LLS  1e6  
C_U2_C12         GND U2_N16935608  100p IC=0 
X_U2_U267         U2_N16933723 U2_N16935529 U2_TOS U2_TOS NAND3_PS PARAMS:
+  VHI=1 VLO=0 VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
R_U2_R11         GND U2_N16934075  1Meg  
X_U2_U254         U2_HIDRIVE U2_HIDRIVE U2_N169365101 OR
R_U2_R13         GND U2_ENHI_TOGG  1Meg  
X_U2_U142         U2_ONSET U2_OVPX U2_N16933693 U2_N16933678 U2_N16933723
+  OR4_PS PARAMS: VHI=1 VLO=0 VTHRESH=500E-3
+ TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
X_U2_U298         U2_N169359781 U2_DRH1 INVERTER
X_U2_U264      U2_N16936310 U2_SSENDSET U2_N16935241 SSEND1 NAND3_PS PARAMS:
+  VHI=1 VLO=0 VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
X_U2_U294        U2_HIREADY U2_ON U2_N16935715 NAND2_PS PARAMS: VHI=1 VLO=0
+  VTHRESH=500E-3 TPLH=1E-9 TPHL=1E-9 TR=1E-9 TF=1E-9
E_U2_ABM46         U2_RAMP 0 VALUE { if(V(ENCIRD2)>0.5,  
+ LIMIT((V(U2_RMPIN)-0.007),-7m,3.5m),0)   }
V_U_V10         U_N10643603 GND .2
X_U_U18         LDO U_N10643113 VIN PMOSIDEAL_PS PARAMS: K=0.6 VTH=1
V_U_V11         U_V1P25 GND 1.25
R_U_R35         GND EN_LDO  10Meg TC=0,0 
E_U_ABM64         U_ENVO3 0 VALUE { IF( V(EN_LDO)>0.5  
+ ,V(U_VOREADY3),0)   }
E_U_ABM62         U_N10643113 0 VALUE { if( V(U_ENLDO5)>0.5,  
+ V(U_N10643069),  
+ V(VIN) )  }
R_U_R31         U_N10643477 VREF3  410k TC=0,0 
X_U_U28         U_N10643375 VIN U_N10643171 U_V1P25 VCVSCLIP_PS PARAMS:
+  GAIN=5000 VOMAX=1 VOMIN=-2
X_U_U116         LDO VIN DIDEAL_PS PARAMS: RON=1E-3 ROFF=1E9
X_U_U7         VSW U_N10642847 U_N10642719 U_VOREADY COMP_HYS
X_U_U17         U_ENVO3 U_ENLDO3 delay PARAMS: PARAMS: T=1E4
X_U_U117         VREF3 VIN DIDEAL_PS PARAMS: RON=1E-3 ROFF=1E9
X_U_U14         VREF2 U_N10643119 VIN PMOSIDEAL_PS PARAMS: K=.1 VTH=1
V_U_V7         U_N10642847 GND 4.7
X_U_U29         U_N10643901 VIN U_N10643477 U_V1P25 VCVSCLIP_PS PARAMS:
+  GAIN=5000 VOMAX=1 VOMIN=-2
E_U_ABM60         U_ENLDO5 0 VALUE { IF( V(U_ENV5IN)<0.5  
+ & V(EN_LDO)>0.5 ,1,0)   }
E_U_ABM68         U_N10643119 0 VALUE { if( V(EN_LDO)>0.5,  
+ V(U_N10643375),  
+ V(VIN) )  }
X_U_S11    U_ENLDO3 GND VREF3 GND LDO_U_S11 
V_U_V8         U_N10642719 GND .2
R_U_R29         U_N10642559 LDO  750k TC=0,0 
R_U_R8         U_N10643171 VREF2  150k TC=0,0 
R_U_R33         GND U_N10643477  250K TC=0,0 
E_U_ABM65         U_N10643945 0 VALUE { if( V(U_ENLDO3)>0.5,  
+ V(U_N10643901),  
+ V(VIN) )  }
E_U_ABM61         U_ENVO 0 VALUE { IF( V(EN_LDO)>0.5  
+ ,V(U_VOREADY),0)   }
R_U_R30         GND U_N10642559  750k TC=0,0 
R_U_R16         GND U_N10643171  250K TC=0,0 
X_U_U16         U_ENVO U_ENV5IN delay PARAMS: PARAMS: T=1E4
X_U_U8         VIN U_N10643695 U_N10643603 U_VOREADY3 COMP_HYS
E_U_ABM32     U_VR 0 VALUE { if(V(LDOREFIN) <0.5, 2.5, if(V(LDOREFIN)>4.5,
+  1.65, V(LDOREFIN)))    }
V_U_V9         U_N10643695 GND 2.2
X_U_S9    U_ENV5IN GND LDO VSW LDO_U_S9 
X_U_U19         VREF3 U_N10643945 VIN PMOSIDEAL_PS PARAMS: K=.4 VTH=1
X_U_S10    EN_LDO GND VREF2 GND LDO_U_S10 
X_U_U27    U_N10643069 VIN U_N10642559 U_VR VCVSCLIP_PS PARAMS: GAIN=5000
+  VOMAX=1 VOMIN=-2
.ENDS TPS51427A_TRANS
*$
.subckt SOFTSTART_U3_S11 1 2 3 4  
S_U3_S11         3 4 1 2 _U3_S11
RS_U3_S11         1 2 1G
.MODEL         _U3_S11 VSWITCH Roff=1e11 Ron=10 Voff=0.75 Von=0.25
.ends SOFTSTART_U3_S11
*$
.subckt SOFTSTART_U3_S12 1 2 3 4  
S_U3_S12         3 4 1 2 _U3_S12
RS_U3_S12         1 2 1G
.MODEL         _U3_S12 VSWITCH Roff=1e11 Ron=10 Voff=0.75 Von=0.25
.ends SOFTSTART_U3_S12
*$
.subckt DCAP_CH1_U1_S9 1 2 3 4  
S_U1_S9         3 4 1 2 _U1_S9
RS_U1_S9         1 2 1G
.MODEL         _U1_S9 VSWITCH Roff=1e8 Ron=1.0 Voff=.25 Von=.75
.ends DCAP_CH1_U1_S9
*$
.subckt DCAP_CH1_U1_S12 1 2 3 4  
S_U1_S12         3 4 1 2 _U1_S12
RS_U1_S12         1 2 1G
.MODEL         _U1_S12 VSWITCH Roff=1e11 Ron=1 Voff=.25 Von=.75
.ends DCAP_CH1_U1_S12
*$
.subckt DCAP_CH1_U1_S5 1 2 3 4  
S_U1_S5         3 4 1 2 _U1_S5
RS_U1_S5         1 2 1G
.MODEL         _U1_S5 VSWITCH Roff=1e11 Ron=1 Voff=.25 Von=.75
.ends DCAP_CH1_U1_S5
*$
.subckt DCAP_CH1_U1_S10 1 2 3 4  
S_U1_S10         3 4 1 2 _U1_S10
RS_U1_S10         1 2 1G
.MODEL         _U1_S10 VSWITCH Roff=1e8 Ron=1.0 Voff=0.25 Von=0.75
.ends DCAP_CH1_U1_S10
*$
.subckt DCAP_CH1_U1_S2 1 2 3 4  
S_U1_S2         3 4 1 2 _U1_S2
RS_U1_S2         1 2 1G
.MODEL         _U1_S2 VSWITCH Roff=1e8 Ron=17 Voff=0.0V Von=1.0V
.ends DCAP_CH1_U1_S2
*$
.subckt DCAP_CH1_U1_S6 1 2 3 4  
S_U1_S6         3 4 1 2 _U1_S6
RS_U1_S6         1 2 1G
.MODEL         _U1_S6 VSWITCH Roff=1e11 Ron=0.8 Voff=.25 Von=.75
.ends DCAP_CH1_U1_S6
*$
.subckt DCAP_CH1_U1_S7 1 2 3 4  
S_U1_S7         3 4 1 2 _U1_S7
RS_U1_S7         1 2 1G
.MODEL         _U1_S7 VSWITCH Roff=1e11 Ron=0.6 Voff=.25 Von=.75
.ends DCAP_CH1_U1_S7
*$
.subckt DCAP_CH1_U1_S14 1 2 3 4  
S_U1_S14         3 4 1 2 _U1_S14
RS_U1_S14         1 2 1G
.MODEL         _U1_S14 VSWITCH Roff=1e11 Ron=1m Voff=.25 Von=.75
.ends DCAP_CH1_U1_S14
*$
.subckt DCAP_CH1_U1_S8 1 2 3 4  
S_U1_S8         3 4 1 2 _U1_S8
RS_U1_S8         1 2 1G
.MODEL         _U1_S8 VSWITCH Roff=1e11 Ron=1.2 Voff=.25 Von=.75
.ends DCAP_CH1_U1_S8
*$
.subckt DCAP_CH1_U1_S13 1 2 3 4  
S_U1_S13         3 4 1 2 _U1_S13
RS_U1_S13         1 2 1G
.MODEL         _U1_S13 VSWITCH Roff=1e11 Ron=1 Voff=.75 Von=.25
.ends DCAP_CH1_U1_S13
*$
.subckt DCAP_CH2_U2_S2 1 2 3 4  
S_U2_S2         3 4 1 2 _U2_S2
RS_U2_S2         1 2 1G
.MODEL         _U2_S2 VSWITCH Roff=1e8 Ron=17 Voff=0.0V Von=1.0V
.ends DCAP_CH2_U2_S2
*$
.subckt DCAP_CH2_U2_S13 1 2 3 4  
S_U2_S13         3 4 1 2 _U2_S13
RS_U2_S13         1 2 1G
.MODEL         _U2_S13 VSWITCH Roff=1e11 Ron=1 Voff=.75 Von=.25
.ends DCAP_CH2_U2_S13
*$
.subckt DCAP_CH2_U2_S6 1 2 3 4  
S_U2_S6         3 4 1 2 _U2_S6
RS_U2_S6         1 2 1G
.MODEL         _U2_S6 VSWITCH Roff=1e11 Ron=0.8 Voff=.25 Von=.75
.ends DCAP_CH2_U2_S6
*$
.subckt DCAP_CH2_U2_S5 1 2 3 4  
S_U2_S5         3 4 1 2 _U2_S5
RS_U2_S5         1 2 1G
.MODEL         _U2_S5 VSWITCH Roff=1e11 Ron=1 Voff=.25 Von=.75
.ends DCAP_CH2_U2_S5
*$
.subckt DCAP_CH2_U2_S9 1 2 3 4  
S_U2_S9         3 4 1 2 _U2_S9
RS_U2_S9         1 2 1G
.MODEL         _U2_S9 VSWITCH Roff=1e8 Ron=1.0 Voff=.25 Von=.75
.ends DCAP_CH2_U2_S9
*$
.subckt DCAP_CH2_U2_S7 1 2 3 4  
S_U2_S7         3 4 1 2 _U2_S7
RS_U2_S7         1 2 1G
.MODEL         _U2_S7 VSWITCH Roff=1e11 Ron=0.6 Voff=.25 Von=.75
.ends DCAP_CH2_U2_S7
*$
.subckt DCAP_CH2_U2_S12 1 2 3 4  
S_U2_S12         3 4 1 2 _U2_S12
RS_U2_S12         1 2 1G
.MODEL         _U2_S12 VSWITCH Roff=1e11 Ron=1 Voff=.25 Von=.75
.ends DCAP_CH2_U2_S12
*$
.subckt DCAP_CH2_U2_S8 1 2 3 4  
S_U2_S8         3 4 1 2 _U2_S8
RS_U2_S8         1 2 1G
.MODEL         _U2_S8 VSWITCH Roff=1e11 Ron=1.2 Voff=.25 Von=.75
.ends DCAP_CH2_U2_S8
*$
.subckt DCAP_CH2_U2_S10 1 2 3 4  
S_U2_S10         3 4 1 2 _U2_S10
RS_U2_S10         1 2 1G
.MODEL         _U2_S10 VSWITCH Roff=1e8 Ron=1.0 Voff=0.25 Von=0.75
.ends DCAP_CH2_U2_S10
*$
.subckt DCAP_CH2_U2_S14 1 2 3 4  
S_U2_S14         3 4 1 2 _U2_S14
RS_U2_S14         1 2 1G
.MODEL         _U2_S14 VSWITCH Roff=1e11 Ron=1m Voff=.25 Von=.75
.ends DCAP_CH2_U2_S14
*$
.subckt LDO_U_S11 1 2 3 4  
S_U_S11         3 4 1 2 _U_S11
RS_U_S11         1 2 1G
.MODEL         _U_S11 VSWITCH Roff=1e8 Ron=.7 Voff=1 Von=0
.ends LDO_U_S11
*$
.subckt LDO_U_S9 1 2 3 4  
S_U_S9         3 4 1 2 _U_S9
RS_U_S9         1 2 1G
.MODEL         _U_S9 VSWITCH Roff=1e8 Ron=.7 Voff=0 Von=1
.ends LDO_U_S9
*$
.subckt LDO_U_S10 1 2 3 4  
S_U_S10         3 4 1 2 _U_S10
RS_U_S10         1 2 1G
.MODEL         _U_S10 VSWITCH Roff=1e10 Ron=100 Voff=.75 Von=.25
.ends LDO_U_S10
*$
.subckt delay in out params: t=100
rin in 0 1e11
rout out 0 1e11
s_s1         meas 0 reset2 0 s1
e_abm1         ch 0 value { if( v(in)>0.5,1,0)    }
e_abm3         out 0 value { if( v(meas)>0.5 & v(ch)>0.5,1,0)    }
r_r1         meas ch  {t} 
c_c1         0 meas  1.4427n  
e_abm2         reset 0 value { if(v(ch)<0.5,1,0)    }
r_r2         reset2 reset  0.1  
c_c2         0 reset2  1.4427n  
.model s1 vswitch
+ roff=1e+009
+ ron=1
+ voff=0.25
+ von=0.75
.ends delay
*$
.subckt srlatchrhp_basic_gen s r q qb params: vdd=1 vss=0 vthresh=0.5 
rs s 0 1e11
rr r 0 1e11
gq 0 qint value = {if(v(r) > {vthresh},-5,if(v(s)>{vthresh},5, 0))}
cqint qint 0 1n
rqint qint 0 1000meg
d_d10 qint my5 d_d1
v1 my5 0 {vdd}
d_d11 myvss qint d_d1
v2 myvss 0 {vss} 
eq qqq 0 qint 0 1
x3 qqq qqqd1 buffer_ps
rqq qqqd1 q 1
eqb qbr 0 value = {if( v(q) > {vthresh}, {vss},{vdd})}
rqb qbr qb 1 
cdummy1 q 0 1n 
cdummy2 qb 0 1n
.ic v(qint) {vss}
.model d_d1 d
+ is=1e-015
+ tt=1e-011
+ rs=0.05
+ n=0.1
.ends srlatchrhp_basic_gen
*$
.subckt srnandlatchshp_basic s r q qb
rs s 0 1e11
rr r 0 1e11
gq 0 qint value = {if(v(s) > .5,5,if(v(r)>.5,-5, 0))}
cqint qint 0 1n
rqint qint 0 1000meg
d_d10 qint my5 d_d1
v1 my5 0 1
d_d11 0 qint d_d1 
eq qqq 0 qint 0 1
x3 qqq qqqd1 buffer_ps
rqq qqqd1 q 1
eqb qbr 0 value = {if( v(q) > .5, 0,1)}
rqb qbr qb 1 
cdummy1 q 0 10p ic={0}
cdummy2 qb 0 10p ic={1}
.model d_d1 d
+ is=1e-015
+ tt=1e-011
+ rs=0.05
+ n=0.1
.ends srnandlatchshp_basic
*$
.subckt d_d1 1 2
d1 1 2 dd1
.model dd1 d
+ is=1e-015
+ tt=1e-011
+ rs=0.05
+ n=0.1
.ends d_d1
*$
.SUBCKT NMOSIDEAL_PS  D G S PARAMS: k=1 vth=0.5
RDDUM D 0 1e11
RSDUM S 0 1e11
RGDUM G 0 1e11
CG G D 0.01pF
CD D S 0.01pF
EON Yp 0 VALUE={IF(V(G,S) > {vth}, 1, 0)}
GOUT D S VALUE={IF(V(D,S) > (V(G,S)-{vth}), V(Yp)*({k}/2)*
+(V(G,S)-{vth})**2,
+ V(Yp)*({k})*(V(G,S)-{vth}-(V(D,S)/2))*V(D,S))}
.ENDS
*$
.SUBCKT PMOSIDEAL_PS D G S PARAMS: k=1 vth=0 
RDDUM D 0 1e11
RSDUM S 0 1e11
RGDUM G 0 1e11
CG G D 0.01pF
CD D S 0.01pF
EON Yp 0 VALUE={IF(V(S,G) > {vth}, -1, 0)}
GOUT D S VALUE={IF(V(S,D) > (V(S,G)-{vth}), V(Yp)*({k}/2)*
+ (V(S,G)-{vth})**2,
+ V(Yp)*({k})*(V(S,G)-{vth}-(V(S,D)/2))*V(S,D))}
.ENDS PMOSIDEAL_PS
*$
.SUBCKT AND A B OUT  
EOUT OUT1 0 VALUE { IF( V(A)>0.5 & V(B)>0.5,1,0) }
R1 OUT1 OUT 1
C1 OUT 0 10p
.ends AND
*$
.SUBCKT OR A B OUT  
EOUT OUT1 0 VALUE { IF( V(A)>0.5 | V(B)>0.5,1,0) }
R1 OUT1 OUT 1
C1 OUT 0 10p
.ends OR
*$
.SUBCKT NOR2 A B OUT  
EOUT OUT1 0 VALUE { IF( V(A)>0.5 | V(B)>0.5,0,1) }
R1 OUT1 OUT 1
C1 OUT 0 10p
.ends NOR2
*$
.SUBCKT NOR3 A B C OUT  
EOUT OUT1 0 VALUE { IF( V(A)>0.5 | V(B)>0.5 | V(C)>0.5,0,1) }
R1 OUT1 OUT 1
C1 OUT 0 10p
.ends NOR3
*$
.SUBCKT NOR4 A B C D OUT  
EOUT OUT1 0 VALUE { IF( V(A)>0.5 | V(B)>0.5 | V(C)>0.5 | V(D)>0.5,0,1) }
R1 OUT1 OUT 1
C1 OUT 0 10p
.ends NOR4
*$
.SUBCKT NAND3 A B C OUT  
EOUT OUT1 0 VALUE { IF( V(A)<0.5 & V(B)<0.5 & V(C)<0.5,1,0) }
R1 OUT1 OUT 1
C1 OUT 0 10p
.ends NAND3
*$
.SUBCKT NAND2 A B OUT  
EOUT OUT1 0 VALUE { IF( V(A)<0.5 & V(B)<0.5,1,0) }
R1 OUT1 OUT 1
C1 OUT 0 10p
.ends NAND2
*$
.SUBCKT AND3 A B C OUT  
EOUT OUT1 0 VALUE { IF( V(A)>0.5 & V(B)>0.5 & V(C)>0.5,1,0) }
R1 OUT1 OUT 1
C1 OUT 0 10p
.ends AND3
*$
.SUBCKT INVERTER IN OUT  
EOUT OUT1 0 VALUE { IF( V(IN)<0.5,1,0) }
R1 OUT1 OUT 1
C1 OUT 0 10p
.ends INVERTER
*$
.SUBCKT COMP_HYS INP INM HYS OUT 
EIN INP1 INM1 INP INM 1 
EHYS INP1 INP2 VALUE { IF( V(1)>0.5,-V(HYS)/2,V(HYS)/2) }
EOUT OUT 0 VALUE { IF( V(INP2)>V(INM1),1,0) }
R1 OUT 1 1
C1 1 0 1n
RINP1 INP1 0 10K
.ends COMP_HYS
*$
.SUBCKT COMP_HYS2 INP OUT 
+ PARAMs:  TH=.5 HYS=0.1
EIN INP1 0 INP 0 1 
EHYS INP1 INP2 VALUE { IF( V(1)>0.5,-(HYS)/2,HYS/2) }
EOUT OUT 0 VALUE { IF( V(INP2)>TH,1,0) }
R1 OUT 1 1
C1 1 0 1n
RINP1 INP1 0 10K
.ends COMP_HYS2
*$
.SUBCKT NAND3_PS Y A B C PARAMS: vhi=1 vlo=0 vthresh=500e-3 tplh=1e-9
+ tphl=1e-9 tr=1e-9 tf=1e-9
RA A 0 1e11
CA A 0 0.01pF
RB B 0 1e11
CB B 0 0.01pF
RC C 0 1e11
CC C 0 0.01pF
VS VSUP 0 DC 1
***** boolean ************
ENAND3 Ypp 0 VALUE={IF(V(A) > {vthresh} & V(B) > {vthresh} & V(C)
+ > {vthresh}, 0, 1)}
ROUTpp Ypp 0 1e11
***** add delay lines ****
XNSW1 OUTp Ypp 0 NSW_PS PARAMS: RONval={(tplh+1e-15)/
+(1e-12*0.693)} VTHval=0.5
XPSW1 OUTp Ypp VSUP PSW_PS PARAMS: RONval={(tphl+1e-15)/
+(1e-12*0.693)} VTHval=0.5
CDEL1 OUTp 0 1pF
ETHRESH Yp 0 VALUE={IF(V(OUTp) > 0.5, 1, 0)}
ROUTp Yp 0 1e11
** add rise and fall *****
XNSW2 OUTr Yp 0 NSW_PS PARAMS: RONval={(tf+1e-15)/
+(1e-12*2.3)} VTHval=0.5
XPSW2 OUTr Yp VSUP PSW_PS PARAMS: RONval={(tr+1e-15)/
+(1e-12*2.3)} VTHval=0.5
CDEL2 OUTr 0 1pF
**************************
EOUT OUTf 0 VALUE={V(OUTr)*({vhi} - {vlo})+{vlo}}
RDR OUTf Y  1000
RO Y 0 1e11
.ENDS NAND3_PS
*$
.SUBCKT DIDEAL_PS A C PARAMS: ron=1e-3 roff=1e9 
RA A 0 1e11
RC C 0 1e11
RAC A C 1e11
CAC A C 0.01pF ic=0
GD A B VALUE={LIMIT((0.01/{roff})*EXP((V(A,B)- 0.01)*{5}/0.026),40,-10u)}
RB B 0 1e9
RD B C {ron}
CC C 0 0.1pF 
.ENDS DIDEAL_PS
*$
.SUBCKT BUFFER_PS A Y PARAMS: vhi=1 vlo=0 vthresh=500e-3
+ tplh=1e-9 tphl=1e-9 tr=1e-9 tf=1e-9
RA A 0 1e11
CA A 0 0.01pF
VS VSUP 0 DC 1
EBUF1 Ypp 0 VALUE={IF(V(A) > ({vthresh}), 1, 0)}
ROUTpp Ypp 0 1e11
XNSW1 OUTp Ypp 0 NSW_PS PARAMS: RONval={(tplh+1e-15)
+/(1e-12*0.693)} VTHval=0.5
XPSW1 OUTp Ypp VSUP PSW_PS PARAMS: RONval={(tphl+1e-15)/
+(1e-12*0.693)} VTHval=0.5
CDEL1 OUTp 0 1pF
ETHRESH Yp 0 VALUE={IF(V(OUTp) > 0.5, 1, 0)}
ROUTp Yp 0 1e11
XNSW2 OUTr Yp 0 NSW_PS PARAMS: RONval={(tf+1e-15)
+/(1e-12*2.3)} VTHval=0.5
XPSW2 OUTr Yp VSUP PSW_PS PARAMS: RONval={(tr+1e-15)
+/(1e-12*2.3)} VTHval=0.5
CDEL2 OUTr 0 1pF
EOUT OUTf 0 VALUE={V(OUTr)*({vhi} - {vlo})+{vlo}}
RDR OUTf Y  1000
RO Y 0 1e11
.ENDS BUFFER_PS
*$
.SUBCKT INV_PS Y A PARAMS: vhi=1 vlo=0 vthresh=500e-3 tplh=1e-9
+ tphl=1e-9 tr=1e-9 tf=1e-9
RA A 0 1e11
CA A 0 0.01pF
VS VSUP 0 DC 1
EINV1 Ypp 0 VALUE={IF(V(A) > ({vthresh}), 0, 1)}
ROUTpp Ypp 0 1e11
XNSW1 OUTp Ypp 0 NSW_PS PARAMS: RONval={(tplh+1e-15)
+/(1e-12*0.693)} VTHval=0.5
XPSW1 OUTp Ypp VSUP PSW_PS PARAMS: RONval={(tphl+1e-15)
+/(1e-12*0.693)} VTHval=0.5
CDEL1 OUTp 0 1pF
ETHRESH Yp 0 VALUE={IF(V(OUTp) > 0.5, 1, 0)}
ROUTp Yp 0 1e11
XNSW2 OUTr Yp 0 NSW_PS PARAMS: RONval={(tf+1e-15)
+/(1e-12*2.3)} VTHval=0.5
XPSW2 OUTr Yp VSUP PSW_PS PARAMS: RONval={(tr+1e-15)
+/(1e-12*2.3)} VTHval=0.5
CDEL2 OUTr 0 1pF
EOUT OUTf 0 VALUE={V(OUTr)*({vhi} - {vlo})+{vlo}}
RDR OUTf Y  1000
RO Y 0 1e11
.ENDS INV_PS
*$
.SUBCKT OR4_PS Y A B C D PARAMS: vhi=1 vlo=0 vthresh=500e-3
+ tplh=1e-9 tphl=1e-9 tr=1e-9 tf=1e-9
RA A 0 1e11
CA A 0 0.01pF
RB B 0 1e11
CB B 0 0.01pF
RC C 0 1e11
CC C 0 0.01pF
RD D 0 1e11
CD D 0 0.01pF
VS VSUP 0 DC 1
EOR4 Ypp 0 VALUE={IF(V(A) > {vthresh} | V(B) > {vthresh}
+ | V(C) > {vthresh}  | V(D) > {vthresh}, 1, 0)}
ROUTpp Ypp 0 1e11
XNSW1 OUTp Ypp 0 NSW_PS PARAMS: RONval={(tplh+1e-15)/
+ (1e-12*0.693)} VTHval=0.5
XPSW1 OUTp Ypp VSUP PSW_PS PARAMS: RONval={(tphl+1e-15)/
+ (1e-12*0.693)} VTHval=0.5
CDEL1 OUTp 0 1pF
ETHRESH Yp 0 VALUE={IF(V(OUTp) > 0.5, 1, 0)}
ROUTp Yp 0 1e11
XNSW2 OUTr Yp 0 NSW_PS PARAMS: RONval={(tf+1e-15)/
+ (1e-12*2.3)} VTHval=0.5
XPSW2 OUTr Yp VSUP PSW_PS PARAMS: RONval={(tr+1e-15)/
+ (1e-12*2.3)} VTHval=0.5
CDEL2 OUTr 0 1pF
EOUT OUTf 0 VALUE={V(OUTr)*({vhi} - {vlo})+{vlo}}
RDR OUTf Y  1000
RO Y 0 1e11
.ENDS OR4_PS
*$
.SUBCKT COMPIDEAL_PS Y NEG POS PARAMS: td=1e-9 tt=1e-9
RP POS 0 1e11
CP POS 0 0.01pF
RN NEG 0 1e11
CN NEG 0 0.01pF
VS VSUP 0 DC 1
ECOUT Ypp 0 VALUE={IF (V(POS) > V(NEG), 1, 0)}
RYPP Ypp 0 1e11
XNSW1 OUTp Ypp 0 NSW_PS PARAMS: RONval={(td+1e-15)/
+(1e-12*0.693)} VTHval=0.5
XPSW1 OUTp Ypp VSUP PSW_PS PARAMS: RONval={(td+1e-15)/
+ (1e-12*0.693)} VTHval=0.5
CDEL1 OUTp 0 1pF
ETHRESH Yp 0 VALUE={IF(V(OUTp) > 0.5, 1, 0)} 
ROUTp Yp 0 1e11
XNSW2 OUTr Yp 0 NSW_PS PARAMS: RONval={(tt+1e-15)
+ /(1e-12*2.3)} VTHval=0.5
XPSW2 OUTr Yp VSUP PSW_PS PARAMS: RONval={(tt+1e-15)
+ /(1e-12*2.3)} VTHval=0.5
CDEL2 OUTr 0 1pF
EOUT OUTf 0 VALUE={V(OUTr)}
RDR OUTf Y 1000
RO Y 0 1e11
.ENDS COMPIDEAL_PS
*$
.SUBCKT VCVSCLIP_PS YP YN POS NEG PARAMS: gain=1 vomax=1 vomin=-1
RP POS 0 1e11
CP POS 0 0.01pF
RN NEG 0 1e11
CN NEG 0 0.01pF
ROUTN YN 0 1e11
COUTN YN 0 0.01pF
EVCLP YP YN VALUE={LIMIT((V(POS)-V(NEG))*{gain},{vomax},{vomin})}
RO YP 0 1e11
.ENDS VCVSCLIP_PS
*$
.SUBCKT NAND2_PS Y A B PARAMS: vhi=1 vlo=0 vthresh=500e-3
+ tplh=1e-9 tphl=1e-9 tr=1e-9 tf=1e-9
RA A 0 1e11
CA A 0 0.01pF
RB B 0 1e11
CB B 0 0.01pF
VS VSUP 0 DC 1
ENAND2 Ypp 0 VALUE={IF(V(A) > {vthresh} & V(B) > {vthresh}, 0, 1)}
ROUTpp Ypp 0 1e11
XNSW1 OUTp Ypp 0 NSW_PS PARAMS: RONval={(tplh+1e-15)/
+(1e-12*0.693)} VTHval=0.5
XPSW1 OUTp Ypp VSUP PSW_PS PARAMS: RONval={(tphl+1e-15)
+/(1e-12*0.693)} VTHval=0.5
CDEL1 OUTp 0 1pF
ETHRESH Yp 0 VALUE={IF(V(OUTp) > 0.5, 1, 0)}
ROUTp Yp 0 1e11
XNSW2 OUTr Yp 0 NSW_PS PARAMS: RONval={(tf+1e-15)
+/(1e-12*2.3)} VTHval=0.5
XPSW2 OUTr Yp VSUP PSW_PS PARAMS: RONval={(tr+1e-15)/
+(1e-12*2.3)} VTHval=0.5
CDEL2 OUTr 0 1pF
EOUT OUTf 0 VALUE={V(OUTr)*({vhi} - {vlo})+{vlo}}
RDR OUTf Y  1000
RO Y 0 1e11
.ENDS NAND2_PS
*$
.SUBCKT NSW_PS D G S PARAMS: RONval=10k VTHval=0.7
+ VCHARval=0.01 CGval=0.01pF CDval=0.01pF 
RDDUM D 0 1e11
RSDUM S 0 1e11
RGDUM G 0 1e11
CG G D {CGval}
CD D S {CDval}
EEXP F1 0 VALUE={LIMIT(((V(G,S)-VTHval)/VCHARval),-80,80)} 
GOUT D S VALUE={V(D,S)/(RONval*(1+EXP(-LIMIT(((V(G,S)-VTHval)
+ /VCHARval),-80,80))))}
.ENDS NSW_PS
*$
.SUBCKT PSW_PS D G S PARAMS: RONval=10k VTHval=0.7
+ VCHARval=0.01 CGval=0.01pF CDval=0.01pF 
RDDUM D 0 1e11
RSDUM S 0 1e11
RGDUM G 0 1e11
CG G D {CGval}
CD D S {CDval}
EEXP F1 0 VALUE={LIMIT(((V(S,G)-VTHval)
+ /VCHARval),-80,80)} 
GOUT S D VALUE={V(S,D)/(RONval*(1+EXP(-LIMIT(((V(S,G)-VTHval)
+ /VCHARval),-80,80))))}
.ENDS PSW_PS
*$
.SUBCKT MONOPOS_PS in Q Qn PARAMS: PW=250u 
VS VSUP 0 DC 1
r1 Q 0 1e11
GIN VSUP YA VALUE={IF(V(IN)>0.5, V(VSUP)/1000K, 0)}
GDIS YA 0 VALUE={IF(V(IN)>0.5,0, V(YA)/1m)}
CIN YA 0 1n IC=0
RIN YA 0 1e11
EABM1 YTD 0 VALUE={IF(V(YA)> {PW*1000}, 1, 0)}
RYTD YTD 0 1e11
EXOR P 0 VALUE={IF(V(YTD) > 0.5 ^ V(IN) > .5, 1, 0)}
ROUTpp2 P 0 1e11
EAND1 Q1 0 VALUE={ IF(V(P)>0.5 & V(IN)>0.5, 1, 0)}
Ro1 Q1 Q 1m
Co1 Q 0 1p
ROUT2 Q 0 1e11
EAND2 Qn1 0 VALUE={ IF(V(Q)>0.5, 0, 1)}
Ro2 Qn1 Qn 1m
Co2 Qn 0 1p
ROUT4 Qn 0 1e11
.ENDS MONOPOS_PS
*$
.SUBCKT MONONEG_PS in Q Qn PARAMS: PW=250u 
VS VSUP 0 DC 1
r1 IN 0 1e11
RS VSUP 0 1e11
GIN VSUP YA VALUE={IF(V(IN)<.5, V(VSUP)/1000K, 0)}
GDIS YA 0 VALUE={IF(V(IN)<.5,0, V(YA)/1m)}
CIN YA 0 1n IC=1
RIN YA 0 1e11
EABM1 YTD 0 VALUE={IF(V(YA)> {PW*1000}, 0, 1)}
RYTD YTD 0 1e11
EXOR P 0 VALUE={IF(V(YTD) > .5 ^ V(IN) > .5, 1, 0)}
ROUTpp2 P 0 1e11
EAND1 Q1 0 VALUE={ IF(V(P)>.5 & V(YTD)>.5, 1, 0)}
Ro1 Q1 Q 1m
Co1 Q 0 1p IC=0
ROUT2 Q 0 1e11
EAND2 Qn1 0 VALUE={ IF(V(Q)>0.5, 0, 1)}
Ro2 Qn1 Qn 1m
Co2 Qn 0 1p
ROUT4 Qn 0 1e11
.ENDS MONONEG_PS
*$
