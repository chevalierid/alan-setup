*$
* TPS63051
*****************************************************************************
* (C) Copyright 2013 Texas Instruments Incorporated. All rights reserved.                                            
*****************************************************************************
** This model is designed as an aid for customers of Texas Instruments.
** TI and its licensors and suppliers make no warranties, either expressed
** or implied, with respect to this model, including the warranties of 
** merchantability or fitness for a particular purpose.  The model is
** provided solely on an "as is" basis.  The entire risk as to its quality
** and performance is with the customer
*****************************************************************************
*
* This model is subject to change without notice. Texas Instruments
* Incorporated is not responsible for updating this model.
*
*****************************************************************************
*
** Released by: WEBENCH Design Center, Texas Instruments Inc.
* Part: TPS63051
* Date: 16OCT2013
* Model Type: TRANSIENT
* Simulator: PSPICE
* Simulator Version: 16.2.0.p001
* EVM Order Number: TPS6305xEVM-180
* EVM Users Guide: SLVU806–July 2013
* Datasheet: SLVSAM8 –JULY 2013
*
* Model Version: Final 1.00
*
*****************************************************************************
*
* Updates:
*
* Final 1.00
* Release to Web.
*
*****************************************************************************
.SUBCKT TPS63051_TRANS EN FB GND ILIMIT0 ILIMT1 L1 L2 PFM_PWM PG SS VIN VOUT  
R_R8         N6067255 ENLOGIC  1  
E_GAIN1         VIN_BUF 0 VALUE {1 * V(VIN)}
C_C7         0 ENLOGIC  1n  
E_ABM6         N16629194 0 VALUE { IF(V(PFM_PWM) > 1.1999,1,0)    }
R_R2         0 FB_INT  180k  
C_U5_C12         0 U5_N6157576  1n  
V_U5_V14         U5_N16989003 0 1.1
X_U5_U63         U5_N16896862 U5_ILIMT1LOGIC U5_LH AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U5_S1    U5_N6144664 0 PG 0 HK_U5_S1 
E_U5_ABM14         V4 0 VALUE { IF(V(FAULT) <0.5 ,V(U5_N17188663),0)    }
X_U5_U70         U5_ILIMT0LOGIC U5_ILIMT1LOGIC U5_HH AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
R_U5_R12         U5_N6157414 U5_N6157424  1  
R_U5_R5         U5_N16862567 U5_PFM_HYSOUT  10  
E_U5_ABM4         U5_N17188663 0 VALUE { V(VIN_BUF)*0.0375    }
V_U5_V8         U5_N16869356 0 1.24
C_U5_C20         0 U5_N16727053  1n  
V_U5_V13         VREF 0 0.8
R_U5_R11         U5_N16766644 U5_N6144664  10k  
C_U5_C6         0 U5_N6157424  1n  
V_U5_V7         U5_N17169586 0 0.79
E_U5_ABM10         U5_N167758431 0 VALUE { IF(V(U5_N6157424) < 0.2,1.2,
+  (V(U5_N6157424)*0.5)+1.11)    }
E_U5_ABM12         U5_N6126241 0 VALUE { V(ILIMIT)+10m    }
E_U5_ABM3         U5_N17192721 0 VALUE { V(V3)*0.85    }
E_U5_ABM2         V3 0 VALUE { (V(VOUT)+V(VIN_BUF))/4  
+     }
R_U5_R16         U5_N167758431 ILIMIT  1  
V_U5_V9         U5_N16885796 0 1.9
D_U5_D10         U5_N16989003 SS D_D1 
E_U5_ABM7         U5_N16890137 0 VALUE { IF(V(ILIMIT0) > 1.1999,1,0)    }
V_U5_V12         U5_N16926512 0 2
E_U5_ABM8         U5_N168539611 0 VALUE { (V(U5_PFM_HYSOUT)*-0.01 +0.81)    }
R_U5_R8         U5_N16890137 U5_ILIMT0LOGIC  1  
E_U5_ABM9         U5_N6157414 0 VALUE { IF(V(U5_N6157576) < V(U5_N16911177),   
+ V(U5_N6157576),V(U5_N16911177))   }
X_U5_U43         U5_N6126241 VVA U5_N6123789 COMP_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5
E_U5_ABM11         U5_N16890878 0 VALUE { IF(V(ILIMT1) > 1.1999,1,0)    }
C_U5_C7         0 U5_ILIMT0LOGIC  1n  
X_U5_U57         PFM_PWM_LOGIC U5_N16856319 U5_N16872068 U5_N17195804
+  OR3_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U5_U60         ENLOGIC U5_N16887739 U5_N16729384 COMP_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5
R_U5_R9         U5_N16890878 U5_ILIMT1LOGIC  1  
R_U5_R4         U5_N168539611 U5_N16853592  1  
X_U5_U65         U5_ILIMT0LOGIC U5_N16898774 U5_HL AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U5_U48         U5_N17177715 FAULT INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U5_U64         U5_ILIMT0LOGIC U5_N16896862 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U5_U72         FB_INT U5_N17172599 U5_N17172607 U5_N17172581
+  COMPHYS_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
V_U5_V11         U5_N16887739 0 0.5
X_U5_U66         U5_ILIMT1LOGIC U5_N16898774 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
C_U5_C11         0 U5_ILIMT1LOGIC  1n  
C_U5_C8         0 U5_N16853592  1n  
D_U5_D9         SS U5_N16926512 D_D1 
X_U5_U55         U5_PFM_HYSOUT U5_N16856319 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U5_U58         PFM_PWM_LOGIC U5_N16856319 PS_RST_PULL_N OR2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U5_U68         U5_ILIMT0LOGIC U5_N16894734 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
R_U5_R26         U5_N16729384 U5_N16727053  101010.101  
V_U5_V16         U5_N17172607 0 0.08
V_U5_V15         U5_N17170203 0 0.02
C_U5_C21         0 SS  20p IC=0 
X_U5_U53         U5_N6123789 U5_N6123654 U5_FAULT_BAR U5_N16766644
+  NAND3_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U5_U47         U5_VIN_OK U5_N16727053 U5_FAULT_BAR AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
V_U5_V17         U5_N17172599 0 0.84
X_U5_U71         FB_INT U5_N17169586 U5_N17170203 U5_N6123654 COMPHYS_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U5_U67         U5_FAULT_BAR U5_N17030003 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
R_U5_R19         U5_N16905849 U5_N16911177  1  
D_U5_D7         U5_N16727053 U5_N16729384 D_D1 
D_U5_D8         U5_N16766644 U5_N6144664 D_D1 
G_U5_ABMII1         U5_N16926512 SS VALUE { IF(V(U5_FAULT_BAR) >0.5,1u,0)    }
R_U5_R6         U5_N17195804 PS_RST_N  1  
X_U5_S2    U5_N17030003 0 SS 0 HK_U5_S2 
E_U5_ABM5         U5_N6157610 0 VALUE { LIMIT(V(SS)*2 -2.2,0.1,1)    }
C_U5_C10         0 ILIMIT  10u  
C_U5_C13         0 U5_N16911177  1n  
X_U5_U69         U5_ILIMT1LOGIC U5_N16894989 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
E_U5_ABM13         U5_N16905849 0 VALUE { IF(V(U5_HH)>0.5, 1,
+  IF(V(U5_LL)>0.5,0.2,IF(V(U5_LH)>0.5, 0.5,0.5)))    }
C_U5_C14         0 PS_RST_N  1n  
R_U5_R18         U5_N6157610 U5_N6157576  1  
E_U5_ABM15         V2 0 VALUE { IF(V(FAULT) <0.5 ,V(U5_N17192721),0)    }
C_U5_C9         0 U5_PFM_HYSOUT  1n  
X_U5_U54         FB_INT U5_N16853592 U5_N16862567 COMP_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5
V_U5_V10         U5_N16885627 0 0.2
X_U5_U61         U5_N16894734 U5_N16894989 U5_LL AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
C_U5_C5         0 U5_N6144664  1n  
X_U5_U62         U5_FAULT_BAR U5_N17172581 U5_N17177715 OR2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U5_U59         VIN_BUF U5_N16885796 U5_N16885627 U5_VIN_OK COMPHYS_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U5_U56         VVA_PROG U5_N16869356 U5_N16872068 COMP_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5
V_U2_V3         BOOSTRAMP U2_N16588429 40m
X_U2_U35         FAULT U2_N16692057 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
C_U2_C1         0 U2_N124395  1n IC=0 
E_U2_GAIN1         BUCKRAMP 0 VALUE {1 * V(U2_N124395)}
X_U2_U26         FAULT CLK U2_RAMPDIS OR2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U2_S5    U2_RAMPDIS 0 U2_N124395 0 OSCILLATOR_U2_S5 
G_U2_G2         U2_SET5 U2_N126109 VOUT 0 0.641m
V_U2_V10         U2_N16690633 0  
+PULSE 0 1 0 1n 1n 10n 400n
V_U2_V5         U2_SET5 0 5
X_U2_S6    U2_RAMPDIS 0 U2_N126109 0 OSCILLATOR_U2_S6 
E_U2_E2         U2_N16588429 U2_N128582 V3 0 1
D_U2_D5         U2_N126109 U2_SET5 D_D1 
G_U2_G1         U2_SET5 U2_N124395 VIN_BUF 0 0.641m
X_U2_U34         U2_N16690633 U2_N16692057 CLK AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
C_U2_C2         0 U2_N126109  1n IC=0 
E_U2_GAIN2         U2_N128582 0 VALUE {-1 * V(U2_N126109)}
D_U2_D4         U2_N124395 U2_SET5 D_D1 
R_R1         FB_INT FB  560k  
R_R11         0 GND  1m  
D_D15         FB_INT N16804589 D_D1 
V_V1         N16804589 0 1
R_R9         N16629194 PFM_PWM_LOGIC  1  
G_ABMII1         FB_INT 0 VALUE { V(N16804622)*-1m    }
X_U3_U41         U3_N16710738 U3_FAULT_BAR PS_RST_N U3_N178130 AND3_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
C_U3_C7         0 U3_N148451  6p  
D_U3_D2         0 L1 D_D1 
X_U3_U44         U3_VOUT_0_7 U3_BOOST_HSD BOOST_HSD AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U3_S2    U3_BUCKDRV_PRE 0 U3_N162880 L1 DRIVER_U3_S2 
X_U3_S5    U3_N178130 0 L2 0 DRIVER_U3_S5 
X_U3_U24         U3_N162195 U3_N16705153 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U3_U27         FAULT U3_FAULT_BAR INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U3_U37         U3_N16710240 U3_N16710232 U3_N16710738 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U3_U32         U3_N16705153 U3_N16705010 BUF_DELAY_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5 DELAY=20n
X_U3_U36         U3_N166627 U3_N16709141 BUF_DELAY_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5 DELAY=20n
X_U3_U31         U3_N16705153 U3_N16705010 U3_N16705859 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U3_U26         U3_FAULT_BAR BOOSTDRV U3_N166627 AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
D_U3_D1         L1 U3_N162880 D_D1 
X_U3_U40         U3_BUCKDRV_PRE U3_N162195 U3_N167831 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
D_U3_D4         0 L2 D_D1 
X_U3_U33         U3_N162195 U3_N16706290 U3_N16718213 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U3_U34         U3_N162195 U3_N16706290 BUF_DELAY_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5 DELAY=15n
X_U3_S4    BOOST_HSD 0 VOUT L2 DRIVER_U3_S4 
X_U3_U28         BUCKDRV U3_FAULT_BAR U3_N162195 AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
E_U3_ABM1         U3_N167308371 0 VALUE { IF(V(FAULT) > 0.5,0,  
+ V(U3_N148451))   }
C_U3_C9         0 ISEN  1n  
V_U3_V1         U3_N16766251 0 0.17
X_U3_U35         U3_N166627 U3_N16709141 U3_BOOST_HSD AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
D_U3_D3         U3_N167311011 VOUT D_D1 
X_U3_S3    U3_N179660 0 L1 0 DRIVER_U3_S3 
X_U3_U42         U3_N16705859 U3_FAULT_BAR PS_RST_N U3_N179660 AND3_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U3_U39         U3_N16718213 U3_BUCKDRV_PRE BUF_DELAY_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5 DELAY=5n
R_U3_R2         U3_N167308371 ISEN  1  
X_U3_H1    VIN U3_N162880 U3_ISEN_INT 0 DRIVER_U3_H1 
X_U3_U43         FB_INT U3_N16766251 U3_VOUT_0_7 COMP_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5
X_U3_U25         U3_N166627 U3_N16710240 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U3_U38         U3_N16710240 U3_N16710232 BUF_DELAY_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5 DELAY=20n
V_U3_V2         L2 U3_N167311011 0.7
X_U3_S1    U3_N167831 0 U3_ISEN_INT U3_N148451 DRIVER_U3_S1 
E_ABM11         N16804622 0 VALUE { MAX(V(VOUT) - 4,0)    }
X_U4_S1    U4_BOOST_DELAY 0 U4_N138646 0 ERRORAMP_U4_S1 
R_U4_R8         0 VCA  1e9  
V_U4_V1         U4_N137240 0 1.1
X_U4_U58         U4_N16572662 U4_N16572638 PS_RST_PULL_N U4_N16573482
+  MUX2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_U4_ABM1         U4_N165519481 0 VALUE { IF(V(PFM_PWM_LOGIC) < 0.5 & V(VVA)
+  <1.21,1.22, V(VVA))    }
V_U4_V9         U4_N16572662 0 1.21
R_U4_R6         U4_N165519481 VVA_PROG  1  
X_U4_U4         V4 VCA D_D
C_U4_CCV         U4_N134364 0  100p IC=1.2 
C_U4_C6         0 VVA  10f  
G_U4_ABM3I1         0 VVA VALUE {
+  LIMIT(V(VOUT)*7e-6*(V(VREF)-V(FB_INT)),-1u*V(VOUT),1u*V(VOUT))    }
X_U4_U1         VVA ILIMIT D_D
G_U4_G8         0 U4_VVA_ACT ISEN 0 4
X_U4_U59         U4_N16618913 BOOST_HSD U4_BOOST_DELAY AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
E_U4_E1         U4_N16723877 0 FAULT 0 1
X_U4_U3         VCA V2 D_D
R_U4_R7         0 VVA  1e9  
X_U4_U61         BOOST_HSD U4_N16618913 INV_DELAY_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5 DELAY=200n
X_U4_U2         U4_N16573482 VVA D_D
C_U4_CCI         0 U4_N138646  40p IC=0 
C_U4_C7         0 VCA  10f  
X_U4_U60         U4_N16710510 U4_N16710858 U4_N16716803 U4_N16572638
+  MUX2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
C_U4_C5         0 VVA_PROG  1n  
G_U4_G5         0 VCA VVA_PROG U4_VVA_ACT 20u
V_U4_V2         VVA_PROG IAVG 0.1
C_U4_CCI1         0 U4_N16716803  0.5u  
R_U4_RZV         U4_N134364 VVA  400k  
V_U4_V3         U4_N16710510 0 0.8
R_U4_R2         U4_N137240 U4_VVA_ACT  125m  
R_U4_RZI         U4_N138646 VCA  200k  
V_U4_V4         U4_N16710858 0 1.2
R_U4_R3         U4_N16723877 U4_N16716803  1  
V_U1_V1         U1_N16733033 0 0.5
X_U1_U55         CLK U1_N16735382 U1_N16744945 N16744979 SRLATCHRHP_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U1_S2    BOOSTDRV 0 U1_N16737594 0 PWM_U1_S2 
X_U1_U54         CLK U1_N175129 U1_N16739234 N16741552 SRLATCHRHP_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U1_U57         U1_BOOST_CLK U1_N175129 BOOSTDRV U1_BOOSTDRV_N
+  SRLATCHRHP_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U1_U49         U1_N16744945 U1_BUCK_SET_MASK U1_BUCK_CLK AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U1_U41         U1_N185413 BUCKDRV U1_N184433 AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U1_U45         U1_N16737594 U1_N16737782 U1_BOOST_SET_MASK COMP_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U1_U56         U1_BUCK_CLK U1_N16735382 BUCKDRV U1_BUCKDRV_N
+  SRLATCHRHP_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U1_U39         U1_PS_RST FAULT U1_N171118 OR2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U1_U43         U1_N16548296 U1_N16733033 U1_BUCK_SET_MASK COMP_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
V_U1_V3         U1_N16737782 0 0.5
D_U1_D1         U1_N16548296 U1_N16548465 D_D1 
X_U1_U42         U1_N185976 BOOSTDRV U1_N186143 AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U1_S1    BUCKDRV 0 U1_N16548296 0 PWM_U1_S1 
G_U1_ABMII1         U1_N16548465 U1_N16548296 VALUE { V(U1_BUCKDRV_N)*14.28m   
+  }
G_U1_ABMII2         U1_N16737602 U1_N16737594 VALUE { V(U1_BOOSTDRV_N)*14.28m  
+   }
V_U1_V2         U1_N16548465 0 1
V_U1_V4         U1_N16737602 0 1
X_U1_U36         U1_N186143 U1_N171118 U1_N16735382 OR2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U1_U34         VCA BOOSTRAMP U1_N185413 COMP_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5
D_U1_D2         U1_N16737594 U1_N16737602 D_D1 
X_U1_U40         PS_RST_N U1_PS_RST INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U1_U47         U1_N16739234 U1_BOOST_SET_MASK U1_BOOST_CLK AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
C_U1_C1         0 U1_N16548296  1n  
X_U1_U33         BUCKRAMP VCA U1_N185976 COMP_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5
C_U1_C2         0 U1_N16737594  1n  
X_U1_U35         U1_N184433 U1_N171118 U1_N175129 OR2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U6         PFM_PWM_LOGIC PFM_PWM_LOGIC_N INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
C_C8         0 PFM_PWM_LOGIC  1n  
E_ABM5         N6067255 0 VALUE { IF(V(EN) > 1.1999,1,0)    }
.ENDS TPS63051_TRANS
*$
.subckt HK_U5_S1 1 2 3 4  
S_U5_S1         3 4 1 2 _U5_S1
RS_U5_S1         1 2 1G
.MODEL         _U5_S1 VSWITCH Roff=55e6 Ron=4k Voff=0.2V Von=0.8V
.ends HK_U5_S1
*$
.subckt HK_U5_S2 1 2 3 4  
S_U5_S2         3 4 1 2 _U5_S2
RS_U5_S2         1 2 1G
.MODEL         _U5_S2 VSWITCH Roff=1e9 Ron=1m Voff=0.25V Von=0.75V
.ends HK_U5_S2
*$
.subckt OSCILLATOR_U2_S5 1 2 3 4  
S_U2_S5         3 4 1 2 _U2_S5
RS_U2_S5         1 2 1G
.MODEL         _U2_S5 VSWITCH Roff=100e6 Ron=10m Voff=0.2V Von=0.8
.ends OSCILLATOR_U2_S5
*$
.subckt OSCILLATOR_U2_S6 1 2 3 4  
S_U2_S6         3 4 1 2 _U2_S6
RS_U2_S6         1 2 1G
.MODEL         _U2_S6 VSWITCH Roff=100e6 Ron=10m Voff=0.2V Von=0.8
.ends OSCILLATOR_U2_S6
*$
.subckt DRIVER_U3_S2 1 2 3 4  
S_U3_S2         3 4 1 2 _U3_S2
RS_U3_S2         1 2 1G
.MODEL         _U3_S2 VSWITCH Roff=1e6 Ron=140m Voff=0.2V Von=0.8
.ends DRIVER_U3_S2
*$
.subckt DRIVER_U3_S5 1 2 3 4  
S_U3_S5         3 4 1 2 _U3_S5
RS_U3_S5         1 2 1G
.MODEL         _U3_S5 VSWITCH Roff=1e6 Ron=140m Voff=0.2V Von=0.8
.ends DRIVER_U3_S5
*$
.subckt DRIVER_U3_S4 1 2 3 4  
S_U3_S4         3 4 1 2 _U3_S4
RS_U3_S4         1 2 1G
.MODEL         _U3_S4 VSWITCH Roff=1e6 Ron=140m Voff=0.2V Von=0.8
.ends DRIVER_U3_S4
*$
.subckt DRIVER_U3_S3 1 2 3 4  
S_U3_S3         3 4 1 2 _U3_S3
RS_U3_S3         1 2 1G
.MODEL         _U3_S3 VSWITCH Roff=1e6 Ron=140m Voff=0.2V Von=0.8
.ends DRIVER_U3_S3
*$
.subckt DRIVER_U3_H1 1 2 3 4  
H_U3_H1         3 4 VH_U3_H1 1
VH_U3_H1         1 2 0V
.ends DRIVER_U3_H1
*$
.subckt DRIVER_U3_S1 1 2 3 4  
S_U3_S1         3 4 1 2 _U3_S1
RS_U3_S1         1 2 1G
.MODEL         _U3_S1 VSWITCH Roff=100k Ron=50 Voff=0.25V Von=0.75V
.ends DRIVER_U3_S1
*$
.subckt ERRORAMP_U4_S1 1 2 3 4  
S_U4_S1         3 4 1 2 _U4_S1
RS_U4_S1         1 2 1G
.MODEL         _U4_S1 VSWITCH Roff=100e9 Ron=10k Voff=0.2 Von=0.8
.ends ERRORAMP_U4_S1
*$
.subckt PWM_U1_S2 1 2 3 4  
S_U1_S2         3 4 1 2 _U1_S2
RS_U1_S2         1 2 1G
.MODEL         _U1_S2 VSWITCH Roff=10e6 Ron=1.0 Voff=0.2 Von=0.8
.ends PWM_U1_S2
*$
.subckt PWM_U1_S1 1 2 3 4  
S_U1_S1         3 4 1 2 _U1_S1
RS_U1_S1         1 2 1G
.MODEL         _U1_S1 VSWITCH Roff=10e6 Ron=1.0 Voff=0.2 Von=0.8
.ends PWM_U1_S1
*$
.subckt d_d 1 2
d1 1 2 dd1
.model dd1 d
+ is=1e-015
+ tt=1e-011
+ rs=0.05
+ n=0.01
.ends d_d
*$
.model d_d1 d
+ is=1e-015
+ tt=1e-011
+ rs=0.05
+ n=0.01
*$
.SUBCKT AND2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND2_BASIC_GEN
*$
.SUBCKT OR3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR3_BASIC_GEN
*$
.SUBCKT COMP_BASIC_GEN INP INM Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5	
E_ABM Yint 0 VALUE {IF (V(INP) > 
+ V(INM), {VDD},{VSS})}
R1 Yint Y 1
C1 Y 0 1n
.ENDS COMP_BASIC_GEN
*$
.SUBCKT INV_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH} , + {VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS INV_BASIC_GEN
*$
.SUBCKT OR2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR2_BASIC_GEN
*$
.SUBCKT NAND3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NAND3_BASIC_GEN
*$
.SUBCKT COMPHYS_BASIC_GEN INP INM HYS OUT PARAMS: VDD=1 VSS=0 VTHRESH=0.5
EIN INP1 INM1 INP INM 1 
EHYS INP1 INP2 VALUE { IF( V(1) > {VTHRESH},-V(HYS),0) }
EOUT OUT 0 VALUE { IF( V(INP2)>V(INM1), {VDD} ,{VSS}) }
R1 OUT 1 1
C1 1 0 5n
RINP1 INP1 0 1K
.ENDS COMPHYS_BASIC_GEN
*$
.SUBCKT BUF_DELAY_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY = 10n 
E_ABMGATE1    YINT1 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT1 YINT2 1
CINT YINT2 0 {DELAY*1.3}
E_ABMGATE2    YINT3 0 VALUE {{IF(V(YINT2) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT2 YINT3 Y 1
CINT2 Y 0 1n
.ENDS BUF_DELAY_BASIC_GEN
*$
.SUBCKT MUX2_BASIC_GEN A B S Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE  YINT 0 VALUE {{IF(V(S) > {VTHRESH},  + V(B),V(A))}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS MUX2_BASIC_GEN
*$
.SUBCKT SRLATCHRHP_BASIC_GEN S R Q QB PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
GQ 0 Qint VALUE = {IF(V(R) > {VTHRESH},-5,IF(V(S)>{VTHRESH},5, 0))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr QB 1 
Cdummy1 Q 0 1n 
Cdummy2 QB 0 1n
.model d_d1 d
+ is=1e-015
+ tt=1e-011
+ rs=0.05
+ n=0.01
.IC V(Qint) {VSS}
.ENDS SRLATCHRHP_BASIC_GEN
*$
.SUBCKT AND3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND3_BASIC_GEN
*$
.SUBCKT BUF_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS BUF_BASIC_GEN
*$
.SUBCKT INV_DELAY_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY = 10n 
E_ABMGATE1    YINT1 0 VALUE {{IF(V(A) > {VTHRESH} , {VDD},{VSS})}}
RINT YINT1 YINT2 1
CINT YINT2 0 {DELAY*1.3}
E_ABMGATE2    YINT3 0 VALUE {{IF(V(YINT2) > {VTHRESH} , {VSS},{VDD})}}
RINT2 YINT3 Y 1
CINT2 Y 0 1n
.ENDS INV_DELAY_BASIC_GEN
*$
.SUBCKT CESR IN OUT
+ PARAMs:  C=100u ESR=0.01 X=2 IC=0
C	IN 1  {C*X} IC={IC}
RESR	1 OUT {ESR/X}
.ENDS CESR
*$
.SUBCKT LDCR IN OUT
+ PARAMs:  L=1u DCR=0.01 IC=0
L	IN 1  {L} IC={IC}
RDCR	1 OUT {DCR}
.ENDS LDCR
*$