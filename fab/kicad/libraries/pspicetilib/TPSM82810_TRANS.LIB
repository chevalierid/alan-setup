*$
* TPSM82810
*****************************************************************************
* (C) Copyright 2019 Texas Instruments Incorporated. All rights reserved.                                            
*****************************************************************************
** This model is designed as an aid for customers of Texas Instruments.
** TI and its licensors and suppliers make no warranties, either expressed
** or implied, with respect to this model, including the warranties of 
** merchantability or fitness for a particular purpose.  The model is
** provided solely on an "as is" basis.  The entire risk as to its quality
** and performance is with the customer
*****************************************************************************
*
* This model is subject to change without notice. Texas Instruments
* Incorporated is not responsible for updating this model.
*
*****************************************************************************
*
** Released by: Texas Instruments Inc.
* Part: TPSM82810
* Date: 01OCT2019
* Model Type: TRANSIENT 
* Simulator: PSPICE
* Simulator Version: 16.2.0.p001
* EVM Order Number: TPSM82810EVM-089
* EVM Users Guide: SLUUC44 - July 2019
* Datasheet: SLUSDN6 -SEPTEMBER 2019
* Topologies Supported: Buck
* Model Version: Final 1.00
*
*****************************************************************************
*
* Updates:
*
* Final 1.00
* Release to Web.
*
*****************************************************************************
*
* Model Usage Notes:
*
* 1. The following features have been modeled
*      a. Frequency foldback during soft-start
*      b. Current limit, Hiccup
*      c. PGOOD functionality
*      d. MODE Pin functionality for FPWM
*      e. Sync functionality
*      f. Different COMP Settings functionality
*      g. Min On Time
*      h. UVLO functionality
*      i. Frequency selection functionality      
*      j. STEADY_STATE is a parameter which is used to reach the output faster.Keep STEADY_STATE = 0 to observe 
*         startup behaviour and STEADY_STATE = 1 for faster Steady state.
* 2.   a. The operating quiescent current and thermal shutdown characteristics have not been modeled.
*      b. Ground pins have been tied to 0V internally,therefore this model cannot be used for inverting topologies.
*      c. Spread Spectrum clocking functionality is not modeled.   
*
*****************************************************************************
.SUBCKT TPSM82810_TRANS COMP/FSET EN FB GND_0 GND_1 GND_2 GND_3 PG SS/TR
+  SYNC/MODE VIN_0 VIN_1 VIN_2 VOUT PARAMS: STEADY_STATE=1 
C_C8         0 N17074318  10p  
G_U6_ABMII4         VIN_0 U6_VRAMPQUAD VALUE { LIMIT(V(U6_VRAMPLIN)/66k, 0 ,20)
+     }
X_U6_U629         U6_HS_ON U6_GT_PK U6_PH1_1 U6_N16829752 srlatchrhp_basic_gen
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U6_U620         FB U6_VREFTH_LOW U6_N16820836 U6_N16820548 COMPHYS_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U6_U836         U6_HS_COMP_OUT H_BLNCK U6_GT_PK AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U6_U830         U6_N16820573 U6_N16820548 U6_N16820509 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
V_U6_V12         U6_N16820836 0 0.05
X_U6_U154         U6_PEAK_AVARAGE_O PEAK_AVARAGE one_shot PARAMS:  T=50  
R_U6_R3         0 U6_N16829752  1Meg TC=0,0 
X_U6_S1    RESET_RAMP_LIN 0 U6_VRAMPLIN 0 GmIphase_U6_S1 
C_U6_C9         0 U6_N16820599  1u IC=0 
X_U6_S3    PEAK_AVARAGE 0 U6_N16844683 U6_VRAMPQUAD GmIphase_U6_S3 
X_U6_U630         RESET_RAMP_LIN CLK_DEL U6_PEAK_AVARAGE_O 0
+  srlatchrhp_basic_gen PARAMS: VDD=1 VSS=0 VTHRESH=0.5
R_U6_R278         U6_HS_CMD VIN_0  370  
E_U6_ABM154         U6_ANDOUT1 0 VALUE { IF(V(U6_N16820509)>0.5,1,0)    }
X_U6_U827         U6_N16810115 U6_PH1_1 U6_N16810030 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U6_U839         U6_PG1 U6_PG0 U6_PG10 N16820398 srlatchrhp_basic_gen PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5
C_U6_C177         0 U6_N16810027  1n  
G_U6_ABM2I5         0 U6_VRAMPLIN VALUE { IF(V(SDWN)<0.5,V(VIN_0)*1e-6,0)    }
G_U6_G5         0 U6_N16820599 U6_ANDOUT0 0 1
E_U6_ABM155         U6_ANDOUT0 0 VALUE { IF(V(U6_N16820509)<0.5,1,0)    }
X_U6_U825         U6_N16810030 U6_N16810027 U6_PH1_1 PH1 OR3_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U6_S6    U6_N16820650 0 U6_N16820599 0 GmIphase_U6_S6 
R_U6_R276         U6_N16810030 U6_N16810027  72.2  
D_U6_D14         U6_N16820421 PG d_dton 
C_U6_C102         0 U6_VRAMPQUAD  2.4p IC=0 
X_U6_U826         U6_PH1_1 U6_N16810115 INV_DELAY_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5 DELAY=15n
X_U6_U835         U6_HS_CMD SW_INT U6_HS_COMP_OUT COMP_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5
X_U6_U831         U6_ANDOUT1 U6_N16820894 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
G_U6_ABMII2         VIN_0 I_DECOMP VALUE { LIMIT(V(U6_VDECOMP)/48k, 0 ,20)    }
D_U6_D10         U6_N16810030 U6_N16810027 D_D1 
X_U6_U661         CLK PH2 RESET_RAMP_LIN OR2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
I_U6_I2         PG U6_N16820421 DC 1mAdc  
V_U6_V2         U6_N16820927 0 40
V_U6_V3         U6_N16820705 0 40
X_U6_S7    U6_PG10 0 U6_N16820421 0 GmIphase_U6_S7 
X_U6_U609         U6_N16820901 U6_N16820927 U6_PG1 COMP_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5
C_U6_C103         U6_VDECOMP 0  600f  
X_U6_U832         U6_ANDOUT0 U6_N16820650 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
G_U6_ABMII23         0 I_DECOMP VALUE { LIMIT(V(COMP)/24k, 0 ,20)    }
R_U6_R100         U6_N16844683 U6_VDECOMP  250k  
G_U6_ABM2I11         0 U6_VRAMPLIN VALUE {
+  IF(V(SDWN)<0.5,(6e-6*(V(FREQ)/(1.8e6)))-6e-6,0)    }
C_U6_C7         0 U6_PG1  1n IC=0 
X_U6_U828         PH1 PH2 INV_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U6_U610         U6_N16820599 U6_N16820705 U6_PG0 COMP_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5
E_U6_ABM3         U6_VREFTH_HIGH 0 VALUE { (V(U6_N16820518)*1.07)    }
X_U6_S2    CLK_DEL 0 U6_VRAMPQUAD 0 GmIphase_U6_S2 
C_U6_C8         0 U6_N16820901  1u IC=0 
V_U6_VIN         U6_N16820518 0 0.6
X_U6_U838         SDWN U6_N16817649 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
C_U6_C10         0 U6_PG0  1n IC=0 
C_U6_C112         0 U6_VRAMPLIN  2p  
X_U6_U837         U6_N16817649 CLK_O U6_HS_ON AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
G_U6_ABMII3         I_DECOMP 0 VALUE { LIMIT(V(U6_VRAMPQUAD)/48k, 0 ,20)    }
X_U6_U619         U6_VREFTH_HIGH FB U6_N16820784 U6_N16820573 COMPHYS_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_U6_ABM5         U6_VREFTH_LOW 0 VALUE { (V(U6_N16820558)*0.95)    }
G_U6_G4         0 U6_N16820901 U6_ANDOUT1 0 1
D_U6_D13         0 U6_HS_CMD D_D 
V_U6_VIN1         U6_N16820558 0 0.6
X_U6_F1    I_DECOMP 0 U6_HS_CMD 0 GmIphase_U6_F1 
V_U6_V9         U6_N16820784 0 0.03
X_U6_S5    U6_N16820894 0 U6_N16820901 0 GmIphase_U6_S5 
X_L1         SW_INT VOUT LDCR PARAMS:  L=0.47u  DCR=16m IC=0
E_U9_ABM22         U9_N16725392 0 VALUE { V(FREQ)*1e-12    }
R_U9_R2         U9_N16777004 GND_0  159.23  
C_U9_C149         U9_N16779608 0  1.443n IC=0 TC=0,0 
X_U9_U838         SDWN U9_N16811633 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
C_U9_C79         U9_N16725752 0  0.97n IC=0 
X_U9_U142         U9_DISCHARGE U9_CLK_SYNC CLK_SYNC_EN U9_N16782839
+  MUX2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_U9_ABM21         U9_N16844733 0 VALUE {
+  IF(V(U9_N16843306)>0.5,V(U9_CLK_CURRENT)*1000,0)    }
D_U9_D11         0 U9_N16725856 D_D111 
E_U9_ABM14         SYNC_SDWNB 0 VALUE { IF(V(VREF)>0.59*1,1,0)    }
D_U9_D12         U9_N16725856 U9_N16725824 D_D111 
X_U9_U159         U9_SYNC_INT U9_N16777138 BUF_DELAY_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5 DELAY=124n
X_U9_U827         CLK_INT_DISABLE SYNC_SDWNB CLK_SYNC_EN AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U9_U145         U9_N16782839 U9_N16811633 CLK_O AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
E_U9_ABM20         U9_CLK_CURRENT 0 VALUE { IF(V(CLK_O) >0.5,( V(U9_N16725392)
+  - V(U9_N16725692))/30,  
+  (V(U9_N16725392) - V(U9_N16725692)))   }
D_U9_D13         U9_N16725856 U9_N16725752 D_D111 
X_U9_S27    U9_N16846056 0 U9_N16845600 0 Oscillator_U9_S27 
E_U9_ABM17         U9_N16725692 0 VALUE { V(I_FOLDABACK)*20    }
C_U9_C80         U9_N16845600 0  0.97n IC=0 
X_U9_U131         U9_N16725752 U9_N16725790 U9_N16725878 COMP_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5
G_U9_G1         U9_N16845376 U9_N16845600 U9_N16844733 0 1
V_U9_V45         U9_N16725824 0 5
X_U9_U161         U9_N16849506 U9_N16846056 one_shot PARAMS:  T=20  
D_U9_D62         GND_0 U9_N16777004 D_D111 
X_U9_U162         CLK U9_N16851592 BUF_DELAY_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5 DELAY=30n
X_U9_U629         U9_N16779608 SDWN U9_N16789438 N16790396 srlatchrhp_basic_gen
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_U9_ABM6         U9_SYNC_INT 0 VALUE { If(V(U9_SYNC_INT) <0.5,
+  If(V(U9_N16777004)>1.1, 1, 0), If(V(U9_N16777004)>0.3, 1, 0))    }
C_U9_C1         SYNC/MODE U9_N16777004  1n  
X_U9_U147         U9_N16851592 CLK CLK_DEL AND2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
V_U9_V49         U9_N16725790 0 1
R_U9_R51         U9_N16789438 CLK_INT_DISABLE  50k TC=0,0 
D_U9_D1         U9_N16779612 U9_N16779608 D_D111 
X_U9_U158         U9_N16725878 U9_DISCHARGE one_shot PARAMS:  T=20  
X_U9_U630         CLK_O U9_N16846056 U9_N16843306 N16843470
+  srlatchrhp_basic_gen PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_U9_E4         U9_N16779612 0 U9_N16777138 0 1
C_U9_C1491         CLK_INT_DISABLE 0  1.443n IC=0 TC=0,0 
X_U9_U133         U9_N16845600 U9_N16847333 U9_N16848844 COMP_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5
D_U9_D14         0 U9_N16845600 D_D111 
R_U9_R5         U9_N16779612 U9_N16779608  277 TC=0,0 
X_U9_S26    U9_DISCHARGE 0 U9_N16725752 0 Oscillator_U9_S26 
X_U9_U631         CLK_O U9_N16848844 CLK U9_N16849506 srlatchrhp_basic_gen
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U9_U143         U9_N16777138 U9_CLK_SYNC one_shot PARAMS:  T=20  
V_U9_V51         U9_N16847333 0 0.45
G_U9_ABMII6         U9_N16725824 U9_N16725856 VALUE { V(U9_CLK_CURRENT)*1000   
+  }
D_U9_D15         U9_N16845600 U9_N16845376 D_D111 
V_U9_V46         U9_N16845376 0 5
X_S6    COMP_SET1 0 COMP N17074247 TPSM82810_TRANS_S6 
E_U8_ABM11         U8_N21040 0 VALUE { IF(V(COMP) >0.225,1,0)    }
X_U8_U608         U8_N18117 U8_N18107 U8_N18265 AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U8_S5    U8_N21242 0 U8_N21156 0 HICCUP1_U8_S5 
X_U8_U609         U8_N18195 U8_N18203 U8_N18169 COMP_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5
X_U8_U614         U8_N21084 U8_N21074 U8_N21070 AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
C_U8_C6         0 U8_N18195  20n IC=0 
C_U8_C5         0 U8_N18117  1n  
R_U8_U2_R1         U8_N18471 U8_U2_N04716  144.3001443  
X_U8_U2_U607         U8_U2_N04696 U8_U2_N04792 INV_DELAY_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5 DELAY=50n
C_U8_U2_C1         0 U8_U2_N04716  1n  
X_U8_U2_U608         U8_U2_N04792 U8_U2_N04778 INV_DELAY_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5 DELAY=50n
X_U8_U2_U620         U8_N18471 U8_U2_N04716 U8_U2_N04696 OR2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U8_U2_U618         U8_U2_N04700 U8_U2_N04778 U8_N18517 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
D_U8_U2_D1         U8_N18471 U8_U2_N04716 D_D1 
X_U8_U2_U621         U8_U2_N04696 U8_U2_N04700 INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
C_U8_C9         0 U8_N21156  20n IC=0 
R_U8_U3_R1         U8_N21286 U8_U3_N04716  144.3001443  
X_U8_U3_U607         U8_U3_N04696 U8_U3_N04792 INV_DELAY_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5 DELAY=50n
C_U8_U3_C1         0 U8_U3_N04716  1n  
X_U8_U3_U608         U8_U3_N04792 U8_U3_N04778 INV_DELAY_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5 DELAY=50n
X_U8_U3_U620         U8_N21286 U8_U3_N04716 U8_U3_N04696 OR2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U8_U3_U618         U8_U3_N04700 U8_U3_N04778 U8_N21324 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
D_U8_U3_D1         U8_N21286 U8_U3_N04716 D_D1 
X_U8_U3_U621         U8_U3_N04696 U8_U3_N04700 INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
G_U8_G5         0 U8_N21156 U8_N21006 0 1
X_U8_U619         U8_N21040 CLK_O HICCUP U8_N21006 AND3_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
E_U8_ABM8         U8_N18073 0 VALUE { IF(V(COMP) > 0.665,1,0)    }
X_U8_U31         U8_N21130 U8_N21070 U8_H_END U8_H_END_N srlatchrhp_basic_gen
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
G_U8_G3         0 U8_N18195 U8_N18031 0 1
R_U8_R9         U8_N21084 U8_H_END  1  
X_U8_U30         U8_N18169 U8_H_END HICCUP U8_HICCUP_N srlatchrhp_basic_gen
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_U8_ABM10         U8_N21286 0 VALUE { {IF(V(COMP) > 1,1,0)}    }
X_U8_U616         U8_N18073 CLK_O U8_HICCUP_N U8_N18031 AND3_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
R_U8_R8         U8_N18117 HICCUP  1  
X_U8_U607         U8_N18117 U8_N18107 INV_DELAY_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5 DELAY=10u
X_U8_U617         U8_N21324 U8_N21070 U8_N21242 OR2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
E_U8_ABM9         U8_N18471 0 VALUE { {IF(V(COMP) > 1,1,0)}    }
X_U8_U613         U8_N21084 U8_N21074 INV_DELAY_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5 DELAY=10u
V_U8_V2         U8_N18203 0 1024
X_U8_U618         U8_N21156 U8_N21164 U8_N21130 COMP_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5
V_U8_V3         U8_N21164 0 3072
C_U8_C10         0 U8_N21084  1n  
X_U8_U615         U8_N18517 U8_N18265 U8_N18281 OR2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U8_S3    U8_N18281 0 U8_N18195 0 HICCUP1_U8_S3 
E_ABM19         COMP_SET1 0 VALUE { IF(V(COMP/FSET)< 11u,1,0)    }
E_ABM17         FREQ 0 VALUE { IF(V(COMP/FSET) > 4.4u &
+  V(COMP/FSET)<11u,18/V(COMP/FSET),IF(V(COMP/FSET) >17u &
+  V(COMP/FSET)<41u,72/V(COMP/FSET),IF(V(COMP/FSET) > 44u &
+  V(COMP/FSET)<101u,180/V(COMP/FSET),if(V(COMP/FSET)<11n,2.25e6,if(V(COMP/FSET)>0.5,2.25e6,0)))))
+     }
X_U611         VIN_OK EN_OK N17108104 AND2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_S11    COMP_SET2 0 N17074247 N17074287 TPSM82810_TRANS_S11 
G_U2_ABMII1         U2_N16759695 SS/TR VALUE { IF(V(SDWN) > 0.5,0,2.5u)    }
X_U2_S1    SDWN 0 SS/TR 0 SOFT_START_U2_S1 
E_U2_ABM1         VREF 0 VALUE { MIN( V(SS/TR) , 0.6)    }
D_U2_D62         SS/TR U2_N16759695 D_D1 
C_U2_C1         SS/TR 0  0.625n IC={{STEADY_STATE}*0.6} 
V_U2_V1         U2_N16759695 0 1.01
C_U1_C1492         COMP 0  1.443p  TC=0,0 
D_U1_D10         COMP U1_N16769428 D_D111 
X_U1_U2         U1_N16792977 CLK_INT_DISABLE U1_N16795812 U1_N16797973
+  OR3_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
R_U1_R52         U1_N16769356 COMP  20k  
E_U1_ABM9         U1_N16784509 0 VALUE { {IF(V(U1_N16797973) < 0.5,0.1875,0)}  
+   }
X_U1_H1    U1_N16781818 U1_N16769356 U1_N16781815 0 ERROR_AMPLIFIER_U1_H1 
D_U1_D11         U1_N16784509 U1_N16781818 D_D 
E_U1_ABM3         PFM 0 VALUE { IF(V(COMP)<0.187,1,0)    }
E_U1_ABM1         I_FOLDABACK 0 VALUE { MAX ( V(U1_N16781815) , 0 )    }
R_U1_R51         SDWN U1_N16792977  50k TC=0,0 
E_U1_ABM2         U1_I_FOLDABACK_BKP 0 VALUE { if( V(SYNC/MODE)< 0.5,   
+ V(I_FOLDABACK) ,0)   }
C_U1_C1491         U1_N16792977 0  1.443n  TC=0,0 
D_U1_D1         SDWN U1_N16792977 D_D111 
R_U1_R2         U1_N16769356 0  950e6  
E_U1_ABM10         U1_N16769428 0 VALUE { {IF(V(HICCUP) > 0.5,0.225,0.665)}   
+  }
G_U1_ABM2I1         0 U1_N16769356 VALUE { LIMIT((V(VREF) - V(FB))*12u,-2u,2u) 
+    }
C_U1_C1         U1_N16769356 0  5f  
X_U1_U3         CLK_INT_DISABLE U1_N16796623 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U1_U4         U1_N16796623 SYNC/MODE U1_N16795812 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
G_ABMII4         0 COMP/FSET VALUE { {IF(V(N17108104) > 0.5,1n,0)}    }
E_ABM24         COMP_SET2 0 VALUE { {IF(V(COMP/FSET) >17u &
+  V(COMP/FSET)<41u,1,0)}    }
V_U7_V4         U7_N16769451 0 2.6
X_U7_U623         U7_N16769533 EN_OK BUF_DELAY_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5 DELAY=200e-6
X_U7_U616         VIN_OK VINOK_B INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
V_U7_V5         U7_N16769445 0 100m
V_U7_V6         U7_N16769489 0 100m
V_U7_V7         U7_N16769495 0 1.1
X_U7_U613         VIN_0 U7_N16769451 U7_N16769445 VIN_OK COMPHYS_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U7_U622         VINOK_B U7_ENOK_B U7_ENOK_B U7_ENOK_B SDWN OR4_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U7_U617         EN_OK U7_ENOK_B INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U7_U614         EN U7_N16769495 U7_N16769489 U7_N16769533 COMPHYS_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_S12    COMP_SET3 0 N17074287 N17074318 TPSM82810_TRANS_S12 
E_ABM25         COMP_SET3 0 VALUE { {IF(V(COMP/FSET) > 44u ,1,0)}    }
X_U4_H1    VIN_0 U4_N167248 U4_N167576 0 Driver_mod_U4_H1 
X_U4_U616         HICCUP U4_N16801128 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
C_U4_C15         0 U4_N16796938  1n  TC=0,0 
X_U4_U662         U4_N16818410 CLK_SYNC_EN U4_N16815462 OR2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
R_U4_R246         ISWH U4_N167576  1  
X_U4_U652         U4_N16801128 U4_N16801005 U4_N16765693 U4_LDRV_INT
+  AND3_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U4_S1    U4_HDRV_INT 0 U4_N167248 SW_INT Driver_mod_U4_S1 
X_U4_U610         U4_N16786880 PH1 U4_HDRV_INT AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
C_U4_C11         0 ISWH  1n  
C_U4_C12         0 U4_L_ISWH  1n  
X_U4_U835         U4_N16772627 U4_L_ISWH U4_N16803411 COMP_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5
C_U4_C9         0 U4_N16788360  1n  TC=0,0 
X_U4_U5         SYNC_SDWNB U4_N16815462 U4_N16806485 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U4_U613         U4_N16803411 U4_L_BLNCK U4_ZCD AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
R_U4_R15         U4_N16786876 U4_N16786880  4.158 TC=0,0 
R_U4_R12         PH1 U4_N16788360  20 TC=0,0 
D_U4_D65         U4_N167392 SW_INT D_D111 
X_U4_U617         U4_ZCD U4_N16801005 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
C_U4_C14         0 U4_N16786880  1n  TC=0,0 
D_U4_D69         U4_N16788360 PH1 D_D1 
D_U4_D73         U4_N16786880 U4_N16786876 D_D1 
X_U4_U3         CLK_SYNC_EN U4_N168120280 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U4_U612         U4_N16788360 PH1 H_BLNCK AND2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U4_U4         U4_N168120280 SYNC/MODE U4_N16818410 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U4_S2    U4_LDRV_INT 0 SW_INT U4_N167392 Driver_mod_U4_S2 
C_U4_C10         0 U4_N16803658  1n  TC=0,0 
R_U4_R13         PH2 U4_N16803658  20 TC=0,0 
E_U4_ABM9         U4_N16772627 0 VALUE { {IF(V(U4_N16806485) > 0.5,-1.8,0)}   
+  }
X_U4_H2    U4_N167392 GND_0 U4_N167386 0 Driver_mod_U4_H2 
R_U4_R247         U4_L_ISWH U4_N167386  1  
X_U4_U611         U4_N16796938 PH2 U4_N16765693 AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
D_U4_D70         U4_N16803658 PH2 D_D1 
X_U4_U619         U4_HDRV_INT U4_N16796936 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U4_U614         U4_N16803658 PH2 U4_L_BLNCK AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
D_U4_D64         SW_INT U4_N167248 D_D111 
R_U4_R16         U4_N16796936 U4_N16796938  4.158 TC=0,0 
X_U4_U618         U4_LDRV_INT U4_N16786876 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
D_U4_D74         U4_N16796938 U4_N16796936 D_D1 
.ENDS TPSM82810_TRANS
*$
.subckt GmIphase_U6_S1 1 2 3 4  
S_U6_S1         3 4 1 2 _U6_S1
RS_U6_S1         1 2 1G
.MODEL         _U6_S1 VSWITCH Roff=1e9 Ron=1m Voff=0.2 Von=0.5
.ends GmIphase_U6_S1
*$
.subckt GmIphase_U6_S3 1 2 3 4  
S_U6_S3         3 4 1 2 _U6_S3
RS_U6_S3         1 2 1G
.MODEL         _U6_S3 VSWITCH Roff=1e9 Ron=1m Voff=0.2 Von=0.5
.ends GmIphase_U6_S3
*$
.subckt GmIphase_U6_S6 1 2 3 4  
S_U6_S6         3 4 1 2 _U6_S6
RS_U6_S6         1 2 1G
.MODEL         _U6_S6 VSWITCH Roff=1e6 Ron=1m Voff=0.25 Von=0.5
.ends GmIphase_U6_S6
*$
.subckt GmIphase_U6_S7 1 2 3 4  
S_U6_S7         3 4 1 2 _U6_S7
RS_U6_S7         1 2 1G
.MODEL         _U6_S7 VSWITCH Roff=1 Ron=1e6 Voff=0.2 Von=0.8
.ends GmIphase_U6_S7
*$
.subckt GmIphase_U6_S2 1 2 3 4  
S_U6_S2         3 4 1 2 _U6_S2
RS_U6_S2         1 2 1G
.MODEL         _U6_S2 VSWITCH Roff=1e9 Ron=1m Voff=0.2 Von=0.5
.ends GmIphase_U6_S2
*$
.subckt GmIphase_U6_F1 1 2 3 4  
F_U6_F1         3 4 VF_U6_F1 20
VF_U6_F1         1 2 0V
.ends GmIphase_U6_F1
*$
.subckt GmIphase_U6_S5 1 2 3 4  
S_U6_S5         3 4 1 2 _U6_S5
RS_U6_S5         1 2 1G
.MODEL         _U6_S5 VSWITCH Roff=1e6 Ron=1m Voff=0.25 Von=0.5
.ends GmIphase_U6_S5
*$
.subckt Oscillator_U9_S27 1 2 3 4  
S_U9_S27         3 4 1 2 _U9_S27
RS_U9_S27         1 2 1G
.MODEL         _U9_S27 VSWITCH Roff=1e9 Ron=1m Voff=0.2 Von=0.8
.ends Oscillator_U9_S27
*$
.subckt Oscillator_U9_S26 1 2 3 4  
S_U9_S26         3 4 1 2 _U9_S26
RS_U9_S26         1 2 1G
.MODEL         _U9_S26 VSWITCH Roff=1e9 Ron=1m Voff=0.2 Von=0.8
.ends Oscillator_U9_S26
*$
.subckt TPSM82810_TRANS_S6 1 2 3 4  
S_S6         3 4 1 2 _S6
RS_S6         1 2 1G
.MODEL         _S6 VSWITCH Roff=1m Ron=882e3 Voff=0.2 Von=0.5
.ends TPSM82810_TRANS_S6
*$
.subckt HICCUP1_U8_S5 1 2 3 4  
S_U8_S5         3 4 1 2 _U8_S5
RS_U8_S5         1 2 1G
.MODEL         _U8_S5 VSWITCH Roff=1e9 Ron=1m Voff=0.25 Von=0.75
.ends HICCUP1_U8_S5
*$
.subckt HICCUP1_U8_S3 1 2 3 4  
S_U8_S3         3 4 1 2 _U8_S3
RS_U8_S3         1 2 1G
.MODEL         _U8_S3 VSWITCH Roff=1e9 Ron=1m Voff=0.25 Von=0.75
.ends HICCUP1_U8_S3
*$
.subckt TPSM82810_TRANS_S11 1 2 3 4  
S_S11         3 4 1 2 _S11
RS_S11         1 2 1G
.MODEL         _S11 VSWITCH Roff=1m Ron=1275e3 Voff=0.2 Von=0.5
.ends TPSM82810_TRANS_S11
*$
.subckt SOFT_START_U2_S1 1 2 3 4  
S_U2_S1         3 4 1 2 _U2_S1
RS_U2_S1         1 2 1G
.MODEL         _U2_S1 VSWITCH Roff=1e9 Ron=3k Voff=0.2 Von=0.5
.ends SOFT_START_U2_S1
*$
.subckt ERROR_AMPLIFIER_U1_H1 1 2 3 4  
H_U1_H1         3 4 VH_U1_H1 1
VH_U1_H1         1 2 0V
.ends ERROR_AMPLIFIER_U1_H1
*$
.subckt TPSM82810_TRANS_S12 1 2 3 4  
S_S12         3 4 1 2 _S12
RS_S12         1 2 1G
.MODEL         _S12 VSWITCH Roff=1m Ron=1990e3 Voff=0.2 Von=0.5
.ends TPSM82810_TRANS_S12
*$
.subckt Driver_mod_U4_H1 1 2 3 4  
H_U4_H1         3 4 VH_U4_H1 1
VH_U4_H1         1 2 0V
.ends Driver_mod_U4_H1
*$
.subckt Driver_mod_U4_S1 1 2 3 4  
S_U4_S1         3 4 1 2 _U4_S1
RS_U4_S1         1 2 1G
.MODEL         _U4_S1 VSWITCH Roff=1e9 Ron=37m Voff=0.2 Von=0.5
.ends Driver_mod_U4_S1
*$
.subckt Driver_mod_U4_S2 1 2 3 4  
S_U4_S2         3 4 1 2 _U4_S2
RS_U4_S2         1 2 1G
.MODEL         _U4_S2 VSWITCH Roff=1e9 Ron=15m Voff=0.2 Von=0.5
.ends Driver_mod_U4_S2
*$
.subckt Driver_mod_U4_H2 1 2 3 4  
H_U4_H2         3 4 VH_U4_H2 -1
VH_U4_H2         1 2 0V
.ends Driver_mod_U4_H2
*$
.subckt srlatchrhp_basic_gen s r q qb params: vdd=1 vss=0 vthresh=0.5 
gq 0 qint value = {if(v(r) > {vthresh},-5,if(v(s)>{vthresh},5, 0))}
cqint qint 0 1n
rqint qint 0 1000meg
d_d10 qint my5 d_d1
v1 my5 0 {vdd}
d_d11 myvss qint d_d1
v2 myvss 0 {vss} 
eq qqq 0 qint 0 1
x3 qqq qqqd1 buf_basic_gen params: vdd={vdd} vss={vss} vthresh={vthresh}
rqq qqqd1 q 1
eqb qbr 0 value = {if( v(q) > {vthresh}, {vss},{vdd})}
rqb qbr qb 1 
cdummy1 q 0 1n 
cdummy2 qb 0 1n
.ic v(qint) {vss}
.model d_d1 d
+ is=1e-015
+ tt=1e-011
+ rs=0.005
+ n=0.1
.ends srlatchrhp_basic_gen
*$
.subckt one_shot in out
+ params:  t=100
s_s1         meas 0 reset2 0 s1
e_abm1         ch 0 value { if( v(in)>0.5 | v(out)>0.5,1,0)    }
r_r2         reset2 reset  0.1  
e_abm3         out 0 value { if( v(meas)<0.5 & v(ch)>0.5,1,0)    }
r_r1         meas ch  {t} 
c_c2         0 reset2  1.4427n  
c_c1         0 meas  1.4427n  
e_abm2         reset 0 value { if(v(ch)<0.5,1,0)    }
.model s1 vswitch
+ roff=1e+009
+ ron=1
+ voff=0.25
+ von=0.75
.ends one_shot
*$
.model d_dton d
+ is=1e-015
+ tt=1e-011
+ rs=0.005
+ n=0.01
*$
.model D_D1 d
+ is=1e-015
+ tt=1e-011
+ rs=0.05
+ n=0.1
*$
.model D_D d
+ is=1e-015
+ n=0.01
+ tt=1e-011
+ rs=0.05
*$
.model D_D111 d
+ is=1e-015
+ tt=1e-011
+ rs=0.005
+ n=0.001
*$
.SUBCKT COMPHYS_BASIC_GEN INP INM HYS OUT PARAMS: VDD=1 VSS=0 VTHRESH=0.5	
EIN INP1 INM1 INP INM 1 
EHYS INP1 INP2 VALUE { IF( V(1) > {VTHRESH},-V(HYS),0) }
EOUT OUT 0 VALUE { IF( V(INP2)>V(INM1), {VDD} ,{VSS}) }
R1 OUT 1 1
C1 1 0 5n
RINP1 INP1 0 1K
.ENDS COMPHYS_BASIC_GEN
*$
.SUBCKT AND2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND2_BASIC_GEN
*$
.SUBCKT OR3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR3_BASIC_GEN
*$
.SUBCKT INV_DELAY_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY = 10n 
E_ABMGATE1    YINT1 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT1 YINT2 1
CINT YINT2 0 {DELAY*1.3}
E_ABMGATE2    YINT3 0 VALUE {{IF(V(YINT2) > {VTHRESH} , 
+ {VSS},{VDD})}}
RINT2 YINT3 Y 1
CINT2 Y 0 1n
.ENDS INV_DELAY_BASIC_GEN
*$
.SUBCKT COMP_BASIC_GEN INP INM Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5	
E_ABM Yint 0 VALUE {IF (V(INP) > 
+ V(INM), {VDD},{VSS})}
R1 Yint Y 1
C1 Y 0 1n
.ENDS COMP_BASIC_GEN
*$
.SUBCKT INV_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS INV_BASIC_GEN
*$
.SUBCKT OR2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR2_BASIC_GEN
*$
.SUBCKT MUX2_BASIC_GEN A B S Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE  YINT 0 VALUE {{IF(V(S) > {VTHRESH},  
+ V(B),V(A))}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS MUX2_BASIC_GEN
*$
.SUBCKT BUF_DELAY_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY = 10n 
E_ABMGATE1    YINT1 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT1 YINT2 1
CINT YINT2 0 {DELAY*1.443}
E_ABMGATE2    YINT3 0 VALUE {{IF(V(YINT2) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT2 YINT3 Y 1
CINT2 Y 0 1n
.ENDS BUF_DELAY_BASIC_GEN
*$
.SUBCKT AND3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND3_BASIC_GEN
*$
.SUBCKT OR4_BASIC_GEN A B C D Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH} |
+ V(D) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR4_BASIC_GEN
*$
.SUBCKT CESR IN OUT
+ PARAMs:  C=100u ESR=0.01 X=2 IC=0
C	IN 1  {C*X} IC={IC}
RESR	1 OUT {ESR/X}
.ENDS CESR
*$
.SUBCKT BUF_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS BUF_BASIC_GEN
*$
.subckt LOAD_MODULE VOUT GND PARAMS: VOUT=1 ILOAD=1 ILOAD2=2 TD=1m TR=10u TF=10u PW=100u
X_S1    VLOAD GND VOUT GND LOAD_MODULE_S1 PARAMS: VOUT={VOUT} ILOAD={ILOAD} ILOAD2={ILOAD2}
V_V1         VLOAD GND  
+PULSE 0 1 {TD} {TR} {TF} {PW} 2
.ends LOAD_MODULE
*$
.subckt LOAD_MODULE_S1 1 2 3 4 PARAMS: VOUT=1 ILOAD=1 ILOAD2=2  
S_S1         3 4 1 2 _S1
RS_S1         1 2 1G
.MODEL         _S1 VSWITCH Roff={{VOUT}/{ILOAD}} Ron={{VOUT}/{ILOAD2}}
+  Voff=0.2 Von=0.8
.ends LOAD_MODULE_S1
*$
.SUBCKT LDCR IN OUT
+ PARAMs:  L=1u DCR=0.01 IC=0
L	IN 1  {L} IC={IC}
RDCR	1 OUT {DCR}
.ENDS LDCR
*$