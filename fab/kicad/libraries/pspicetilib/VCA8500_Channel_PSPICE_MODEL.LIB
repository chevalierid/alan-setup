* VCA8500_Channel
*****************************************************************************
* (C) Copyright 2010 Texas Instruments Incorporated. All rights reserved.
*****************************************************************************
** This model is designed as an aid for customers of Texas Instruments.
** TI and its licensors and suppliers make no warrenties, either expressed
** or implied, with respect to this model, including the warranties of 
** merchantability or fitness for a particular purpose.  The model is
** provided solely on an "as is" basis.  The entire risk as to its quality
** and performance is with the customer
*****************************************************************************
*
** Released by: Analog eLab Design Center, Texas Instruments Inc.
* Part: VCA8500_Channel
* Date: 01/25/2010
* Model Type: PSPICE
* Simulator: PSPICE 
* Simulator Version: 16.2.0.p001
* EVM Order Number: N/A 
* EVM Users Guide: N/A
* Datasheet: March 2008
*
* Model Version: Final 1.00
*
*****************************************************************************
*
* Updates:
*
* Final 1.00
* Release to Web.
*
*****************************************************************************



.subckt VCA8500_Channel AVDD1 AVDD2 BW CL CWIOUT DVDD GND IN OUT OUTINV PG0 PG1 VBL VCNTL
XI0 AVDD1 AVDD2 BW CL CWIOUT DVDD GND IN OUT OUTINV PG0 PG1 VBL VCNTL VCA8500_CHANNEL_HT3
.ends







.subckt VCA8500_VCA_DIVIDER_HT3 DEN NUM VOUT
R0 VOUT 0 1e9
G1 VOUT 0 POLY(2) DEN 0 VOUT 0  0  0  0  0  1
G0 0 VOUT NUM 0 1
.ends VCA8500_VCA_DIVIDER_HT3


.subckt VCA8500_VCA_HT3 VCNTL VADD VIN VOUT VSUBSTRACT
XI2 NET11 NET17 NET22 VCA8500_VCA_DIVIDER_HT3
E0 VOUT VADD POLY(2) VIN VSUBSTRACT NET22 0  0  0  0  0  1
EAHDLI0 NET11 0 VALUE { V(NET18,0)**V(NET20,0) }
EAHDLI21 NET17 0 VALUE { V(NET18,0)**V(VCNTL,0) }
V2 NET20 0 DC 1.1
V4 NET18 0 DC 150
.ends VCA8500_VCA_HT3


.subckt VCA8500_PGAAMP_HT3 VCC VEE VINM VINP VOUT
VC VCC NET33 DC 1.725
VE NET16 VEE DC 1.725
VRO1 NET46 VOUT DC 0
GB 0 VC NET58 0 20e-3
DPASSTOP VCC NET43 DDEFAULT
DPASSBOTTOM NET41 VEE DDEFAULT
DBLOCKBOTTOM NET41 0 DBLOCK
DBLOCKTOP 0 NET43 DBLOCK
D3 VOUT NET33 DDEFAULT
D4 NET16 VOUT DDEFAULT
D1 VC NET37 DCURLIM
D2 NET37 VC DCURLIM
FGBOTTOM NET41 0 VRO1  1
FGTOP NET43 0 VRO1  1
RO2 VC 0 50
RO1 VC NET46 50
R0 VINP VINM 1e9
R1 NET58 0 1e9
ERCGC NET37 0 VOUT 0 1
E0 NET58 0 VINP VINM 100e3
.ends VCA8500_PGAAMP_HT3


.subckt VCA8500_LNAAMP_HT3 VCC VEE VINM VINP VOUT
VC VCC NET33 DC 1.865
VE NET16 VEE DC 1.865
VRO1 NET46 VOUT DC 0
GB 0 VC NET58 0 20e-3
DPASSTOP VCC NET43 DDEFAULT
DPASSBOTTOM NET41 VEE DDEFAULT
DBLOCKBOTTOM NET41 0 DBLOCK
DBLOCKTOP 0 NET43 DBLOCK
D3 VOUT NET33 DDEFAULT
D4 NET16 VOUT DDEFAULT
D1 VC NET37 DCURLIM
D2 NET37 VC DCURLIM
FGBOTTOM NET41 0 VRO1  1
FGTOP NET43 0 VRO1  1
RO2 VC 0 50
RO1 VC NET46 50
R0 VINP VINM 1e9
R1 NET58 0 1e9
ERCGC NET37 0 VOUT 0 1
E0 NET58 0 VINP VINM 100e3
.ends VCA8500_LNAAMP_HT3




.subckt BALUN V VCM VN VP
R9 V NET023 1e-6
R4 NET035 VCM 1e-6
R5 NET023 NET016 1e-6
R3 NET027 VN 1e-6
R6 0 NET021 1e-6
R7 NET023 NET019 1e-6
R8 0 NET017 1e-6
R1 NET022 VP 1e-6
XTRANSFORMEREK0 NET016 NET021 NET022 NET035 TRANSFORMEREK0
XTRANSFORMEREK1 NET019 NET017 NET035 NET027 TRANSFORMEREK1
.ends BALUN


.subckt VCA8500_LPFAMP_HT3 VCC VEE VINM VINP VOUT
VC VCC NET33 DC 1.05
VE NET16 VEE DC 1.05
VRO1 NET46 VOUT DC 0
GB 0 VC NET58 0 20e-3
DPASSTOP VCC NET43 DDEFAULT
DPASSBOTTOM NET41 VEE DDEFAULT
DBLOCKBOTTOM NET41 0 DBLOCK
DBLOCKTOP 0 NET43 DBLOCK
D3 VOUT NET33 DDEFAULT
D4 NET16 VOUT DDEFAULT
D1 VC NET37 DCURLIM
D2 NET37 VC DCURLIM
FGBOTTOM NET41 0 VRO1  1
FGTOP NET43 0 VRO1  1
RO2 VC 0 50
RO1 VC NET46 50
R0 VINP VINM 1e9
R1 NET58 0 1e9
ERCGC NET37 0 VOUT 0 1
E0 NET58 0 VINP VINM 100e3
.ends VCA8500_LPFAMP_HT3


.subckt VCA8500_CHANNEL_HT3 AVDD1 AVDD2 BW CL CWIOUT DVDD GND IN OUT OUTINV PG0 PG1 VBL VCNTL
XAHDLI193 PGA30DB PGA30DB_THD DVDD GND ONEVOLT GND DIGLEVSHIFT
XAHDLI190 PGA25DB PGA25DB_THD DVDD GND ONEVOLT GND DIGLEVSHIFT
XAHDLI192 PGA27DB PGA27DB_THD DVDD GND ONEVOLT GND DIGLEVSHIFT
XI184 VCNTL_INT VBIAS2 NET476 NET318 VB VCA8500_VCA_HT3
XI183 VCNTL_INT VBIAS2 NET498 NET322 VB VCA8500_VCA_HT3
XAHDLI180 PG1 PG0INV PGA27DB DVDD GND HPA_AND2
XAHDLI178 PG1INV PG0INV PGA20DB DVDD GND HPA_AND2
XAHDLI181 PG1 PG0 PGA30DB DVDD GND HPA_AND2
XAHDLI179 PG1INV PG0 PGA25DB DVDD GND HPA_AND2
XAHDLI170 PG1 PG1INV DVDD GND HPA_INV
XAHDLI176 PGA27DB PGA27DBINV DVDD GND HPA_INV
XAHDLI173 BW BWINV DVDD GND HPA_INV
XAHDLI172 CL CLINV DVDD GND HPA_INV
XAHDLI174 PGA20DB PGA20DBINV DVDD GND HPA_INV
XAHDLI171 PG0 PG0INV DVDD GND HPA_INV
XAHDLI175 PGA25DB PGA25DBINV DVDD GND HPA_INV
XAHDLI177 PGA30DB PGA30DBINV DVDD GND HPA_INV
GAHDLI169 0 CWIOUT VALUE { LIMIT(V(NET488,0)*16.6e-3, -1.475e-3, 1.475e-3) }
M1 NET0414 NET0471 NET550 AVDD2 PMOS1
EAHDLI158 NET0211 0 VALUE { LIMIT(V(NET0209,0)*1, 4.5, 10) }
EAHDLI164 NET346 0 VALUE { LIMIT(V(NET504,0)*1, 1.225, 2.075) }
EAHDLI156 NET350 0 VALUE { LIMIT(V(VCNTL,0)*1, 66e-3, 1.1) }
EAHDLI162 NET358 0 VALUE { LIMIT(V(NET506,0)*1, 950e-3, 2.35) }
EAHDLI161 NET342 0 VALUE { LIMIT(V(NET504,0)*1, 950e-3, 2.35) }
EAHDLI166 NET362 0 VALUE { LIMIT(V(NET506,0)*1, 1.225, 2.075) }
XI149 AVDD1 GND NET445 NET500 NET448 VCA8500_PGAAMP_HT3
XI150 AVDD1 GND NET443 NET478 NET480 VCA8500_PGAAMP_HT3
XI148 AVDD1 GND NET482 VBL NET0380 VCA8500_LNAAMP_HT3
XI147 AVDD1 GND NET483 IN NET0385 VCA8500_LNAAMP_HT3
G0 0 IN 0 NET492 1e-3
SXI48 NET471 NET252 BWINV 0 VSWITCH1
SXI60 NET249 NET292 BWINV 0 VSWITCH1
SXI51 NET269 NET468 BW 0 VSWITCH1
SXI57 NET249 NET296 BW 0 VSWITCH1
SXI70 NET313 NET362 CLINV 0 VSWITCH1
SXI41 NET309 NET342 CL 0 VSWITCH1
SXI50 NET269 NET264 BW 0 VSWITCH1
SXI37 NET309 NET346 CLINV 0 VSWITCH1
SXI16 NET438 NET224 PGA30DB 0 VSWITCH1
SXI47 NET269 NET280 BWINV 0 VSWITCH1
SXI69 NET313 NET358 CL 0 VSWITCH1
SXI59 NET457 NET236 BWINV 0 VSWITCH1
SXI61 NET249 NET464 BWINV 0 VSWITCH1
SXI45 NET245 NET338 BWINV 0 VSWITCH1
SXI18 NET450 NET228 PGA25DB 0 VSWITCH1
SXI56 NET249 NET462 BW 0 VSWITCH1
SXI55 NET241 NET334 BW 0 VSWITCH1
SXI19 NET442 NET220 PGA20DB 0 VSWITCH1
SXI49 NET467 NET252 BW 0 VSWITCH1
SXI62 NET261 NET334 BWINV 0 VSWITCH1
SXI58 NET459 NET236 BW 0 VSWITCH1
SXI52 NET273 NET338 BW 0 VSWITCH1
SXI17 NET452 NET232 PGA27DB 0 VSWITCH1
SXI46 NET269 NET460 BWINV 0 VSWITCH1
E6 NET0490 0 NET416 0 1
E7 VCNTL_INT 0 NET0622 0 1
E4 NET0457 NET0461 PGA27DB_THD 0 126e-3
E5 NET0551 NET0457 PGA30DB_THD 0 169e-3
E17 NET326 0 NET0385 NET0380 1
E2 NET0465 VCNTL VCNTL 0 250e-3
E15 NET330 0 NET556 NET555 1
E14 NET334 0 NET559 0 1
E13 NET338 0 NET560 0 1
E12 NET0522 0 NET550 VBIAS2 2
E3 NET0461 NET0465 PGA25DB_THD 0 88e-3
E18 NET366 0 NET508 0 1
E8 NET0414 VBIAS2 NET309 NET313 500e-3
E19 NET374 0 NET0522 0 1
C25 NET490 0 100e-15
C21 NET563 0 1e-12
CR13 CWIOUT 0 10e-12
C16 IN VB 16e-12
C7 PGA27DBINV 0 1e-15
C4 NET550 0 1e-15
C5 PGA20DBINV 0 1e-15
C23 OUT 0 100e-15
C26 NET568 0 1e-12
C12 PGA30DBINV 0 1e-15
CR26 NET0622 0 10.5e-12
C1 VBL 0 7e-12
C10 NET249 NET568 15.01e-12
C8 NET252 VBIAS2 7.503e-12
C9 NET269 NET563 15.01e-12
C11 NET236 VBIAS2 7.503e-12
C24 OUTINV 0 100e-15
C13 CLINV 0 1e-15
C6 PGA25DBINV 0 1e-15
C14 BWINV 0 1e-15
C19 NET326 NET416 1.05e-9
C22 NET502 0 100e-15
C15 NET508 0 580e-15
D0 IN VB DDEFAULT
D2 GND DVDD DDEFAULT
D3 GND AVDD1 DDEFAULT
D4 GND AVDD2 DDEFAULT
D1 VB IN DDEFAULT
V8 ONEVOLT 0 DC 1
V7 NET0471 0 DC 200e-3
V1 NET0510 NET0385 DC 750e-3
V5 NET0512 NET0380 DC 750e-3
V4 VBIAS2 0 DC 1.65
V0 VB 0 DC 2.4
V2 NET0209 NET0551 DC 3.8
R36 0 NET416 1e9
R0 NET483 NET482 33
R27 NET330 NET488 5e3
GR11 NET0490 NET508 VALUE { V(NET0490,NET508)/5e3 }
GR3 VB IN VALUE { V(VB,IN)/10 }
R34 NET568 NET490 1
R29 NET563 NET502 1
R9 0 NET492 500
R14 VCNTL 0 25e3
R25 NET443 NET438 29.3899
R18 NET350 NET0622 10e3
R24 NET445 NET224 29.3899
R5 NET322 NET500 50
R1 NET556 NET498 400
R8 NET480 NET506 60e3
R17 NET443 NET442 71
GR31 NET416 0 VALUE { V(NET416,0)/1e3 }
R7 NET448 NET504 60e3
R19 NET445 NET220 71
R12 CWIOUT 0 50e3
R28 0 NET508 1e9
R23 NET445 NET232 34.5
R16 NET445 NET448 900
R21 NET443 NET450 43.5
R22 NET443 NET452 34.5
R20 NET445 NET228 43.5
R44 NET457 NET292 965
R35 NET0578 IN 10
R43 NET459 NET296 1.4775e3
R38 NET245 NET460 965
R42 NET241 NET462 1.4775e3
R45 NET261 NET464 965
R40 NET467 NET264 1.4775e3
R41 NET273 NET468 1.4775e3
R39 NET471 NET280 965
R50 NET483 NET0510 132
R49 NET482 NET0512 165
R2 NET555 NET476 400
R6 NET318 NET478 50
R15 NET443 NET480 900
GR4 VBL VB VALUE { V(VBL,VB)/10 }
I6 CWIOUT 0 DC 918e-6
I3 DVDD GND DC 187.5e-6
I5 AVDD2 GND DC 3.125e-3
I4 AVDD1 GND DC 10e-3
M0 NET550 NET0211 NET0414 GND NMOS1
XI121 NET366 VB NET555 NET556 BALUN
XI95 NET374 VBIAS2 NET559 NET560 BALUN
XI128 AVDD1 GND NET563 NET252 NET563 VCA8500_LPFAMP_HT3
XI129 AVDD1 GND NET568 NET236 NET568 VCA8500_LPFAMP_HT3
L2 NET490 OUTINV 2e-9
L1 NET502 OUT 2e-9
L0 NET0578 VB 103e-6
.ends VCA8500_CHANNEL_HT3




.SUBCKT HPA_AND2 1 2 3 VDD VSS
E1 4 0 VALUE = { IF( ((V(1)> (V(VDD)+V(VSS))/2 ) & (V(2)> (V(VDD)+V(VSS))/2 )), V(VDD), V(VSS) ) }
R1 4 3 1
.ENDS


.SUBCKT HPA_INV 1 2 VDD VSS
E1 3 0 VALUE = { IF( V(1)> (V(VDD)+V(VSS))/2, V(VSS), V(VDD) ) }
R1 3 2 1
.ENDS


.SUBCKT DIGLEVSHIFT 1 2 VDD_OLD VSS_OLD VDD_NEW VSS_NEW
E1 3 0 VALUE = { IF( V(1) < (V(VDD_OLD)+V(VSS_OLD))/2, V(VSS_NEW), V(VDD_NEW) ) }
R1 3 2 1
.ENDS



.SUBCKT TRANSFORMEREK0 1 2 3 4
K1 L1 L2 0.5
L1 1 2 10uH
L2 3 4 10uH
.ends



.SUBCKT TRANSFORMEREK1 1 2 3 4
K1 L1 L2 0.5
L1 1 2 10uH
L2 3 4 10uH
.ends


.MODEL VSWITCH1 VSWITCH Roff=1e12 Ron=0.001 Voff=0 Von=3.3


.MODEL DDEFAULT D IS=8E-16
.MODEL NMOS1 NMOS LEVEL=2 KP=15E-3 VTO=0.65 GAMMA=2.3
.MODEL PMOS1 PMOS LEVEL=2 KP=15E-3 VTO=0.65 GAMMA=2.3
.MODEL DCURLIM D IS=3.1E-14
.MODEL DBLOCK D IS=8E-16 BV=3

