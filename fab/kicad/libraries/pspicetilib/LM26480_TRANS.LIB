*$
*LM26480
*****************************************************************************
* (C) Copyright 2014 Texas Instruments Incorporated. All rights reserved.                                            
*****************************************************************************
** This model is designed as an aid for customers of Texas Instruments.
** TI and its licensors and suppliers make no warranties, either expressed
** or implied, with respect to this model, including the warranties of 
** merchantability or fitness for a particular purpose.  The model is
** provided solely on an "as is" basis.  The entire risk as to its quality
** and performance is with the customer
*****************************************************************************
*
* This model is subject to change without notice. Texas Instruments
* Incorporated is not responsible for updating this model.
*
*****************************************************************************
*
** Released by: WEBENCH Design Center, Texas Instruments Inc.
* Part: LM26480_BUCK1
* Date: 13FEB2014
* Model Type: TRANSIENT
* Simulator: PSPICE
* Simulator Version: 16.2.0.p001
* EVM Order Number: LM26480 
* EVM Users Guide: SNVA329C-September 3, 2008
* Datasheet: SNVS543G-January 10, 2012
*
* Model Version: Final 1.00
*
*****************************************************************************
*
* Updates:
*
* Final 1.00
* Release to Web.
*
*****************************************************************************
.SUBCKT LM26480_BUCK1_TRANS ENSW1 FB1 GND_SW1 SW1 VIN1  
C_U5_C6         0 IIND  1n  
E_U5_ABM9         U5_N16421198 0 VALUE { 0.5*0.999    }
E_U5_ABM7         U5_N16434031 0 VALUE { 66m+V(VIN1)/160    }
R_U5_R2         U5_N16415662 U5_N16415654  1  
C_U5_C3         0 U5_N16411697  1n  
R_U5_R5         U5_N164306970 IIND  1  
R_U5_R3         U5_N16421198 U5_N16421168  1  
X_U5_U1         U5_N16415654 FB1 U5_COMP_HI COMP_BASIC_GEN_BUCK1 PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5
E_U5_ABM3         U5_N164306970 0 VALUE { V(ISENSE)-V(ISENSE_NMOS)    }
X_U5_U7         U5_PWM_MODE U5_OUT2 d_d_BUCK1 PARAMS:
X_U5_U2         U5_COMP_HI U5_N16477395 INV_BASIC_GEN_BUCK1 PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U5_U21         PFM_PWM_MODE U5_N16477395 COMP_HI_INV AND2_BASIC_GEN_BUCK1 PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
C_U5_C4         0 U5_N16421168  1n  
X_U5_U70         U5_N16463820 U5_N16463433 U5_QNA U5_PFM_PULSES1
+  SRLATCHRHP_BASIC_GEN_BUCK1 PARAMS: VDD=1 VSS=0 VTHRESH=0.5
C_U5_C1         0 U5_N16415654  1n  
X_U5_U69         U5_N16558333 U5_PWM_MODE PFM_PWM_MODE U5_QBNU2
+  SRLATCHRHP_BASIC_GEN_BUCK1 PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U5_U5         U5_N16421168 FB1 U5_OUT2 COMP_BASIC_GEN_BUCK1 PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5
X_U5_U6         U5_ZERO_PULSE U5_N16515651 U5_ZERO_DETECT COMP_BASIC_GEN_BUCK1
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_U5_ABM1         U5_N16415662 0 VALUE { ((V(COMP_HI_INV) *-4m) + (0.5*1.016)) 
+    }
E_U5_E1         U5_N16546206 0 U5_N16506461 0 1/32
C_U5_C5         0 U5_PWM_MODE  1n  
V_U5_V3         U5_N164089083 0 1m
V_U5_V5         U5_N16435645 0 0.5
X_U5_U92         0 IIND U5_N16438472 U5_N16410008 COMPHYS_BASIC_GEN_BUCK1 PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5
X_U5_U4         U5_N16411697 U5_N16435645 U5_N16556953 COMP_BASIC_GEN_BUCK1 PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5
X_U5_S1    U5_PWM_MODE 0 U5_ZERO_PULSE 0 PFM_MODE_U5_S1_BUCK1 
R_U5_R1         U5_N16411166 U5_N16411697  23k TC=0,0 
R_U5_R4         U5_OUT2 U5_PWM_MODE  10  
X_U5_U11         U5_N16411697 U5_N16411166 d_d_BUCK1 PARAMS:
X_U5_U95         U5_N16546206 U5_N16553324 d_d_BUCK1 PARAMS:
X_U5_U14         PFM_PWM_MODE U5_PFM_PULSES1 PFM_PULSES AND2_BASIC_GEN_BUCK1 PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U5_U91         U5_N16434031 IIND U5_N164089083 U5_N16411166 COMPHYS_BASIC_GEN_BUCK1
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U5_U22         U5_N16410008 U5_N16510245 U5_N16506461 AND2_BASIC_GEN_BUCK1 PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
V_U5_V4         U5_N16438472 0 1m
V_U5_V7         U5_N16515651 0 0.864
E_U5_ABM10         U5_N16463820 0 VALUE { IF(V(IIND)<=0.5m,1,0)    }
C_U5_C7         0 U5_ZERO_PULSE  80n IC=0 
X_U5_U94         U5_N16410008 U5_N16510245 INV_DELAY_BASIC_GEN_BUCK1 PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3 DELAY=10N
R_U5_R6         U5_N16553324 U5_ZERO_PULSE  1  
E_U5_ABM8         U5_N16463433 0 VALUE { IF(V(IIND)>66m+V(VIN1)/80,1,0)    }
X_U5_U68         U5_N16556953 U5_ZERO_DETECT U5_N16558333 OR2_BASIC_GEN_BUCK1 PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
C_U6_C4         0 U6_N00218  1n  
V_U6_V1         U6_N00708 0 0.7
X_U6_U29         VIN1 U6_N00218 U6_OUT COMP_BASIC_GEN_BUCK1 PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5
C_U6_C7         0 U6_EN_OK  1n  
E_U6_ABM7         U6_N003041 0 VALUE { (V(U6_OUT)*-200m + 2.79)    }
X_U6_U30         ENSW1 U6_N00708 U6_N00726 COMP_BASIC_GEN_BUCK1 PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5
V_U6_V3         U6_N00232 0  
+PULSE 0 1 100n 10n 10n 1000000 200000
R_U6_R6         U6_N00726 U6_EN_OK  1  
X_U6_U52         U6_OUT U6_N00232 U6_UVLO_OK AND2_BASIC_GEN_BUCK1 PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U6_U64         U6_UVLO_OK U6_EN_OK UVLO_EN_OK AND2_BASIC_GEN_BUCK1 PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U6_U19         UVLO_EN_OK SDWN INV_BASIC_GEN_BUCK1 PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
R_U6_R3         U6_N003041 U6_N00218  1  
E_U3_E1         U3_G 0 FB1 U3_N102124 1
C_U3_C6         U3_N102170 U3_N102146  64p  TC=0,0 
R_U3_R5         U3_N102164 U3_N102170  14k TC=0,0 
C_U3_C5         U3_N1022520 U3_ERR_OUT  129p  TC=0,0 
R_U3_R7         U3_N102164 U3_N102146  105k TC=0,0 
X_U3_D11         0 U3_ERR_OUT d_d1_BUCK1 PARAMS: 
E_U3_E2         U3_N102146 0 U3_ERR_OUT 0 1
R_U3_R8         0 U3_N102208  1Meg TC=0,0 
R_U3_R4         0 U3_N1022520  100k TC=0,0 
R_U3_R6         0 U3_N102164  950 TC=0,0 
V_U3_V2         N125442 U3_N102208 0Vdc
V_U3_V3         U3_N102124 0 0.5
G_U3_ABMI1         0 U3_ERR_OUT VALUE { {(V(VIN1)*1m+0.25m)*V(U3_G)}    }
G_U3_G1         0 U3_N102208 U3_N102164 0 100u
X_U3_D10         U3_N102090 U3_ERR_OUT d_d1_BUCK1 PARAMS: 
R_U3_R3         0 U3_ERR_OUT  1Meg TC=0,0 
X_U3_D9         U3_N102090 0 d_d1_BUCK1 PARAMS: 
C_U4_C6         0 U4_VSS  1n  TC=0,0 
V_U4_V3         U4_N16527665 0 2
X_U4_D7         U4_VSS U4_N16527665 d_d1_BUCK1 PARAMS: 
X_U4_U6         U4_CL_LMT_STEPS U4_N16519441 U4_N165193852 COMP_BASIC_GEN_BUCK1
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
R_U4_R4         U4_N16520318 U4_N16520605  1 TC=0,0 
X_U4_U3         ISENSE U4_CL_LMT U4_N12314 COMP_BASIC_GEN_BUCK1 PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5
R_U4_R1         U4_N12314 U4_CL_TRIP  1 TC=0,0 
C_U4_C4         0 U4_N16520605  1n  TC=0,0 
V_U4_V7         U4_N16519441 0 1.98
C_U4_C1         0 U4_CL_TRIP  1n  TC=0,0 
R_U4_R5         U4_N16521857 U4_CL_LMT  1 TC=0,0 
V_U4_V2         U4_N379175 0 1
C_U4_C5         0 U4_CL_LMT  1n  TC=0,0 
R_U4_R3         U4_N165193852 U4_N16519976  1 TC=0,0 
X_U4_S1    SDWN 0 U4_VSS 0 Current_Limit_U4_S1_BUCK1 
C_U4_C3         0 U4_N16519976  1n  TC=0,0 
X_U4_U69         U4_N16519976 SDWN U4_N16520318 U4_NOTUSE SRLATCHRHP_BASIC_GEN_BUCK1
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
I_U4_I1         U4_N16527665 U4_VSS DC 1u  
X_U4_U1         U4_Q CL_SENSE CLOCK U4_N379175 U4_CL_TRIP 0 DFFSR_RHPBASIC_GEN_BUCK1
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_U4_ABM1         U4_N3811980 0 VALUE { IF(V(U4_VSS)<32m,
+  0.25,(IF(V(U4_VSS)<256m,0.5, (IF(V(U4_VSS)<0.512,0.95,2)))))    }
E_U4_ABM2         U4_N16521857 0 VALUE { IF(V(U4_N16520605)>0.5,2,
+  V(U4_CL_LMT_STEPS))    }
R_U4_R2         U4_N3811980 U4_CL_LMT_STEPS  1 TC=0,0 
C_U4_C2         0 U4_CL_LMT_STEPS  10n  TC=0,0 
X_U2_U10         U2_N16431326 PFM_PULSES PFM_PWM_MODE U2_N16442113
+  MUX2_BASIC_GEN_BUCK1 PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U2_S1    U2_N16427347 0 U2_N96323 SW1 Driver_Powerfets_U2_S1_BUCK1 
X_U2_H2    U2_N96495 0 ISENSE_NMOS 0 Driver_Powerfets_U2_H2_BUCK1 
X_U2_U64         COMP_HI_INV U2_N16440209 U2_N16427765 AND2_BASIC_GEN_BUCK1 PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
R_U2_R11         U2_N16437067 U2_N96615  2 TC=0,0 
E_U2_ABM2         U2_N377090 0 VALUE { IF(V(DRIVE) > 0.5, 1,0)    }
X_U2_U68         U2_N16442113 SDWN U2_N16437067 OR2_BASIC_GEN_BUCK1 PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U2_U8         U2_N96615 0 U2_N16427765 U2_N385600 MUX2_BASIC_GEN_BUCK1 PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5
X_U2_D7         SW1 U2_N96323 d_d1_BUCK1 PARAMS: 
X_U2_U9         U2_N96615 U2_N164259711 U2_N16427765 U2_N16427347
+  MUX2_BASIC_GEN_BUCK1 PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U2_H1    VIN1 U2_N96323 ISENSE 0 Driver_Powerfets_U2_H1_BUCK1 
X_U2_D8         U2_N96495 SW1 d_d1_BUCK1 PARAMS: 
X_U2_U21         SDWN U2_N16440209 INV_BASIC_GEN_BUCK1 PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
V_U2_V1         U2_N164259711 0 1
X_U2_U67         U2_N377090 CL_SENSE U2_N16431326 OR2_BASIC_GEN_BUCK1 PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U2_S2    U2_N385600 0 SW1 U2_N96495 Driver_Powerfets_U2_S2_BUCK1 
R_U1_R9         U1_VIN N103999  10m TC=0,0 
X_U1_S3    U1_DRIVE1 0 N125442 0 Ramp_Drive_U1_S3_BUCK1 
X_U1_D7         0 N125442 d_d1_BUCK1 PARAMS: 
C_U1_Cramp         0 N125442  1.2p  TC=0,0 
X_U1_U1         U1_NU DRIVE CLOCK U1_N89539 U1_N383808 0 DFFSR_SHPBASIC_GEN_BUCK1
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_U1_ABM1         U1_N383808 0 VALUE { IF(V(N125442) > 1.1+0.9*V(U1_VIN), 1,0) 
+    }
X_U1_U68         DRIVE CLOCK U1_DRIVE1 OR2_BASIC_GEN_BUCK1 PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
C_U1_C7         0 U1_VIN  10u  TC=0,0 
V_U1_V3         CLOCK 0  
+PULSE 0 1 1n 1n 1n 10n 500n
G_U1_G2         0 N125442 U1_VIN 0 1.6666u
V_U1_V4         U1_N89539 0 1
R_R3         GND_SW1 0  1m TC=0,0 
V_V9         N103999 0  
+PULSE 0 5 0 1n 1n 1 2
.ENDS LM26480_BUCK1_TRANS
*$
.subckt PFM_MODE_U5_S1_BUCK1 1 2 3 4  
S_U5_S1         3 4 1 2 _U5_S1
RS_U5_S1         1 2 1G
.MODEL         _U5_S1 VSWITCH Roff=1e6 Ron=1m Voff=0.0V Von=1.0V
.ends PFM_MODE_U5_S1_BUCK1
*$
.subckt Current_Limit_U4_S1_BUCK1 1 2 3 4  
S_U4_S1         3 4 1 2 _U4_S1
RS_U4_S1         1 2 1G
.MODEL         _U4_S1 VSWITCH Roff=100e6 Ron=1.0 Voff=0.0V Von=1.0V
.ends Current_Limit_U4_S1_BUCK1
*$
.subckt Driver_Powerfets_U2_S1_BUCK1 1 2 3 4  
S_U2_S1         3 4 1 2 _U2_S1
RS_U2_S1         1 2 1G
.MODEL         _U2_S1 VSWITCH Roff=1e6 Ron=200m Voff=0.9V Von=0.1V
.ends Driver_Powerfets_U2_S1_BUCK1
*$
.subckt Driver_Powerfets_U2_H2_BUCK1 1 2 3 4  
H_U2_H2         3 4 VH_U2_H2 1
VH_U2_H2         1 2 0V
.ends Driver_Powerfets_U2_H2_BUCK1
*$
.subckt Driver_Powerfets_U2_H1_BUCK1 1 2 3 4  
H_U2_H1         3 4 VH_U2_H1 1
VH_U2_H1         1 2 0V
.ends Driver_Powerfets_U2_H1_BUCK1
*$
.subckt Driver_Powerfets_U2_S2_BUCK1 1 2 3 4  
S_U2_S2         3 4 1 2 _U2_S2
RS_U2_S2         1 2 1G
.MODEL         _U2_S2 VSWITCH Roff=1e6 Ron=180m Voff=0.1V Von=0.9V
.ends Driver_Powerfets_U2_S2_BUCK1
*$
.subckt Ramp_Drive_U1_S3_BUCK1 1 2 3 4  
S_U1_S3         3 4 1 2 _U1_S3
RS_U1_S3         1 2 1G
.MODEL         _U1_S3 VSWITCH Roff=100e6 Ron=1m Voff=0.2V Von=0.8V
.ends Ramp_Drive_U1_S3_BUCK1
*$
.subckt d_d_BUCK1 1 2
d1 1 2 dd
.model dd d
+ is=1e-015
+ n=0.0001
+ tt=1e-011
.ends d_d_BUCK1
*$
.subckt d_d1_BUCK1 1 2
d1 1 2 dd1
.model dd1 d
+ is=1e-015
+ tt=1e-011
+ rs=0.05
+ n=0.1
.ends d_d1_BUCK1
*$
.SUBCKT COMP_BASIC_GEN_BUCK1 INP INM Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5	
E_ABM Yint 0 VALUE {IF (V(INP) > 
+ V(INM), {VDD},{VSS})}
R1 Yint Y 1
C1 Y 0 1n
.ENDS COMP_BASIC_GEN_BUCK1
*$
.SUBCKT COMPHYS_BASIC_GEN_BUCK1 INP INM HYS OUT PARAMS: VDD=1 VSS=0 VTHRESH=0.5	
EIN INP1 INM1 INP INM 1 
EHYS INP1 INP2 VALUE { IF( V(1) > {VTHRESH},-V(HYS),0) }
EOUT OUT 0 VALUE { IF( V(INP2)>V(INM1), {VDD} ,{VSS}) }
R1 OUT 1 1
C1 1 0 5n
RINP1 INP1 0 1K
.ENDS COMPHYS_BASIC_GEN_BUCK1

*$
.SUBCKT AND2_BASIC_GEN_BUCK1 A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND2_BASIC_GEN_BUCK1
*$
.SUBCKT AND3_BASIC_GEN_BUCK1 A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND3_BASIC_GEN_BUCK1
*$
.SUBCKT AND4_BASIC_GEN_BUCK1 A B C D Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH} &
+ V(D) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND4_BASIC_GEN_BUCK1
*$
.SUBCKT NAND2_BASIC_GEN_BUCK1 A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NAND2_BASIC_GEN_BUCK1
*$
.SUBCKT NAND3_BASIC_GEN_BUCK1 A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NAND3_BASIC_GEN_BUCK1
*$
.SUBCKT NAND4_BASIC_GEN_BUCK1 A B C D Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH} &
+ V(D) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NAND4_BASIC_GEN_BUCK1
*$
.SUBCKT OR2_BASIC_GEN_BUCK1 A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR2_BASIC_GEN_BUCK1
*$
.SUBCKT OR3_BASIC_GEN_BUCK1 A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR3_BASIC_GEN_BUCK1
*$
.SUBCKT OR4_BASIC_GEN_BUCK1 A B C D Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH} |
+ V(D) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR4_BASIC_GEN_BUCK1
*$
.SUBCKT NOR2_BASIC_GEN_BUCK1 A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR2_BASIC_GEN_BUCK1
*$
.SUBCKT NOR3_BASIC_GEN_BUCK1 A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR3_BASIC_GEN_BUCK1
*$
.SUBCKT NOR4_BASIC_GEN_BUCK1 A B C D Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH} |
+ V(D) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR4_BASIC_GEN_BUCK1
*$
.SUBCKT NOR5_BASIC_GEN_BUCK1 A B C D E Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH} |
+ V(D) > {VTHRESH} |
+ V(E) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR5_BASIC_GEN_BUCK1
*$
.SUBCKT NOR6_BASIC_GEN_BUCK1 A B C D E F Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH} |
+ V(D) > {VTHRESH} |
+ V(E) > {VTHRESH} |
+ V(F) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR6_BASIC_GEN_BUCK1
*$
.SUBCKT INV_BASIC_GEN_BUCK1 A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS INV_BASIC_GEN_BUCK1
*$
.SUBCKT XOR2_BASIC_GEN_BUCK1 A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE  YINT 0 VALUE {{IF(V(A) > {VTHRESH}  ^  
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS XOR2_BASIC_GEN_BUCK1
*$
.SUBCKT XNOR2_BASIC_GEN_BUCK1 A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE  YINT 0 VALUE {{IF(V(A) > {VTHRESH}  ^  
+ V(B) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS XNOR2_BASIC_GEN_BUCK1
*$
.SUBCKT MUX2_BASIC_GEN_BUCK1 A B S Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE  YINT 0 VALUE {{IF(V(S) > {VTHRESH},  
+ V(B),V(A))}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS MUX2_BASIC_GEN_BUCK1
*$
.SUBCKT INV_DELAY_BASIC_GEN_BUCK1 A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY = 10n 
E_ABMGATE1    YINT1 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT1 YINT2 1
CINT YINT2 0 {DELAY*1.3}
E_ABMGATE2    YINT3 0 VALUE {{IF(V(YINT2) > {VTHRESH} , 
+ {VSS},{VDD})}}
RINT2 YINT3 Y 1
CINT2 Y 0 1n
.ENDS INV_DELAY_BASIC_GEN_BUCK1
*$
.SUBCKT BUF_DELAY_BASIC_GEN_BUCK1 A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY = 10n 
E_ABMGATE1    YINT1 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT1 YINT2 1
CINT YINT2 0 {DELAY*1.3}
E_ABMGATE2    YINT3 0 VALUE {{IF(V(YINT2) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT2 YINT3 Y 1
CINT2 Y 0 1n
.ENDS BUF_DELAY_BASIC_GEN_BUCK1
*$
.SUBCKT BUF_BASIC_GEN_BUCK1 A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS BUF_BASIC_GEN_BUCK1
*$
.SUBCKT DFFSR_SHPBASIC_GEN_BUCK1 Q QB CLK D R S PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
***Set has higher priority in this
** Changed the delay from 7n/10n to 15n/20n to help larger time step simulations
**Faster flip-flops require a a smaller time step to simulate
X1 CLK CLKdel INV_DELAY_BASIC_GEN_BUCK1 PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 15n
X2 CLK CLKdel CLKint AND2_BASIC_GEN_BUCK1 PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} 
GQ 0 Qint VALUE = {IF(V(S) > {VTHRESH},5,IF(V(R) > {VTHRESH},-5, IF(V(CLKint)> {VTHRESH}, 
+ IF(V(D)> {VTHRESH},5,-5),0)))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_DELAY_BASIC_GEN_BUCK1 PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY = 20n
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr Qb 1 
Cdummy1 Q 0 1nF 
Cdummy2 QB 0 1nF 
.IC V(Qint) {VSS}
.model d_d1 d
+ is=1e-015
+ n=0.0001
+ tt=1e-011
.ENDS DFFSR_SHPBASIC_GEN_BUCK1
*$
**Set has higher priority in this latch
.SUBCKT SRLATCHSHP_BASIC_GEN_BUCK1 S R Q QB PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
GQ 0 Qint VALUE = {IF(V(S) > {VTHRESH},5,IF(V(R)>{VTHRESH},-5, 0))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_BASIC_GEN_BUCK1 PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr QB 1 
Cdummy1 Q 0 1n 
Cdummy2 QB 0 1n 
.IC V(Qint) {VSS}
.model d_d1 d
+ is=1e-015
+ n=0.0001
+ tt=1e-011
.ENDS SRLATCHSHP_BASIC_GEN_BUCK1
*$
**Reset has higher priority in this latch
.SUBCKT SRLATCHRHP_BASIC_GEN_BUCK1 S R Q QB PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
GQ 0 Qint VALUE = {IF(V(R) > {VTHRESH},-5,IF(V(S)>{VTHRESH},5, 0))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_BASIC_GEN_BUCK1 PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr QB 1 
Cdummy1 Q 0 1n 
Cdummy2 QB 0 1n
.IC V(Qint) {VSS}
.model d_d1 d
+ is=1e-015
+ n=0.0001
+ tt=1e-011
.ENDS SRLATCHRHP_BASIC_GEN_BUCK1

*$
**Reset has higher priority in this latch and active low set and reset - basically NAND based SR latch
.SUBCKT SBRBLATCHSHP_BASIC_GEN_BUCK1 SB RB Q QB PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
GQ 0 Qint VALUE = {IF(V(SB) < {VTHRESH},5,IF(V(RB) < {VTHRESH},-5, 0))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_BASIC_GEN_BUCK1 PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr QB 1 
.IC V(Qint) {VSS}
.model d_d1 d
+ is=1e-015
+ n=0.0001
+ tt=1e-011
.ENDS SBRBLATCHSHP_BASIC_GEN_BUCK1
*$
.SUBCKT DFFSBRB_SHPBASIC_GEN_BUCK1 Q QB CLK D RB SB PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
***Set has higher priority in this
** Changed the delay from 7n/10n to 15n/20n to help larger time step simulations
**Faster flip-flops require a a smaller time step to simulate
X1 CLK CLKdel INV_DELAY_BASIC_GEN_BUCK1 PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 15n
X2 CLK CLKdel CLKint AND2_BASIC_GEN_BUCK1 PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
GQ 0 Qint VALUE = {IF(V(SB) < {VTHRESH},5,IF(V(RB)<{VTHRESH},-5, IF(V(CLKint)> {VTHRESH}, 
+ IF(V(D)> {VTHRESH},5,-5),0)))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_DELAY_BASIC_GEN_BUCK1 PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 20n
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr Qb 1 
Cdummy1 Q 0 1nF 
Cdummy2 QB 0 1nF 
.IC V(Qint) {VSS}
.model d_d1 d
+ is=1e-015
+ n=0.0001
+ tt=1e-011
.ENDS DFFSBRB_SHPBASIC_GEN_BUCK1
*$
.SUBCKT DFFSR_RHPBASIC_GEN_BUCK1 Q QB CLK D R S PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
***Set has higher priority in this
** Changed the delay from 7n/10n to 15n/20n to help larger time step simulations
**Faster flip-flops require a a smaller time step to simulate
X1 CLK CLKdel INV_DELAY_BASIC_GEN_BUCK1 PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 15n
X2 CLK CLKdel CLKint AND2_BASIC_GEN_BUCK1 PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}  
GQ 0 Qint VALUE = {IF(V(R) > {VTHRESH},-5,IF(V(S) > {VTHRESH},5, IF(V(CLKint)> {VTHRESH}, 
+ IF(V(D)> {VTHRESH},5,-5),0)))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_DELAY_BASIC_GEN_BUCK1 PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 20n
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr Qb 1 
Cdummy1 Q 0 1nF 
Cdummy2 QB 0 1nF 
.IC V(Qint) {VSS}
.model d_d1 d
+ is=1e-015
+ n=0.0001
+ tt=1e-011
.ENDS DFFSR_RHPBASIC_GEN_BUCK1
*$
.SUBCKT LDCR_BUCK1 IN OUT
+ PARAMs:  L=1u DCR=0.01 IC=0
L	IN 1  {L} IC={IC}
RDCR	1 OUT {DCR}
.ENDS LDCR_BUCK1
*$
.SUBCKT CESR_BUCK1 IN OUT
+ PARAMs:  C=100u ESR=0.01 X=2 IC=0
C	IN 1  {C*X} IC={IC}
RESR	1 OUT {ESR/X}
.ENDS CESR_BUCK1
*$
*LM26480_BUCK2
*****************************************************************************
* (C) Copyright 2014 Texas Instruments Incorporated. All rights reserved.                                            
*****************************************************************************
** This model is designed as an aid for customers of Texas Instruments.
** TI and its licensors and suppliers make no warranties, either expressed
** or implied, with respect to this model, including the warranties of 
** merchantability or fitness for a particular purpose.  The model is
** provided solely on an "as is" basis.  The entire risk as to its quality
** and performance is with the customer
*****************************************************************************
*
* This model is subject to change without notice. Texas Instruments
* Incorporated is not responsible for updating this model.
*
*****************************************************************************
*
** Released by: WEBENCH Design Center, Texas Instruments Inc.
* Part: LM26480_BUCK2
* Date: 13FEB2014
* Model Type: TRANSIENT
* Simulator: PSPICE
* Simulator Version: 16.2.0.p001
* EVM Order Number: LM26480 
* EVM Users Guide: SNVA329C-September 3, 2008
* Datasheet: SNVS543G-January 10, 2012
*
* Model Version: Final 1.00
*
*****************************************************************************
*
* Updates:
*
* Final 1.00
* Release to Web.
*
*****************************************************************************
.SUBCKT LM26480_BUCK2_TRANS ENSW2 FB2 GND_SW2 SW2 VIN2  
C_U5_C6         0 IIND  1n  
E_U5_ABM9         U5_N16421198 0 VALUE { 0.5*0.999    }
E_U5_ABM7         U5_N16434031 0 VALUE { 66m+V(VIN2)/160    }
R_U5_R2         U5_N16415662 U5_N16415654  1  
C_U5_C3         0 U5_N16411697  1n  
R_U5_R5         U5_N164306970 IIND  1  
R_U5_R3         U5_N16421198 U5_N16421168  1  
X_U5_U1         U5_N16415654 FB2 U5_COMP_HI COMP_BASIC_GEN_BUCK2 PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5
E_U5_ABM3         U5_N164306970 0 VALUE { V(ISENSE)-V(ISENSE_NMOS)    }
X_U5_U7         U5_PWM_MODE U5_OUT2 d_d_BUCK2 PARAMS:
X_U5_U2         U5_COMP_HI U5_N16477395 INV_BASIC_GEN_BUCK2 PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U5_U21         PFM_PWM_MODE U5_N16477395 COMP_HI_INV AND2_BASIC_GEN_BUCK2 PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
C_U5_C4         0 U5_N16421168  1n  
X_U5_U70         U5_N16463820 U5_N16463433 U5_QNA U5_PFM_PULSES1
+  SRLATCHRHP_BASIC_GEN_BUCK2 PARAMS: VDD=1 VSS=0 VTHRESH=0.5
C_U5_C1         0 U5_N16415654  1n  
X_U5_U69         U5_N16558333 U5_PWM_MODE PFM_PWM_MODE U5_QBNU2
+  SRLATCHRHP_BASIC_GEN_BUCK2 PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U5_U5         U5_N16421168 FB2 U5_OUT2 COMP_BASIC_GEN_BUCK2 PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5
X_U5_U6         U5_ZERO_PULSE U5_N16515651 U5_ZERO_DETECT COMP_BASIC_GEN_BUCK2
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_U5_ABM1         U5_N16415662 0 VALUE { ((V(COMP_HI_INV) *-4m) + (0.5*1.016)) 
+    }
E_U5_E1         U5_N16546206 0 U5_N16506461 0 1/32
C_U5_C5         0 U5_PWM_MODE  1n  
V_U5_V3         U5_N164089083 0 1m
V_U5_V5         U5_N16435645 0 0.5
X_U5_U92         0 IIND U5_N16438472 U5_N16410008 COMPHYS_BASIC_GEN_BUCK2 PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5
X_U5_U4         U5_N16411697 U5_N16435645 U5_N16556953 COMP_BASIC_GEN_BUCK2 PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5
X_U5_S1    U5_PWM_MODE 0 U5_ZERO_PULSE 0 PFM_MODE_U5_S1_BUCK2 
R_U5_R1         U5_N16411166 U5_N16411697  23k TC=0,0 
R_U5_R4         U5_OUT2 U5_PWM_MODE  10  
X_U5_U11         U5_N16411697 U5_N16411166 d_d_BUCK2 PARAMS:
X_U5_U95         U5_N16546206 U5_N16553324 d_d_BUCK2 PARAMS:
X_U5_U14         PFM_PWM_MODE U5_PFM_PULSES1 PFM_PULSES AND2_BASIC_GEN_BUCK2 PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U5_U91         U5_N16434031 IIND U5_N164089083 U5_N16411166 COMPHYS_BASIC_GEN_BUCK2
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U5_U22         U5_N16410008 U5_N16510245 U5_N16506461 AND2_BASIC_GEN_BUCK2 PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
V_U5_V4         U5_N16438472 0 1m
V_U5_V7         U5_N16515651 0 0.864
E_U5_ABM10         U5_N16463820 0 VALUE { IF(V(IIND)<=0.5m,1,0)    }
C_U5_C7         0 U5_ZERO_PULSE  80n IC=0 
X_U5_U94         U5_N16410008 U5_N16510245 INV_DELAY_BASIC_GEN_BUCK2 PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3 DELAY=10N
R_U5_R6         U5_N16553324 U5_ZERO_PULSE  1  
E_U5_ABM8         U5_N16463433 0 VALUE { IF(V(IIND)>66m+V(VIN2)/80,1,0)    }
X_U5_U68         U5_N16556953 U5_ZERO_DETECT U5_N16558333 OR2_BASIC_GEN_BUCK2 PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
C_U6_C4         0 U6_N00218  1n  
V_U6_V1         U6_N00708 0 0.7
X_U6_U29         VIN2 U6_N00218 U6_OUT COMP_BASIC_GEN_BUCK2 PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5
C_U6_C7         0 U6_EN_OK  1n  
E_U6_ABM7         U6_N003041 0 VALUE { (V(U6_OUT)*-200m + 2.79)    }
X_U6_U30         ENSW2 U6_N00708 U6_N00726 COMP_BASIC_GEN_BUCK2 PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5
V_U6_V3         U6_N00232 0  
+PULSE 0 1 100n 10n 10n 1000000 200000
R_U6_R6         U6_N00726 U6_EN_OK  1  
X_U6_U52         U6_OUT U6_N00232 U6_UVLO_OK AND2_BASIC_GEN_BUCK2 PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U6_U64         U6_UVLO_OK U6_EN_OK UVLO_EN_OK AND2_BASIC_GEN_BUCK2 PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U6_U19         UVLO_EN_OK SDWN INV_BASIC_GEN_BUCK2 PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
R_U6_R3         U6_N003041 U6_N00218  1  
E_U3_E1         U3_G 0 FB2 U3_N102124 1
C_U3_C6         U3_N102170 U3_N102146  64p  TC=0,0 
R_U3_R5         U3_N102164 U3_N102170  14k TC=0,0 
C_U3_C5         U3_N1022520 U3_ERR_OUT  129p  TC=0,0 
R_U3_R7         U3_N102164 U3_N102146  105k TC=0,0 
X_U3_D11         0 U3_ERR_OUT d_d1_BUCK2 PARAMS: 
E_U3_E2         U3_N102146 0 U3_ERR_OUT 0 1
R_U3_R8         0 U3_N102208  1Meg TC=0,0 
R_U3_R4         0 U3_N1022520  100k TC=0,0 
R_U3_R6         0 U3_N102164  950 TC=0,0 
V_U3_V2         N125442 U3_N102208 0Vdc
V_U3_V3         U3_N102124 0 0.5
G_U3_ABMI1         0 U3_ERR_OUT VALUE { {(V(VIN2)*1m+0.25m)*V(U3_G)}    }
G_U3_G1         0 U3_N102208 U3_N102164 0 100u
X_U3_D10         U3_N102090 U3_ERR_OUT d_d1_BUCK2 PARAMS: 
R_U3_R3         0 U3_ERR_OUT  1Meg TC=0,0 
X_U3_D9         U3_N102090 0 d_d1_BUCK2 PARAMS: 
C_U4_C6         0 U4_VSS  1n  TC=0,0 
V_U4_V3         U4_N16527665 0 2
X_U4_D7         U4_VSS U4_N16527665 d_d1_BUCK2 PARAMS: 
X_U4_U6         U4_CL_LMT_STEPS U4_N16519441 U4_N165193852 COMP_BASIC_GEN_BUCK2
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
R_U4_R4         U4_N16520318 U4_N16520605  1 TC=0,0 
X_U4_U3         ISENSE U4_CL_LMT U4_N12314 COMP_BASIC_GEN_BUCK2 PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5
R_U4_R1         U4_N12314 U4_CL_TRIP  1 TC=0,0 
C_U4_C4         0 U4_N16520605  1n  TC=0,0 
V_U4_V7         U4_N16519441 0 1.98
C_U4_C1         0 U4_CL_TRIP  1n  TC=0,0 
R_U4_R5         U4_N16521857 U4_CL_LMT  1 TC=0,0 
V_U4_V2         U4_N379175 0 1
C_U4_C5         0 U4_CL_LMT  1n  TC=0,0 
R_U4_R3         U4_N165193852 U4_N16519976  1 TC=0,0 
X_U4_S1    SDWN 0 U4_VSS 0 Current_Limit_U4_S1_BUCK2 
C_U4_C3         0 U4_N16519976  1n  TC=0,0 
X_U4_U69         U4_N16519976 SDWN U4_N16520318 U4_NOTUSE SRLATCHRHP_BASIC_GEN_BUCK2
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
I_U4_I1         U4_N16527665 U4_VSS DC 1u  
X_U4_U1         U4_Q CL_SENSE CLOCK U4_N379175 U4_CL_TRIP 0 DFFSR_RHPBASIC_GEN_BUCK2
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_U4_ABM1         U4_N3811980 0 VALUE { IF(V(U4_VSS)<32m,
+  0.25,(IF(V(U4_VSS)<256m,0.5, (IF(V(U4_VSS)<0.512,0.95,2)))))    }
E_U4_ABM2         U4_N16521857 0 VALUE { IF(V(U4_N16520605)>0.5,2,
+  V(U4_CL_LMT_STEPS))    }
R_U4_R2         U4_N3811980 U4_CL_LMT_STEPS  1 TC=0,0 
C_U4_C2         0 U4_CL_LMT_STEPS  10n  TC=0,0 
X_U2_U10         U2_N16431326 PFM_PULSES PFM_PWM_MODE U2_N16442113
+  MUX2_BASIC_GEN_BUCK2 PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U2_S1    U2_N16427347 0 U2_N96323 SW2 Driver_Powerfets_U2_S1_BUCK2 
X_U2_H2    U2_N96495 0 ISENSE_NMOS 0 Driver_Powerfets_U2_H2_BUCK2 
X_U2_U64         COMP_HI_INV U2_N16440209 U2_N16427765 AND2_BASIC_GEN_BUCK2 PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
R_U2_R11         U2_N16437067 U2_N96615  2 TC=0,0 
E_U2_ABM2         U2_N377090 0 VALUE { IF(V(DRIVE) > 0.5, 1,0)    }
X_U2_U68         U2_N16442113 SDWN U2_N16437067 OR2_BASIC_GEN_BUCK2 PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U2_U8         U2_N96615 0 U2_N16427765 U2_N385600 MUX2_BASIC_GEN_BUCK2 PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5
X_U2_D7         SW2 U2_N96323 d_d1_BUCK2 PARAMS: 
X_U2_U9         U2_N96615 U2_N164259711 U2_N16427765 U2_N16427347
+  MUX2_BASIC_GEN_BUCK2 PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_U2_H1    VIN2 U2_N96323 ISENSE 0 Driver_Powerfets_U2_H1_BUCK2 
X_U2_D8         U2_N96495 SW2 d_d1_BUCK2 PARAMS: 
X_U2_U21         SDWN U2_N16440209 INV_BASIC_GEN_BUCK2 PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
V_U2_V1         U2_N164259711 0 1
X_U2_U67         U2_N377090 CL_SENSE U2_N16431326 OR2_BASIC_GEN_BUCK2 PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U2_S2    U2_N385600 0 SW2 U2_N96495 Driver_Powerfets_U2_S2_BUCK2 
R_U1_R9         U1_VIN N103999  10m TC=0,0 
X_U1_S3    U1_DRIVE1 0 N125442 0 Ramp_Drive_U1_S3_BUCK2 
X_U1_D7         0 N125442 d_d1_BUCK2 PARAMS: 
C_U1_Cramp         0 N125442  1.2p  TC=0,0 
X_U1_U1         U1_NU DRIVE CLOCK U1_N89539 U1_N383808 0 DFFSR_SHPBASIC_GEN_BUCK2
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_U1_ABM1         U1_N383808 0 VALUE { IF(V(N125442) > 1.1+0.9*V(U1_VIN), 1,0) 
+    }
X_U1_U68         DRIVE CLOCK U1_DRIVE1 OR2_BASIC_GEN_BUCK2 PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
C_U1_C7         0 U1_VIN  10u  TC=0,0 
V_U1_V3         CLOCK 0  
+PULSE 0 1 1n 1n 1n 10n 500n
G_U1_G2         0 N125442 U1_VIN 0 1.6666u
V_U1_V4         U1_N89539 0 1
R_R3         GND_SW2 0  1m TC=0,0 
V_V9         N103999 0  
+PULSE 0 5 0 1n 1n 1 2
.ENDS LM26480_BUCK2_TRANS
*$
.subckt PFM_MODE_U5_S1_BUCK2 1 2 3 4  
S_U5_S1         3 4 1 2 _U5_S1
RS_U5_S1         1 2 1G
.MODEL         _U5_S1 VSWITCH Roff=1e6 Ron=1m Voff=0.0V Von=1.0V
.ends PFM_MODE_U5_S1_BUCK2
*$
.subckt Current_Limit_U4_S1_BUCK2 1 2 3 4  
S_U4_S1         3 4 1 2 _U4_S1
RS_U4_S1         1 2 1G
.MODEL         _U4_S1 VSWITCH Roff=100e6 Ron=1.0 Voff=0.0V Von=1.0V
.ends Current_Limit_U4_S1_BUCK2
*$
.subckt Driver_Powerfets_U2_S1_BUCK2 1 2 3 4  
S_U2_S1         3 4 1 2 _U2_S1
RS_U2_S1         1 2 1G
.MODEL         _U2_S1 VSWITCH Roff=1e6 Ron=200m Voff=0.9V Von=0.1V
.ends Driver_Powerfets_U2_S1_BUCK2
*$
.subckt Driver_Powerfets_U2_H2_BUCK2 1 2 3 4  
H_U2_H2         3 4 VH_U2_H2 1
VH_U2_H2         1 2 0V
.ends Driver_Powerfets_U2_H2_BUCK2
*$
.subckt Driver_Powerfets_U2_H1_BUCK2 1 2 3 4  
H_U2_H1         3 4 VH_U2_H1 1
VH_U2_H1         1 2 0V
.ends Driver_Powerfets_U2_H1_BUCK2
*$
.subckt Driver_Powerfets_U2_S2_BUCK2 1 2 3 4  
S_U2_S2         3 4 1 2 _U2_S2
RS_U2_S2         1 2 1G
.MODEL         _U2_S2 VSWITCH Roff=1e6 Ron=180m Voff=0.1V Von=0.9V
.ends Driver_Powerfets_U2_S2_BUCK2
*$
.subckt Ramp_Drive_U1_S3_BUCK2 1 2 3 4  
S_U1_S3         3 4 1 2 _U1_S3
RS_U1_S3         1 2 1G
.MODEL         _U1_S3 VSWITCH Roff=100e6 Ron=1m Voff=0.2V Von=0.8V
.ends Ramp_Drive_U1_S3_BUCK2
*$
.subckt d_d_BUCK2 1 2
d1 1 2 dd
.model dd d
+ is=1e-015
+ n=0.0001
+ tt=1e-011
.ends d_d_BUCK2
*$
.subckt d_d1_BUCK2 1 2
d1 1 2 dd1
.model dd1 d
+ is=1e-015
+ tt=1e-011
+ rs=0.05
+ n=0.1
.ends d_d1_BUCK2
*$
.SUBCKT COMP_BASIC_GEN_BUCK2 INP INM Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5	
E_ABM Yint 0 VALUE {IF (V(INP) > 
+ V(INM), {VDD},{VSS})}
R1 Yint Y 1
C1 Y 0 1n
.ENDS COMP_BASIC_GEN_BUCK2
*$
.SUBCKT COMPHYS_BASIC_GEN_BUCK2 INP INM HYS OUT PARAMS: VDD=1 VSS=0 VTHRESH=0.5	
EIN INP1 INM1 INP INM 1 
EHYS INP1 INP2 VALUE { IF( V(1) > {VTHRESH},-V(HYS),0) }
EOUT OUT 0 VALUE { IF( V(INP2)>V(INM1), {VDD} ,{VSS}) }
R1 OUT 1 1
C1 1 0 5n
RINP1 INP1 0 1K
.ENDS COMPHYS_BASIC_GEN_BUCK2

*$
.SUBCKT AND2_BASIC_GEN_BUCK2 A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND2_BASIC_GEN_BUCK2
*$
.SUBCKT AND3_BASIC_GEN_BUCK2 A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND3_BASIC_GEN_BUCK2
*$
.SUBCKT AND4_BASIC_GEN_BUCK2 A B C D Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH} &
+ V(D) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND4_BASIC_GEN_BUCK2
*$
.SUBCKT NAND2_BASIC_GEN_BUCK2 A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NAND2_BASIC_GEN_BUCK2
*$
.SUBCKT NAND3_BASIC_GEN_BUCK2 A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NAND3_BASIC_GEN_BUCK2
*$
.SUBCKT NAND4_BASIC_GEN_BUCK2 A B C D Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH} &
+ V(D) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NAND4_BASIC_GEN_BUCK2
*$
.SUBCKT OR2_BASIC_GEN_BUCK2 A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR2_BASIC_GEN_BUCK2
*$
.SUBCKT OR3_BASIC_GEN_BUCK2 A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR3_BASIC_GEN_BUCK2
*$
.SUBCKT OR4_BASIC_GEN_BUCK2 A B C D Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH} |
+ V(D) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR4_BASIC_GEN_BUCK2
*$
.SUBCKT NOR2_BASIC_GEN_BUCK2 A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR2_BASIC_GEN_BUCK2
*$
.SUBCKT NOR3_BASIC_GEN_BUCK2 A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR3_BASIC_GEN_BUCK2
*$
.SUBCKT NOR4_BASIC_GEN_BUCK2 A B C D Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH} |
+ V(D) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR4_BASIC_GEN_BUCK2
*$
.SUBCKT NOR5_BASIC_GEN_BUCK2 A B C D E Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH} |
+ V(D) > {VTHRESH} |
+ V(E) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR5_BASIC_GEN_BUCK2
*$
.SUBCKT NOR6_BASIC_GEN_BUCK2 A B C D E F Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH} |
+ V(D) > {VTHRESH} |
+ V(E) > {VTHRESH} |
+ V(F) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR6_BASIC_GEN_BUCK2
*$
.SUBCKT INV_BASIC_GEN_BUCK2 A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS INV_BASIC_GEN_BUCK2
*$
.SUBCKT XOR2_BASIC_GEN_BUCK2 A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE  YINT 0 VALUE {{IF(V(A) > {VTHRESH}  ^  
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS XOR2_BASIC_GEN_BUCK2
*$
.SUBCKT XNOR2_BASIC_GEN_BUCK2 A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE  YINT 0 VALUE {{IF(V(A) > {VTHRESH}  ^  
+ V(B) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS XNOR2_BASIC_GEN_BUCK2
*$
.SUBCKT MUX2_BASIC_GEN_BUCK2 A B S Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE  YINT 0 VALUE {{IF(V(S) > {VTHRESH},  
+ V(B),V(A))}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS MUX2_BASIC_GEN_BUCK2
*$
.SUBCKT INV_DELAY_BASIC_GEN_BUCK2 A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY = 10n 
E_ABMGATE1    YINT1 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT1 YINT2 1
CINT YINT2 0 {DELAY*1.3}
E_ABMGATE2    YINT3 0 VALUE {{IF(V(YINT2) > {VTHRESH} , 
+ {VSS},{VDD})}}
RINT2 YINT3 Y 1
CINT2 Y 0 1n
.ENDS INV_DELAY_BASIC_GEN_BUCK2
*$
.SUBCKT BUF_DELAY_BASIC_GEN_BUCK2 A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY = 10n 
E_ABMGATE1    YINT1 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT1 YINT2 1
CINT YINT2 0 {DELAY*1.3}
E_ABMGATE2    YINT3 0 VALUE {{IF(V(YINT2) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT2 YINT3 Y 1
CINT2 Y 0 1n
.ENDS BUF_DELAY_BASIC_GEN_BUCK2
*$
.SUBCKT BUF_BASIC_GEN_BUCK2 A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS BUF_BASIC_GEN_BUCK2
*$
.SUBCKT DFFSR_SHPBASIC_GEN_BUCK2 Q QB CLK D R S PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
***Set has higher priority in this
** Changed the delay from 7n/10n to 15n/20n to help larger time step simulations
**Faster flip-flops require a a smaller time step to simulate
X1 CLK CLKdel INV_DELAY_BASIC_GEN_BUCK2 PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 15n
X2 CLK CLKdel CLKint AND2_BASIC_GEN_BUCK2 PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} 
GQ 0 Qint VALUE = {IF(V(S) > {VTHRESH},5,IF(V(R) > {VTHRESH},-5, IF(V(CLKint)> {VTHRESH}, 
+ IF(V(D)> {VTHRESH},5,-5),0)))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_DELAY_BASIC_GEN_BUCK2 PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY = 20n
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr Qb 1 
Cdummy1 Q 0 1nF 
Cdummy2 QB 0 1nF 
.IC V(Qint) {VSS}
.model d_d1 d
+ is=1e-015
+ n=0.0001
+ tt=1e-011
.ENDS DFFSR_SHPBASIC_GEN_BUCK2
*$
**Set has higher priority in this latch
.SUBCKT SRLATCHSHP_BASIC_GEN_BUCK2 S R Q QB PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
GQ 0 Qint VALUE = {IF(V(S) > {VTHRESH},5,IF(V(R)>{VTHRESH},-5, 0))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_BASIC_GEN_BUCK2 PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr QB 1 
Cdummy1 Q 0 1n 
Cdummy2 QB 0 1n 
.IC V(Qint) {VSS}
.model d_d1 d
+ is=1e-015
+ n=0.0001
+ tt=1e-011
.ENDS SRLATCHSHP_BASIC_GEN_BUCK2
*$
**Reset has higher priority in this latch
.SUBCKT SRLATCHRHP_BASIC_GEN_BUCK2 S R Q QB PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
GQ 0 Qint VALUE = {IF(V(R) > {VTHRESH},-5,IF(V(S)>{VTHRESH},5, 0))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_BASIC_GEN_BUCK2 PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr QB 1 
Cdummy1 Q 0 1n 
Cdummy2 QB 0 1n
.IC V(Qint) {VSS}
.model d_d1 d
+ is=1e-015
+ n=0.0001
+ tt=1e-011
.ENDS SRLATCHRHP_BASIC_GEN_BUCK2

*$
**Reset has higher priority in this latch and active low set and reset - basically NAND based SR latch
.SUBCKT SBRBLATCHSHP_BASIC_GEN_BUCK2 SB RB Q QB PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
GQ 0 Qint VALUE = {IF(V(SB) < {VTHRESH},5,IF(V(RB) < {VTHRESH},-5, 0))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_BASIC_GEN_BUCK2 PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr QB 1 
.IC V(Qint) {VSS}
.model d_d1 d
+ is=1e-015
+ n=0.0001
+ tt=1e-011
.ENDS SBRBLATCHSHP_BASIC_GEN_BUCK2
*$
.SUBCKT DFFSBRB_SHPBASIC_GEN_BUCK2 Q QB CLK D RB SB PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
***Set has higher priority in this
** Changed the delay from 7n/10n to 15n/20n to help larger time step simulations
**Faster flip-flops require a a smaller time step to simulate
X1 CLK CLKdel INV_DELAY_BASIC_GEN_BUCK2 PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 15n
X2 CLK CLKdel CLKint AND2_BASIC_GEN_BUCK2 PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
GQ 0 Qint VALUE = {IF(V(SB) < {VTHRESH},5,IF(V(RB)<{VTHRESH},-5, IF(V(CLKint)> {VTHRESH}, 
+ IF(V(D)> {VTHRESH},5,-5),0)))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_DELAY_BASIC_GEN_BUCK2 PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 20n
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr Qb 1 
Cdummy1 Q 0 1nF 
Cdummy2 QB 0 1nF 
.IC V(Qint) {VSS}
.model d_d1 d
+ is=1e-015
+ n=0.0001
+ tt=1e-011
.ENDS DFFSBRB_SHPBASIC_GEN_BUCK2
*$
.SUBCKT DFFSR_RHPBASIC_GEN_BUCK2 Q QB CLK D R S PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
***Set has higher priority in this
** Changed the delay from 7n/10n to 15n/20n to help larger time step simulations
**Faster flip-flops require a a smaller time step to simulate
X1 CLK CLKdel INV_DELAY_BASIC_GEN_BUCK2 PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 15n
X2 CLK CLKdel CLKint AND2_BASIC_GEN_BUCK2 PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}  
GQ 0 Qint VALUE = {IF(V(R) > {VTHRESH},-5,IF(V(S) > {VTHRESH},5, IF(V(CLKint)> {VTHRESH}, 
+ IF(V(D)> {VTHRESH},5,-5),0)))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_DELAY_BASIC_GEN_BUCK2 PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 20n
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr Qb 1 
Cdummy1 Q 0 1nF 
Cdummy2 QB 0 1nF 
.IC V(Qint) {VSS}
.model d_d1 d
+ is=1e-015
+ n=0.0001
+ tt=1e-011
.ENDS DFFSR_RHPBASIC_GEN_BUCK2
*$
.SUBCKT LDCR_BUCK2 IN OUT
+ PARAMs:  L=1u DCR=0.01 IC=0
L	IN 1  {L} IC={IC}
RDCR	1 OUT {DCR}
.ENDS LDCR_BUCK2
*$
.SUBCKT CESR_BUCK2 IN OUT
+ PARAMs:  C=100u ESR=0.01 X=2 IC=0
C	IN 1  {C*X} IC={IC}
RESR	1 OUT {ESR/X}
.ENDS CESR_BUCK2

*$
* LM26480_LDO1
*****************************************************************************
* (C) Copyright 2014 Texas Instruments Incorporated. All rights reserved.                                            
*****************************************************************************
** This model is designed as an aid for customers of Texas Instruments.
** TI and its licensors and suppliers make no warranties, either expressed
** or implied, with respect to this model, including the warranties of 
** merchantability or fitness for a particular purpose.  The model is
** provided solely on an "as is" basis.  The entire risk as to its quality
** and performance is with the customer
*****************************************************************************
*
* This model is subject to change without notice. Texas Instruments
* Incorporated is not responsible for updating this model.
*
*****************************************************************************
*
** Released by: Analog eLab Design Center, Texas Instruments Inc.
* Part: LM26480_LDO1
* Date: 13FEB2014
* Model Type: TRANSIENT
* Simulator: PSPICE
* Simulator Version: 16.2.0.p001
* EVM Order Number: LM26480 Eval 1.2
* EVM Users Guide: SNVA329C-September 3, 2008
* Datasheet: SNVS543G-January 10, 2012
*
* Model Version: Final 1.00
*
*****************************************************************************
*
* Updates:
*
* Final 1.00
* Release to Web.
*
*****************************************************************************
.SUBCKT LM26480_LDO1_TRANS ENLDO1 FBL1 GND_L LDO1 VINLDO1 VINLDO12  
R_RX1         VX1 EGD  10 TC=0,0 
R_RX2         VX2 VGD  10 TC=0,0 
C_C00         VINLDO1 VXX  {1/(6.28 * RINP * POLE)}  TC=0,0 
R_R3         V02 DES  10 TC=0,0 
C_CX1         0 EGD  1n  TC=0,0 
C_C03         VREF VXX  {1/(6.28 * RINP * ZERO)}  TC=0,0 
E_E01         N23403 0 VALUE { IF(V(EGD)>0.51 & V(VGD)>0.51,  
+ {VREF}, 0)   }
R_R01         V01 VREF  {65.14e4*SQRT(TTRN)} TC=0,0 
C_CX2         0 VGD  1n  TC=0,0 
R_R00         VINLDO1 VXX  {RINP} TC=0,0 
E_EX2         VX2 0 VALUE { IF(V(VINLDO12,GND_L) +  
+ V(VGD)*UHYS > UVLO,  
+ 1, 0)  }
E_EX1         VX1 0 VALUE { IF(V(ENLDO1, GND_L) +  
+ V(EGD)*EHYS > VENB,  
+ 1, 0)  }
X_F1    LDO1 VZZ VINLDO1 VYY LDO_BASIC_F1_LDO1 
X_U1         VYY VZZ N14800660 0 VC_RES_LDO1 PARAMS: R_CNT={ROUT}
C_C3         0 DES  1n  TC=0,0 
E_ABM2         VYY 0 VALUE { MIN(V(DRV), (V(VZZ) + {ILIM*V(RLREG)}))    }
E_ABM3         N14800660 0 VALUE { V(DES)+1u    }
E_E02         V02 0 VALUE { V(VXX)*(ABS(V(LDO1)) +  
+ 1E-6)/(ABS(V(FBL1)) +  
+ 1E-6)  }
C_C01         GND_L VREF  {1e-6*SQRT(TTRN) }  TC=0,0 
E_ABM4         RLREG 0 VALUE { ROUT*V(DES)    }
E_E1         V01 GND_L N23403 0 1
C_C4         0 VZZ  1n  TC=0,0 
E_ABM1         DRV 0 VALUE { MIN(V(DES),  
+ MAX(V(VINLDO1) - DROP, 0))   }
R_R03         VREF VXX  {PSRR * RINP} TC=0,0 
.PARAM  psrr=1e-4 uvlo=2.9 venb=1 ilim=0.5 pole=1000 rinp=1e7 zero=10e3 rout=
+ {110e-6} ttrn=1e-4 ehys=0.4 vref=0.5 uhys=0.2 drop=0.025
.ENDS LM26480_LDO1_TRANS
*$
.subckt LDO_BASIC_F1_LDO1 1 2 3 4  
F_F1         3 4 VF_F1 1
VF_F1         1 2 0V
.ends LDO_BASIC_F1_LDO1
*$
.SUBCKT VC_RES_LDO1  vout1 vout2 vin1 vin2    PARAMS: R_cnt =110e-6
GRES  vout1 vout2  VALUE = { V(vout1,vout2) / (R_cnt*V(vin1 ,0)) }
*Rvin2 vin2 0 1Meg 
.ENDS VC_RES_LDO1
*$
.SUBCKT CESR_LDO1 IN OUT
+ PARAMs:  C=100u ESR=0.01 X=2 
C	IN 1  {C*X} 
RESR	1 OUT {ESR/X}
.ENDS CESR_LDO1
*$
* LM26480_LDO2
*****************************************************************************
* (C) Copyright 2014 Texas Instruments Incorporated. All rights reserved.                                            
*****************************************************************************
** This model is designed as an aid for customers of Texas Instruments.
** TI and its licensors and suppliers make no warranties, either expressed
** or implied, with respect to this model, including the warranties of 
** merchantability or fitness for a particular purpose.  The model is
** provided solely on an "as is" basis.  The entire risk as to its quality
** and performance is with the customer
*****************************************************************************
*
* This model is subject to change without notice. Texas Instruments
* Incorporated is not responsible for updating this model.
*
*****************************************************************************
*
** Released by: Analog eLab Design Center, Texas Instruments Inc.
* Part: LM26480_LDO2
* Date: 13FEB2014
* Model Type: TRANSIENT
* Simulator: PSPICE
* Simulator Version: 16.2.0.p001
* EVM Order Number: LM26480 Eval 1.2
* EVM Users Guide: SNVA329C-September 3, 2008
* Datasheet: SNVS543G-January 10, 2012
*
* Model Version: Final 1.00
*
*****************************************************************************
*
* Updates:
*
* Final 1.00
* Release to Web.
*
*****************************************************************************
.SUBCKT LM26480_LDO2_TRANS ENLDO2 FBL2 GND_L LDO2 VINLDO2 VINLDO12  
R_RX1         VX1 EGD  10 TC=0,0 
R_RX2         VX2 VGD  10 TC=0,0 
C_C00         VINLDO2 VXX  {1/(6.28 * RINP * POLE)}  TC=0,0 
R_R3         V02 DES  10 TC=0,0 
C_CX1         0 EGD  1n  TC=0,0 
C_C03         VREF VXX  {1/(6.28 * RINP * ZERO)}  TC=0,0 
E_E01         N23403 0 VALUE { IF(V(EGD)>0.51 & V(VGD)>0.51,  
+ {VREF}, 0)   }
R_R01         V01 VREF  {65.14e4*SQRT(TTRN)} TC=0,0 
C_CX2         0 VGD  1n  TC=0,0 
R_R00         VINLDO2 VXX  {RINP} TC=0,0 
E_EX2         VX2 0 VALUE { IF(V(VINLDO12,GND_L) +  
+ V(VGD)*UHYS > UVLO,  
+ 1, 0)  }
E_EX1         VX1 0 VALUE { IF(V(ENLDO2, GND_L) +  
+ V(EGD)*EHYS > VENB,  
+ 1, 0)  }
X_F1    LDO2 VZZ VINLDO2 VYY LDO_BASIC_F1_LDO2 
X_U1         VYY VZZ N14800660 0 VC_RES_LDO2 PARAMS: R_CNT={ROUT}
C_C3         0 DES  1n  TC=0,0 
E_ABM2         VYY 0 VALUE { MIN(V(DRV), (V(VZZ) + {ILIM*V(RLREG)}))    }
E_ABM3         N14800660 0 VALUE { V(DES)+1u    }
E_E02         V02 0 VALUE { V(VXX)*(ABS(V(LDO2)) +  
+ 1E-6)/(ABS(V(FBL2)) +  
+ 1E-6)  }
C_C01         GND_L VREF  {1e-6*SQRT(TTRN) }  TC=0,0 
E_ABM4         RLREG 0 VALUE { ROUT*V(DES)    }
E_E1         V01 GND_L N23403 0 1
C_C4         0 VZZ  1n  TC=0,0 
E_ABM1         DRV 0 VALUE { MIN(V(DES),  
+ MAX(V(VINLDO2) - DROP, 0))   }
R_R03         VREF VXX  {PSRR * RINP} TC=0,0 
.PARAM  psrr=1e-4 uvlo=2.9 venb=1 ilim=0.5 pole=1000 rinp=1e7 zero=10e3 rout=
+ {110e-6} ttrn=1e-4 ehys=0.4 vref=0.5 uhys=0.2 drop=0.025
.ENDS LM26480_LDO2_TRANS
*$
.subckt LDO_BASIC_F1_LDO2 1 2 3 4  
F_F1         3 4 VF_F1 1
VF_F1         1 2 0V
.ends LDO_BASIC_F1_LDO2
*$
.SUBCKT VC_RES_LDO2  vout1 vout2 vin1 vin2    PARAMS: R_cnt =110e-6
GRES  vout1 vout2  VALUE = { V(vout1,vout2) / (R_cnt*V(vin1 ,0)) }
*Rvin2 vin2 0 1Meg 
.ENDS VC_RES_LDO2
*$
.SUBCKT CESR_LDO2 IN OUT
+ PARAMs:  C=100u ESR=0.01 X=2 
C	IN 1  {C*X} 
RESR	1 OUT {ESR/X}
.ENDS CESR_LDO2
*$