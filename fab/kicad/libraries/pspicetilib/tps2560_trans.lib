*$
* TPS2560_TRANS
*****************************************************************************
* (C) Copyright 2011 Texas Instruments Incorporated. All rights reserved.
*****************************************************************************
** This model is designed as an aid for customers of Texas Instruments.
** TI and its licensors and suppliers make no warranties, either expressed
** or implied, with respect to this model, including the warranties of 
** merchantability or fitness for a particular purpose.  The model is
** provided solely on an "as is" basis.  The entire risk as to its quality
** and performance is with the customer
*****************************************************************************
*
** Released by: Analog eLab Design Center, Texas Instruments Inc.
* Part: TPS2560
* Date: 12/14/2011
* Model Type: Transient
* Simulator: PSPICE
* Simulator Version: 16.2
* EVM Order Number: TPS2560EVM-424
* EVM Users Guide: SLUU394 - November 2009
* Datasheet: SLVS930 - December 2009
*
* Model Version: Final 1.00
*
*****************************************************************************
*
* Updates:
*
* Final 1.00
* Release to Web.
*
*****************************************************************************
.subckt TPS2560_TRANS GND IN_0 IN_1 EN1_B EN2_B FAULT1_B OUT1 OUT2 ILIM FAULT2_B PWPD
X_U1_U31         U1_N16746444 U1_N16746460 U1_N16746476 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U1_U46         U1_N16746440 U1_N16746444 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U1_U32         U1_N16746460 U1_N16746440 U1_N16746488 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U1_H1    ILIM U1_N16746194 ILIM_INT 0 SUPPLY_CURRENT_U1_H1 
V_U1_V45         U1_N16746194 0 0.4
G_U1_ABM2I2         IN_0 GND VALUE { IF(V(U1_N16746476) > 0.5, 85u,  
+ IF(V(U1_N16746488) > 0.5, 100u, 0.1u))   }
X_U1_U51         ILIM_INT U1_N16746346 U1_N16746440 COMP_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5
V_U1_V46         U1_N16746346 0 1.4
X_U1_U37         ENOK1 ENOK2 U1_N16746460 OR2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
R_R1         IN_1 IN_0  1m  
X_HK_U823         HK_N16745438 HK_ILIM_DET HK_POS AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_HK_U49         IN_0 HK_N16744252 HK_N16745620 HK_VCCOK COMPHYS_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_HK_U22         HK_COMP_OUT POWEROK1 HK_ILIM_DET AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
V_HK_V9         HK_N16744228 0 0.88Vdc
X_HK_U27         HK_VCCOK ENOK1 POWEROK1 AND2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_HK_S3    HK_N16745924 0 FAULT1_B 0 HK_HK_S3 
X_HK_U48         EN1_B HK_N16744228 HK_N16745820 HK_N16744876 COMPHYS_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_HK_U50         ISENSE1 HK_N16745216 HK_COMP_OUT COMP_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5
C_HK_C3         HK_9MS 0  1u  
X_HK_U37         HK_POS HK_NEG HK_CHANGE OR2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_HK_S4    HK_SET0 0 HK_9MS 0 HK_HK_S4 
X_HK_U826         HK_N16744876 HK_N16744318 ENOK1 XNOR2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_HK_U824         HK_N16745494 HK_N16745560 INV_DELAY_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5 DELAY=10u
R_HK_R5         HK_ILIM_DET HK_9MS  12.96k  
X_HK_U825         HK_N16745560 HK_N16745494 HK_NEG AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_HK_S5    HK_SET1 0 HK_N16745084 HK_9MS HK_HK_S5 
V_HK_V16         HK_N16744318 0 {EN_P}
V_HK_V11         HK_N16744252 0 2.35Vdc
X_HK_U25         HK_9MS HK_BUF_OUT BUF_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5
V_HK_V1         HK_N16745084 0 1Vdc
X_HK_U43         HK_BUF_OUT HK_N16744612 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_HK_U44         HK_ILIM_DET HK_N16745494 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_HK_U28         POWEROK1 HK_BUF_OUT HK_N16745924 AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
V_HK_V13         HK_N16745620 0 35mVdc
V_HK_V14         HK_N16745820 0 55mVdc
X_HK_U21         HK_CHANGE HK_BUF_OUT HK_SET1 AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_HK_U822         HK_ILIM_DET HK_N16745438 INV_DELAY_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5 DELAY=10u
X_HK_U24         HK_N16744612 HK_CHANGE HK_SET0 AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
E_HK_ABM1         HK_N16745216 0 VALUE { V(ILIM_INT) * 0.98    }
R_GATE_DRIVE_R8         POWEROK1 GATE_DRIVE_TON  0.09k  
D_GATE_DRIVE_D9         GATE_DRIVE_N01421 OUT1 D_D1 
X_GATE_DRIVE_U655         GATE_DRIVE_N01591 GATE_DRIVE_N01625 INV_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
C_GATE_DRIVE_C7         0 OUT1  1f IC=0 
X_GATE_DRIVE_U825         GATE_DRIVE_TOFF GATE_DRIVE_N01477 GATE_DRIVE_NEG
+  AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_GATE_DRIVE_U648         GATE_DRIVE_N01883 0 ISENSE1 ILIM_INT VCVSCLIP_PS
+  PARAMS: GAIN=1 VOMAX=20 VOMIN=0
C_GATE_DRIVE_C6         GATE_DRIVE_TOFF 0  1u  
R_GATE_DRIVE_R10         OUT1 0  1e9  
C_GATE_DRIVE_C4         0 GATE_DRIVE_GATE  71p IC=0 
X_GATE_DRIVE_U44         POWEROK1 GATE_DRIVE_N01477 INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
R_GATE_DRIVE_R9         POWEROK1 GATE_DRIVE_TOFF  3.05k  
V_GATE_DRIVE_V1         0 GATE_DRIVE_N01421 0.7Vdc
X_GATE_DRIVE_U6         GATE_DRIVE_TON GATE_DRIVE_TOFF GATE_DRIVE_NEG
+  GATE_DRIVE_N01591 MUX2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_GATE_DRIVE_U651         GATE_DRIVE_GATE 0 POWEROK1 0 VCCS_CLIP_PS PARAMS:
+  GM=-1m IOMAX=0 IOMIN=-125n
X_GATE_DRIVE_U646         GATE_DRIVE_D GATE_DRIVE_GATE OUT1 NMOSIDEAL_PS
+  PARAMS: K=3.75 VTH=1
D_GATE_DRIVE_D10         GATE_DRIVE_GATE GATE_DRIVE_N01125 D_D1 
X_GATE_DRIVE_U650         GATE_DRIVE_GATE 0 GATE_DRIVE_N01625 0 VCCS_CLIP_PS
+  PARAMS: GM=1m IOMAX=595n IOMIN=0
G_GATE_DRIVE_ABMII1         GATE_DRIVE_GATE 0 VALUE {
+  LIMIT((1.7u)*PWRS(V(GATE_DRIVE_N01883),2)+(9.9u)*V(GATE_DRIVE_N01883),0,1m)   
+  }
V_GATE_DRIVE_V2         GATE_DRIVE_N01125 0 12Vdc
D_GATE_DRIVE_D11         0 GATE_DRIVE_GATE D_D1 
C_GATE_DRIVE_C5         GATE_DRIVE_TON 0  1u  
X_GATE_DRIVE_H1    IN_0 GATE_DRIVE_D ISENSE1 0 GATE_DRIVE_GATE_DRIVE_H1 
X_HK1_U823         HK1_N16745438 HK1_ILIM_DET HK1_POS AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_HK1_U49         IN_0 HK1_N16744252 HK1_N16745620 HK1_VCCOK COMPHYS_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_HK1_U22         HK1_COMP_OUT POWEROK2 HK1_ILIM_DET AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
V_HK1_V9         HK1_N16744228 0 0.88Vdc
X_HK1_U27         HK1_VCCOK ENOK2 POWEROK2 AND2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_HK1_S3    HK1_N16745924 0 FAULT2_B 0 HK_HK1_S3 
X_HK1_U48         EN2_B HK1_N16744228 HK1_N16745820 HK1_N16744876
+  COMPHYS_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_HK1_U50         ISENSE2 HK1_N16745216 HK1_COMP_OUT COMP_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5
C_HK1_C3         HK1_9MS 0  1u  
X_HK1_U37         HK1_POS HK1_NEG HK1_CHANGE OR2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_HK1_S4    HK1_SET0 0 HK1_9MS 0 HK_HK1_S4 
X_HK1_U826         HK1_N16744876 HK1_N16744318 ENOK2 XNOR2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_HK1_U824         HK1_N16745494 HK1_N16745560 INV_DELAY_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5 DELAY=10u
R_HK1_R5         HK1_ILIM_DET HK1_9MS  12.96k  
X_HK1_U825         HK1_N16745560 HK1_N16745494 HK1_NEG AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_HK1_S5    HK1_SET1 0 HK1_N16745084 HK1_9MS HK_HK1_S5 
V_HK1_V16         HK1_N16744318 0 {EN_P}
V_HK1_V11         HK1_N16744252 0 2.35Vdc
X_HK1_U25         HK1_9MS HK1_BUF_OUT BUF_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5
V_HK1_V1         HK1_N16745084 0 1Vdc
X_HK1_U43         HK1_BUF_OUT HK1_N16744612 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_HK1_U44         HK1_ILIM_DET HK1_N16745494 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_HK1_U28         POWEROK2 HK1_BUF_OUT HK1_N16745924 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
V_HK1_V13         HK1_N16745620 0 35mVdc
V_HK1_V14         HK1_N16745820 0 55mVdc
X_HK1_U21         HK1_CHANGE HK1_BUF_OUT HK1_SET1 AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_HK1_U822         HK1_ILIM_DET HK1_N16745438 INV_DELAY_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5 DELAY=10u
X_HK1_U24         HK1_N16744612 HK1_CHANGE HK1_SET0 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
E_HK1_ABM1         HK1_N16745216 0 VALUE { V(ILIM_INT) * 0.98    }
R_GATE_DRIVE1_R8         POWEROK2 GATE_DRIVE1_TON  0.09k  
D_GATE_DRIVE1_D9         GATE_DRIVE1_N01421 OUT2 D_D1 
X_GATE_DRIVE1_U655         GATE_DRIVE1_N01591 GATE_DRIVE1_N01625 INV_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
C_GATE_DRIVE1_C7         0 OUT2  1f IC=0 
X_GATE_DRIVE1_U825         GATE_DRIVE1_TOFF GATE_DRIVE1_N01477 GATE_DRIVE1_NEG
+  AND2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_GATE_DRIVE1_U648         GATE_DRIVE1_N01883 0 ISENSE2 ILIM_INT VCVSCLIP_PS
+  PARAMS: GAIN=1 VOMAX=20 VOMIN=0
C_GATE_DRIVE1_C6         GATE_DRIVE1_TOFF 0  1u  
R_GATE_DRIVE1_R10         OUT2 0  1e9  
C_GATE_DRIVE1_C4         0 GATE_DRIVE1_GATE  71p IC=0 
X_GATE_DRIVE1_U44         POWEROK2 GATE_DRIVE1_N01477 INV_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
R_GATE_DRIVE1_R9         POWEROK2 GATE_DRIVE1_TOFF  3.05k  
V_GATE_DRIVE1_V1         0 GATE_DRIVE1_N01421 0.7Vdc
X_GATE_DRIVE1_U6         GATE_DRIVE1_TON GATE_DRIVE1_TOFF GATE_DRIVE1_NEG
+  GATE_DRIVE1_N01591 MUX2_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
X_GATE_DRIVE1_U651         GATE_DRIVE1_GATE 0 POWEROK2 0 VCCS_CLIP_PS PARAMS:
+  GM=-1m IOMAX=0 IOMIN=-125n
X_GATE_DRIVE1_U646         GATE_DRIVE1_D GATE_DRIVE1_GATE OUT2 NMOSIDEAL_PS
+  PARAMS: K=3.75 VTH=1
D_GATE_DRIVE1_D10         GATE_DRIVE1_GATE GATE_DRIVE1_N01125 D_D1 
X_GATE_DRIVE1_U650         GATE_DRIVE1_GATE 0 GATE_DRIVE1_N01625 0 VCCS_CLIP_PS
+  PARAMS: GM=1m IOMAX=595n IOMIN=0
G_GATE_DRIVE1_ABMII1         GATE_DRIVE1_GATE 0 VALUE {
+  LIMIT((1.7u)*PWRS(V(GATE_DRIVE1_N01883),2)+(9.9u)*V(GATE_DRIVE1_N01883),0,1m) 
+    }
V_GATE_DRIVE1_V2         GATE_DRIVE1_N01125 0 12Vdc
D_GATE_DRIVE1_D11         0 GATE_DRIVE1_GATE D_D1 
C_GATE_DRIVE1_C5         GATE_DRIVE1_TON 0  1u  
X_GATE_DRIVE1_H1    IN_0 GATE_DRIVE1_D ISENSE2 0 GATE_DRIVE_GATE_DRIVE1_H1 
.param EN_P=0
.ends TPS2560_TRANS
*$
.subckt SUPPLY_CURRENT_U1_H1 1 2 3 4  
H_U1_H1         3 4 VH_U1_H1 -138.1k
VH_U1_H1         1 2 0V
.ends SUPPLY_CURRENT_U1_H1
*$
.subckt HK_HK_S3 1 2 3 4  
S_HK_S3         3 4 1 2 _HK_S3
RS_HK_S3         1 2 1G
.MODEL         _HK_S3 VSWITCH Roff=1G Ron=60 Voff=0.25V Von=0.75V
.ends HK_HK_S3
*$
.subckt HK_HK_S4 1 2 3 4  
S_HK_S4         3 4 1 2 _HK_S4
RS_HK_S4         1 2 1G
.MODEL         _HK_S4 VSWITCH Roff=1G Ron=1.0 Voff=0.25V Von=0.75V
.ends HK_HK_S4
*$
.subckt HK_HK_S5 1 2 3 4  
S_HK_S5         3 4 1 2 _HK_S5
RS_HK_S5         1 2 1G
.MODEL         _HK_S5 VSWITCH Roff=1G Ron=1.0 Voff=0.25V Von=0.75V
.ends HK_HK_S5
*$
.subckt GATE_DRIVE_GATE_DRIVE_H1 1 2 3 4  
H_GATE_DRIVE_H1         3 4 VH_GATE_DRIVE_H1 1
VH_GATE_DRIVE_H1         1 2 0V
.ends GATE_DRIVE_GATE_DRIVE_H1
*$
.subckt HK_HK1_S3 1 2 3 4  
S_HK1_S3         3 4 1 2 _HK1_S3
RS_HK1_S3         1 2 1G
.MODEL         _HK1_S3 VSWITCH Roff=1G Ron=60 Voff=0.25V Von=0.75V
.ends HK_HK1_S3
*$
.subckt HK_HK1_S4 1 2 3 4  
S_HK1_S4         3 4 1 2 _HK1_S4
RS_HK1_S4         1 2 1G
.MODEL         _HK1_S4 VSWITCH Roff=1G Ron=1.0 Voff=0.25V Von=0.75V
.ends HK_HK1_S4
*$
.subckt HK_HK1_S5 1 2 3 4  
S_HK1_S5         3 4 1 2 _HK1_S5
RS_HK1_S5         1 2 1G
.MODEL         _HK1_S5 VSWITCH Roff=1G Ron=1.0 Voff=0.25V Von=0.75V
.ends HK_HK1_S5
*$
.subckt GATE_DRIVE_GATE_DRIVE1_H1 1 2 3 4  
H_GATE_DRIVE1_H1         3 4 VH_GATE_DRIVE1_H1 1
VH_GATE_DRIVE1_H1         1 2 0V
.ends GATE_DRIVE_GATE_DRIVE1_H1
*$
.model D_D1 d
+ is=1e-015
+ tt=1e-011
+ rs=0.05
+ n=0.1
*$
.SUBCKT CESR IN OUT
+ PARAMs:  C=100u ESR=0.01 X=2 IC=0
C	IN 1  {C*X} IC={IC}
RESR	1 OUT {ESR/X}
.ENDS CESR
*$
.SUBCKT NMOSIDEAL_PS D G S PARAMS: k=1 vth=0
RDDUM D 0 1e11
RSDUM S 0 1e11
RGDUM G 0 1e11
EON Yp 0 VALUE={IF(V(G,S) > {vth}, 1, 0)}
GOUT D S VALUE={IF(V(D,S) >= (V(G,S)-{vth}), V(Yp)*({k}/2)*(V(G,S)-{vth})**2, V(Yp)*({k})*(V(G,S)-{vth}-V(D,S)/2)*V(D,S))}
.ENDS NMOSIDEAL_PS
*$
.SUBCKT NSW_PS D G S PARAMS: RONval=10k VTHval=0.7 VCHARval=0.01 CGval=0.01pF CDval=0.01pF CSval=0.01pf
RDDUM D 0 1e11
RSDUM S 0 1e11
RGDUM G 0 1e11
CG G D {CGval}
CD D S {CDval}
CS G S {CSval}
***EEXP F1 0 VALUE={LIMIT(((V(G,S)-VTHval)/VCHARval),-80,80)} 
Etest test 0 VALUE={IF(V(D) > V(S), V(G,S), V(G,D))}
GOUT D S VALUE={V(D,S)/(RONval*(1+EXP(-LIMIT(((V(test)-VTHval)/VCHARval),-80,80))))}
.ENDS NSW_PS
*$
.SUBCKT PSW_PS D G S PARAMS: RONval=10k VTHval=0.7 VCHARval=0.01 CGval=0.01pF CDval=0.01pF 
RDDUM D 0 1e11
RSDUM S 0 1e11
RGDUM G 0 1e11
CG G D {CGval}
CD D S {CDval}
***EEXP F1 0 VALUE={LIMIT(((V(S,G)-VTHval)/VCHARval),-80,80)} 
Etest test 0 VALUE={IF(V(S) > V(D), V(S,G), V(D,G))}
GOUT S D VALUE={V(S,D)/(RONval*(1+EXP(-LIMIT(((V(test)-VTHval)/VCHARval),-80,80))))}
.ENDS PSW_PS
*$
.SUBCKT VCCS_CLIP_PS IOUT_P IOUT_N VIN_P VIN_N PARAMS: GM=1 IOMAX=1 IOMIN=-1
RCTRLP VIN_P 0 1e11
RCTRLN VIN_N 0 1e11
GOUT IOUT_P IOUT_N VALUE={LIMIT({GM}*V(VIN_P,VIN_N), {IOMIN},{IOMAX})}
ROUTP IOUT_P 0 1e11
ROUTN IOUT_N 0 1e11
.ends VCCS_CLIP_PS
*$
.SUBCKT VCVSCLIP_PS YP YN POS NEG PARAMS: gain=1 vomax=1 vomin=-1
RP POS 0 1e11
CP POS 0 0.01pF
RN NEG 0 1e11
CN NEG 0 0.01pF
ROUTN YN 0 1e11
COUTN YN 0 0.01pF
***** boolean ************
EVCLP YP YN VALUE={LIMIT((V(POS)-V(NEG))*{gain},{vomin},{vomax})}
**************************
RO YP 0 1e11
.ENDS VCVSCLIP_PS
*$
.SUBCKT SWITCH_PS A SWD SWC PARAMS: vth=500e-3 ron=1e3 roff=1e6 tdelay=1e-9 trise=1e-9 tfall=1e-9 initval=0
*
VS VSUP 0 DC 1
***** boolean ************
EBUF1 Ypp 0 VALUE={IF(V(A) > ({vth}), {1-initval}, {initval})}
ROUTpp Ypp 0 1e11
***** add delay lines ****
XNSW1 OUTp Ypp 0 NSW_PS PARAMS: RONval={(tdelay+1e-15)/(1e-12*0.693)} VTHval=0.5
XPSW1 OUTp Ypp VSUP PSW_PS PARAMS: RONval={(tdelay+1e-15)/(1e-12*0.693)} VTHval=0.5
CDEL1 OUTp 0 1pF
ETHRESH Yp 0 VALUE={IF(V(OUTp) > 0.5, 1, 0)}
ROUTp Yp 0 1e11
** Add rise and fall *****
XNSW2 OUTr Yp 0 NSW_PS PARAMS: RONval={(trise+1e-15)/(1e-12*2.3)} VTHval=0.5
XPSW2 OUTr Yp VSUP PSW_PS PARAMS: RONval={(tfall+1e-15)/(1e-12*2.3)} VTHval=0.5
CDEL2 OUTr 0 1pF
***Switch ************
EOUT VG1 SWC VALUE={V(OUTr)}
XNSW3 SWD VG1 SWC NSW_PS PARAMS: RONval={ron} VTHval=0.5
.ENDS SWITCH_PS
*$
.SUBCKT COMP_BASIC_GEN INP INM Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5	
E_ABM Yint 0 VALUE {IF (V(INP) > 
+ V(INM), {VDD},{VSS})}
R1 Yint Y 1
C1 Y 0 1n
.ENDS COMP_BASIC_GEN
*$
.SUBCKT COMPHYS_BASIC_GEN INP INM HYS OUT PARAMS: VDD=1 VSS=0 VTHRESH=0.5	
EIN INP1 INM1 INP INM 1 
EHYS INP1 INP2 VALUE { IF( V(1) > {VTHRESH},-V(HYS),0) }
EOUT OUT 0 VALUE { IF( V(INP2)>V(INM1), {VDD} ,{VSS}) }
R1 OUT 1 1
C1 1 0 5n
RINP1 INP1 0 1K
.ENDS COMPHYS_BASIC_GEN
*$
.SUBCKT AND2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND2_BASIC_GEN
*$
.SUBCKT OR2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR2_BASIC_GEN
*$
.SUBCKT INV_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS INV_BASIC_GEN
*$
.SUBCKT INV_DELAY_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY = 10n 
E_ABMGATE1    YINT1 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT1 YINT2 1
CINT YINT2 0 {DELAY*1.3}
E_ABMGATE2    YINT3 0 VALUE {{IF(V(YINT2) > {VTHRESH} , 
+ {VSS},{VDD})}}
RINT2 YINT3 Y 1
CINT2 Y 0 1n
.ENDS INV_DELAY_BASIC_GEN
*$
.SUBCKT XNOR2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE  YINT 0 VALUE {{IF(V(A) > {VTHRESH}  ^  
+ V(B) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS XNOR2_BASIC_GEN
*$
.SUBCKT MUX2_BASIC_GEN A B S Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE  YINT 0 VALUE {{IF(V(S) > {VTHRESH},  
+ V(B),V(A))}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS MUX2_BASIC_GEN
*$
.SUBCKT BUF_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS BUF_BASIC_GEN
*$
