*$
* LV14360P
*****************************************************************************
* (C) Copyright 2020 Texas Instruments Incorporated. All rights reserved.                                            
*****************************************************************************
** This model is designed as an aid for customers of Texas Instruments.
** TI and its licensors and suppliers make no warranties, either expressed
** or implied, with respect to this model, including the warranties of 
** merchantability or fitness for a particular purpose.  The model is
** provided solely on an "as is" basis.  The entire risk as to its quality
** and performance is with the customer
*****************************************************************************
*
* This model is subject to change without notice. Texas Instruments
* Incorporated is not responsible for updating this model.
*
*****************************************************************************
*
** Released by: Texas Instruments Inc.
* Part: LV14360P
* Date: 30JUL2020
* Model Type: TRANSIENT
* Simulator: PSPICE
* Simulator Version: PSPICE 17.4-2019 S006
* EVM Order Number: NA
* EVM Users Guide: NA
* Datasheet: SNVSAZ1 â€“AUGUST 2017
* Topologies Supported: Buck, Inverting Buck boost
*
* Model Version: Final 1.00
*
*****************************************************************************
*
* Updates:
*
* Final 1.00
* Release to Web.
*
*****************************************************************************
*
* Model Usage Notes:
*
* A. Features have been modelled
*	1. Output Voltage Setting
*	2. Internal Soft-start
*	3. Current Limit
*	4. Power Good
*	5. UVLO Protection
*   6. OVP protection
*
* B. Features have not been modelled
*	1. Operating Quiescent Current
*   2. Shutdown Current 
*   3. Temperature dependent characteristics
*   4. PLL lock in time
*   5. Sync feature works with fixed frequency external clock. If the clock frequency 
*	   varies, switching frequency locks with minimum frequency of external clock.
*
* C. Application Notes
*	1. The parameter SS has been used to reach the steady state faster. 
*      Keep SS = 0 to observe startup behaviour. 
*      Keep SS = 1 to observe for faster Steady state.
*
*****************************************************************************
.SUBCKT LV14360P_TRANS BOOT EN FB GND PAD PWRGD RT/SYNC SW VIN  PARAMS: SS=0
R583 PAD 0 1G  
V_U20_V3         U20_N16673216 0 0.705
X_U20_U614         U20_N16673236 U20_N16674190 U20_N16768439 AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
X_U20_U2         U20_N16674291 N16770533 U20_N16674174 U20_N16674190
+  COMPHYS_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
V_U20_V2         U20_N16673162 0 15m
X_U20_S2    U20_N16768439 0 PWRGD GND PGOOD_U20_S2 
V_U20_V4         U20_N16674174 0 15m
V_U20_V5         U20_N16674291 0 0.8025
X_U20_U1         N16770533 U20_N16673216 U20_N16673162 U20_N16673236
+  COMPHYS_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_E1         N16770533 0 FB GND 1
E_U100_ABM59         U100_SYNC_DET 0 VALUE { IF((V(U100_RT_SYNC_CHCK)<0.98 &
+  V(U100_RT_SYNC_CHCK)>1.02),1,0)    }
E_U100_E53         U100_N17466093 0 U100_VRAMP U100_SYNC_FREQ_CHCK 1000000
X_U100_U734         U100_N17467414 U100_N17467423 BUF_DELAY_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5 DELAY=10n
X_U100_U186         U100_CLK_DET SDWN U100_RAMP_CNTRL OR2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
V_U100_V105         U100_N17467204 0 4.2Vdc
E_U100_ABM190         U100_FREQ_TO_TIME 0 VALUE {
+  V(U100_SYNC_FREQ_CHCK)*.000001    }
R_U100_R340         U100_N17467201 U100_N17466532  1  
E_U100_ABM51         U100_N17465902 0 VALUE {
+  if(V(U100_SYNC_DET)>0.5,0,(((-V(I_RT)*1000)  
+ **(1/1.088))*90.52748*1u*1.015))   }
X_U100_U725         U100_N17466245 U100_N17467423 U100_N17465899 AND2_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
I_U100_I17         U100_N17467204 U100_VRAMP DC 1Adc  
V_U100_V99         U100_N17466150 0 1.198
E_U100_ABM54         U100_N17466738 0 VALUE { 
+ {IF(V(U100_N17466711)<0.1875,0.125*V(U100_N17466470),  
+ (IF(V(U100_N17466711)<0.375,0.25*V(U100_N17466470),  
+ (IF(V(U100_N17466711)<0.5625,0.5*V(U100_N17466470),V(U100_N17466470))))))} 
+  }
V_U100_V100         U100_N17466179 0 1.699
X_U100_U183         SDWN U100_N16596174 U100_N17466883 OR2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U100_S59    U100_N17466883 0 RAMPIN 0 Oscillator_RT_SYNC_U100_S59 
D_U100_D78         U100_N17475790 U100_N17476944 D_D1 
V_U100_V103         U100_N17466912 U100_N17467201 0
E_U100_E57         U100_N17466532 GND U100_N17465891 0 1
C_U100_C183         0 U100_N17475790  1n  
E_U100_ABM52         U100_N17465891 0 VALUE { IF(V(U100_SYNC_DET)>.5,0,1)    }
R_U100_R343         0 RT/SYNC  500MEG  
C_U100_C112         0 U100_SYNC_FREQ_CHCK  1n  
G_U100_ABMII15         U100_N17466947 RAMPIN VALUE { V(U100_N17466738)    }
C_U100_C179         0 U100_VRAMP  1u IC=0 
E_U100_ABM57         U100_N17467666 0 VALUE { 5p/V(U100_FREQ_TO_TIME)    }
X_U100_U724         U100_RT_SYNC_CHCK U100_N17466179 U100_N17466150
+  U100_SYNC_LVL_CHCK COMPHYS_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
C_U100_C177         0 U100_SYNC_EN  1n IC=0  
X_U100_H13    RT/SYNC U100_N17466912 I_RT 0 Oscillator_RT_SYNC_U100_H13 
E_U100_ABM55         U100_N17476944 0 VALUE { IF(V(U100_SYNC_LVL_CHCK)<0.5,0,1)
+     }
D_U100_D73         U100_VRAMP U100_N17467204 D_D1 
R_U100_R339         GND RT/SYNC  500meg  
E_U100_ABM56         U100_N17466470 0 VALUE {
+  IF(V(U100_SYNC_EN)>0.5,V(U100_N17467666),V(U100_N17465902))    }
V_U100_V106         U100_N16597642 0 1
E_U100_E55         U100_RT_SYNC_CHCK 0 RT/SYNC GND 1
X_U100_U730         U100_N17466245 U100_N17467414 INV_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
C_U100_C113         RAMPIN 0  5p IC=0 
V_U100_V104         U100_N17466947 0 5
R_U100_R347         U100_N17476944 U100_N17475790  42  
X_U100_U735         MUXCLK U100_N16596174 BUF_DELAY_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5 DELAY=20n
E_U100_E58         U100_N17466245 0 U100_N17475790 0 1
X_U100_U600         RAMPIN U100_N16597642 MUXCLK COMP_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5
E_U100_ABM58         U100_CLK_DET 0 VALUE { IF(V(U100_N17465899)<0.5,0,1)    }
R_U100_R344         I_RT 0  1  
R_U100_R341         U100_SYNC_FREQ_OK U100_SYNC_EN  1  
E_U100_E56         U100_N17466711 0 FB GND 1
X_U100_S60    U100_RAMP_CNTRL 0 U100_VRAMP 0 Oscillator_RT_SYNC_U100_S60 
D_U100_D77         U100_N17466093 U100_SYNC_FREQ_CHCK D_D2 
E_U100_ABM53         U100_SYNC_FREQ_OK 0 VALUE {
+  IF((V(U100_SYNC_FREQ_CHCK)>424.78m & V(U100_SYNC_FREQ_CHCK)<3.99),1,0)    }
D_U100_D74         RAMPIN U100_N17466947 D_D1 
X_U8_S35    U8_BOOT_SW_ON 0 BOOT U8_N16776102 Driver_U8_S35 
R_U8_R4         U8_N167734341 U8_N16770054  1  
E_U8_ABM170         U8_N16770098 0 VALUE { V(BOOT) - V(SW)    }
D_U8_D15         VIN U8_N16776102 D_D1 
R_U8_R247         U8_N16771150 BOOT_UVLO  1  
X_U8_U623         U8_N16769728 PWM_FINAL U8_HDRVIN AND2_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=500E-3
X_U8_U618         SDWN U8_SDWN_N INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
E_U8_ABM3         U8_N167734341 0 VALUE { ((V(U8_OUT) *-100m)+ 3.3)    }
R_U8_R251         U8_LDRV U8_N16782621  14.43  
D_U8_D14         SW U8_N16770032 D_D1 
X_U8_S5    U8_N16779571 0 BOOT HDRV Driver_U8_S5 
R_U8_R246         GND BOOT  10MEG  
C_U8_C145         0 U8_N16782621  1n  
X_U8_U6         U8_N16770098 U8_N16770054 U8_OUT COMP_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5
X_U8_S4    U8_N16771034 0 HDRV SW Driver_U8_S4 
X_U8_U617         U8_LDRV U8_N16782621 U8_N16779807 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U8_U616         U8_LDRV ENAB U8_BOOT_ON U8_SDWN_N U8_BOOT_SW_ON
+  AND4_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
R_U8_R249         U8_N16779807 U8_N16771034  1  
X_U8_U625         SDWN U8_N16769728 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U8_S37    U8_BOOT_SW_ON 0 U8_N16776713 GND Driver_U8_S37 
C_U8_C4         0 U8_N16770054  1n  
R_U8_R250         U8_HDRVIN U8_N16770138  14.43  
X_U8_U621         U8_HDRVIN U8_LDRV INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
C_U8_C143         0 U8_N16771034  1.443n   
R_U8_R248         U8_N16779589 U8_N16779571  1  
C_U8_C144         0 U8_N16770138  1n  
X_U8_S31    HDRV SW U8_N16770032 SW Driver_U8_S31 
C_U8_C142         0 U8_N16779571  1.443n   
X_U8_H2    VIN U8_N16770032 ISW 0 Driver_U8_H2 
E_U8_ABM168         U8_N16771150 0 VALUE { {IF((V(BOOT) - V(SW)) < 3.2,0,1)}   
+  }
D_U8_D16         SW U8_N16776713 D_D3 
X_U8_U603         U8_OUT U8_BOOT_ON INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
C_U8_C141         0 BOOT_UVLO  1n  
X_U8_U624         U8_HDRVIN U8_N16770138 U8_N16779589 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
V_U11_V67         U11_N16735603 GND 1.2
X_U11_U604         ENAB U11_N16735543 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
X_U11_U605         U11_N16735707 UVLO INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
V_U11_V65         U11_N167354110 0 0.285
I_U11_I1         0 EN DC 1u  
X_U11_U615         VIN U11_N16735549 U11_N167354110 U11_N16735707
+  COMPHYS_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
R_U11_R288         EN 0  10MEG  
V_U11_V64         U11_N16735549 GND 4.2
X_U11_U616         EN U11_N16735603 ENAB COMP_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5
X_U11_U601         U11_N16735543 UVLO SDWN OR2_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
G_U11_ABMII1         0 EN VALUE { if(V(ENAB)>0.5,3.6u,0)    }
C_U7_C172         0 U7_N16489700  1.443n  
X_U7_U620         U7_N16489522 U7_N16489700 d_d
X_U7_U824         U7_N16489522 U7_N16489700 PWM_CLK PWM_FINAL OR3_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
R_U7_R272         U7_N16489522 U7_N16489700  75  
X_U7_U822         PWM_CLK U7_N16497188 INV_DELAY_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=0.5 DELAY=15n
X_U7_U823         U7_N16497188 PWM_CLK U7_N16489522 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
D_U5_D16         COMP U5_N16784215 D_D2 
V_U5_V5         U5_N16784218 0 0.39
R_U5_R12         U5_N16784146 COMP  360k  
R_U5_R11         U5_N16784249 OL  1  
C_U5_C5         0 COMP  50f  
R_U5_R4         0 COMP  250Meg  
E_U5_E9         U5_N16784961 0 FB GND 1
C_U5_C10         0 U5_N16784146  60p  
E_U5_ABM8         U5_N16784259 0 VALUE { {IF(V(COMP) > 2.2,1,0)}    }
C_U5_C166         0 U5_GM  1n  
X_U5_U615         SS_INT U5_N16784277 SS2GM
X_U5_S5    UVLO 0 COMP 0 ErrorAmp_U5_S5 
C_U5_C9         0 OL  1n  
D_U5_D15         U5_N16784218 COMP D_D2 
X_U5_U614         U5_N16784259 U5_N16784224 U5_N16784249 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
R_U5_R290         U5_N16784277 U5_GM  1  
G_U5_ABM2I1         0 COMP VALUE { {LIMIT((V(VREF) - V(U5_N16784961))*V(U5_GM),
+  -3u,3u)}    }
V_U5_V6         U5_N16784215 0 2.85
X_U5_U603         SDWN U5_N16784224 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
V_U4_V71         U4_N7447878 GND 1.2Vdc
E_U4_ABM179         U4_N7442331 0 VALUE { {IF(V(SDWN) > 0.5 | (V(OL) > 0.5 ),
+  1,0)}    }
V_U4_V70         U4_N7442025 GND 2.85
D_U4_D64         SS U4_N7447878 D_D1 
C_U4_C16         SS GND  18n IC={{SS}*2.85}  
R_U4_R15         U4_N7442331 U4_N7442337  1  
G_U4_ABMII2         SS GND VALUE { {IF(V(U4_N7442337) > 0.5,400u,0)}    }
D_U4_D62         SS U4_N7442025 D_D1 
D_U4_D77         GND SS D_D2 
E_U4_E1         SS_INT 0 SS GND 1
G_U4_ABMII1         U4_N7442025 SS VALUE { {IF(V(U4_N7441869) > 0.5,3u,0)}    }
E_U4_ABM178         VREF 0 VALUE { IF(V(SS_INT) < 0.75, V(SS_INT),0.75)    }
C_U4_C15         0 U4_N7442337  1n  
X_U4_U1         SDWN U4_N7441869 INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
V_U6_V81         U6_N16595725 0 0.01
E_U6_ABM149         U6_VRAMP 0 VALUE { V(RAMPIN)*0.0049897m    }
X_U6_U15         MUXCLK U6_PWM PWM_CLK N16777270 SRLATCHRHP_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=0.5
X_U6_U605         U6_N16595845 U6_N16595829 U6_N16777280 AND2_BASIC_GEN PARAMS:
+  VDD=1 VSS=0 VTHRESH=500E-3
X_U6_U625         U6_N16777280 U6_PWM INV_BASIC_GEN PARAMS: VDD=1 VSS=0
+  VTHRESH=500E-3
C_U6_C136         0 U6_ICTRL  1n  
R_U6_R255         U6_N16596237 U6_N16596241  14.4k  
R_U6_R240         U6_N16778161 U6_ICTRL  1  
C_U6_C146         0 U6_N16596241  5p  
X_U6_U616         U6_N16596277 U6_N16596597 U6_N165955953 U6_OVTP
+  COMPHYS_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5
E_U6_E9         U6_N16596597 0 FB GND 1
V_U6_V82         U6_N165955953 0 15m
D_U6_D58         U6_N16596241 U6_N16596237 D_D1 
X_U6_U600         U6_ICTRL U6_ISWF U6_COM_PULSE COMP_BASIC_GEN PARAMS: VDD=1
+  VSS=0 VTHRESH=0.5
E_U6_ABM208         U6_N16778161 0 VALUE { (V(U6_N16596309) * 47.096774k)    }
E_U6_ABM151         U6_N16596237 0 VALUE { {IF(V(PWM_FINAL) > 0.5, 1,0)}    }
E_U6_ABM152         U6_ISWF 0 VALUE { {IF(V(U6_N16596241) > 0.5,  
+ V(ISW),0)}   }
V_U6_V80         U6_N16595819 0 0.41
X_U6_U615         COMP U6_N16595819 U6_N16595725 U6_N16595829 COMPHYS_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=0.5
V_U6_V79         U6_N16596277 0 .8025
E_U6_ABM166         U6_N16595679 0 VALUE { {((V(COMP) /260k)  - 1.5u)*(17/6)}  
+   }
E_U6_ABM168         U6_N16596309 0 VALUE { LIMIT(((V(U6_N16595679) -
+  V(U6_VRAMP)) * 10)  
+ ,6.369863u,99.749545u)   }
X_U6_U602         U6_COM_PULSE BOOT_UVLO U6_OVTP U6_N16595845 AND3_BASIC_GEN
+  PARAMS: VDD=1 VSS=0 VTHRESH=500E-3
.ENDS LV14360P_TRANS
*$
.subckt PGOOD_U20_S2 1 2 3 4  
S_U20_S2         3 4 1 2 _U20_S2
RS_U20_S2         1 2 1G
.MODEL         _U20_S2 VSWITCH Roff=2 Ron=500Meg Voff=0.2 Von=0.8
.ends PGOOD_U20_S2
*$
.subckt Oscillator_RT_SYNC_U100_S59 1 2 3 4  
S_U100_S59         3 4 1 2 _U100_S59
RS_U100_S59         1 2 1G
.MODEL         _U100_S59 VSWITCH Roff=100e6 Ron=1m Voff=0.4 Von=0.5
.ends Oscillator_RT_SYNC_U100_S59
*$
.subckt Oscillator_RT_SYNC_U100_H13 1 2 3 4  
H_U100_H13         3 4 VH_U100_H13 -1
VH_U100_H13         1 2 0V
.ends Oscillator_RT_SYNC_U100_H13
*$
.subckt Oscillator_RT_SYNC_U100_S60 1 2 3 4  
S_U100_S60         3 4 1 2 _U100_S60
RS_U100_S60         1 2 1G
.MODEL         _U100_S60 VSWITCH Roff=100e6 Ron=1u Voff=0.2 Von=0.8
.ends Oscillator_RT_SYNC_U100_S60
*$
.subckt Driver_U8_S35 1 2 3 4  
S_U8_S35         3 4 1 2 _U8_S35
RS_U8_S35         1 2 1G
.MODEL         _U8_S35 VSWITCH Roff=1000e6 Ron=15 Voff=0.2 Von=0.8
.ends Driver_U8_S35
*$
.subckt Driver_U8_S5 1 2 3 4  
S_U8_S5         3 4 1 2 _U8_S5
RS_U8_S5         1 2 1G
.MODEL         _U8_S5 VSWITCH Roff=1e9 Ron=2 Voff=0.2 Von=0.8
.ends Driver_U8_S5
*$
.subckt Driver_U8_S4 1 2 3 4  
S_U8_S4         3 4 1 2 _U8_S4
RS_U8_S4         1 2 1G
.MODEL         _U8_S4 VSWITCH Roff=1e9 Ron=1.0 Voff=0.2 Von=0.8
.ends Driver_U8_S4
*$
.subckt Driver_U8_S37 1 2 3 4  
S_U8_S37         3 4 1 2 _U8_S37
RS_U8_S37         1 2 1G
.MODEL         _U8_S37 VSWITCH Roff=1e9 Ron=1m Voff=0.2V Von=0.8V
.ends Driver_U8_S37
*$
.subckt Driver_U8_S31 1 2 3 4  
S_U8_S31         3 4 1 2 _U8_S31
RS_U8_S31         1 2 1G
.MODEL         _U8_S31 VSWITCH Roff=1000e6 Ron=155m Voff=1.0 Von=1.2
.ends Driver_U8_S31
*$
.subckt Driver_U8_H2 1 2 3 4  
H_U8_H2         3 4 VH_U8_H2 1
VH_U8_H2         1 2 0V
.ends Driver_U8_H2
*$
.subckt ErrorAmp_U5_S5 1 2 3 4  
S_U5_S5         3 4 1 2 _U5_S5
RS_U5_S5         1 2 1G
.MODEL         _U5_S5 VSWITCH Roff=1e10 Ron=1m Voff=0.1 Von=0.9
.ends ErrorAmp_U5_S5
*$
.model D_D1 d
+ is=1e-015
+ tt=1e-011
+ rs=0.05
+ n=0.1
+ vj=0.01
*$
.model D_D2 d
+ is=1e-015
+ tt=1e-011
+ rs=0.05
+ n=0.001
+ vj=0.01
*$
.model D_D3 d
+ is=1e-015
+ tt=1e-011
+ rs=0.01
+ n=0.01
+ vj=0.01
*$
.subckt d_d 1 2
d1 1 2 dd1
.model dd1 d
+ is=1e-015
+ tt=1e-011
+ rs=0.05
+ n=0.1
.ends d_d
*$
.model d_dx d
+ is=1e-015
+ tt=1e-011
+ rs=0.05
+ n=0.1
+ vj=0.01
*$
.SUBCKT CESR IN OUT
+ PARAMs:  C=100u ESR=0.01 X=2 IC=0
C	IN 1  {C*X} IC={IC}
RESR	1 OUT {ESR/X}
.ENDS CESR
*$
.SUBCKT myD_D1 1 2
D1 1 2 DD1
.MODEL DD1 D( IS=1e-15 TT=10p Rs=0.05 N=.1 VBE=10m  )
.ENDS myD_D1
*$
.SUBCKT LDCR IN OUT
+ PARAMs:  L=1u DCR=0.01 IC=0
L	IN 1  {L} IC={IC}
RDCR	1 OUT {DCR}
.ENDS LDCR
*$
.SUBCKT COMP_BASIC_GEN INP INM Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5	
E_ABM Yint 0 VALUE {IF (V(INP) > 
+ V(INM), {VDD},{VSS})}
R1 Yint Y 1
C1 Y 0 1n
.ENDS COMP_BASIC_GEN
*$
.SUBCKT COMPHYS_BASIC_GEN INP INM HYS OUT PARAMS: VDD=1 VSS=0 VTHRESH=0.5	
EIN INP1 INM1 INP INM 1 
EHYS INP1 INP2 VALUE { IF( V(1) > {VTHRESH},-V(HYS),0) }
EOUT OUT 0 VALUE { IF( V(INP2)>V(INM1), {VDD} ,{VSS}) }
R1 OUT 1 1
C1 1 0 1n
RINP1 INP1 0 1K
.ENDS COMPHYS_BASIC_GEN
*$
.SUBCKT NMOSIDEAL_PS  D G S PARAMS: k=1 vth=0.5
RDDUM D 0 1e11
RSDUM S 0 1e11
RGDUM G 0 1e11
CG G D 0.01pF
CD D S 0.01pF
EON Yp 0 VALUE={IF(V(G,S) > {vth}, 1, 0)}
GOUT D S VALUE={IF(V(D,S) > (V(G,S)-{vth}), V(Yp)*({k}/2)*
+(V(G,S)-{vth})**2,
+ V(Yp)*({k})*(V(G,S)-{vth}-(V(D,S)/2))*V(D,S))}
.ENDS
*$
.SUBCKT PMOSIDEAL_PS D G S PARAMS: k=1 vth=0 
RDDUM D 0 1e11
RSDUM S 0 1e11
RGDUM G 0 1e11
CG G D 0.01pF
CD D S 0.01pF
EON Yp 0 VALUE={IF(V(S,G) > {vth}, -1, 0)}
GOUT D S VALUE={IF(V(S,D) > (V(S,G)-{vth}), V(Yp)*({k}/2)*
+ (V(S,G)-{vth})**2,
+ V(Yp)*({k})*(V(S,G)-{vth}-(V(S,D)/2))*V(S,D))}
.ENDS PMOSIDEAL_PS
*$
.SUBCKT COMPHYS2_BASIC_GEN INP INM HYS OUT PARAMS: VDD=1 VSS=0 VTHRESH=0.5	
+ T=10
EIN INP1 INM1 INP INM 1 
EHYS INM2 INM1 VALUE { IF( V(1) > {VTHRESH},-V(HYS)/2,V(HYS)/2) }
EOUT OUT 0 VALUE { IF( V(INP1)>V(INM2), {VDD} ,{VSS}) }
R1 OUT 1 1
C1 1 0 {T*1e-9}
RINP1 INP1 0 10K
RINM2 INM2 0 10K
.ENDS COMPHYS2_BASIC_GEN
*$
.SUBCKT AND2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND2_BASIC_GEN
*$
.SUBCKT AND3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND3_BASIC_GEN
*$
.SUBCKT AND4_BASIC_GEN A B C D Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH} &
+ V(D) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS AND4_BASIC_GEN
*$
.SUBCKT NAND2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NAND2_BASIC_GEN
*$
.SUBCKT NAND3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NAND3_BASIC_GEN
*$
.SUBCKT NAND4_BASIC_GEN A B C D Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  &  
+ V(B) > {VTHRESH} &
+ V(C) > {VTHRESH} &
+ V(D) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NAND4_BASIC_GEN
*$
.SUBCKT OR2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR2_BASIC_GEN
*$
.SUBCKT OR3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR3_BASIC_GEN
*$
.SUBCKT OR4_BASIC_GEN A B C D Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH} |
+ V(D) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS OR4_BASIC_GEN
*$
.SUBCKT NOR2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR2_BASIC_GEN
*$
.SUBCKT NOR3_BASIC_GEN A B C Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR3_BASIC_GEN
*$
.SUBCKT NOR4_BASIC_GEN A B C D Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH} |
+ V(D) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR4_BASIC_GEN
*$
.SUBCKT NOR5_BASIC_GEN A B C D E Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH} |
+ V(D) > {VTHRESH} |
+ V(E) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR5_BASIC_GEN
*$
.SUBCKT NOR6_BASIC_GEN A B C D E F Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE YINT 0 VALUE {{IF(V(A) > {VTHRESH}  |  
+ V(B) > {VTHRESH} |
+ V(C) > {VTHRESH} |
+ V(D) > {VTHRESH} |
+ V(E) > {VTHRESH} |
+ V(F) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS NOR6_BASIC_GEN
*$
.SUBCKT INV_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS INV_BASIC_GEN
*$
.SUBCKT XOR2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE  YINT 0 VALUE {{IF(V(A) > {VTHRESH}  ^  
+ V(B) > {VTHRESH},{VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS XOR2_BASIC_GEN
*$
.SUBCKT XNOR2_BASIC_GEN A B Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE  YINT 0 VALUE {{IF(V(A) > {VTHRESH}  ^  
+ V(B) > {VTHRESH},{VSS},{VDD})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS XNOR2_BASIC_GEN
*$
.SUBCKT MUX2_BASIC_GEN A B S Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE  YINT 0 VALUE {{IF(V(S) > {VTHRESH},  
+ V(B),V(A))}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS MUX2_BASIC_GEN
*$
.SUBCKT INV_DELAY_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY = 10n 
E_ABMGATE1    YINT1 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT1 YINT2 1
CINT YINT2 0 {DELAY*1.3}
E_ABMGATE2    YINT3 0 VALUE {{IF(V(YINT2) > {VTHRESH} , 
+ {VSS},{VDD})}}
RINT2 YINT3 Y 1
CINT2 Y 0 1n
.ENDS INV_DELAY_BASIC_GEN
*$
.SUBCKT BUF_DELAY_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY = 10n 
E_ABMGATE1    YINT1 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT1 YINT2 1
CINT YINT2 0 {DELAY*1.3}
E_ABMGATE2    YINT3 0 VALUE {{IF(V(YINT2) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT2 YINT3 Y 1
CINT2 Y 0 1n
.ENDS BUF_DELAY_BASIC_GEN
*$
.SUBCKT BUF_BASIC_GEN A  Y PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
E_ABMGATE    YINT 0 VALUE {{IF(V(A) > {VTHRESH} , 
+ {VDD},{VSS})}}
RINT YINT Y 1
CINT Y 0 1n
.ENDS BUF_BASIC_GEN
*$
.SUBCKT SRLATCHSHP_BASIC_GEN S R Q QB PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
GQ 0 Qint VALUE = {IF(V(S) > {VTHRESH},5,IF(V(R)>{VTHRESH},-5, 0))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr QB 1 
Cdummy1 Q 0 1n 
Cdummy2 QB 0 1n 
.IC V(Qint) {VSS}
.ENDS SRLATCHSHP_BASIC_GEN
*$
.SUBCKT SRLATCHRHP_BASIC_GEN S R Q QB PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
GQ 0 Qint VALUE = {IF(V(R) > {VTHRESH},-5,IF(V(S)>{VTHRESH},5, 0))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr QB 1 
Cdummy1 Q 0 1n 
Cdummy2 QB 0 1n
.IC V(Qint) {VSS}
.ENDS SRLATCHRHP_BASIC_GEN
*$
.SUBCKT SBRBLATCHRHP_BASIC_GEN SB RB Q QB PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
GQ 0 Qint VALUE = {IF(V(RB) < {VTHRESH},-5,IF(V(SB) < {VTHRESH},5, 0))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr QB 1 
.IC V(Qint) {VSS}
.ENDS SBRBLATCHRHP_BASIC_GEN
*$
.SUBCKT SBRBLATCHSHP_BASIC_GEN SB RB Q QB PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
GQ 0 Qint VALUE = {IF(V(SB) < {VTHRESH},5,IF(V(RB) < {VTHRESH},-5, 0))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr QB 1 
.IC V(Qint) {VSS}
.ENDS SBRBLATCHSHP_BASIC_GEN
*$
.SUBCKT DFFSBRB_SHPBASIC_GEN Q QB CLK D RB SB PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
X1 CLK CLKdel INV_DELAY_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 15n
X2 CLK CLKdel CLKint AND2_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}
GQ 0 Qint VALUE = {IF(V(SB) < {VTHRESH},5,IF(V(RB)<{VTHRESH},-5, IF(V(CLKint)> {VTHRESH}, 
+ IF(V(D)> {VTHRESH},5,-5),0)))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_DELAY_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 20n
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr Qb 1 
Cdummy1 Q 0 1nF 
Cdummy2 QB 0 1nF 
.IC V(Qint) {VSS}
.ENDS DFFSBRB_SHPBASIC_GEN
*$
.SUBCKT DFFSR_SHPBASIC_GEN Q QB CLK D R S PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
X1 CLK CLKdel INV_DELAY_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 15n
X2 CLK CLKdel CLKint AND2_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} 
GQ 0 Qint VALUE = {IF(V(S) > {VTHRESH},5,IF(V(R) > {VTHRESH},-5, IF(V(CLKint)> {VTHRESH}, 
+ IF(V(D)> {VTHRESH},5,-5),0)))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_DELAY_BASIC_GEN PARAMS: VDD=1 VSS=0 VTHRESH=0.5 DELAY = 20n
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr Qb 1 
Cdummy1 Q 0 1nF 
Cdummy2 QB 0 1nF 
.IC V(Qint) {VSS}
.ENDS DFFSR_SHPBASIC_GEN
*$
.SUBCKT DFFSBRB_RHPBASIC_GEN Q QB CLK D RB SB PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
X1 CLK CLKdel INV_DELAY_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 15n
X2 CLK CLKdel CLKint AND2_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} 
GQ 0 Qint VALUE = {IF(V(RB) < {VTHRESH},-5,IF(V(SB)< {VTHRESH},5, IF(V(CLKint)> {VTHRESH}, 
+ IF(V(D)> {VTHRESH},5,-5),0)))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 5
D_D11 0 Qint D_D1 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_DELAY_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 20n
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr Qb 1 
Cdummy1 Q 0 1nF 
Cdummy2 QB 0 1nF 
.IC V(Qint) {VSS}
.ENDS DFFSBRB_RHPBASIC_GEN
*$
.SUBCKT DFFSR_RHPBASIC_GEN Q QB CLK D R S PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
X1 CLK CLKdel INV_DELAY_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 15n
X2 CLK CLKdel CLKint AND2_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH}  
GQ 0 Qint VALUE = {IF(V(R) > {VTHRESH},-5,IF(V(S) > {VTHRESH},5, IF(V(CLKint)> {VTHRESH}, 
+ IF(V(D)> {VTHRESH},5,-5),0)))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 {VDD}
D_D11 MYVSS Qint D_D1
V2 MYVSS 0 {VSS} 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_DELAY_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 20n
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr Qb 1 
Cdummy1 Q 0 1nF 
Cdummy2 QB 0 1nF 
.IC V(Qint) {VSS}
.ENDS DFFSR_RHPBASIC_GEN
*$
.SUBCKT MONONEG_PS in Q Qn PARAMS: PW=1u 
VS VSUP 0 DC 1
GIN VSUP YA VALUE={IF(V(IN)<0.5, V(VSUP)/1000K, 0)}
GDIS YA 0 VALUE={IF(V(IN)<0.5,0, V(YA)/1m)}
CIN YA 0 1n IC=0
RIN YA 0 1e11
EABM1 YTD 0 VALUE={IF(V(YA)> {PW*1000}, 0, 1)}
RYTD YTD 0 1e11
EXOR P 0 VALUE={IF(V(YTD) > 0.5 ^ V(IN) > .5, 1, 0)}
ROUTpp2 P 0 1e11
EAND1 Q1 0 VALUE={ IF(V(P)>0.5 & V(YTD)>0.5, 1, 0)}
Ro1 Q1 Q 1m
Co1 Q 0 1p IC=0
ROUT2 Q 0 1e11
EAND2 Qn1 0 VALUE={ IF(V(Q)>0.5, 0, 1)}
Ro2 Qn1 Qn 1m
Co2 Qn 0 1p
ROUT4 Qn 0 1e11
.ENDS MONONEG_PS
*$
.MODEL DI_B260 D  ( IS=6.08u RS=14.9m BV=60.0 IBV=500u
+ CJO=370p  M=0.333 N=1.55 TT=1.44n )
*$
.SUBCKT VCVSCLIP_PS YP YN POS NEG PARAMS: gain=1 vomax=1 vomin=-1
RP POS 0 1e11
CP POS 0 0.01pF
RN NEG 0 1e11
CN NEG 0 0.01pF
ROUTN YN 0 1e11
COUTN YN 0 0.01pF
EVCLP YP YN VALUE={LIMIT((V(POS)-V(NEG))*{gain},{vomax},{vomin})}
RO YP 0 1e11
.ENDS VCVSCLIP_PS
*$
.SUBCKT ss2gm SS GM
EPOLY GM 0 TABLE {V(SS)} = (0.5,10.9u) (0.55,12.4u) (0.6,17.5u) (0.65,23.7u) (0.7,27.1u) 
+ (0.75,28.5u)(.8,29.1u)(.85,29.3u) (.9,29.4u) (.95,29.6u) (1,30u)
.ENDS ss2gm
*$
.SUBCKT DFFSBRB_nodelay Q QB CLK D RB SB PARAMS: VDD=1 VSS=0 VTHRESH=0.5 
X1 CLK CLKdel INV_DELAY_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 5n
X2 CLK CLKdel CLKint AND2_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} 
GQ 0 Qint VALUE = {IF(V(RB) < {VTHRESH},-5,IF(V(SB)< {VTHRESH},5, IF(V(CLKint)> {VTHRESH}, 
+ IF(V(D)> {VTHRESH},5,-5),0)))}
CQint Qint 0 1n
RQint Qint 0 1000MEG
D_D10 Qint MY5 D_D1
V1 MY5 0 5
D_D11 0 Qint D_D1 
EQ Qqq 0 Qint 0 1
X3 Qqq Qqqd1 BUF_DELAY_BASIC_GEN PARAMS: VDD={VDD} VSS={VSS} VTHRESH={VTHRESH} DELAY = 5n
RQq Qqqd1 Q 1
EQb Qbr 0 VALUE = {IF( V(Q) > {VTHRESH}, {VSS},{VDD})}
RQb Qbr Qb 1 
Cdummy1 Q 0 1nF 
Cdummy2 QB 0 1nF 
.IC V(Qint) {VSS}
.ENDS DFFSBRB_nodelay
*$
.SUBCKT IRT2ICLK IRT ICLK
EPOLY ICLK 0 TABLE {V(IRT)} = (0.007518797,0.200803213)(0.013661202,0.352467271) (0.02004008,0.505050505) 
+ (0.030864198,0.76142132) (0.043103448,1.020408163) (0.066666667,1.546391753) 
+ (0.086956522,1.98802196)(0.102459016,2.30125523)
.ENDS
*$
.SUBCKT ss_gm SS GM
EPOLY GM 0 TABLE {V(SS)} = (0.5,10.9u) (0.55,12.4u) (0.6,17.5u) (0.65,23.7u) (0.7,27.1u) 
+ (0.75,28.5u)(.8,29.1u)(.85,29.3u) (.9,29.4u) (.95,29.6u) (1,30u) (3,30u)
.ENDS ss_gm
*$